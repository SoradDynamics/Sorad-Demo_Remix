const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BwcQBwDf.js","assets/index-LyWbo2uX.js","assets/appwrite-BaU9ZAVh.js","assets/components-D5P0CXfE.js","assets/index-XMzq6P1j.js","assets/createLucideIcon-JsGswnLl.js","assets/Drawer-DcM_eh-v.js","assets/Drawer-C3O2T6Mv.css","assets/nepali-date-converter.es5-D9pCTyGn.js","assets/index-MYBBOcXX.js","assets/resizeResults-DPF4xKo6.js","assets/index-Ci_XXAC0.js","assets/MapDisplay-Bnyed6WG.js","assets/MapDisplay-Dgihpmma.css"])))=>i.map(i=>d[i]);
import{r as m,R as Z,j as i,g as rn,c as la,t as yk}from"./index-LyWbo2uX.js";import{a as ut,b as aoe,c as Gt,u as et,d as le,I as dn,Q as J,i as QN,S as on,F as tr,e as Qt,N as ioe,g as Jo,R as Vi,T as Ga,f as pR,L as Ru,h as Bu,G as di,j as fi,s as Qn,k as hl,l as Fo,m as e4,n as ec,E as zo,D as ooe,C as loe,o as oc,p as tc,q as zu,r as coe,t as uoe,v as doe,P as foe,w as RS}from"./appwrite-BaU9ZAVh.js";import{F as hoe,O as no,q as Lh}from"./components-D5P0CXfE.js";import{c as zn}from"./createLucideIcon-JsGswnLl.js";import{P as rt,D as We,a as $t,F as ng}from"./Drawer-DcM_eh-v.js";import{a as c0,r as t4}from"./index-XMzq6P1j.js";import{N as Hn}from"./nepali-date-converter.es5-D9pCTyGn.js";import{s as moe,i as poe,r as goe}from"./index-MYBBOcXX.js";import{n as boe,d as xoe,T as yoe,r as voe}from"./resizeResults-DPF4xKo6.js";function gR(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,s=m.createContext(void 0);s.displayName=r;function a(){var o;const l=m.useContext(s);if(!l&&t){const c=new Error(n);throw c.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,c,a),c}return l}return[s.Provider,a,s]}function gp(e){const t=m.useRef(null);return m.useImperativeHandle(e,()=>t.current),t}function n4(e){return Array.isArray(e)}function woe(e){return n4(e)&&e.length===0}function bR(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!n4(e)}function Soe(e){return bR(e)&&Object.keys(e).length===0}function joe(e){return n4(e)?woe(e):bR(e)?Soe(e):e==null||e===""}var an=e=>e?"true":void 0,Coe=(...e)=>{let t=" ";for(const n of e)if(typeof n=="string"&&n.length>0){t=n;break}return t};function xR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=xR(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ri(...e){for(var t=0,n,r,s="";t<e.length;)(n=e[t++])&&(r=xR(n))&&(s&&(s+=" "),s+=r);return s}var vk={};function Noe(e,t,...n){const s=`[Next UI]${` [${t}]`}: ${e}`;typeof console>"u"||vk[s]||(vk[s]=!0)}var $oe=Object.create,yR=Object.defineProperty,Eoe=Object.getOwnPropertyDescriptor,vR=Object.getOwnPropertyNames,Aoe=Object.getPrototypeOf,Poe=Object.prototype.hasOwnProperty,wR=(e,t)=>function(){return t||(0,e[vR(e)[0]])((t={exports:{}}).exports,t),t.exports},Doe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vR(t))!Poe.call(e,s)&&s!==n&&yR(e,s,{get:()=>t[s],enumerable:!(r=Eoe(t,s))||r.enumerable});return e},koe=(e,t,n)=>(n=e!=null?$oe(Aoe(e)):{},Doe(!e||!e.__esModule?yR(n,"default",{value:e,enumerable:!0}):n,e)),Ioe=wR({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function v(U,H,B){this.props=U,this.context=H,this.refs=y,this.updater=B||b}v.prototype.isReactComponent={},v.prototype.setState=function(U,H){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,H,"setState")},v.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=v.prototype;function S(U,H,B){this.props=U,this.context=H,this.refs=y,this.updater=B||b}var N=S.prototype=new j;N.constructor=S,x(N,v.prototype),N.isPureReactComponent=!0;var C=Array.isArray,$=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(U,H,B){var Y,ae={},ce=null,oe=null;if(H!=null)for(Y in H.ref!==void 0&&(oe=H.ref),H.key!==void 0&&(ce=""+H.key),H)$.call(H,Y)&&!E.hasOwnProperty(Y)&&(ae[Y]=H[Y]);var Q=arguments.length-2;if(Q===1)ae.children=B;else if(1<Q){for(var K=Array(Q),ne=0;ne<Q;ne++)K[ne]=arguments[ne+2];ae.children=K}if(U&&U.defaultProps)for(Y in Q=U.defaultProps,Q)ae[Y]===void 0&&(ae[Y]=Q[Y]);return{$$typeof:t,type:U,key:ce,ref:oe,props:ae,_owner:P.current}}function k(U,H){return{$$typeof:t,type:U.type,key:H,ref:U.ref,props:U.props,_owner:U._owner}}function A(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function I(U){var H={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(B){return H[B]})}var L=/\/+/g;function R(U,H){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):H.toString(36)}function F(U,H,B,Y,ae){var ce=typeof U;(ce==="undefined"||ce==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(ce){case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case t:case n:oe=!0}}if(oe)return oe=U,ae=ae(oe),U=Y===""?"."+R(oe,0):Y,C(ae)?(B="",U!=null&&(B=U.replace(L,"$&/")+"/"),F(ae,H,B,"",function(ne){return ne})):ae!=null&&(A(ae)&&(ae=k(ae,B+(!ae.key||oe&&oe.key===ae.key?"":(""+ae.key).replace(L,"$&/")+"/")+U)),H.push(ae)),1;if(oe=0,Y=Y===""?".":Y+":",C(U))for(var Q=0;Q<U.length;Q++){ce=U[Q];var K=Y+R(ce,Q);oe+=F(ce,H,B,K,ae)}else if(K=p(U),typeof K=="function")for(U=K.call(U),Q=0;!(ce=U.next()).done;)ce=ce.value,K=Y+R(ce,Q++),oe+=F(ce,H,B,K,ae);else if(ce==="object")throw H=String(U),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return oe}function T(U,H,B){if(U==null)return U;var Y=[],ae=0;return F(U,Y,"","",function(ce){return H.call(B,ce,ae++)}),Y}function O(U){if(U._status===-1){var H=U._result;H=H(),H.then(function(B){(U._status===0||U._status===-1)&&(U._status=1,U._result=B)},function(B){(U._status===0||U._status===-1)&&(U._status=2,U._result=B)}),U._status===-1&&(U._status=0,U._result=H)}if(U._status===1)return U._result.default;throw U._result}var _={current:null},W={transition:null},z={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};e.Children={map:T,forEach:function(U,H,B){T(U,function(){H.apply(this,arguments)},B)},count:function(U){var H=0;return T(U,function(){H++}),H},toArray:function(U){return T(U,function(H){return H})||[]},only:function(U){if(!A(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=S,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(U,H,B){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Y=x({},U.props),ae=U.key,ce=U.ref,oe=U._owner;if(H!=null){if(H.ref!==void 0&&(ce=H.ref,oe=P.current),H.key!==void 0&&(ae=""+H.key),U.type&&U.type.defaultProps)var Q=U.type.defaultProps;for(K in H)$.call(H,K)&&!E.hasOwnProperty(K)&&(Y[K]=H[K]===void 0&&Q!==void 0?Q[K]:H[K])}var K=arguments.length-2;if(K===1)Y.children=B;else if(1<K){Q=Array(K);for(var ne=0;ne<K;ne++)Q[ne]=arguments[ne+2];Y.children=Q}return{$$typeof:t,type:U.type,key:ae,ref:ce,props:Y,_owner:oe}},e.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},e.createElement=M,e.createFactory=function(U){var H=M.bind(null,U);return H.type=U,H},e.createRef=function(){return{current:null}},e.forwardRef=function(U){return{$$typeof:c,render:U}},e.isValidElement=A,e.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:O}},e.memo=function(U,H){return{$$typeof:d,type:U,compare:H===void 0?null:H}},e.startTransition=function(U){var H=W.transition;W.transition={};try{U()}finally{W.transition=H}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(U,H){return _.current.useCallback(U,H)},e.useContext=function(U){return _.current.useContext(U)},e.useDebugValue=function(){},e.useDeferredValue=function(U){return _.current.useDeferredValue(U)},e.useEffect=function(U,H){return _.current.useEffect(U,H)},e.useId=function(){return _.current.useId()},e.useImperativeHandle=function(U,H,B){return _.current.useImperativeHandle(U,H,B)},e.useInsertionEffect=function(U,H){return _.current.useInsertionEffect(U,H)},e.useLayoutEffect=function(U,H){return _.current.useLayoutEffect(U,H)},e.useMemo=function(U,H){return _.current.useMemo(U,H)},e.useReducer=function(U,H,B){return _.current.useReducer(U,H,B)},e.useRef=function(U){return _.current.useRef(U)},e.useState=function(U){return _.current.useState(U)},e.useSyncExternalStore=function(U,H,B){return _.current.useSyncExternalStore(U,H,B)},e.useTransition=function(){return _.current.useTransition()},e.version="18.2.0"}}),Toe=wR({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(e,t){t.exports=Ioe()}});koe(Toe());function Moe(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function SR(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ooe(e,t,n){return Math.min(Math.max(e,t),n)}var Loe=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),_oe=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),wk=/^(data-.*)$/,Foe=/^(aria-.*)$/,Hb=/^(on[A-Z].*)$/;function B5(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:s,omitPropNames:a,omitEventNames:o,omitDataProps:l,omitEventProps:c}=t,u={};if(!r)return e;for(const d in e)a!=null&&a.has(d)||o!=null&&o.has(d)&&Hb.test(d)||Hb.test(d)&&!_oe.has(d)||l&&wk.test(d)||c&&Hb.test(d)||(Object.prototype.hasOwnProperty.call(e,d)&&(Loe.has(d)||n&&Foe.test(d)||s!=null&&s.has(d)||wk.test(d))||Hb.test(d))&&(u[d]=e[d]);return u}var[wct,jR]=gR({name:"ProviderContext",strict:!1});const CR={prefix:String(Math.round(Math.random()*1e10)),current:0},NR=Z.createContext(CR),Roe=Z.createContext(!1);let BS=new WeakMap;function Boe(e=!1){let t=m.useContext(NR),n=m.useRef(null);if(n.current===null&&!e){var r,s;let a=(s=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let o=BS.get(a);o==null?BS.set(a,{id:t.current,state:a.memoizedState}):a.memoizedState!==o.state&&(t.current=o.id,BS.delete(a))}n.current=++t.current}return n.current}function zoe(e){let t=m.useContext(NR),n=Boe(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function Voe(e){let t=Z.useId(),[n]=m.useState(_h()),r=n?"react-aria":`react-aria${CR.prefix}`;return e||`${r}-${t}`}const Woe=typeof Z.useId=="function"?Voe:zoe;function Uoe(){return!1}function Koe(){return!0}function Hoe(e){return()=>{}}function _h(){return typeof Z.useSyncExternalStore=="function"?Z.useSyncExternalStore(Hoe,Uoe,Koe):m.useContext(Roe)}const qoe=Symbol.for("react-aria.i18n.locale"),Goe=Symbol.for("react-aria.i18n.strings");let ef;class y1{getStringForLocale(t,n){let s=this.getStringsForLocale(n)[t];if(!s)throw new Error(`Could not find intl message ${t} in ${n} locale`);return s}getStringsForLocale(t){let n=this.strings[t];return n||(n=Yoe(t,this.strings,this.defaultLocale),this.strings[t]=n),n}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let n=window[qoe];if(ef===void 0){let s=window[Goe];if(!s)return null;ef={};for(let a in s)ef[a]=new y1({[n]:s[a]},n)}let r=ef==null?void 0:ef[t];if(!r)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(t,n="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,r])=>r)),this.defaultLocale=n}}function Yoe(e,t,n="en-US"){if(t[e])return t[e];let r=Xoe(e);if(t[r])return t[r];for(let s in t)if(s.startsWith(r+"-"))return t[s];return t[n]}function Xoe(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const Sk=new Map,jk=new Map;class Zoe{format(t,n){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(n,this):r}plural(t,n,r="cardinal"){let s=n["="+t];if(s)return typeof s=="function"?s():s;let a=this.locale+":"+r,o=Sk.get(a);o||(o=new Intl.PluralRules(this.locale,{type:r}),Sk.set(a,o));let l=o.select(t);return s=n[l]||n.other,typeof s=="function"?s():s}number(t){let n=jk.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),jk.set(this.locale,n)),n.format(t)}select(t,n){let r=t[n]||t.other;return typeof r=="function"?r():r}constructor(t,n){this.locale=t,this.strings=n}}function Joe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $R(e,t,n){Joe(e,t),t.set(e,n)}const r4=typeof document<"u"?Z.useLayoutEffect:()=>{};function Ou(e){const t=m.useRef(null);return r4(()=>{t.current=e},[e]),m.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}let Ck=new Map;function Qoe(e,t){if(e===t)return e;let n=Ck.get(e);if(n)return n.forEach(s=>s(t)),t;let r=Ck.get(t);return r?(r.forEach(s=>s(e)),e):t}function v1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const ca=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},yi=e=>e&&"window"in e&&e.window===e?e:ca(e).defaultView||window;function ER(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ER(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ER(e))&&(r&&(r+=" "),r+=t);return r}function da(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let s in r){let a=t[s],o=r[s];typeof a=="function"&&typeof o=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=v1(a,o):(s==="className"||s==="UNSAFE_className")&&typeof a=="string"&&typeof o=="string"?t[s]=_t(a,o):s==="id"&&a&&o?t.id=Qoe(a,o):t[s]=o!==void 0?o:a}}return t}function ele(...e){return e.length===1&&e[0]?e[0]:t=>{for(let n of e)typeof n=="function"?n(t):n!=null&&(n.current=t)}}const tle=new Set(["id"]),nle=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),rle=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),sle=/^(data-.*)$/;function AR(e,t={}){let{labelable:n,isLink:r,propNames:s}=t,a={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(tle.has(o)||n&&nle.has(o)||r&&rle.has(o)||s!=null&&s.has(o)||sle.test(o))&&(a[o]=e[o]);return a}function Vu(e){if(ale())e.focus({preventScroll:!0});else{let t=ile(e);e.focus(),ole(t)}}let qb=null;function ale(){if(qb==null){qb=!1;try{document.createElement("div").focus({get preventScroll(){return qb=!0,!0}})}catch{}}return qb}function ile(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function ole(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function w1(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function s4(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Fc(e){let t=null;return()=>(t==null&&(t=e()),t)}const rg=Fc(function(){return s4(/^Mac/i)}),lle=Fc(function(){return s4(/^iPhone/i)}),PR=Fc(function(){return s4(/^iPad/i)||rg()&&navigator.maxTouchPoints>1}),a4=Fc(function(){return lle()||PR()}),cle=Fc(function(){return w1(/AppleWebKit/i)&&!ule()}),ule=Fc(function(){return w1(/Chrome/i)}),i4=Fc(function(){return w1(/Android/i)}),dle=Fc(function(){return w1(/Firefox/i)});function sg(e,t,n=!0){var r,s;let{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}=t;dle()&&(!((s=window.event)===null||s===void 0||(r=s.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(rg()?a=!0:o=!0);let u=cle()&&rg()&&!PR()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c,bubbles:!0,cancelable:!0});sg.isOpening=n,Vu(e),e.dispatchEvent(u),sg.isOpening=!1}sg.isOpening=!1;let jf=new Map,z5=new Set;function Nk(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let s=jf.get(r.target);s||(s=new Set,jf.set(r.target,s),r.target.addEventListener("transitioncancel",n,{once:!0})),s.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let s=jf.get(r.target);if(s&&(s.delete(r.propertyName),s.size===0&&(r.target.removeEventListener("transitioncancel",n),jf.delete(r.target)),jf.size===0)){for(let a of z5)a();z5.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Nk():document.addEventListener("DOMContentLoaded",Nk));function DR(e){requestAnimationFrame(()=>{jf.size===0?e():z5.add(e)})}function fle(){let e=m.useRef(new Map),t=m.useCallback((s,a,o,l)=>{let c=l!=null&&l.once?(...u)=>{e.current.delete(o),o(...u)}:o;e.current.set(o,{type:a,eventTarget:s,fn:c,options:l}),s.addEventListener(a,o,l)},[]),n=m.useCallback((s,a,o,l)=>{var c;let u=((c=e.current.get(o))===null||c===void 0?void 0:c.fn)||o;s.removeEventListener(a,u,l),e.current.delete(o)},[]),r=m.useCallback(()=>{e.current.forEach((s,a)=>{n(s.eventTarget,s.type,a,s.options)})},[n]);return m.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function hle(e){const t=m.useRef(null);return m.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,typeof e=="function"?e(n):e&&(e.current=n)}}),[e])}function kR(e,t){r4(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function V5(e){return e.mozInputSource===0&&e.isTrusted?!0:i4()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function mle(e){return!i4()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function ple(e,t,n){let r=m.useRef(t),s=Ou(()=>{n&&n(r.current)});m.useEffect(()=>{var a;let o=e==null||(a=e.current)===null||a===void 0?void 0:a.form;return o==null||o.addEventListener("reset",s),()=>{o==null||o.removeEventListener("reset",s)}},[e,s])}function ml(e,t,n){let[r,s]=m.useState(e||t),a=m.useRef(e!==void 0),o=e!==void 0;m.useEffect(()=>{a.current,a.current=o},[o]);let l=o?e:r,c=m.useCallback((u,...d)=>{let f=(h,...p)=>{n&&(Object.is(l,h)||n(h,...p)),o||(l=h)};typeof u=="function"?s((p,...b)=>{let x=u(o?l:p,...b);return f(x,...d),o?p:x}):(o||s(u),f(u,...d))},[o,l,n]);return[l,c]}function jy(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}let zS=new Map,W5=!1;try{W5=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Cy=!1;try{Cy=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const IR={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class gle{format(t){let n="";if(!W5&&this.options.signDisplay!=null?n=xle(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!Cy){var r;let{unit:s,unitDisplay:a="short",locale:o}=this.resolvedOptions();if(!s)return n;let l=(r=IR[s])===null||r===void 0?void 0:r[a];n+=l[o]||l.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),s=this.numberFormatter.formatToParts(n);return[...r.map(a=>({...a,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!W5&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!Cy&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=ble(t,n),this.options=n}}function ble(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!Cy){var r;let{unit:o,unitDisplay:l="short"}=t;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=IR[o])===null||r===void 0)&&r[l]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${l}`);t={...t,style:"decimal"}}let s=e+(t?Object.entries(t).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(zS.has(s))return zS.get(s);let a=new Intl.NumberFormat(e,t);return zS.set(s,a),a}function xle(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let r=!1;if(t==="always"?r=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let s=e.format(-n),a=e.format(n),o=s.replace(a,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(a,"!!!").replace(o,"+").replace("!!!",a)}else return e.format(n)}}const yle=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),vle=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function wle(e){if(Intl.Locale){let n=new Intl.Locale(e).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return yle.has(n.script)}let t=e.split("-")[0];return vle.has(t)}const Sle=Symbol.for("react-aria.i18n.locale");function TR(){let e=typeof window<"u"&&window[Sle]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:wle(e)?"rtl":"ltr"}}let U5=TR(),bp=new Set;function $k(){U5=TR();for(let e of bp)e(U5)}function jle(){let e=_h(),[t,n]=m.useState(U5);return m.useEffect(()=>(bp.size===0&&window.addEventListener("languagechange",$k),bp.add(n),()=>{bp.delete(n),bp.size===0&&window.removeEventListener("languagechange",$k)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const Cle=Z.createContext(null);function ro(){let e=jle();return m.useContext(Cle)||e}const Ek=new WeakMap;function Nle(e){let t=Ek.get(e);return t||(t=new y1(e),Ek.set(e,t)),t}function $le(e,t){return t&&y1.getGlobalDictionaryForPackage(t)||Nle(e)}function pl(e,t){let{locale:n}=ro(),r=$le(e,t);return m.useMemo(()=>new Zoe(n,r),[n,r])}const Dn=typeof document<"u"?Z.useLayoutEffect:()=>{};function pr(e){const t=m.useRef(null);return Dn(()=>{t.current=e},[e]),m.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}function Ele(e){let[t,n]=m.useState(e),r=m.useRef(null),s=pr(()=>{if(!r.current)return;let o=r.current.next();if(o.done){r.current=null;return}t===o.value?s():n(o.value)});Dn(()=>{r.current&&s()});let a=pr(o=>{r.current=o(t),s()});return[t,a]}let Ale=!!(typeof window<"u"&&window.document&&window.document.createElement),Vf=new Map,xp;typeof FinalizationRegistry<"u"&&(xp=new FinalizationRegistry(e=>{Vf.delete(e)}));function Ur(e){let[t,n]=m.useState(e),r=m.useRef(null),s=Woe(t),a=m.useRef(null);if(xp&&xp.register(a,s),Ale){const o=Vf.get(s);o&&!o.includes(r)?o.push(r):Vf.set(s,[r])}return Dn(()=>{let o=s;return()=>{xp&&xp.unregister(a),Vf.delete(o)}},[s]),m.useEffect(()=>{let o=r.current;return o&&n(o),()=>{o&&(r.current=null)}}),s}function Ple(e,t){if(e===t)return e;let n=Vf.get(e);if(n)return n.forEach(s=>s.current=t),t;let r=Vf.get(t);return r?(r.forEach(s=>s.current=e),e):t}function gc(e=[]){let t=Ur(),[n,r]=Ele(t),s=m.useCallback(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return Dn(s,[t,s,...e]),n}function gr(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const hn=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Bs=e=>e&&"window"in e&&e.window===e?e:hn(e).defaultView||window;function Dle(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function kle(e){return Dle(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Ile=!1,Tle=!1;function Ny(){return Ile}function S1(){return Tle}function Rs(e,t){if(!S1())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:kle(n)?n=n.host:n=n.parentNode}return!1}const ss=(e=document)=>{var t;if(!S1())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function ir(e){return S1()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}class Mle{get currentNode(){return this._currentNode}set currentNode(t){if(!Rs(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const n=[];let r=t,s=t;for(this._currentNode=t;r&&r!==this.root;)if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=r,l=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});n.push(l),l.currentNode=s,this._currentSetFor.add(l),r=s=o.host}else r=r.parentNode;const a=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});n.push(a),a.currentNode=s,this._currentSetFor.add(a),this._walkerStack=n}get doc(){return this._doc}firstChild(){let t=this.currentNode,n=this.nextNode();return Rs(t,n)?(n&&(this.currentNode=n),n):(this.currentNode=t,null)}lastChild(){let n=this._walkerStack[0].lastChild();return n&&(this.currentNode=n),n}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var n;let s;if(typeof this.filter=="function"?s=this.filter(t):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(s=this.filter.acceptNode(t)),s===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let a=this.nextNode();return a&&(this.currentNode=a),a}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.nextNode();return r&&(this.currentNode=r),r}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let s=this.previousNode();return s&&(this.currentNode=s),s}else return null;return null}const n=t.previousNode();if(n){if(n.shadowRoot){var r;let a;if(typeof this.filter=="function"?a=this.filter(n):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(a=this.filter.acceptNode(n)),a===NodeFilter.FILTER_ACCEPT)return n&&(this.currentNode=n),n;let o=this.lastChild();return o&&(this.currentNode=o),o}return n&&(this.currentNode=n),n}else if(this._walkerStack.length>1){this._walkerStack.shift();let s=this.previousNode();return s&&(this.currentNode=s),s}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,n,r,s){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=o=>{if(o.nodeType===Node.ELEMENT_NODE){const c=o.shadowRoot;if(c){const u=this._doc.createTreeWalker(c,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(u),NodeFilter.FILTER_ACCEPT}else{var l;if(typeof this.filter=="function")return this.filter(o);if(!((l=this.filter)===null||l===void 0)&&l.acceptNode)return this.filter.acceptNode(o);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=n,this.filter=s??null,this.whatToShow=r??NodeFilter.SHOW_ALL,this._currentNode=n,this._walkerStack.unshift(t.createTreeWalker(n,r,this._acceptNode));const a=n.shadowRoot;if(a){const o=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(o)}}}function Ole(e,t,n,r){return S1()?new Mle(e,t,n,r):e.createTreeWalker(t,n,r)}function Me(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let s in r){let a=t[s],o=r[s];typeof a=="function"&&typeof o=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=gr(a,o):(s==="className"||s==="UNSAFE_className")&&typeof a=="string"&&typeof o=="string"?t[s]=_t(a,o):s==="id"&&a&&o?t.id=Ple(a,o):t[s]=o!==void 0?o:a}}return t}function MR(...e){return e.length===1&&e[0]?e[0]:t=>{for(let n of e)typeof n=="function"?n(t):n!=null&&(n.current=t)}}const Lle=new Set(["id"]),_le=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Fle=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Rle=/^(data-.*)$/;function va(e,t={}){let{labelable:n,isLink:r,propNames:s}=t,a={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(Lle.has(o)||n&&_le.has(o)||r&&Fle.has(o)||s!=null&&s.has(o)||Rle.test(o))&&(a[o]=e[o]);return a}function Ci(e){if(Ble())e.focus({preventScroll:!0});else{let t=zle(e);e.focus(),Vle(t)}}let Gb=null;function Ble(){if(Gb==null){Gb=!1;try{document.createElement("div").focus({get preventScroll(){return Gb=!0,!0}})}catch{}}return Gb}function zle(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Vle(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function j1(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function o4(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function gl(e){let t=null;return()=>(t==null&&(t=e()),t)}const Cc=gl(function(){return o4(/^Mac/i)}),Wle=gl(function(){return o4(/^iPhone/i)}),OR=gl(function(){return o4(/^iPad/i)||Cc()&&navigator.maxTouchPoints>1}),C1=gl(function(){return Wle()||OR()}),ay=gl(function(){return Cc()||C1()}),l4=gl(function(){return j1(/AppleWebKit/i)&&!LR()}),LR=gl(function(){return j1(/Chrome/i)}),ag=gl(function(){return j1(/Android/i)}),Ule=gl(function(){return j1(/Firefox/i)}),Kle=m.createContext({isNative:!0,open:qle,useHref:e=>e});function Fh(){return m.useContext(Kle)}function od(e,t,n=!0){var r,s;let{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}=t;Ule()&&(!((s=window.event)===null||s===void 0||(r=s.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(Cc()?a=!0:o=!0);let u=l4()&&Cc()&&!OR()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:l,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:l,shiftKey:c,bubbles:!0,cancelable:!0});od.isOpening=n,Ci(e),e.dispatchEvent(u),od.isOpening=!1}od.isOpening=!1;function Hle(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function qle(e,t){Hle(e,n=>od(n,t))}function Gle(e){let t=Fh();var n;const r=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?r:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function c4(e){let t=Fh();var n;const r=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?r:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let Cf=new Map,K5=new Set;function Ak(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let s=Cf.get(r.target);s||(s=new Set,Cf.set(r.target,s),r.target.addEventListener("transitioncancel",n,{once:!0})),s.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let s=Cf.get(r.target);if(s&&(s.delete(r.propertyName),s.size===0&&(r.target.removeEventListener("transitioncancel",n),Cf.delete(r.target)),Cf.size===0)){for(let a of K5)a();K5.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Ak():document.addEventListener("DOMContentLoaded",Ak));function _R(e){requestAnimationFrame(()=>{Cf.size===0?e():K5.add(e)})}function N1(){let e=m.useRef(new Map),t=m.useCallback((s,a,o,l)=>{let c=l!=null&&l.once?(...u)=>{e.current.delete(o),o(...u)}:o;e.current.set(o,{type:a,eventTarget:s,fn:c,options:l}),s.addEventListener(a,c,l)},[]),n=m.useCallback((s,a,o,l)=>{var c;let u=((c=e.current.get(o))===null||c===void 0?void 0:c.fn)||o;s.removeEventListener(a,u,l),e.current.delete(o)},[]),r=m.useCallback(()=>{e.current.forEach((s,a)=>{n(s.eventTarget,s.type,a,s.options)})},[n]);return m.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Qf(e,t){let{id:n,"aria-label":r,"aria-labelledby":s}=e;return n=Ur(n),s&&r?s=[...new Set([n,...s.trim().split(/\s+/)])].join(" "):s&&(s=s.trim().split(/\s+/).join(" ")),!r&&!s&&t&&(r=t),{id:n,"aria-label":r,"aria-labelledby":s}}function Yle(e){const t=m.useRef(null);return m.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,typeof e=="function"?e(n):e&&(e.current=n)}}),[e])}function u4(e,t){const n=m.useRef(!0),r=m.useRef(null);m.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),m.useEffect(()=>{let s=r.current;n.current?n.current=!1:(!s||t.some((a,o)=>!Object.is(a,s[o])))&&e(),r.current=t},t)}function Pk(e,t){const n=m.useRef(!0),r=m.useRef(null);Dn(()=>(n.current=!0,()=>{n.current=!1}),[]),Dn(()=>{n.current?n.current=!1:(!r.current||t.some((s,a)=>!Object.is(s,r[a])))&&e(),r.current=t},t)}function Xle(){return typeof window.ResizeObserver<"u"}function Dk(e){const{ref:t,box:n,onResize:r}=e;m.useEffect(()=>{let s=t==null?void 0:t.current;if(s)if(Xle()){const a=new window.ResizeObserver(o=>{o.length&&r()});return a.observe(s,{box:n}),()=>{s&&a.unobserve(s)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t,n])}function FR(e,t){Dn(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function ig(e,t){if(!e)return!1;let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}function Xl(e,t){let n=e;for(ig(n,t)&&(n=n.parentElement);n&&!ig(n,t);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}function Zle(e,t){const n=[];for(;e&&e!==document.documentElement;)ig(e,t)&&n.push(e),e=e.parentElement;return n}let Jle=0;const VS=new Map;function $1(e){let[t,n]=m.useState();return Dn(()=>{if(!e)return;let r=VS.get(e);if(r)n(r.element.id);else{let s=`react-aria-description-${Jle++}`;n(s);let a=document.createElement("div");a.id=s,a.style.display="none",a.textContent=e,document.body.appendChild(a),r={refCount:0,element:a},VS.set(e,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),VS.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function Yb(e,t,n,r){let s=pr(n),a=n==null;m.useEffect(()=>{if(a||!e.current)return;let o=e.current;return o.addEventListener(t,s,r),()=>{o.removeEventListener(t,s,r)}},[e,t,r,a,s])}function RR(e,t){let n=kk(e,t,"left"),r=kk(e,t,"top"),s=t.offsetWidth,a=t.offsetHeight,o=e.scrollLeft,l=e.scrollTop,{borderTopWidth:c,borderLeftWidth:u,scrollPaddingTop:d,scrollPaddingRight:f,scrollPaddingBottom:h,scrollPaddingLeft:p}=getComputedStyle(e),b=o+parseInt(u,10),x=l+parseInt(c,10),y=b+e.clientWidth,v=x+e.clientHeight,j=parseInt(d,10)||0,S=parseInt(h,10)||0,N=parseInt(f,10)||0,C=parseInt(p,10)||0;n<=o+C?o=n-parseInt(u,10)-C:n+s>y-N&&(o+=n+s-y+N),r<=x+j?l=r-parseInt(c,10)-j:r+a>v-S&&(l+=r+a-v+S),e.scrollLeft=o,e.scrollTop=l}function kk(e,t,n){const r=n==="left"?"offsetLeft":"offsetTop";let s=0;for(;t.offsetParent&&(s+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){s-=e[r];break}t=t.offsetParent}return s}function Zl(e,t){if(e&&document.contains(e)){let o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let c=Zle(e);for(let u of c)RR(u,e)}else{var n;let{left:c,top:u}=e.getBoundingClientRect();e==null||(n=e.scrollIntoView)===null||n===void 0||n.call(e,{block:"nearest"});let{left:d,top:f}=e.getBoundingClientRect();if(Math.abs(c-d)>1||Math.abs(u-f)>1){var r,s,a;t==null||(s=t.containingElement)===null||s===void 0||(r=s.scrollIntoView)===null||r===void 0||r.call(s,{block:"center",inline:"center"}),(a=e.scrollIntoView)===null||a===void 0||a.call(e,{block:"nearest"})}}}}function BR(e){return e.mozInputSource===0&&e.isTrusted?!0:ag()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Qle(e){return!ag()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function d4(e,t,n){let r=m.useRef(t),s=pr(()=>{n&&n(r.current)});m.useEffect(()=>{var a;let o=e==null||(a=e.current)===null||a===void 0?void 0:a.form;return o==null||o.addEventListener("reset",s),()=>{o==null||o.removeEventListener("reset",s)}},[e,s])}const ece="react-aria-clear-focus",tce="react-aria-focus";function Nf(e){return Cc()?e.metaKey:e.ctrlKey}const f4=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],nce=f4.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";f4.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const rce=f4.join(':not([hidden]):not([tabindex="-1"]),');function zR(e){return e.matches(nce)}function sce(e){return e.matches(rce)}function ace(e={}){let{locale:t}=ro();return m.useMemo(()=>new gle(t,e),[t,e])}let WS=new Map;function u0(e){let{locale:t}=ro(),n=t+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(WS.has(n))return WS.get(n);let r=new Intl.Collator(t,e);return WS.set(n,r),r}function ice(e){let t=u0({usage:"search",...e}),n=m.useCallback((a,o)=>o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),t.compare(a.slice(0,o.length),o)===0),[t]),r=m.useCallback((a,o)=>o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),t.compare(a.slice(-o.length),o)===0),[t]),s=m.useCallback((a,o)=>{if(o.length===0)return!0;a=a.normalize("NFC"),o=o.normalize("NFC");let l=0,c=o.length;for(;l+c<=a.length;l++){let u=a.slice(l,l+c);if(t.compare(o,u)===0)return!0}return!1},[t]);return m.useMemo(()=>({startsWith:n,endsWith:r,contains:s}),[n,r,s])}let Pf="default",H5="",iy=new WeakMap;function Ik(e){if(a4()){if(Pf==="default"){const t=ca(e);H5=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Pf="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(iy.set(e,e.style.userSelect),e.style.userSelect="none")}function Xb(e){if(a4()){if(Pf!=="disabled")return;Pf="restoring",setTimeout(()=>{DR(()=>{if(Pf==="restoring"){const t=ca(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=H5||""),H5="",Pf="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&iy.has(e)){let t=iy.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),iy.delete(e)}}const VR=Z.createContext({register:()=>{}});VR.displayName="PressResponderContext";function oce(e,t){return t.get?t.get.call(e):t.value}function WR(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function UR(e,t){var n=WR(e,t,"get");return oce(e,n)}function lce(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function $y(e,t,n){var r=WR(e,t,"set");return lce(e,r,n),n}function cce(e){let t=m.useContext(VR);if(t){let{register:n,...r}=t;e=da(r,e),n()}return kR(t,e.ref),e}var Zb=new WeakMap;let Jb=class{continuePropagation(){$y(this,Zb,!1)}get shouldStopPropagation(){return UR(this,Zb)}constructor(t,n,r,s){$R(this,Zb,{writable:!0,value:void 0}),$y(this,Zb,!0);var a;let o=(a=s==null?void 0:s.target)!==null&&a!==void 0?a:r.currentTarget;const l=o==null?void 0:o.getBoundingClientRect();let c,u=0,d,f=null;r.clientX!=null&&r.clientY!=null&&(d=r.clientX,f=r.clientY),l&&(d!=null&&f!=null?(c=d-l.left,u=f-l.top):(c=l.width/2,u=l.height/2)),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=c,this.y=u}};const Tk=Symbol("linkClicked");function KR(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:s,onPressUp:a,isDisabled:o,isPressed:l,preventFocusOnPress:c,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:d,ref:f,...h}=cce(e),[p,b]=m.useState(!1),x=m.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:y,removeAllGlobalListeners:v}=fle(),j=Ou((E,M)=>{let k=x.current;if(o||k.didFirePressStart)return!1;let A=!0;if(k.isTriggeringEvent=!0,r){let I=new Jb("pressstart",M,E);r(I),A=I.shouldStopPropagation}return n&&n(!0),k.isTriggeringEvent=!1,k.didFirePressStart=!0,b(!0),A}),S=Ou((E,M,k=!0)=>{let A=x.current;if(!A.didFirePressStart)return!1;A.ignoreClickAfterPress=!0,A.didFirePressStart=!1,A.isTriggeringEvent=!0;let I=!0;if(s){let L=new Jb("pressend",M,E);s(L),I=L.shouldStopPropagation}if(n&&n(!1),b(!1),t&&k&&!o){let L=new Jb("press",M,E);t(L),I&&(I=L.shouldStopPropagation)}return A.isTriggeringEvent=!1,I}),N=Ou((E,M)=>{let k=x.current;if(o)return!1;if(a){k.isTriggeringEvent=!0;let A=new Jb("pressup",M,E);return a(A),k.isTriggeringEvent=!1,A.shouldStopPropagation}return!0}),C=Ou(E=>{let M=x.current;M.isPressed&&M.target&&(M.isOverTarget&&M.pointerType!=null&&S(Eo(M.target,E),M.pointerType,!1),M.isPressed=!1,M.isOverTarget=!1,M.activePointerId=null,M.pointerType=null,v(),d||Xb(M.target))}),$=Ou(E=>{u&&C(E)}),P=m.useMemo(()=>{let E=x.current,M={onKeyDown(A){if(US(A.nativeEvent,A.currentTarget)&&A.currentTarget.contains(A.target)){var I;Ok(A.target,A.key)&&A.preventDefault();let L=!0;if(!E.isPressed&&!A.repeat){E.target=A.currentTarget,E.isPressed=!0,L=j(A,"keyboard");let R=A.currentTarget,F=T=>{US(T,R)&&!T.repeat&&R.contains(T.target)&&E.target&&N(Eo(E.target,T),"keyboard")};y(ca(A.currentTarget),"keyup",v1(F,k),!0)}L&&A.stopPropagation(),A.metaKey&&rg()&&((I=E.metaKeyEvents)===null||I===void 0||I.set(A.key,A.nativeEvent))}else A.key==="Meta"&&(E.metaKeyEvents=new Map)},onClick(A){if(!(A&&!A.currentTarget.contains(A.target))&&A&&A.button===0&&!E.isTriggeringEvent&&!sg.isOpening){let I=!0;if(o&&A.preventDefault(),!E.ignoreClickAfterPress&&!E.ignoreEmulatedMouseEvents&&!E.isPressed&&(E.pointerType==="virtual"||V5(A.nativeEvent))){!o&&!c&&Vu(A.currentTarget);let L=j(A,"virtual"),R=N(A,"virtual"),F=S(A,"virtual");I=L&&R&&F}E.ignoreEmulatedMouseEvents=!1,E.ignoreClickAfterPress=!1,I&&A.stopPropagation()}}},k=A=>{var I;if(E.isPressed&&E.target&&US(A,E.target)){var L;Ok(A.target,A.key)&&A.preventDefault();let F=A.target;S(Eo(E.target,A),"keyboard",E.target.contains(F)),v(),A.key!=="Enter"&&h4(E.target)&&E.target.contains(F)&&!A[Tk]&&(A[Tk]=!0,sg(E.target,A,!1)),E.isPressed=!1,(L=E.metaKeyEvents)===null||L===void 0||L.delete(A.key)}else if(A.key==="Meta"&&(!((I=E.metaKeyEvents)===null||I===void 0)&&I.size)){var R;let F=E.metaKeyEvents;E.metaKeyEvents=void 0;for(let T of F.values())(R=E.target)===null||R===void 0||R.dispatchEvent(new KeyboardEvent("keyup",T))}};if(typeof PointerEvent<"u"){M.onPointerDown=F=>{if(F.button!==0||!F.currentTarget.contains(F.target))return;if(mle(F.nativeEvent)){E.pointerType="virtual";return}KS(F.currentTarget)&&F.preventDefault(),E.pointerType=F.pointerType;let T=!0;E.isPressed||(E.isPressed=!0,E.isOverTarget=!0,E.activePointerId=F.pointerId,E.target=F.currentTarget,!o&&!c&&Vu(F.currentTarget),d||Ik(E.target),T=j(F,E.pointerType),y(ca(F.currentTarget),"pointermove",A,!1),y(ca(F.currentTarget),"pointerup",I,!1),y(ca(F.currentTarget),"pointercancel",R,!1)),T&&F.stopPropagation()},M.onMouseDown=F=>{F.currentTarget.contains(F.target)&&F.button===0&&(KS(F.currentTarget)&&F.preventDefault(),F.stopPropagation())},M.onPointerUp=F=>{!F.currentTarget.contains(F.target)||E.pointerType==="virtual"||F.button===0&&tf(F,F.currentTarget)&&N(F,E.pointerType||F.pointerType)};let A=F=>{F.pointerId===E.activePointerId&&(E.target&&tf(F,E.target)?!E.isOverTarget&&E.pointerType!=null&&(E.isOverTarget=!0,j(Eo(E.target,F),E.pointerType)):E.target&&E.isOverTarget&&E.pointerType!=null&&(E.isOverTarget=!1,S(Eo(E.target,F),E.pointerType,!1),$(F)))},I=F=>{F.pointerId===E.activePointerId&&E.isPressed&&F.button===0&&E.target&&(tf(F,E.target)&&E.pointerType!=null?S(Eo(E.target,F),E.pointerType):E.isOverTarget&&E.pointerType!=null&&S(Eo(E.target,F),E.pointerType,!1),E.isPressed=!1,E.isOverTarget=!1,E.activePointerId=null,E.pointerType=null,v(),d||Xb(E.target),"ontouchend"in E.target&&F.pointerType!=="mouse"&&y(E.target,"touchend",L,{once:!0}))},L=F=>{HR(F.currentTarget)&&F.preventDefault()},R=F=>{C(F)};M.onDragStart=F=>{F.currentTarget.contains(F.target)&&C(F)}}else{M.onMouseDown=L=>{if(L.button!==0||!L.currentTarget.contains(L.target))return;if(KS(L.currentTarget)&&L.preventDefault(),E.ignoreEmulatedMouseEvents){L.stopPropagation();return}E.isPressed=!0,E.isOverTarget=!0,E.target=L.currentTarget,E.pointerType=V5(L.nativeEvent)?"virtual":"mouse",!o&&!c&&Vu(L.currentTarget),j(L,E.pointerType)&&L.stopPropagation(),y(ca(L.currentTarget),"mouseup",A,!1)},M.onMouseEnter=L=>{if(!L.currentTarget.contains(L.target))return;let R=!0;E.isPressed&&!E.ignoreEmulatedMouseEvents&&E.pointerType!=null&&(E.isOverTarget=!0,R=j(L,E.pointerType)),R&&L.stopPropagation()},M.onMouseLeave=L=>{if(!L.currentTarget.contains(L.target))return;let R=!0;E.isPressed&&!E.ignoreEmulatedMouseEvents&&E.pointerType!=null&&(E.isOverTarget=!1,R=S(L,E.pointerType,!1),$(L)),R&&L.stopPropagation()},M.onMouseUp=L=>{L.currentTarget.contains(L.target)&&!E.ignoreEmulatedMouseEvents&&L.button===0&&N(L,E.pointerType||"mouse")};let A=L=>{if(L.button===0){if(E.isPressed=!1,v(),E.ignoreEmulatedMouseEvents){E.ignoreEmulatedMouseEvents=!1;return}E.target&&tf(L,E.target)&&E.pointerType!=null?S(Eo(E.target,L),E.pointerType):E.target&&E.isOverTarget&&E.pointerType!=null&&S(Eo(E.target,L),E.pointerType,!1),E.isOverTarget=!1}};M.onTouchStart=L=>{if(!L.currentTarget.contains(L.target))return;let R=uce(L.nativeEvent);if(!R)return;E.activePointerId=R.identifier,E.ignoreEmulatedMouseEvents=!0,E.isOverTarget=!0,E.isPressed=!0,E.target=L.currentTarget,E.pointerType="touch",!o&&!c&&Vu(L.currentTarget),d||Ik(E.target),j(_l(E.target,L),E.pointerType)&&L.stopPropagation(),y(yi(L.currentTarget),"scroll",I,!0)},M.onTouchMove=L=>{if(!L.currentTarget.contains(L.target))return;if(!E.isPressed){L.stopPropagation();return}let R=Mk(L.nativeEvent,E.activePointerId),F=!0;R&&tf(R,L.currentTarget)?!E.isOverTarget&&E.pointerType!=null&&(E.isOverTarget=!0,F=j(_l(E.target,L),E.pointerType)):E.isOverTarget&&E.pointerType!=null&&(E.isOverTarget=!1,F=S(_l(E.target,L),E.pointerType,!1),$(_l(E.target,L))),F&&L.stopPropagation()},M.onTouchEnd=L=>{if(!L.currentTarget.contains(L.target))return;if(!E.isPressed){L.stopPropagation();return}let R=Mk(L.nativeEvent,E.activePointerId),F=!0;R&&tf(R,L.currentTarget)&&E.pointerType!=null?(N(_l(E.target,L),E.pointerType),F=S(_l(E.target,L),E.pointerType)):E.isOverTarget&&E.pointerType!=null&&(F=S(_l(E.target,L),E.pointerType,!1)),F&&L.stopPropagation(),E.isPressed=!1,E.activePointerId=null,E.isOverTarget=!1,E.ignoreEmulatedMouseEvents=!0,E.target&&!d&&Xb(E.target),v()},M.onTouchCancel=L=>{L.currentTarget.contains(L.target)&&(L.stopPropagation(),E.isPressed&&C(_l(E.target,L)))};let I=L=>{E.isPressed&&L.target.contains(E.target)&&C({currentTarget:E.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};M.onDragStart=L=>{L.currentTarget.contains(L.target)&&C(L)}}return M},[y,o,c,v,d,C,$,S,j,N]);return m.useEffect(()=>()=>{var E;d||Xb((E=x.current.target)!==null&&E!==void 0?E:void 0)},[d]),{isPressed:l||p,pressProps:da(h,P)}}function h4(e){return e.tagName==="A"&&e.hasAttribute("href")}function US(e,t){const{key:n,code:r}=e,s=t,a=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(s instanceof yi(s).HTMLInputElement&&!qR(s,n)||s instanceof yi(s).HTMLTextAreaElement||s.isContentEditable)&&!((a==="link"||!a&&h4(s))&&n!=="Enter")}function uce(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Mk(e,t){const n=e.changedTouches;for(let r=0;r<n.length;r++){const s=n[r];if(s.identifier===t)return s}return null}function _l(e,t){let n=0,r=0;return t.targetTouches&&t.targetTouches.length===1&&(n=t.targetTouches[0].clientX,r=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function Eo(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function dce(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function fce(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function tf(e,t){let n=t.getBoundingClientRect(),r=dce(e);return fce(n,r)}function KS(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function HR(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!h4(e)}function Ok(e,t){return e instanceof HTMLInputElement?!qR(e,t):HR(e)}const hce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function qR(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":hce.has(e.type)}class mce{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function GR(e){let t=m.useRef({isFocused:!1,observer:null});r4(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Ou(r=>{e==null||e(r)});return m.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,a=o=>{t.current.isFocused=!1,s.disabled&&n(new mce("blur",o)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let l=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function YR(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const a=m.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),o=GR(a),l=m.useCallback(c=>{const u=ca(c.target);c.target===c.currentTarget&&u.activeElement===c.target&&(n&&n(c),s&&s(!0),o(c))},[s,n,o]);return{focusProps:{onFocus:!t&&(n||s||r)?l:void 0,onBlur:!t&&(r||s)?a:void 0}}}let Rh=null,q5=new Set,kp=new Map,ld=!1,G5=!1;const pce={Tab:!0,Escape:!0};function m4(e,t){for(let n of q5)n(e,t)}function gce(e){return!(e.metaKey||!rg()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ey(e){ld=!0,gce(e)&&(Rh="keyboard",m4("keyboard",e))}function La(e){Rh="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ld=!0,m4("pointer",e))}function XR(e){V5(e)&&(ld=!0,Rh="virtual")}function ZR(e){e.target===window||e.target===document||(!ld&&!G5&&(Rh="virtual",m4("virtual",e)),ld=!1,G5=!1)}function JR(){ld=!1,G5=!0}function Y5(e){if(typeof window>"u"||kp.get(yi(e)))return;const t=yi(e),n=ca(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ld=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ey,!0),n.addEventListener("keyup",Ey,!0),n.addEventListener("click",XR,!0),t.addEventListener("focus",ZR,!0),t.addEventListener("blur",JR,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",La,!0),n.addEventListener("pointermove",La,!0),n.addEventListener("pointerup",La,!0)):(n.addEventListener("mousedown",La,!0),n.addEventListener("mousemove",La,!0),n.addEventListener("mouseup",La,!0)),t.addEventListener("beforeunload",()=>{QR(e)},{once:!0}),kp.set(t,{focus:r})}const QR=(e,t)=>{const n=yi(e),r=ca(e);t&&r.removeEventListener("DOMContentLoaded",t),kp.has(n)&&(n.HTMLElement.prototype.focus=kp.get(n).focus,r.removeEventListener("keydown",Ey,!0),r.removeEventListener("keyup",Ey,!0),r.removeEventListener("click",XR,!0),n.removeEventListener("focus",ZR,!0),n.removeEventListener("blur",JR,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",La,!0),r.removeEventListener("pointermove",La,!0),r.removeEventListener("pointerup",La,!0)):(r.removeEventListener("mousedown",La,!0),r.removeEventListener("mousemove",La,!0),r.removeEventListener("mouseup",La,!0)),kp.delete(n))};function bce(e){const t=ca(e);let n;return t.readyState!=="loading"?Y5(e):(n=()=>{Y5(e)},t.addEventListener("DOMContentLoaded",n)),()=>QR(e,n)}typeof document<"u"&&bce();function e8(){return Rh!=="pointer"}function xce(){return Rh}const yce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vce(e,t,n){var r;const s=typeof window<"u"?yi(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?yi(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?yi(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?yi(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof s&&!yce.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof a||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof l&&!pce[n.key])}function wce(e,t,n){Y5(),m.useEffect(()=>{let r=(s,a)=>{vce(!!(n!=null&&n.isTextInput),s,a)&&e(e8())};return q5.add(r),()=>{q5.delete(r)}},t)}function t8(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,a=m.useRef({isFocusWithin:!1}),o=m.useCallback(u=>{a.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(u),s&&s(!1))},[n,s,a]),l=GR(o),c=m.useCallback(u=>{!a.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),s&&s(!0),a.current.isFocusWithin=!0,l(u))},[r,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}let Ay=!1,HS=0;function X5(){Ay=!0,setTimeout(()=>{Ay=!1},50)}function Lk(e){e.pointerType==="touch"&&X5()}function Sce(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Lk):document.addEventListener("touchend",X5),HS++,()=>{HS--,!(HS>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Lk):document.removeEventListener("touchend",X5))}}function Z5(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[a,o]=m.useState(!1),l=m.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;m.useEffect(Sce,[]);let{hoverProps:c,triggerHoverEnd:u}=m.useMemo(()=>{let d=(p,b)=>{if(l.pointerType=b,s||b==="touch"||l.isHovered||!p.currentTarget.contains(p.target))return;l.isHovered=!0;let x=p.currentTarget;l.target=x,t&&t({type:"hoverstart",target:x,pointerType:b}),n&&n(!0),o(!0)},f=(p,b)=>{if(l.pointerType="",l.target=null,b==="touch"||!l.isHovered)return;l.isHovered=!1;let x=p.currentTarget;r&&r({type:"hoverend",target:x,pointerType:b}),n&&n(!1),o(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=p=>{Ay&&p.pointerType==="mouse"||d(p,p.pointerType)},h.onPointerLeave=p=>{!s&&p.currentTarget.contains(p.target)&&f(p,p.pointerType)}):(h.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=p=>{!l.ignoreEmulatedMouseEvents&&!Ay&&d(p,"mouse"),l.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=p=>{!s&&p.currentTarget.contains(p.target)&&f(p,"mouse")}),{hoverProps:h,triggerHoverEnd:f}},[t,n,r,s,l]);return m.useEffect(()=>{s&&u({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:c,isHovered:a}}function _k(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function jce(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:_k(e.onKeyDown),onKeyUp:_k(e.onKeyUp)}}}function Cce(e){const t=ca(e);if(xce()==="virtual"){let n=t.activeElement;DR(()=>{t.activeElement===n&&e.isConnected&&Vu(e)})}else Vu(e)}function J5(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=m.useRef({isFocused:!1,isFocusVisible:t||e8()}),[a,o]=m.useState(!1),[l,c]=m.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=m.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),d=m.useCallback(p=>{s.current.isFocused=p,o(p),u()},[u]);wce(p=>{s.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:f}=YR({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=t8({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:l,focusProps:r?h:f}}let Nce=Z.createContext(null);function $ce(e){let t=m.useContext(Nce)||{};kR(t,e);let{ref:n,...r}=t;return r}function n8(e,t){let{focusProps:n}=YR(e),{keyboardProps:r}=jce(e),s=da(n,r),a=$ce(t),o=e.isDisabled?{}:a,l=m.useRef(e.autoFocus);return m.useEffect(()=>{l.current&&t.current&&Cce(t.current),l.current=!1},[t]),{focusableProps:da({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},o)}}function p4(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function r8(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function s8(e){let t=m.useRef({isFocused:!1,observer:null});Dn(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=pr(r=>{e==null||e(r)});return m.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,a=o=>{if(t.current.isFocused=!1,s.disabled){let l=p4(o);n(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let l=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Py=!1;function Ece(e){for(;e&&!zR(e);)e=e.parentElement;let t=Bs(e),n=t.document.activeElement;if(!n||n===e)return;Py=!0;let r=!1,s=d=>{(d.target===n||r)&&d.stopImmediatePropagation()},a=d=>{(d.target===n||r)&&(d.stopImmediatePropagation(),!e&&!r&&(r=!0,Ci(n),c()))},o=d=>{(d.target===e||r)&&d.stopImmediatePropagation()},l=d=>{(d.target===e||r)&&(d.stopImmediatePropagation(),r||(r=!0,Ci(n),c()))};t.addEventListener("blur",s,!0),t.addEventListener("focusout",a,!0),t.addEventListener("focusin",l,!0),t.addEventListener("focus",o,!0);let c=()=>{cancelAnimationFrame(u),t.removeEventListener("blur",s,!0),t.removeEventListener("focusout",a,!0),t.removeEventListener("focusin",l,!0),t.removeEventListener("focus",o,!0),Py=!1,r=!1},u=requestAnimationFrame(c);return c}let Df="default",Q5="",oy=new WeakMap;function Ace(e){if(C1()){if(Df==="default"){const t=hn(e);Q5=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Df="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";oy.set(e,e.style[t]),e.style[t]="none"}}function Fk(e){if(C1()){if(Df!=="disabled")return;Df="restoring",setTimeout(()=>{_R(()=>{if(Df==="restoring"){const t=hn(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Q5||""),Q5="",Df="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&oy.has(e)){let t=oy.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),oy.delete(e)}}const g4=Z.createContext({register:()=>{}});g4.displayName="PressResponderContext";function Pce(e){let t=m.useContext(g4);if(t){let{register:n,...r}=t;e=Me(r,e),n()}return FR(t,e.ref),e}var Qb=new WeakMap;class ex{continuePropagation(){$y(this,Qb,!1)}get shouldStopPropagation(){return UR(this,Qb)}constructor(t,n,r,s){$R(this,Qb,{writable:!0,value:void 0}),$y(this,Qb,!0);var a;let o=(a=s==null?void 0:s.target)!==null&&a!==void 0?a:r.currentTarget;const l=o==null?void 0:o.getBoundingClientRect();let c,u=0,d,f=null;r.clientX!=null&&r.clientY!=null&&(d=r.clientX,f=r.clientY),l&&(d!=null&&f!=null?(c=d-l.left,u=f-l.top):(c=l.width/2,u=l.height/2)),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=c,this.y=u}}const Rk=Symbol("linkClicked");function Ni(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:s,onPressUp:a,onClick:o,isDisabled:l,isPressed:c,preventFocusOnPress:u,shouldCancelOnPointerExit:d,allowTextSelectionOnPress:f,ref:h,...p}=Pce(e),[b,x]=m.useState(!1),y=m.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:v,removeAllGlobalListeners:j}=N1(),S=pr((A,I)=>{let L=y.current;if(l||L.didFirePressStart)return!1;let R=!0;if(L.isTriggeringEvent=!0,r){let F=new ex("pressstart",I,A);r(F),R=F.shouldStopPropagation}return n&&n(!0),L.isTriggeringEvent=!1,L.didFirePressStart=!0,x(!0),R}),N=pr((A,I,L=!0)=>{let R=y.current;if(!R.didFirePressStart)return!1;R.didFirePressStart=!1,R.isTriggeringEvent=!0;let F=!0;if(s){let T=new ex("pressend",I,A);s(T),F=T.shouldStopPropagation}if(n&&n(!1),x(!1),t&&L&&!l){let T=new ex("press",I,A);t(T),F&&(F=T.shouldStopPropagation)}return R.isTriggeringEvent=!1,F}),C=pr((A,I)=>{let L=y.current;if(l)return!1;if(a){L.isTriggeringEvent=!0;let R=new ex("pressup",I,A);return a(R),L.isTriggeringEvent=!1,R.shouldStopPropagation}return!0}),$=pr(A=>{let I=y.current;if(I.isPressed&&I.target){I.didFirePressStart&&I.pointerType!=null&&N(nf(I.target,A),I.pointerType,!1),I.isPressed=!1,I.isOverTarget=!1,I.activePointerId=null,I.pointerType=null,j(),f||Fk(I.target);for(let L of I.disposables)L();I.disposables=[]}}),P=pr(A=>{d&&$(A)}),E=pr(A=>{o==null||o(A)}),M=pr((A,I)=>{if(o){let L=new MouseEvent("click",A);r8(L,I),o(p4(L))}}),k=m.useMemo(()=>{let A=y.current,I={onKeyDown(R){if(qS(R.nativeEvent,R.currentTarget)&&Rs(R.currentTarget,ir(R.nativeEvent))){var F;Bk(ir(R.nativeEvent),R.key)&&R.preventDefault();let T=!0;if(!A.isPressed&&!R.repeat){A.target=R.currentTarget,A.isPressed=!0,A.pointerType="keyboard",T=S(R,"keyboard");let O=R.currentTarget,_=W=>{qS(W,O)&&!W.repeat&&Rs(O,ir(W))&&A.target&&C(nf(A.target,W),"keyboard")};v(hn(R.currentTarget),"keyup",gr(_,L),!0)}T&&R.stopPropagation(),R.metaKey&&Cc()&&((F=A.metaKeyEvents)===null||F===void 0||F.set(R.key,R.nativeEvent))}else R.key==="Meta"&&(A.metaKeyEvents=new Map)},onClick(R){if(!(R&&!Rs(R.currentTarget,ir(R.nativeEvent)))&&R&&R.button===0&&!A.isTriggeringEvent&&!od.isOpening){let F=!0;if(l&&R.preventDefault(),!A.ignoreEmulatedMouseEvents&&!A.isPressed&&(A.pointerType==="virtual"||BR(R.nativeEvent))){let T=S(R,"virtual"),O=C(R,"virtual"),_=N(R,"virtual");E(R),F=T&&O&&_}else if(A.isPressed&&A.pointerType!=="keyboard"){let T=A.pointerType||R.nativeEvent.pointerType||"virtual";F=N(nf(R.currentTarget,R),T,!0),A.isOverTarget=!1,E(R),$(R)}A.ignoreEmulatedMouseEvents=!1,F&&R.stopPropagation()}}},L=R=>{var F;if(A.isPressed&&A.target&&qS(R,A.target)){var T;Bk(ir(R),R.key)&&R.preventDefault();let _=ir(R),W=Rs(A.target,ir(R));N(nf(A.target,R),"keyboard",W),W&&M(R,A.target),j(),R.key!=="Enter"&&b4(A.target)&&Rs(A.target,_)&&!R[Rk]&&(R[Rk]=!0,od(A.target,R,!1)),A.isPressed=!1,(T=A.metaKeyEvents)===null||T===void 0||T.delete(R.key)}else if(R.key==="Meta"&&(!((F=A.metaKeyEvents)===null||F===void 0)&&F.size)){var O;let _=A.metaKeyEvents;A.metaKeyEvents=void 0;for(let W of _.values())(O=A.target)===null||O===void 0||O.dispatchEvent(new KeyboardEvent("keyup",W))}};if(typeof PointerEvent<"u"){I.onPointerDown=T=>{if(T.button!==0||!Rs(T.currentTarget,ir(T.nativeEvent)))return;if(Qle(T.nativeEvent)){A.pointerType="virtual";return}A.pointerType=T.pointerType;let O=!0;if(!A.isPressed){A.isPressed=!0,A.isOverTarget=!0,A.activePointerId=T.pointerId,A.target=T.currentTarget,f||Ace(A.target),O=S(T,A.pointerType);let _=ir(T.nativeEvent);"releasePointerCapture"in _&&_.releasePointerCapture(T.pointerId),v(hn(T.currentTarget),"pointerup",R,!1),v(hn(T.currentTarget),"pointercancel",F,!1)}O&&T.stopPropagation()},I.onMouseDown=T=>{if(Rs(T.currentTarget,ir(T.nativeEvent))&&T.button===0){if(u){let O=Ece(T.target);O&&A.disposables.push(O)}T.stopPropagation()}},I.onPointerUp=T=>{!Rs(T.currentTarget,ir(T.nativeEvent))||A.pointerType==="virtual"||T.button===0&&C(T,A.pointerType||T.pointerType)},I.onPointerEnter=T=>{T.pointerId===A.activePointerId&&A.target&&!A.isOverTarget&&A.pointerType!=null&&(A.isOverTarget=!0,S(nf(A.target,T),A.pointerType))},I.onPointerLeave=T=>{T.pointerId===A.activePointerId&&A.target&&A.isOverTarget&&A.pointerType!=null&&(A.isOverTarget=!1,N(nf(A.target,T),A.pointerType,!1),P(T))};let R=T=>{if(T.pointerId===A.activePointerId&&A.isPressed&&T.button===0&&A.target){if(Rs(A.target,ir(T))&&A.pointerType!=null){let O=!1,_=setTimeout(()=>{A.isPressed&&A.target instanceof HTMLElement&&(O?$(T):(Ci(A.target),A.target.click()))},80);v(T.currentTarget,"click",()=>O=!0,!0),A.disposables.push(()=>clearTimeout(_))}else $(T);A.isOverTarget=!1}},F=T=>{$(T)};I.onDragStart=T=>{Rs(T.currentTarget,ir(T.nativeEvent))&&$(T)}}return I},[v,l,u,j,f,$,P,N,S,C,E,M]);return m.useEffect(()=>{let A=h==null?void 0:h.current;A&&A instanceof Bs(A).Element&&Bs(A).getComputedStyle(A).touchAction==="auto"&&(A.style.touchAction="pan-x pan-y pinch-zoom")},[h]),m.useEffect(()=>{let A=y.current;return()=>{var I;f||Fk((I=A.target)!==null&&I!==void 0?I:void 0);for(let L of A.disposables)L();A.disposables=[]}},[f]),{isPressed:c||b,pressProps:Me(p,k)}}function b4(e){return e.tagName==="A"&&e.hasAttribute("href")}function qS(e,t){const{key:n,code:r}=e,s=t,a=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(s instanceof Bs(s).HTMLInputElement&&!a8(s,n)||s instanceof Bs(s).HTMLTextAreaElement||s.isContentEditable)&&!((a==="link"||!a&&b4(s))&&n!=="Enter")}function nf(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function Dce(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!b4(e)}function Bk(e,t){return e instanceof HTMLInputElement?!a8(e,t):Dce(e)}const kce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function a8(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":kce.has(e.type)}let Qo=null,og=new Set,Ip=new Map,cd=!1,e3=!1;const Ice={Tab:!0,Escape:!0};function E1(e,t){for(let n of og)n(e,t)}function Tce(e){return!(e.metaKey||!Cc()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Dy(e){cd=!0,Tce(e)&&(Qo="keyboard",E1("keyboard",e))}function Wf(e){Qo="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(cd=!0,E1("pointer",e))}function i8(e){BR(e)&&(cd=!0,Qo="virtual")}function o8(e){e.target===window||e.target===document||Py||!e.isTrusted||(!cd&&!e3&&(Qo="virtual",E1("virtual",e)),cd=!1,e3=!1)}function l8(){Py||(cd=!1,e3=!0)}function ky(e){if(typeof window>"u"||Ip.get(Bs(e)))return;const t=Bs(e),n=hn(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){cd=!0,r.apply(this,arguments)},n.addEventListener("keydown",Dy,!0),n.addEventListener("keyup",Dy,!0),n.addEventListener("click",i8,!0),t.addEventListener("focus",o8,!0),t.addEventListener("blur",l8,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Wf,!0),n.addEventListener("pointermove",Wf,!0),n.addEventListener("pointerup",Wf,!0)),t.addEventListener("beforeunload",()=>{c8(e)},{once:!0}),Ip.set(t,{focus:r})}const c8=(e,t)=>{const n=Bs(e),r=hn(e);t&&r.removeEventListener("DOMContentLoaded",t),Ip.has(n)&&(n.HTMLElement.prototype.focus=Ip.get(n).focus,r.removeEventListener("keydown",Dy,!0),r.removeEventListener("keyup",Dy,!0),r.removeEventListener("click",i8,!0),n.removeEventListener("focus",o8,!0),n.removeEventListener("blur",l8,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Wf,!0),r.removeEventListener("pointermove",Wf,!0),r.removeEventListener("pointerup",Wf,!0)),Ip.delete(n))};function Mce(e){const t=hn(e);let n;return t.readyState!=="loading"?ky(e):(n=()=>{ky(e)},t.addEventListener("DOMContentLoaded",n)),()=>c8(e,n)}typeof document<"u"&&Mce();function el(){return Qo!=="pointer"}function lg(){return Qo}function u8(e){Qo=e,E1(e,null)}function Oce(){ky();let[e,t]=m.useState(Qo);return m.useEffect(()=>{let n=()=>{t(Qo)};return og.add(n),()=>{og.delete(n)}},[]),_h()?null:e}const Lce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function _ce(e,t,n){let r=hn(n==null?void 0:n.target);const s=typeof window<"u"?Bs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?Bs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Bs(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?Bs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!Lce.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!Ice[n.key])}function Fce(e,t,n){ky(),m.useEffect(()=>{let r=(s,a)=>{_ce(!!(n!=null&&n.isTextInput),s,a)&&e(el())};return og.add(r),()=>{og.delete(r)}},t)}function vs(e){const t=hn(e),n=ss(t);if(lg()==="virtual"){let r=n;_R(()=>{ss(t)===r&&e.isConnected&&Ci(e)})}else Ci(e)}function x4(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const a=m.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),o=s8(a),l=m.useCallback(c=>{const u=hn(c.target),d=u?ss(u):ss();c.target===c.currentTarget&&d===ir(c.nativeEvent)&&(n&&n(c),s&&s(!0),o(c))},[s,n,o]);return{focusProps:{onFocus:!t&&(n||s||r)?l:void 0,onBlur:!t&&(r||s)?a:void 0}}}function zk(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(r),t&&n.stopPropagation()}}function d8(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:zk(e.onKeyDown),onKeyUp:zk(e.onKeyUp)}}}let Rce=Z.createContext(null);function Bce(e){let t=m.useContext(Rce)||{};FR(t,e);let{ref:n,...r}=t;return r}function Bh(e,t){let{focusProps:n}=x4(e),{keyboardProps:r}=d8(e),s=Me(n,r),a=Bce(t),o=e.isDisabled?{}:a,l=m.useRef(e.autoFocus);m.useEffect(()=>{l.current&&t.current&&vs(t.current),l.current=!1},[t]);let c=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(c=void 0),{focusableProps:Me({...s,tabIndex:c},o)}}function zce({children:e}){let t=m.useMemo(()=>({register:()=>{}}),[]);return Z.createElement(g4.Provider,{value:t},e)}function d0(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,a=m.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:l}=N1(),c=m.useCallback(f=>{f.currentTarget.contains(f.target)&&a.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(a.current.isFocusWithin=!1,l(),n&&n(f),s&&s(!1))},[n,s,a,l]),u=s8(c),d=m.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const h=hn(f.target),p=ss(h);if(!a.current.isFocusWithin&&p===ir(f.nativeEvent)){r&&r(f),s&&s(!0),a.current.isFocusWithin=!0,u(f);let b=f.currentTarget;o(h,"focus",x=>{if(a.current.isFocusWithin&&!Rs(b,x.target)){let y=new h.defaultView.FocusEvent("blur",{relatedTarget:x.target});r8(y,b);let v=p4(y);c(v)}},{capture:!0})}},[r,s,u,o,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:c}}}let t3=!1,GS=0;function Vce(){t3=!0,setTimeout(()=>{t3=!1},50)}function Vk(e){e.pointerType==="touch"&&Vce()}function Wce(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Vk),GS++,()=>{GS--,!(GS>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Vk)}}function is(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[a,o]=m.useState(!1),l=m.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;m.useEffect(Wce,[]);let{addGlobalListener:c,removeAllGlobalListeners:u}=N1(),{hoverProps:d,triggerHoverEnd:f}=m.useMemo(()=>{let h=(x,y)=>{if(l.pointerType=y,s||y==="touch"||l.isHovered||!x.currentTarget.contains(x.target))return;l.isHovered=!0;let v=x.currentTarget;l.target=v,c(hn(x.target),"pointerover",j=>{l.isHovered&&l.target&&!Rs(l.target,j.target)&&p(j,j.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:v,pointerType:y}),n&&n(!0),o(!0)},p=(x,y)=>{let v=l.target;l.pointerType="",l.target=null,!(y==="touch"||!l.isHovered||!v)&&(l.isHovered=!1,u(),r&&r({type:"hoverend",target:v,pointerType:y}),n&&n(!1),o(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=x=>{t3&&x.pointerType==="mouse"||h(x,x.pointerType)},b.onPointerLeave=x=>{!s&&x.currentTarget.contains(x.target)&&p(x,x.pointerType)}),{hoverProps:b,triggerHoverEnd:p}},[t,n,r,s,l,c,u]);return m.useEffect(()=>{s&&f({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:d,isHovered:a}}function Uce(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:s}=e,a=m.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),o=pr(c=>{n&&Wk(c,t)&&(s&&s(c),a.current.isPointerDown=!0)}),l=pr(c=>{n&&n(c)});m.useEffect(()=>{let c=a.current;if(r)return;const u=t.current,d=hn(u);if(typeof PointerEvent<"u"){let f=h=>{c.isPointerDown&&Wk(h,t)&&l(h),c.isPointerDown=!1};return d.addEventListener("pointerdown",o,!0),d.addEventListener("pointerup",f,!0),()=>{d.removeEventListener("pointerdown",o,!0),d.removeEventListener("pointerup",f,!0)}}},[t,r,o,l])}function Wk(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current?!e.composedPath().includes(t.current):!1}const Kce=500;function f8(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:r,onLongPress:s,threshold:a=Kce,accessibilityDescription:o}=e;const l=m.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:u}=N1(),{pressProps:d}=Ni({isDisabled:t,onPressStart(h){if(h.continuePropagation(),(h.pointerType==="mouse"||h.pointerType==="touch")&&(n&&n({...h,type:"longpressstart"}),l.current=setTimeout(()=>{h.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),hn(h.target).activeElement!==h.target&&Ci(h.target),s&&s({...h,type:"longpress"}),l.current=void 0},a),h.pointerType==="touch")){let p=b=>{b.preventDefault()};c(h.target,"contextmenu",p,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{u(h.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(h){l.current&&clearTimeout(l.current),r&&(h.pointerType==="mouse"||h.pointerType==="touch")&&r({...h,type:"longpressend"})}}),f=$1(s&&!t?o:void 0);return{longPressProps:Me(d,f)}}const Uk={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function h8(e={}){let{style:t,isFocusable:n}=e,[r,s]=m.useState(!1),{focusWithinProps:a}=d0({isDisabled:!n,onFocusWithinChange:l=>s(l)}),o=m.useMemo(()=>r?t:t?{...Uk,...t}:Uk,[r]);return{visuallyHiddenProps:{...a,style:o}}}function f0(e){let{children:t,elementType:n="div",isFocusable:r,style:s,...a}=e,{visuallyHiddenProps:o}=h8(e);return Z.createElement(n,Me(a,o),t)}const cg=m.createContext({});function y4(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const A1=m.createContext(null),v4=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Hce extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qce({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=m.useContext(v4);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(Hce,{isPresent:t,childRef:r,sizeRef:s,children:m.cloneElement(e,{ref:r})})}const Gce=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=y4(Yce),c=m.useId(),u=m.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[n,u]);return m.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(qce,{isPresent:n,children:e})),i.jsx(A1.Provider,{value:d,children:e})};function Yce(){return new Map}function m8(e=!0){const t=m.useContext(A1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=m.useId();m.useEffect(()=>{e&&s(a)},[e]);const o=m.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const tx=e=>e.key||"";function Kk(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const w4=typeof window<"u",S4=w4?m.useLayoutEffect:m.useEffect,zh=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=m8(o),u=m.useMemo(()=>Kk(e),[e]),d=o&&!l?[]:u.map(tx),f=m.useRef(!0),h=m.useRef(u),p=y4(()=>new Map),[b,x]=m.useState(u),[y,v]=m.useState(u);S4(()=>{f.current=!1,h.current=u;for(let N=0;N<y.length;N++){const C=tx(y[N]);d.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[y,d.length,d.join("-")]);const j=[];if(u!==b){let N=[...u];for(let C=0;C<y.length;C++){const $=y[C],P=tx($);d.includes(P)||(N.splice(C,0,$),j.push($))}a==="wait"&&j.length&&(N=j),v(Kk(N)),x(u);return}const{forceRender:S}=m.useContext(cg);return i.jsx(i.Fragment,{children:y.map(N=>{const C=tx(N),$=o&&!l?!1:u===y||d.includes(C),P=()=>{if(p.has(C))p.set(C,!0);else return;let E=!0;p.forEach(M=>{M||(E=!1)}),E&&(S==null||S(),v(h.current),o&&(c==null||c()),r&&r())};return i.jsx(Gce,{isPresent:$,initial:!f.current||n?void 0:!1,custom:$?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:$?void 0:P,children:N},C)})})},Xce=m.createContext(null);function Zce(){const e=m.useRef(!1);return S4(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const fa=e=>e;let p8=fa;function j4(e){let t;return()=>(t===void 0&&(t=e()),t)}const eh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},qo=e=>e*1e3,Go=e=>e/1e3,Jce={useManualTiming:!1};function Qce(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&r?t:n;return d&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const nx=["read","resolveKeyframes","update","preRender","render","postRender"],eue=40;function g8(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=nx.reduce((v,j)=>(v[j]=Qce(a),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,eue),1),s.timestamp=v,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},b=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:nx.reduce((v,j)=>{const S=o[j];return v[j]=(N,C=!1,$=!1)=>(n||b(),S.schedule(N,C,$)),v},{}),cancel:v=>{for(let j=0;j<nx.length;j++)o[nx[j]].cancel(v)},state:s,steps:o}}const{schedule:In,cancel:Nc,state:zr,steps:YS}=g8(typeof requestAnimationFrame<"u"?requestAnimationFrame:fa,!0);function tue(){const e=Zce(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>In.postRender(r),[r]),t]}const nue=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Hk(){const e=new Set,t=new WeakMap,n=()=>e.forEach(nue);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const b8=e=>e===!0,rue=e=>b8(e===!0)||e==="id",sue=({children:e,id:t,inherit:n=!0})=>{const r=m.useContext(cg),s=m.useContext(Xce),[a,o]=tue(),l=m.useRef(null),c=r.id||s;l.current===null&&(rue(n)&&c&&(t=t?c+"-"+t:c),l.current={id:t,group:b8(n)&&r.group||Hk()});const u=m.useMemo(()=>({...l.current,forceRender:a}),[o]);return i.jsx(cg.Provider,{value:u,children:e})},C4=m.createContext({strict:!1}),qk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},th={};for(const e in qk)th[e]={isEnabled:t=>qk[e].some(n=>!!t[n])};function Gk(e){for(const t in e)th[t]={...th[t],...e[t]}}function $c({children:e,features:t,strict:n=!1}){const[,r]=m.useState(!XS(t)),s=m.useRef(void 0);if(!XS(t)){const{renderer:a,...o}=t;s.current=a,Gk(o)}return m.useEffect(()=>{XS(t)&&t().then(({renderer:a,...o})=>{Gk(o),s.current=a,r(!0)})},[]),i.jsx(C4.Provider,{value:{renderer:s.current,strict:n},children:e})}function XS(e){return typeof e=="function"}const aue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aue.has(e)}let x8=e=>!Iy(e);function iue(e){e&&(x8=t=>t.startsWith("on")?!Iy(t):e(t))}try{iue(require("@emotion/is-prop-valid").default)}catch{}function oue(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(x8(s)||n===!0&&Iy(s)||!t&&!Iy(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function lue(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const P1=m.createContext({});function ug(e){return typeof e=="string"||Array.isArray(e)}function D1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const N4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$4=["initial",...N4];function k1(e){return D1(e.animate)||$4.some(t=>ug(e[t]))}function y8(e){return!!(k1(e)||e.variants)}function cue(e,t){if(k1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ug(n)?n:void 0,animate:ug(r)?r:void 0}}return e.inherit!==!1?t:{}}function uue(e){const{initial:t,animate:n}=cue(e,m.useContext(P1));return m.useMemo(()=>({initial:t,animate:n}),[Yk(t),Yk(n)])}function Yk(e){return Array.isArray(e)?e.join(" "):e}const due=Symbol.for("motionComponentSymbol");function kf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fue(e,t,n){return m.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kf(n)&&(n.current=r))},[t])}const E4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hue="framerAppearId",v8="data-"+E4(hue),{schedule:A4}=g8(queueMicrotask,!1),w8=m.createContext({});function mue(e,t,n,r,s){var a,o;const{visualElement:l}=m.useContext(P1),c=m.useContext(C4),u=m.useContext(A1),d=m.useContext(v4).reducedMotion,f=m.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=m.useContext(w8);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&pue(f.current,n,s,p);const b=m.useRef(!1);m.useInsertionEffect(()=>{h&&b.current&&h.update(n,u)});const x=n[v8],y=m.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return S4(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),A4.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,x)}),y.current=!1))}),h}function pue(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:S8(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&kf(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function S8(e){if(e)return e.options.allowProjection!==!1?e.projection:S8(e.parent)}function gue({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var a,o;function l(u,d){let f;const h={...m.useContext(v4),...u,layoutId:bue(u)},{isStatic:p}=h,b=uue(u),x=r(u,p);if(!p&&w4){xue();const y=yue(h);f=y.MeasureLayout,b.visualElement=mue(s,x,h,t,y.ProjectionNode)}return i.jsxs(P1.Provider,{value:b,children:[f&&b.visualElement?i.jsx(f,{visualElement:b.visualElement,...h}):null,n(s,u,fue(x,b.visualElement,d),x,p,b.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=m.forwardRef(l);return c[due]=s,c}function bue({layoutId:e}){const t=m.useContext(cg).id;return t&&e!==void 0?t+"-"+e:e}function xue(e,t){m.useContext(C4).strict}function yue(e){const{drag:t,layout:n}=th;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P4(e){return typeof e!="string"||e.includes("-")?!1:!!(vue.indexOf(e)>-1||/[A-Z]/u.test(e))}function Xk(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function D4(e,t,n,r){if(typeof t=="function"){const[s,a]=Xk(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Xk(r);t=t(n!==void 0?n:e.custom,s,a)}return t}const n3=e=>Array.isArray(e),wue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Sue=e=>n3(e)?e[e.length-1]||0:e,ns=e=>!!(e&&e.getVelocity);function ly(e){const t=ns(e)?e.get():e;return wue(t)?t.toValue():t}function jue({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,a){const o={latestValues:Cue(r,s,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const j8=e=>(t,n)=>{const r=m.useContext(P1),s=m.useContext(A1),a=()=>jue(e,t,r,s);return n?a():y4(a)};function Cue(e,t,n,r){const s={},a=r(e,{});for(const h in a)s[h]=ly(a[h]);let{initial:o,animate:l}=e;const c=k1(e),u=y8(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!D1(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const b=D4(e,h[p]);if(b){const{transitionEnd:x,transition:y,...v}=b;for(const j in v){let S=v[j];if(Array.isArray(S)){const N=d?S.length-1:0;S=S[N]}S!==null&&(s[j]=S)}for(const j in x)s[j]=x[j]}}}return s}const Vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sd=new Set(Vh),C8=e=>t=>typeof t=="string"&&t.startsWith(e),N8=C8("--"),Nue=C8("var(--"),k4=e=>Nue(e)?$ue.test(e.split("/*")[0].trim()):!1,$ue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,tl=(e,t,n)=>n>t?t:n<e?e:n,Wh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dg={...Wh,transform:e=>tl(0,1,e)},rx={...Wh,default:1},h0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yl=h0("deg"),Hi=h0("%"),xt=h0("px"),Eue=h0("vh"),Aue=h0("vw"),Zk={...Hi,parse:e=>Hi.parse(e)/100,transform:e=>Hi.transform(e*100)},Pue={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt},Due={rotate:Yl,rotateX:Yl,rotateY:Yl,rotateZ:Yl,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:Yl,skewX:Yl,skewY:Yl,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:dg,originX:Zk,originY:Zk,originZ:xt},Jk={...Wh,transform:Math.round},I4={...Pue,...Due,zIndex:Jk,size:xt,fillOpacity:dg,strokeOpacity:dg,numOctaves:Jk},kue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iue=Vh.length;function Tue(e,t,n){let r="",s=!0;for(let a=0;a<Iue;a++){const o=Vh[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=$8(l,I4[o]);if(!c){s=!1;const d=kue[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function T4(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Sd.has(c)){o=!0;continue}else if(N8(c)){s[c]=u;continue}else{const d=$8(u,I4[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=Tue(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Mue={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oue={offset:"strokeDashoffset",array:"strokeDasharray"};function Lue(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Mue:Oue;e[a.offset]=xt.transform(-r);const o=xt.transform(t),l=xt.transform(n);e[a.array]=`${o} ${l}`}function Qk(e,t,n){return typeof e=="string"?e:xt.transform(t+n*e)}function _ue(e,t,n){const r=Qk(t,e.x,e.width),s=Qk(n,e.y,e.height);return`${r} ${s}`}function M4(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(T4(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:b}=e;h.transform&&(b&&(p.transform=h.transform),delete h.transform),b&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=_ue(b,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Lue(h,o,l,c,!1)}const O4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),E8=()=>({...O4(),attrs:{}}),L4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function A8(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const P8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D8(e,t,n,r){A8(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(P8.has(s)?s:E4(s),t.attrs[s])}const Ty={};function Fue(e){Object.assign(Ty,e)}function k8(e,{layout:t,layoutId:n}){return Sd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ty[e]||e==="opacity")}function _4(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(ns(s[o])||t.style&&ns(t.style[o])||k8(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function I8(e,t,n){const r=_4(e,t,n);for(const s in e)if(ns(e[s])||ns(t[s])){const a=Vh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Rue(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const eI=["x","y","width","height","cx","cy","r"],Bue={useVisualState:j8({scrapeMotionValuesFromProps:I8,createRenderState:E8,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in s)if(Sd.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<eI.length;l++){const c=eI[l];e[c]!==t[c]&&(o=!0)}o&&In.read(()=>{Rue(n,r),In.render(()=>{M4(r,s,L4(n.tagName),e.transformTemplate),D8(n,r)})})}})},zue={useVisualState:j8({scrapeMotionValuesFromProps:_4,createRenderState:O4})};function T8(e,t,n){for(const r in t)!ns(t[r])&&!k8(r,n)&&(e[r]=t[r])}function Vue({transformTemplate:e},t){return m.useMemo(()=>{const n=O4();return T4(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Wue(e,t){const n=e.style||{},r={};return T8(r,n,e),Object.assign(r,Vue(e,t)),r}function Uue(e,t){const n={},r=Wue(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Kue(e,t,n,r){const s=m.useMemo(()=>{const a=E8();return M4(a,t,L4(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};T8(a,e.style,e),s.style={...a,...s.style}}return s}function Hue(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(P4(n)?Kue:Uue)(r,a,o,n),u=oue(r,typeof n=="string",e),d=n!==m.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=m.useMemo(()=>ns(f)?f.get():f,[f]);return m.createElement(n,{...d,children:h})}}function que(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...P4(r)?Bue:zue,preloadedFeatures:e,useRender:Hue(s),createVisualElement:t,Component:r};return gue(o)}}const Gue=que(),Ec=lue(Gue);function M8(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function I1(e,t,n){const r=e.getProps();return D4(r,t,n!==void 0?n:r.custom,e)}const Yue=j4(()=>window.ScrollTimeline!==void 0);class Xue{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Yue()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zue extends Xue{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function F4(e,t){return e?e[t]||e.default||e:void 0}const r3=2e4;function O8(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<r3;)t+=n,r=e.next(t);return t>=r3?1/0:t}function R4(e){return typeof e=="function"}function tI(e,t){e.timeline=t,e.onfinish=null}const B4=e=>Array.isArray(e)&&typeof e[0]=="number",Jue={linearEasing:void 0};function Que(e,t){const n=j4(e);return()=>{var r;return(r=Jue[t])!==null&&r!==void 0?r:n()}}const My=Que(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),L8=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(eh(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function _8(e){return!!(typeof e=="function"&&My()||!e||typeof e=="string"&&(e in s3||My())||B4(e)||Array.isArray(e)&&e.every(_8))}const yp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,s3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yp([0,.65,.55,1]),circOut:yp([.55,0,1,.45]),backIn:yp([.31,.01,.66,-.59]),backOut:yp([.33,1.53,.69,.99])};function F8(e,t){if(e)return typeof e=="function"&&My()?L8(e,t):B4(e)?yp(e):Array.isArray(e)?e.map(n=>F8(n,t)||s3.easeOut):s3[e]}const hi={x:!1,y:!1};function R8(){return hi.x||hi.y}function ede(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function B8(e,t){const n=ede(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function nI(e){return t=>{t.pointerType==="touch"||R8()||e(t)}}function tde(e,t,n={}){const[r,s,a]=B8(e,n),o=nI(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=nI(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const z8=(e,t)=>t?e===t?!0:z8(e,t.parentElement):!1,z4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rde(e){return nde.has(e.tagName)||e.tabIndex!==-1}const vp=new WeakSet;function rI(e){return t=>{t.key==="Enter"&&e(t)}}function ZS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sde=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=rI(()=>{if(vp.has(n))return;ZS(n,"down");const s=rI(()=>{ZS(n,"up")}),a=()=>ZS(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sI(e){return z4(e)&&!R8()}function ade(e,t,n={}){const[r,s,a]=B8(e,n),o=l=>{const c=l.currentTarget;if(!sI(l)||vp.has(c))return;vp.add(c);const u=t(l),d=(p,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!sI(p)||!vp.has(c))&&(vp.delete(c),typeof u=="function"&&u(p,{success:b}))},f=p=>{d(p,n.useGlobalTarget||z8(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!rde(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>sde(u,s),s)}),a}function ide(e){return e==="x"||e==="y"?hi[e]?null:(hi[e]=!0,()=>{hi[e]=!1}):hi.x||hi.y?null:(hi.x=hi.y=!0,()=>{hi.x=hi.y=!1})}const V8=new Set(["width","height","top","left","right","bottom",...Vh]);let cy;function ode(){cy=void 0}const qi={now:()=>(cy===void 0&&qi.set(zr.isProcessing||Jce.useManualTiming?zr.timestamp:performance.now()),cy),set:e=>{cy=e,queueMicrotask(ode)}};function V4(e,t){e.indexOf(t)===-1&&e.push(t)}function W4(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class U4{constructor(){this.subscriptions=[]}add(t){return V4(this.subscriptions,t),()=>W4(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function W8(e,t){return t?e*(1e3/t):0}const aI=30,lde=e=>!isNaN(parseFloat(e));class cde{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=qi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lde(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new U4);const r=this.events[t].add(n);return t==="change"?()=>{r(),In.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aI);return W8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fg(e,t){return new cde(e,t)}function ude(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fg(n))}function dde(e,t){const n=I1(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=Sue(a[o]);ude(e,o,l)}}function fde(e){return!!(ns(e)&&e.add)}function a3(e,t){const n=e.getValue("willChange");if(fde(n))return n.add(t)}function U8(e){return e.props[v8]}const K8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hde=1e-7,mde=12;function pde(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=K8(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>hde&&++l<mde);return o}function m0(e,t,n,r){if(e===t&&n===r)return fa;const s=a=>pde(a,0,1,e,n);return a=>a===0||a===1?a:K8(s(a),t,r)}const H8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q8=e=>t=>1-e(1-t),G8=m0(.33,1.53,.69,.99),K4=q8(G8),Y8=H8(K4),X8=e=>(e*=2)<1?.5*K4(e):.5*(2-Math.pow(2,-10*(e-1))),H4=e=>1-Math.sin(Math.acos(e)),Z8=q8(H4),J8=H8(H4),Q8=e=>/^0[^.\s]+$/u.test(e);function gde(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Q8(e):!0}const Tp=e=>Math.round(e*1e5)/1e5,q4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bde(e){return e==null}const xde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G4=(e,t)=>n=>!!(typeof n=="string"&&xde.test(n)&&n.startsWith(e)||t&&!bde(n)&&Object.prototype.hasOwnProperty.call(n,t)),e9=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(q4);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},yde=e=>tl(0,255,e),JS={...Wh,transform:e=>Math.round(yde(e))},Wu={test:G4("rgb","red"),parse:e9("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+JS.transform(e)+", "+JS.transform(t)+", "+JS.transform(n)+", "+Tp(dg.transform(r))+")"};function vde(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const i3={test:G4("#"),parse:vde,transform:Wu.transform},If={test:G4("hsl","hue"),parse:e9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hi.transform(Tp(t))+", "+Hi.transform(Tp(n))+", "+Tp(dg.transform(r))+")"},Xr={test:e=>Wu.test(e)||i3.test(e)||If.test(e),parse:e=>Wu.test(e)?Wu.parse(e):If.test(e)?If.parse(e):i3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wu.transform(e):If.transform(e)},wde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sde(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(q4))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(wde))===null||n===void 0?void 0:n.length)||0)>0}const t9="number",n9="color",jde="var",Cde="var(",iI="${}",Nde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Nde,c=>(Xr.test(c)?(r.color.push(a),s.push(n9),n.push(Xr.parse(c))):c.startsWith(Cde)?(r.var.push(a),s.push(jde),n.push(c)):(r.number.push(a),s.push(t9),n.push(parseFloat(c))),++a,iI)).split(iI);return{values:n,split:l,indexes:r,types:s}}function r9(e){return hg(e).values}function s9(e){const{split:t,types:n}=hg(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===t9?a+=Tp(s[o]):l===n9?a+=Xr.transform(s[o]):a+=s[o]}return a}}const $de=e=>typeof e=="number"?0:e;function Ede(e){const t=r9(e);return s9(e)(t.map($de))}const Ac={test:Sde,parse:r9,createTransformer:s9,getAnimatableNone:Ede},Ade=new Set(["brightness","contrast","saturate","opacity"]);function Pde(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(q4)||[];if(!r)return e;const s=n.replace(r,"");let a=Ade.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Dde=/\b([a-z-]*)\(.*?\)/gu,o3={...Ac,getAnimatableNone:e=>{const t=e.match(Dde);return t?t.map(Pde).join(" "):e}},kde={...I4,color:Xr,backgroundColor:Xr,outlineColor:Xr,fill:Xr,stroke:Xr,borderColor:Xr,borderTopColor:Xr,borderRightColor:Xr,borderBottomColor:Xr,borderLeftColor:Xr,filter:o3,WebkitFilter:o3},Y4=e=>kde[e];function a9(e,t){let n=Y4(e);return n!==o3&&(n=Ac),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ide=new Set(["auto","none","0"]);function Tde(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!Ide.has(a)&&hg(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=a9(n,s)}const oI=e=>e===Wh||e===xt,lI=(e,t)=>parseFloat(e.split(", ")[t]),cI=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return lI(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?lI(a[1],e):0}},Mde=new Set(["x","y","z"]),Ode=Vh.filter(e=>!Mde.has(e));function Lde(e){const t=[];return Ode.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const nh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cI(4,13),y:cI(5,14)};nh.translateX=nh.x;nh.translateY=nh.y;const td=new Set;let l3=!1,c3=!1;function i9(){if(c3){const e=Array.from(td).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Lde(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}c3=!1,l3=!1,td.forEach(e=>e.complete()),td.clear()}function o9(){td.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(c3=!0)})}function _de(){o9(),i9()}class X4{constructor(t,n,r,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(td.add(this),l3||(l3=!0,In.read(o9),In.resolveKeyframes(i9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),td.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,td.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Fde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rde(e){const t=Fde.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function c9(e,t,n=1){const[r,s]=Rde(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return l9(o)?parseFloat(o):o}return k4(s)?c9(s,t,n+1):s}const u9=e=>t=>t.test(e),Bde={test:e=>e==="auto",parse:e=>e},d9=[Wh,xt,Hi,Yl,Aue,Eue,Bde],uI=e=>d9.find(u9(e));class f9 extends X4{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),k4(u))){const d=c9(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!V8.has(r)||t.length!==2)return;const[s,a]=t,o=uI(s),l=uI(a);if(o!==l)if(oI(o)&&oI(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)gde(t[s])&&r.push(s);r.length&&Tde(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=nh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const dI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ac.test(e)||e==="0")&&!e.startsWith("url("));function zde(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Vde(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=dI(s,t),l=dI(a,t);return!o||!l?!1:zde(e)||(n==="spring"||R4(n))&&r}const Wde=e=>e!==null;function T1(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Wde),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Ude=40;class h9{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qi.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ude?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_de(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=qi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Vde(t,r,s,a))if(o)this.options.duration=0;else{c&&c(T1(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Gn=(e,t,n)=>e+(t-e)*n;function QS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kde({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=QS(c,l,e+1/3),a=QS(c,l,e),o=QS(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Oy(e,t){return n=>n>0?t:e}const ej=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Hde=[i3,Wu,If],qde=e=>Hde.find(t=>t.test(e));function fI(e){const t=qde(e);if(!t)return!1;let n=t.parse(e);return t===If&&(n=Kde(n)),n}const hI=(e,t)=>{const n=fI(e),r=fI(t);if(!n||!r)return Oy(e,t);const s={...n};return a=>(s.red=ej(n.red,r.red,a),s.green=ej(n.green,r.green,a),s.blue=ej(n.blue,r.blue,a),s.alpha=Gn(n.alpha,r.alpha,a),Wu.transform(s))},Gde=(e,t)=>n=>t(e(n)),p0=(...e)=>e.reduce(Gde),u3=new Set(["none","hidden"]);function Yde(e,t){return u3.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Xde(e,t){return n=>Gn(e,t,n)}function Z4(e){return typeof e=="number"?Xde:typeof e=="string"?k4(e)?Oy:Xr.test(e)?hI:Qde:Array.isArray(e)?m9:typeof e=="object"?Xr.test(e)?hI:Zde:Oy}function m9(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>Z4(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function Zde(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Z4(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function Jde(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[o]++}return r}const Qde=(e,t)=>{const n=Ac.createTransformer(t),r=hg(e),s=hg(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?u3.has(e)&&!s.values.length||u3.has(t)&&!r.values.length?Yde(e,t):p0(m9(Jde(r,s),s.values),n):Oy(e,t)};function p9(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Gn(e,t,n):Z4(e)(e,t)}const efe=5;function g9(e,t,n){const r=Math.max(t-efe,0);return W8(n-e(r),t-r)}const Zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mI=.001;function tfe({duration:e=Zn.duration,bounce:t=Zn.bounce,velocity:n=Zn.velocity,mass:r=Zn.mass}){let s,a,o=1-t;o=tl(Zn.minDamping,Zn.maxDamping,o),e=tl(Zn.minDuration,Zn.maxDuration,Go(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,p=d3(u,o),b=Math.exp(-f);return mI-h/p*b},a=u=>{const f=u*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-f),x=d3(Math.pow(u,2),o);return(-s(u)+mI>0?-1:1)*((h-p)*b)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-.001+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=rfe(s,a,l);if(e=qo(e),isNaN(c))return{stiffness:Zn.stiffness,damping:Zn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const nfe=12;function rfe(e,t,n){let r=n;for(let s=1;s<nfe;s++)r=r-e(r)/t(r);return r}function d3(e,t){return e*Math.sqrt(1-t*t)}const sfe=["duration","bounce"],afe=["stiffness","damping","mass"];function pI(e,t){return t.some(n=>e[n]!==void 0)}function ife(e){let t={velocity:Zn.velocity,stiffness:Zn.stiffness,damping:Zn.damping,mass:Zn.mass,isResolvedFromDuration:!1,...e};if(!pI(e,afe)&&pI(e,sfe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*tl(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Zn.mass,stiffness:s,damping:a}}else{const n=tfe(e);t={...t,...n,mass:Zn.mass},t.isResolvedFromDuration=!0}return t}function b9(e=Zn.visualDuration,t=Zn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=ife({...n,velocity:-Go(n.velocity||0)}),b=h||0,x=u/(2*Math.sqrt(c*d)),y=o-a,v=Go(Math.sqrt(c/d)),j=Math.abs(y)<5;r||(r=j?Zn.restSpeed.granular:Zn.restSpeed.default),s||(s=j?Zn.restDelta.granular:Zn.restDelta.default);let S;if(x<1){const C=d3(v,x);S=$=>{const P=Math.exp(-x*v*$);return o-P*((b+x*v*y)/C*Math.sin(C*$)+y*Math.cos(C*$))}}else if(x===1)S=C=>o-Math.exp(-v*C)*(y+(b+v*y)*C);else{const C=v*Math.sqrt(x*x-1);S=$=>{const P=Math.exp(-x*v*$),E=Math.min(C*$,300);return o-P*((b+x*v*y)*Math.sinh(E)+C*y*Math.cosh(E))/C}}const N={calculatedDuration:p&&f||null,next:C=>{const $=S(C);if(p)l.done=C>=f;else{let P=0;x<1&&(P=C===0?qo(b):g9(S,C,$));const E=Math.abs(P)<=r,M=Math.abs(o-$)<=s;l.done=E&&M}return l.value=l.done?o:$,l},toString:()=>{const C=Math.min(O8(N),r3),$=L8(P=>N.next(C*P).value,C,30);return C+"ms "+$}};return N}function gI({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,b=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let x=n*t;const y=f+x,v=o===void 0?y:o(y);v!==y&&(x=v-f);const j=E=>-x*Math.exp(-E/r),S=E=>v+j(E),N=E=>{const M=j(E),k=S(E);h.done=Math.abs(M)<=u,h.value=h.done?v:k};let C,$;const P=E=>{p(h.value)&&(C=E,$=b9({keyframes:[h.value,b(h.value)],velocity:g9(S,E,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:E=>{let M=!1;return!$&&C===void 0&&(M=!0,N(E),P(E)),C!==void 0&&E>=C?$.next(E-C):(!M&&N(E),h)}}}const ofe=m0(.42,0,1,1),lfe=m0(0,0,.58,1),x9=m0(.42,0,.58,1),cfe=e=>Array.isArray(e)&&typeof e[0]!="number",ufe={linear:fa,easeIn:ofe,easeInOut:x9,easeOut:lfe,circIn:H4,circInOut:J8,circOut:Z8,backIn:K4,backInOut:Y8,backOut:G8,anticipate:X8},bI=e=>{if(B4(e)){p8(e.length===4);const[t,n,r,s]=e;return m0(t,n,r,s)}else if(typeof e=="string")return ufe[e];return e};function dfe(e,t,n){const r=[],s=n||p9,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||fa:t;l=p0(c,l)}r.push(l)}return r}function ffe(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(p8(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=dfe(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=eh(e[f],e[f+1],d);return l[f](h)};return n?d=>u(tl(e[0],e[a-1],d)):u}function hfe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=eh(0,t,r);e.push(Gn(n,1,s))}}function mfe(e){const t=[0];return hfe(t,e.length-1),t}function pfe(e,t){return e.map(n=>n*t)}function gfe(e,t){return e.map(()=>t||x9).splice(0,e.length-1)}function Ly({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=cfe(r)?r.map(bI):bI(r),a={done:!1,value:t[0]},o=pfe(n&&n.length===t.length?n:mfe(t),e),l=ffe(o,t,{ease:Array.isArray(s)?s:gfe(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const bfe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>In.update(t,!0),stop:()=>Nc(t),now:()=>zr.isProcessing?zr.timestamp:qi.now()}},xfe={decay:gI,inertia:gI,tween:Ly,keyframes:Ly,spring:b9},yfe=e=>e/100;class J4 extends h9{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||X4,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=R4(n)?n:xfe[n]||Ly;let c,u;l!==Ly&&typeof t[0]!="number"&&(c=p0(yfe,p9(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=O8(d));const{calculatedDuration:f}=d,h=f+s,p=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:b,repeatDelay:x,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),j=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,N=a;if(p){const E=Math.min(this.currentTime,d)/f;let M=Math.floor(E),k=E%1;!k&&E>=1&&(k=1),k===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(b==="reverse"?(k=1-k,x&&(k-=x/f)):b==="mirror"&&(N=o)),S=tl(0,1,k)*f}const C=j?{done:!1,value:c[0]}:N.next(S);l&&(C.value=l(C.value));let{done:$}=C;!j&&u!==null&&($=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return P&&s!==void 0&&(C.value=T1(c,this.options,s)),y&&y(C.value),P&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Go(t.calculatedDuration):0}get time(){return Go(this.currentTime)}set time(t){t=qo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Go(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=bfe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const vfe=new Set(["opacity","clipPath","filter","transform"]);function wfe(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=F8(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Sfe=j4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_y=10,jfe=2e4;function Cfe(e){return R4(e.type)||e.type==="spring"||!_8(e.ease)}function Nfe(e,t){const n=new J4({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<jfe;)r=n.sample(a),s.push(r.value),a+=_y;return{times:void 0,keyframes:s,duration:a-_y,ease:"linear"}}const y9={anticipate:X8,backInOut:Y8,circInOut:J8};function $fe(e){return e in y9}class xI extends h9{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new f9(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&My()&&$fe(a)&&(a=y9[a]),Cfe(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:b,...x}=this.options,y=Nfe(t,x);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,s=y.times,a=y.ease,o="keyframes"}const d=wfe(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(tI(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(T1(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Go(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Go(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=qo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return fa;const{animation:r}=n;tI(r,t)}return fa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,b=new J4({...p,keyframes:r,duration:s,type:a,ease:o,times:l,isGenerator:!0}),x=qo(this.time);u.setWithVelocity(b.sample(x-_y).value,b.sample(x).value,_y)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Sfe()&&r&&vfe.has(r)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Efe={type:"spring",stiffness:500,damping:25,restSpeed:10},Afe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pfe={type:"keyframes",duration:.8},Dfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kfe=(e,{keyframes:t})=>t.length>2?Pfe:Sd.has(e)?e.startsWith("scale")?Afe(t[1]):Efe:Dfe;function Ife({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Q4=(e,t,n,r={},s,a)=>o=>{const l=F4(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-qo(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Ife(l)||(d={...d,...kfe(e,d)}),d.duration&&(d.duration=qo(d.duration)),d.repeatDelay&&(d.repeatDelay=qo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=T1(d.keyframes,l);if(h!==void 0)return In.update(()=>{d.onUpdate(h),d.onComplete()}),new Zue([])}return!a&&xI.supports(d)?new xI(d):new J4(d)};function Tfe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function v9(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),p=c[f];if(p===void 0||d&&Tfe(d,f))continue;const b={delay:n,...F4(o||{},f)};let x=!1;if(window.MotionHandoffAnimation){const v=U8(e);if(v){const j=window.MotionHandoffAnimation(v,f,In);j!==null&&(b.startTime=j,x=!0)}}a3(e,f),h.start(Q4(f,h,p,e.shouldReduceMotion&&V8.has(f)?{type:!1}:b,e,x));const y=h.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{In.update(()=>{l&&dde(e,l)})}),u}function f3(e,t,n={}){var r;const s=I1(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(v9(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return Mfe(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function Mfe(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Ofe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(f3(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Ofe(e,t){return e.sortNodePosition(t)}function Lfe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>f3(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=f3(e,t,n);else{const s=typeof t=="function"?I1(e,t,n.custom):t;r=Promise.all(v9(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const _fe=$4.length;function w9(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?w9(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_fe;n++){const r=$4[n],s=e.props[r];(ug(s)||s===!1)&&(t[r]=s)}return t}const Ffe=[...N4].reverse(),Rfe=N4.length;function Bfe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Lfe(e,n,r)))}function zfe(e){let t=Bfe(e),n=yI(),r=!0;const s=c=>(u,d)=>{var f;const h=I1(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:b,...x}=h;u={...u,...x,...b}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=w9(e.parent)||{},f=[],h=new Set;let p={},b=1/0;for(let y=0;y<Rfe;y++){const v=Ffe[y],j=n[v],S=u[v]!==void 0?u[v]:d[v],N=ug(S),C=v===c?j.isActive:null;C===!1&&(b=y);let $=S===d[v]&&S!==u[v]&&N;if($&&r&&e.manuallyAnimateOnMount&&($=!1),j.protectedKeys={...p},!j.isActive&&C===null||!S&&!j.prevProp||D1(S)||typeof S=="boolean")continue;const P=Vfe(j.prevProp,S);let E=P||v===c&&j.isActive&&!$&&N||y>b&&N,M=!1;const k=Array.isArray(S)?S:[S];let A=k.reduce(s(v),{});C===!1&&(A={});const{prevResolvedValues:I={}}=j,L={...I,...A},R=O=>{E=!0,h.has(O)&&(M=!0,h.delete(O)),j.needsAnimating[O]=!0;const _=e.getValue(O);_&&(_.liveStyle=!1)};for(const O in L){const _=A[O],W=I[O];if(p.hasOwnProperty(O))continue;let z=!1;n3(_)&&n3(W)?z=!M8(_,W):z=_!==W,z?_!=null?R(O):h.add(O):_!==void 0&&h.has(O)?R(O):j.protectedKeys[O]=!0}j.prevProp=S,j.prevResolvedValues=A,j.isActive&&(p={...p,...A}),r&&e.blockInitialAnimation&&(E=!1),E&&(!($&&P)||M)&&f.push(...k.map(O=>({animation:O,options:{type:v}})))}if(h.size){const y={};h.forEach(v=>{const j=e.getBaseTarget(v),S=e.getValue(v);S&&(S.liveStyle=!0),y[v]=j??null}),f.push({animation:y})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=yI(),r=!0}}}function Vfe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!M8(t,e):!1}function gu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yI(){return{animate:gu(!0),whileInView:gu(),whileHover:gu(),whileTap:gu(),whileDrag:gu(),whileFocus:gu(),exit:gu()}}class Rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Wfe extends Rc{constructor(t){super(t),t.animationState||(t.animationState=zfe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();D1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Ufe=0;class Kfe extends Rc{constructor(){super(...arguments),this.id=Ufe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Hfe={animation:{Feature:Wfe},exit:{Feature:Kfe}};function mg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function g0(e){return{point:{x:e.pageX,y:e.pageY}}}const qfe=e=>t=>z4(t)&&e(t,g0(t));function Mp(e,t,n,r){return mg(e,t,qfe(n),r)}const vI=(e,t)=>Math.abs(e-t);function Gfe(e,t){const n=vI(e.x,t.x),r=vI(e.y,t.y);return Math.sqrt(n**2+r**2)}class S9{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nj(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Gfe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:b}=f,{timestamp:x}=zr;this.history.push({...b,timestamp:x});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=tj(h,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nj(f.type==="pointercancel"?this.lastMoveEventInfo:tj(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),b&&b(f,y)},!z4(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=g0(t),l=tj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=zr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,nj(l,this.history)),this.removeListeners=p0(Mp(this.contextWindow,"pointermove",this.handlePointerMove),Mp(this.contextWindow,"pointerup",this.handlePointerUp),Mp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function tj(e,t){return t?{point:t(e.point)}:e}function wI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nj({point:e},t){return{point:e,delta:wI(e,j9(t)),offset:wI(e,Yfe(t)),velocity:Xfe(t,.1)}}function Yfe(e){return e[0]}function j9(e){return e[e.length-1]}function Xfe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=j9(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>qo(t)));)n--;if(!r)return{x:0,y:0};const a=Go(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const C9=1e-4,Zfe=1-C9,Jfe=1+C9,N9=.01,Qfe=0-N9,ehe=0+N9;function ba(e){return e.max-e.min}function the(e,t,n){return Math.abs(e-t)<=n}function SI(e,t,n,r=.5){e.origin=r,e.originPoint=Gn(t.min,t.max,e.origin),e.scale=ba(n)/ba(t),e.translate=Gn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Zfe&&e.scale<=Jfe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Qfe&&e.translate<=ehe||isNaN(e.translate))&&(e.translate=0)}function Op(e,t,n,r){SI(e.x,t.x,n.x,r?r.originX:void 0),SI(e.y,t.y,n.y,r?r.originY:void 0)}function jI(e,t,n){e.min=n.min+t.min,e.max=e.min+ba(t)}function nhe(e,t,n){jI(e.x,t.x,n.x),jI(e.y,t.y,n.y)}function CI(e,t,n){e.min=t.min-n.min,e.max=e.min+ba(t)}function Lp(e,t,n){CI(e.x,t.x,n.x),CI(e.y,t.y,n.y)}function rhe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Gn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Gn(n,e,r.max):Math.min(e,n)),e}function NI(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function she(e,{top:t,left:n,bottom:r,right:s}){return{x:NI(e.x,n,s),y:NI(e.y,t,r)}}function $I(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ahe(e,t){return{x:$I(e.x,t.x),y:$I(e.y,t.y)}}function ihe(e,t){let n=.5;const r=ba(e),s=ba(t);return s>r?n=eh(t.min,t.max-r,e.min):r>s&&(n=eh(e.min,e.max-s,t.min)),tl(0,1,n)}function ohe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const h3=.35;function lhe(e=h3){return e===!1?e=0:e===!0&&(e=h3),{x:EI(e,"left","right"),y:EI(e,"top","bottom")}}function EI(e,t,n){return{min:AI(e,t),max:AI(e,n)}}function AI(e,t){return typeof e=="number"?e:e[t]||0}const PI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tf=()=>({x:PI(),y:PI()}),DI=()=>({min:0,max:0}),ar=()=>({x:DI(),y:DI()});function Oa(e){return[e("x"),e("y")]}function $9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function che({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rj(e){return e===void 0||e===1}function m3({scale:e,scaleX:t,scaleY:n}){return!rj(e)||!rj(t)||!rj(n)}function Eu(e){return m3(e)||E9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function E9(e){return kI(e.x)||kI(e.y)}function kI(e){return e&&e!=="0%"}function Fy(e,t,n){const r=e-n,s=t*r;return n+s}function II(e,t,n,r,s){return s!==void 0&&(e=Fy(e,s,r)),Fy(e,n,r)+t}function p3(e,t=0,n=1,r,s){e.min=II(e.min,t,n,r,s),e.max=II(e.max,t,n,r,s)}function A9(e,{x:t,y:n}){p3(e.x,t.translate,t.scale,t.originPoint),p3(e.y,n.translate,n.scale,n.originPoint)}const TI=.999999999999,MI=1.0000000000001;function dhe(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Of(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,A9(e,o)),r&&Eu(a.latestValues)&&Of(e,a.latestValues))}t.x<MI&&t.x>TI&&(t.x=1),t.y<MI&&t.y>TI&&(t.y=1)}function Mf(e,t){e.min=e.min+t,e.max=e.max+t}function OI(e,t,n,r,s=.5){const a=Gn(e.min,e.max,s);p3(e,t,n,a,r)}function Of(e,t){OI(e.x,t.x,t.scaleX,t.scale,t.originX),OI(e.y,t.y,t.scaleY,t.scale,t.originY)}function P9(e,t){return $9(uhe(e.getBoundingClientRect(),t))}function fhe(e,t,n){const r=P9(e,n),{scroll:s}=t;return s&&(Mf(r.x,s.offset.x),Mf(r.y,s.offset.y)),r}const D9=({current:e})=>e?e.ownerDocument.defaultView:null,hhe=new WeakMap;class mhe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ar(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(g0(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:b}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ide(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oa(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Hi.test(v)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[y];S&&(v=ba(S)*(parseFloat(v)/100))}}this.originPoint[y]=v}),b&&In.postRender(()=>b(d,f)),a3(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:b,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=phe(y),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Oa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new S9(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:D9(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&In.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!sx(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=rhe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&kf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=she(s.layoutBox,n):this.constraints=!1,this.elastic=lhe(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Oa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ohe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kf(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=fhe(r,s.root,this.visualElement.getTransformPagePoint());let o=ahe(s.layout.layoutBox,a);if(n){const l=n(che(o));this.hasMutatedConstraints=!!l,l&&(o=$9(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Oa(d=>{if(!sx(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return a3(this.visualElement,t),r.start(Q4(t,r,0,n,this.visualElement,!1))}stopAnimation(){Oa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Oa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Oa(n=>{const{drag:r}=this.getProps();if(!sx(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-Gn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Oa(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=ihe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oa(o=>{if(!sx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Gn(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;hhe.set(this.visualElement,this);const t=this.visualElement.current,n=Mp(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();kf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),In.read(r);const o=mg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Oa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=h3,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function sx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function phe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ghe extends Rc{constructor(t){super(t),this.removeGroupControls=fa,this.removeListeners=fa,this.controls=new mhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const LI=e=>(t,n)=>{e&&In.postRender(()=>e(t,n))};class bhe extends Rc{constructor(){super(...arguments),this.removePointerDownListener=fa}onPointerDown(t){this.session=new S9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LI(t),onStart:LI(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&In.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Mp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _I(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Im={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xt.test(e))e=parseFloat(e);else return e;const n=_I(e,t.target.x),r=_I(e,t.target.y);return`${n}% ${r}%`}},xhe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ac.parse(e);if(s.length>5)return r;const a=Ac.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Gn(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class yhe extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;Fue(vhe),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||In.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k9(e){const[t,n]=m8(),r=m.useContext(cg);return i.jsx(yhe,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(w8),isPresent:t,safeToRemove:n})}const vhe={borderRadius:{...Im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Im,borderTopRightRadius:Im,borderBottomLeftRadius:Im,borderBottomRightRadius:Im,boxShadow:xhe};function whe(e,t,n){const r=ns(e)?e:fg(e);return r.start(Q4("",r,t,n)),r.animation}function She(e){return e instanceof SVGElement&&e.tagName!=="svg"}const jhe=(e,t)=>e.depth-t.depth;class Che{constructor(){this.children=[],this.isDirty=!1}add(t){V4(this.children,t),this.isDirty=!0}remove(t){W4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jhe),this.isDirty=!1,this.children.forEach(t)}}function Nhe(e,t){const n=qi.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Nc(r),e(a-t))};return In.read(r,!0),()=>Nc(r)}const I9=["TopLeft","TopRight","BottomLeft","BottomRight"],$he=I9.length,FI=e=>typeof e=="string"?parseFloat(e):e,RI=e=>typeof e=="number"||xt.test(e);function Ehe(e,t,n,r,s,a){s?(e.opacity=Gn(0,n.opacity!==void 0?n.opacity:1,Ahe(r)),e.opacityExit=Gn(t.opacity!==void 0?t.opacity:1,0,Phe(r))):a&&(e.opacity=Gn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$he;o++){const l=`border${I9[o]}Radius`;let c=BI(t,l),u=BI(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||RI(c)===RI(u)?(e[l]=Math.max(Gn(FI(c),FI(u),r),0),(Hi.test(u)||Hi.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Gn(t.rotate||0,n.rotate||0,r))}function BI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ahe=T9(0,.5,Z8),Phe=T9(.5,.95,fa);function T9(e,t,n){return r=>r<e?0:r>t?1:n(eh(e,t,r))}function zI(e,t){e.min=t.min,e.max=t.max}function Da(e,t){zI(e.x,t.x),zI(e.y,t.y)}function VI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function WI(e,t,n,r,s){return e-=t,e=Fy(e,1/n,r),s!==void 0&&(e=Fy(e,1/s,r)),e}function Dhe(e,t=0,n=1,r=.5,s,a=e,o=e){if(Hi.test(t)&&(t=parseFloat(t),t=Gn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Gn(a.min,a.max,r);e===a&&(l-=t),e.min=WI(e.min,t,n,l,s),e.max=WI(e.max,t,n,l,s)}function UI(e,t,[n,r,s],a,o){Dhe(e,t[n],t[r],t[s],t.scale,a,o)}const khe=["x","scaleX","originX"],Ihe=["y","scaleY","originY"];function KI(e,t,n,r){UI(e.x,t,khe,n?n.x:void 0,r?r.x:void 0),UI(e.y,t,Ihe,n?n.y:void 0,r?r.y:void 0)}function HI(e){return e.translate===0&&e.scale===1}function M9(e){return HI(e.x)&&HI(e.y)}function qI(e,t){return e.min===t.min&&e.max===t.max}function The(e,t){return qI(e.x,t.x)&&qI(e.y,t.y)}function GI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O9(e,t){return GI(e.x,t.x)&&GI(e.y,t.y)}function YI(e){return ba(e.x)/ba(e.y)}function XI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Mhe{constructor(){this.members=[]}add(t){V4(this.members,t),t.scheduleRender()}remove(t){if(W4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ohe(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Au={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wp=typeof window<"u"&&window.MotionDebug!==void 0,sj=["","X","Y","Z"],Lhe={visibility:"hidden"},ZI=1e3;let _he=0;function aj(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function L9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=U8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",In,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&L9(r)}function _9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=_he++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wp&&(Au.totalNodes=Au.resolvedTargetDeltas=Au.recalculatedProjection=0),this.nodes.forEach(Bhe),this.nodes.forEach(Khe),this.nodes.forEach(Hhe),this.nodes.forEach(zhe),wp&&window.MotionDebug.record(Au)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Che)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new U4),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=She(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Nhe(h,250),uy.hasAnimatedSinceResize&&(uy.hasAnimatedSinceResize=!1,this.nodes.forEach(QI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Zhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),j=!this.targetLayout||!O9(this.targetLayout,b)||p,S=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const N={...F4(x,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||QI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JI);return}this.isUpdating||this.nodes.forEach(Whe),this.isUpdating=!1,this.nodes.forEach(Uhe),this.nodes.forEach(Fhe),this.nodes.forEach(Rhe),this.clearAllSnapshots();const l=qi.now();zr.delta=tl(0,1e3/60,l-zr.timestamp),zr.timestamp=l,zr.isProcessing=!0,YS.update.process(zr),YS.preRender.process(zr),YS.render.process(zr),zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vhe),this.sharedNodes.forEach(Ghe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!M9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Eu(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Jhe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ar();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Qhe))){const{scroll:d}=this.root;d&&(Mf(c.x,d.offset.x),Mf(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ar();if(Da(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Da(c,o),Mf(c.x,f.offset.x),Mf(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=ar();Da(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Of(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Eu(d.latestValues)&&Of(c,d.latestValues)}return Eu(this.latestValues)&&Of(c,this.latestValues),c}removeTransform(o){const l=ar();Da(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Eu(u.latestValues))continue;m3(u.latestValues)&&u.updateSnapshot();const d=ar(),f=u.measurePageBox();Da(d,f),KI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Eu(this.latestValues)&&KI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=zr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),Lp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ar(),this.targetWithTransforms=ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nhe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),A9(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ar(),this.relativeTargetOrigin=ar(),Lp(this.relativeTargetOrigin,this.target,p.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wp&&Au.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||m3(this.parent.latestValues)||E9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;dhe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ar());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VI(this.prevProjectionDelta.x,this.projectionDelta.x),VI(this.prevProjectionDelta.y,this.projectionDelta.y)),Op(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!XI(this.projectionDelta.x,this.prevProjectionDelta.x)||!XI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),wp&&Au.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tf(),this.projectionDelta=Tf(),this.projectionDeltaWithTransform=Tf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Tf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ar(),p=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=p!==b,y=this.getStack(),v=!y||y.members.length<=1,j=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(Xhe));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const C=N/1e3;eT(f.x,o.x,C),eT(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yhe(this.relativeTarget,this.relativeTargetOrigin,h,C),S&&The(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ar()),Da(S,this.relativeTarget)),x&&(this.animationValues=d,Ehe(d,u,this.latestValues,C,j,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{uy.hasAnimatedSinceResize=!0,this.currentAnimation=whe(0,ZI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&F9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ar();const f=ba(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ba(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Da(l,c),Of(l,d),Op(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mhe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&aj("z",o,u,this.animationValues);for(let d=0;d<sj.length;d++)aj(`rotate${sj[d]}`,o,u,this.animationValues),aj(`skew${sj[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lhe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ly(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=ly(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Eu(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Ohe(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:b}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Ty){if(h[x]===void 0)continue;const{correct:y,applyTo:v}=Ty[x],j=u.transform==="none"?h[x]:y(h[x],f);if(v){const S=v.length;for(let N=0;N<S;N++)u[v[N]]=j}else u[x]=j}return this.options.layoutId&&(u.pointerEvents=f===this?ly(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(JI),this.root.sharedNodes.clear()}}}function Fhe(e){e.updateLayout()}function Rhe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Oa(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=ba(h);h.min=r[f].min,h.max=h.min+p}):F9(a,n.layoutBox,r)&&Oa(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=ba(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Tf();Op(l,r,n.layoutBox);const c=Tf();o?Op(c,e.applyTransform(s,!0),n.measuredBox):Op(c,r,n.layoutBox);const u=!M9(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const b=ar();Lp(b,n.layoutBox,h.layoutBox);const x=ar();Lp(x,r,p.layoutBox),O9(b,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Bhe(e){wp&&Au.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zhe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Vhe(e){e.clearSnapshot()}function JI(e){e.clearMeasurements()}function Whe(e){e.isLayoutDirty=!1}function Uhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Khe(e){e.resolveTargetDelta()}function Hhe(e){e.calcProjection()}function qhe(e){e.resetSkewAndRotation()}function Ghe(e){e.removeLeadSnapshot()}function eT(e,t,n){e.translate=Gn(t.translate,0,n),e.scale=Gn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tT(e,t,n,r){e.min=Gn(t.min,n.min,r),e.max=Gn(t.max,n.max,r)}function Yhe(e,t,n,r){tT(e.x,t.x,n.x,r),tT(e.y,t.y,n.y,r)}function Xhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zhe={duration:.45,ease:[.4,0,.1,1]},nT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rT=nT("applewebkit/")&&!nT("chrome/")?Math.round:fa;function sT(e){e.min=rT(e.min),e.max=rT(e.max)}function Jhe(e){sT(e.x),sT(e.y)}function F9(e,t,n){return e==="position"||e==="preserve-aspect"&&!the(YI(t),YI(n),.2)}function Qhe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const eme=_9({attachResizeListener:(e,t)=>mg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ij={current:void 0},R9=_9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ij.current){const e=new eme({});e.mount(window),e.setOptions({layoutScroll:!0}),ij.current=e}return ij.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tme={pan:{Feature:bhe},drag:{Feature:ghe,ProjectionNode:R9,MeasureLayout:k9}};function aT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&In.postRender(()=>a(t,g0(t)))}class nme extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=tde(t,n=>(aT(this.node,n,"Start"),r=>aT(this.node,r,"End"))))}unmount(){}}class rme extends Rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=p0(mg(this.node.current,"focus",()=>this.onFocus()),mg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iT(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&In.postRender(()=>a(t,g0(t)))}class sme extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=ade(t,n=>(iT(this.node,n,"Start"),(r,{success:s})=>iT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g3=new WeakMap,oj=new WeakMap,ame=e=>{const t=g3.get(e.target);t&&t(e)},ime=e=>{e.forEach(ame)};function ome({root:e,...t}){const n=e||document;oj.has(n)||oj.set(n,{});const r=oj.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ime,{root:e,...t})),r[s]}function lme(e,t,n){const r=ome(t);return g3.set(e,n),r.observe(e),()=>{g3.delete(e),r.unobserve(e)}}const cme={some:0,all:1};class ume extends Rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:cme[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return lme(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dme(t,n))&&this.startObserver()}unmount(){}}function dme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fme={inView:{Feature:ume},tap:{Feature:sme},focus:{Feature:rme},hover:{Feature:nme}},hme={layout:{ProjectionNode:R9,MeasureLayout:k9}},b3={current:null},B9={current:!1};function mme(){if(B9.current=!0,!!w4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>b3.current=e.matches;e.addListener(t),t()}else b3.current=!1}const pme=[...d9,Xr,Ac],gme=e=>pme.find(u9(e)),oT=new WeakMap;function bme(e,t,n){for(const r in t){const s=t[r],a=n[r];if(ns(s))e.addValue(r,s);else if(ns(a))e.addValue(r,fg(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,fg(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xme{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=X4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=qi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,In.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=k1(n),this.isVariantNode=y8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const b=h[p];c[p]!==void 0&&ns(b)&&b.set(c[p],!1)}}mount(t){this.current=t,oT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),B9.current||mme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oT.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Sd.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&In.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in th){const n=th[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ar()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lT.length;r++){const s=lT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=bme(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fg(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(l9(s)||Q8(s))?s=parseFloat(s):!gme(s)&&Ac.test(n)&&(s=a9(t,n)),this.setBaseTarget(t,ns(s)?s.get():s)),ns(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=D4(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ns(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new U4),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class z9 extends xme{constructor(){super(...arguments),this.KeyframeResolver=f9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ns(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yme(e){return window.getComputedStyle(e)}class vme extends z9{constructor(){super(...arguments),this.type="html",this.renderInstance=A8}readValueFromInstance(t,n){if(Sd.has(n)){const r=Y4(n);return r&&r.default||0}else{const r=yme(t),s=(N8(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return P9(t,n)}build(t,n,r){T4(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return _4(t,n,r)}}class wme extends z9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ar}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Sd.has(n)){const r=Y4(n);return r&&r.default||0}return n=P8.has(n)?n:E4(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return I8(t,n,r)}build(t,n,r){M4(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){D8(t,n,r,s)}mount(t){this.isSVGTag=L4(t.tagName),super.mount(t)}}const Sme=(e,t)=>P4(e)?new wme(t):new vme(t,{allowProjection:e!==m.Fragment}),jme={renderer:Sme,...Hfe,...fme},Cme={...jme,...tme,...hme};function e$(e){return m.forwardRef(e)}var V9=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((s,a)=>a in e?{...s,[a]:e[a]}:s,{});return n?[Object.keys(e).filter(a=>!t.includes(a)).reduce((a,o)=>({...a,[o]:e[o]}),{}),r]:[e,r]},ax=["small","medium","large"],cT={theme:{opacity:["disabled"],spacing:["divider"],borderWidth:ax,borderRadius:ax},classGroups:{shadow:[{shadow:ax}],"font-size":[{text:["tiny",...ax]}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"]}},uT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,na=e=>!e||typeof e!="object"||Object.keys(e).length===0,Nme=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function W9(e,t){e.forEach(function(n){Array.isArray(n)?W9(n,t):t.push(n)})}function U9(e){let t=[];return W9(e,t),t}var K9=(...e)=>U9(e).filter(Boolean),H9=(e,t)=>{let n={},r=Object.keys(e),s=Object.keys(t);for(let a of r)if(s.includes(a)){let o=e[a],l=t[a];typeof o=="object"&&typeof l=="object"?n[a]=H9(o,l):Array.isArray(o)||Array.isArray(l)?n[a]=K9(l,o):n[a]=l+" "+o}else n[a]=e[a];for(let a of s)r.includes(a)||(n[a]=t[a]);return n},dT=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function $me(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=q9(t))&&(r&&(r+=" "),r+=n);return r}function q9(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=q9(e[r]))&&(n&&(n+=" "),n+=t);return n}var t$="-";function Eme(e){var t=Pme(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(t$);return c[0]===""&&c.length!==1&&c.shift(),G9(c,t)||Ame(l)}function o(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function G9(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?G9(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(t$);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var fT=/^\[(.+)\]$/;function Ame(e){if(fT.test(e)){var t=fT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Pme(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=kme(Object.entries(e.classGroups),n);return s.forEach(function(a){var o=a[0],l=a[1];x3(l,r,o,t)}),r}function x3(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:hT(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Dme(s)){x3(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];x3(c,hT(t,l),n,r)})})}function hT(e,t){var n=e;return t.split(t$).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Dme(e){return e.isThemeGetter}function kme(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,a]}):e}function Ime(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,o){n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):s(o,l)}}}var Y9="!";function Tme(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,d,f=0;f<o.length;f++){var h=o[f];if(c===0){if(h===r&&(n||o.slice(f,f+s)===t)){l.push(o.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?o:o.substring(u),b=p.startsWith(Y9),x=b?p.substring(1):p,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:y}}}function Mme(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Ome(e){return{cache:Ime(e.cacheSize),splitModifiers:Tme(e),...Eme(e)}}var Lme=/\s+/;function _me(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Lme).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:o};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:o};p=!1}var b=Mme(c).join(":"),x=u?b+Y9:b;return{isTailwindClass:!0,modifierId:x,classGroupId:h,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return a.has(d)?!1:(a.add(d),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function y3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,o=l;function l(u){var d=t[0],f=t.slice(1),h=f.reduce(function(p,b){return b(p)},d());return r=Ome(h),s=r.cache.get,a=r.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=_me(u,r);return a(u,f),f}return function(){return o($me.apply(null,arguments))}}function Ln(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var X9=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fme=/^\d+\/\d+$/,Rme=new Set(["px","full","screen"]),Bme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zme=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vme=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function oi(e){return Uu(e)||Rme.has(e)||Fme.test(e)||v3(e)}function v3(e){return jd(e,"length",Gme)}function Wme(e){return jd(e,"size",Z9)}function Ume(e){return jd(e,"position",Z9)}function Kme(e){return jd(e,"url",Yme)}function ix(e){return jd(e,"number",Uu)}function Uu(e){return!Number.isNaN(Number(e))}function Hme(e){return e.endsWith("%")&&Uu(e.slice(0,-1))}function Tm(e){return mT(e)||jd(e,"number",mT)}function Ut(e){return X9.test(e)}function Mm(){return!0}function Fl(e){return Bme.test(e)}function qme(e){return jd(e,"",Xme)}function jd(e,t,n){var r=X9.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Gme(e){return zme.test(e)}function Z9(){return!1}function Yme(e){return e.startsWith("url(")}function mT(e){return Number.isInteger(Number(e))}function Xme(e){return Vme.test(e)}function w3(){var e=Ln("colors"),t=Ln("spacing"),n=Ln("blur"),r=Ln("brightness"),s=Ln("borderColor"),a=Ln("borderRadius"),o=Ln("borderSpacing"),l=Ln("borderWidth"),c=Ln("contrast"),u=Ln("grayscale"),d=Ln("hueRotate"),f=Ln("invert"),h=Ln("gap"),p=Ln("gradientColorStops"),b=Ln("gradientColorStopPositions"),x=Ln("inset"),y=Ln("margin"),v=Ln("opacity"),j=Ln("padding"),S=Ln("saturate"),N=Ln("scale"),C=Ln("sepia"),$=Ln("skew"),P=Ln("space"),E=Ln("translate"),M=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},A=function(){return["auto",Ut,t]},I=function(){return[Ut,t]},L=function(){return["",oi]},R=function(){return["auto",Uu,Ut]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},T=function(){return["solid","dashed","dotted","double","none"]},O=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},_=function(){return["start","end","center","between","around","evenly","stretch"]},W=function(){return["","0",Ut]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},U=function(){return[Uu,ix]},H=function(){return[Uu,Ut]};return{cacheSize:500,theme:{colors:[Mm],spacing:[oi],blur:["none","",Fl,Ut],brightness:U(),borderColor:[e],borderRadius:["none","","full",Fl,Ut],borderSpacing:I(),borderWidth:L(),contrast:U(),grayscale:W(),hueRotate:H(),invert:W(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Hme,v3],inset:A(),margin:A(),opacity:U(),padding:I(),saturate:U(),scale:U(),sepia:W(),skew:H(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[Fl]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[Ut])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tm]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Tm]}],"grid-cols":[{"grid-cols":[Mm]}],"col-start-end":[{col:["auto",{span:["full",Tm]},Ut]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Mm]}],"row-start-end":[{row:["auto",{span:[Tm]},Ut]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(_())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(_(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(_(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ut,t]}],"min-w":[{"min-w":["min","max","fit",Ut,oi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Fl]},Fl,Ut]}],h:[{h:[Ut,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ut,oi]}],"max-h":[{"max-h":[Ut,t,"min","max","fit"]}],"font-size":[{text:["base",Fl,v3]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ix]}],"font-family":[{font:[Mm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",Uu,ix]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,oi]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(T(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",oi]}],"underline-offset":[{"underline-offset":["auto",Ut,oi]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[Ume])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wme]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(T(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(T())}],"outline-offset":[{"outline-offset":[Ut,oi]}],"outline-w":[{outline:[oi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[oi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fl,qme]}],"shadow-color":[{shadow:[Mm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fl,Ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Tm,Ut]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oi,ix]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Zme(e,t){for(var n in t)J9(e,n,t[n]);return e}var Jme=Object.prototype.hasOwnProperty,Qme=new Set(["string","number","boolean"]);function J9(e,t,n){if(!Jme.call(e,t)||Qme.has(typeof n)||n===null){e[t]=n;return}if(Array.isArray(n)&&Array.isArray(e[t])){e[t]=e[t].concat(n);return}if(typeof n=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=n;return}for(var r in n)J9(e[t],r,n[r])}}function epe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof e=="function"?y3.apply(void 0,[w3,e].concat(n)):y3.apply(void 0,[function(){return Zme(w3(),e)}].concat(n))}var tpe=y3(w3),npe={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Q9=e=>e||void 0,pg=(...e)=>Q9(U9(e).filter(Boolean).join(" ")),lj=null,Ry={},S3=!1,Om=(...e)=>t=>t.twMerge?((!lj||S3)&&(S3=!1,lj=na(Ry)?tpe:epe(Ry)),Q9(lj(pg(e)))):pg(e),pT=(e,t)=>{for(let n in t)e.hasOwnProperty(n)?e[n]=pg(e[n],t[n]):e[n]=t[n];return e},rpe=(e,t)=>{let{extend:n=null,slots:r={},variants:s={},compoundVariants:a=[],compoundSlots:o=[],defaultVariants:l={}}=e,c={...npe,...t},u=n!=null&&n.base?pg(n.base,e==null?void 0:e.base):e==null?void 0:e.base,d=n!=null&&n.variants&&!na(n.variants)?H9(s,n.variants):s,f=n!=null&&n.defaultVariants&&!na(n.defaultVariants)?{...n.defaultVariants,...l}:l;!na(c.twMergeConfig)&&!Nme(c.twMergeConfig,Ry)&&(S3=!0,Ry=c.twMergeConfig);let h=na(n==null?void 0:n.slots),p=na(r)?{}:{base:pg(e==null?void 0:e.base,h&&(n==null?void 0:n.base)),...r},b=h?p:pT({...n==null?void 0:n.slots},na(p)?{base:e==null?void 0:e.base}:p),x=v=>{if(na(d)&&na(r)&&h)return Om(u,v==null?void 0:v.class,v==null?void 0:v.className)(c);if(a&&!Array.isArray(a))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof a}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let j=(I,L,R=[],F)=>{let T=R;if(typeof L=="string")T=T.concat(dT(L).split(" ").map(O=>`${I}:${O}`));else if(Array.isArray(L))T=T.concat(L.reduce((O,_)=>O.concat(`${I}:${_}`),[]));else if(typeof L=="object"&&typeof F=="string"){for(let O in L)if(L.hasOwnProperty(O)&&O===F){let _=L[O];if(_&&typeof _=="string"){let W=dT(_);T[F]?T[F]=T[F].concat(W.split(" ").map(z=>`${I}:${z}`)):T[F]=W.split(" ").map(z=>`${I}:${z}`)}else Array.isArray(_)&&_.length>0&&(T[F]=_.reduce((W,z)=>W.concat(`${I}:${z}`),[]))}}return T},S=(I,L=d,R=null,F=null)=>{var T;let O=L[I];if(!O||na(O))return null;let _=(T=F==null?void 0:F[I])!=null?T:v==null?void 0:v[I];if(_===null)return null;let W=uT(_),z=Array.isArray(c.responsiveVariants)&&c.responsiveVariants.length>0||c.responsiveVariants===!0,U=f==null?void 0:f[I],H=[];if(typeof W=="object"&&z)for(let[Y,ae]of Object.entries(W)){let ce=O[ae];if(Y==="initial"){U=ae;continue}Array.isArray(c.responsiveVariants)&&!c.responsiveVariants.includes(Y)||(H=j(Y,ce,H,R))}let B=O[W]||O[uT(U)];return typeof H=="object"&&typeof R=="string"&&H[R]?pT(H,B):H.length>0?(H.push(B),H):B},N=()=>d?Object.keys(d).map(I=>S(I,d)):null,C=(I,L)=>{if(!d||typeof d!="object")return null;let R=new Array;for(let F in d){let T=S(F,d,I,L),O=I==="base"&&typeof T=="string"?T:T&&T[I];O&&(R[R.length]=O)}return R},$={};for(let I in v)v[I]!==void 0&&($[I]=v[I]);let P=(I,L)=>{var R;let F=typeof(v==null?void 0:v[I])=="object"?{[I]:(R=v[I])==null?void 0:R.initial}:{};return{...f,...$,...F,...L}},E=(I=[],L)=>{let R=[];for(let{class:F,className:T,...O}of I){let _=!0;for(let[W,z]of Object.entries(O)){let U=P(W,L);if(Array.isArray(z)){if(!z.includes(U[W])){_=!1;break}}else if(U[W]!==z){_=!1;break}}_&&(F&&R.push(F),T&&R.push(T))}return R},M=I=>{let L=E(a,I),R=E(n==null?void 0:n.compoundVariants,I);return K9(R,L)},k=I=>{let L=M(I);if(!Array.isArray(L))return L;let R={};for(let F of L)if(typeof F=="string"&&(R.base=Om(R.base,F)(c)),typeof F=="object")for(let[T,O]of Object.entries(F))R[T]=Om(R[T],O)(c);return R},A=I=>{if(o.length<1)return null;let L={};for(let{slots:R=[],class:F,className:T,...O}of o){if(!na(O)){let _=!0;for(let W of Object.keys(O)){let z=P(W,I)[W];if(z===void 0||(Array.isArray(O[W])?!O[W].includes(z):O[W]!==z)){_=!1;break}}if(!_)continue}for(let _ of R)L[_]=L[_]||[],L[_].push([F,T])}return L};if(!na(r)||!h){let I={};if(typeof b=="object"&&!na(b))for(let L of Object.keys(b))I[L]=R=>{var F,T;return Om(b[L],C(L,R),((F=k(R))!=null?F:[])[L],((T=A(R))!=null?T:[])[L],R==null?void 0:R.class,R==null?void 0:R.className)(c)};return I}return Om(u,N(),M(),v==null?void 0:v.class,v==null?void 0:v.className)(c)},y=()=>{if(!(!d||typeof d!="object"))return Object.keys(d)};return x.variantKeys=y(),x.extend=n,x.base=u,x.slots=b,x.variants=d,x.defaultVariants=f,x.compoundSlots=o,x.compoundVariants=a,x},b0=(e,t)=>{var n,r,s;return rpe(e,{...t,twMerge:(n=void 0)!=null?n:!0,twMergeConfig:{theme:{...(r=void 0)==null?void 0:r.theme,...cT.theme},classGroups:{...(s=void 0)==null?void 0:s.classGroups,...cT.classGroups}}})},gT=b0({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),eB=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],spe=["outline-none","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],rf={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},ape={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground"},ipe={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},ope={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},lpe={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},cpe={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},upe={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},dpe={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},Dt={solid:ape,shadow:ipe,bordered:ope,flat:lpe,faded:cpe,light:upe,ghost:dpe},bT=b0({slots:{base:"group flex flex-col data-[hidden=true]:hidden",label:["absolute","z-10","pointer-events-none","origin-top-left","flex-shrink-0","rtl:origin-top-right","subpixel-antialiased","block","text-small","text-foreground-500"],mainWrapper:"h-full",inputWrapper:"relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",innerWrapper:"inline-flex w-full items-center h-full box-border",input:["w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none","data-[has-start-content=true]:ps-1.5","data-[has-end-content=true]:pe-1.5","file:cursor-pointer file:bg-transparent file:border-0","autofill:bg-transparent bg-clip-text"],clearButton:["p-2","-m-2","z-10","absolute","end-3","start-auto","pointer-events-none","appearance-none","outline-none","select-none","opacity-0","hover:!opacity-100","cursor-pointer","active:!opacity-70","rounded-full",...eB],helperWrapper:"hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{inputWrapper:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{inputWrapper:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 focus-within:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{inputWrapper:["border-medium","border-default-200","data-[hover=true]:border-default-400","group-data-[focus=true]:border-default-foreground"]},underlined:{inputWrapper:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","group-data-[focus=true]:after:w-full"],innerWrapper:"pb-1",label:"group-data-[filled-within=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",inputWrapper:"h-8 min-h-8 px-2 rounded-small",input:"text-small",clearButton:"text-medium"},md:{inputWrapper:"h-10 min-h-10 rounded-medium",input:"text-small",clearButton:"text-large"},lg:{label:"text-medium",inputWrapper:"h-12 min-h-12 rounded-large",input:"text-medium",clearButton:"text-large"}},radius:{none:{inputWrapper:"rounded-none"},sm:{inputWrapper:"rounded-small"},md:{inputWrapper:"rounded-medium"},lg:{inputWrapper:"rounded-large"},full:{inputWrapper:"rounded-full"}},labelPlacement:{outside:{mainWrapper:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",inputWrapper:"flex-1",mainWrapper:"flex flex-col",label:"relative text-foreground pe-2 ps-2 pointer-events-auto"},inside:{label:"cursor-text",inputWrapper:"flex-col items-start justify-center gap-0",innerWrapper:"group-data-[has-label=true]:items-end"}},fullWidth:{true:{base:"w-full"},false:{}},isClearable:{true:{input:"peer pe-6 input-search-cancel-button-none",clearButton:["peer-data-[filled=true]:pointer-events-auto","peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block","peer-data-[filled=true]:scale-100"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",inputWrapper:"pointer-events-none",label:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",input:"!placeholder:text-danger !text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",inputWrapper:"!h-auto",innerWrapper:"items-start group-data-[has-label=true]:items-start",input:"resize-none data-[hide-scroll=true]:scrollbar-hide",clearButton:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10"}},disableAnimation:{true:{input:"transition-none",inputWrapper:"transition-none",label:"transition-none"},false:{inputWrapper:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","!duration-200","!ease-out","motion-reduce:transition-none","transition-[transform,color,left,opacity]"],clearButton:["scale-90","ease-out","duration-150","transition-[opacity,transform]","motion-reduce:transition-none","motion-reduce:scale-100"]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,labelPlacement:"inside",isDisabled:!1,isMultiline:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{inputWrapper:["bg-primary-100","data-[hover=true]:bg-primary-50","text-primary","group-data-[focus=true]:bg-primary-50","placeholder:text-primary"],input:"placeholder:text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{inputWrapper:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50","placeholder:text-secondary"],input:"placeholder:text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{inputWrapper:["bg-success-100","text-success-600","dark:text-success","placeholder:text-success-600","dark:placeholder:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],input:"placeholder:text-success-600 dark:placeholder:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{inputWrapper:["bg-warning-100","text-warning-600","dark:text-warning","placeholder:text-warning-600","dark:placeholder:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],input:"placeholder:text-warning-600 dark:placeholder:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{inputWrapper:["bg-danger-100","text-danger","dark:text-danger-500","placeholder:text-danger","dark:placeholder:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],input:"placeholder:text-danger dark:placeholder:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{label:"text-primary",inputWrapper:"data-[hover=true]:border-primary focus-within:border-primary"}},{variant:"faded",color:"secondary",class:{label:"text-secondary",inputWrapper:"data-[hover=true]:border-secondary focus-within:border-secondary"}},{variant:"faded",color:"success",class:{label:"text-success",inputWrapper:"data-[hover=true]:border-success focus-within:border-success"}},{variant:"faded",color:"warning",class:{label:"text-warning",inputWrapper:"data-[hover=true]:border-warning focus-within:border-warning"}},{variant:"faded",color:"danger",class:{label:"text-danger",inputWrapper:"data-[hover=true]:border-danger focus-within:border-danger"}},{variant:"underlined",color:"default",class:{input:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{inputWrapper:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{inputWrapper:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{inputWrapper:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{inputWrapper:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{inputWrapper:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{inputWrapper:"group-data-[focus=true]:border-primary",label:"text-primary"}},{variant:"bordered",color:"secondary",class:{inputWrapper:"group-data-[focus=true]:border-secondary",label:"text-secondary"}},{variant:"bordered",color:"success",class:{inputWrapper:"group-data-[focus=true]:border-success",label:"text-success"}},{variant:"bordered",color:"warning",class:{inputWrapper:"group-data-[focus=true]:border-warning",label:"text-warning"}},{variant:"bordered",color:"danger",class:{inputWrapper:"group-data-[focus=true]:border-danger",label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled-within=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled-within=true]:text-foreground"}},{radius:"full",size:["sm"],class:{inputWrapper:"px-3"}},{radius:"full",size:"md",class:{inputWrapper:"px-4"}},{radius:"full",size:"lg",class:{inputWrapper:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{inputWrapper:[...spe]}},{isInvalid:!0,variant:"flat",class:{inputWrapper:["!bg-danger-50","data-[hover=true]:!bg-danger-100","group-data-[focus=true]:!bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:"!border-danger group-data-[focus=true]:!border-danger"}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:"after:!bg-danger"}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:"h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{inputWrapper:"h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{inputWrapper:"h-16 py-2.5 gap-0"}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:"py-1"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled-within=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled-within=true]:start-0"]}},{labelPlacement:["inside"],class:{label:["group-data-[filled-within=true]:scale-85"]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:"pb-0.5"}},{variant:"underlined",size:"sm",class:{innerWrapper:"pb-1"}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:"pb-1.5"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:["start-3","end-auto","text-small","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:["start-3","end-auto","text-medium","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:"py-2"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:"inside",isMultiline:!0,class:{label:"pb-0.5",input:"pt-0"}},{isMultiline:!0,disableAnimation:!1,class:{input:"transition-height !duration-100 motion-reduce:transition-none"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}},{isMultiline:!0,radius:"full",class:{inputWrapper:"data-[has-multiple-rows=true]:rounded-large"}},{isClearable:!0,isMultiline:!0,class:{clearButton:["group-data-[has-value=true]:opacity-70 group-data-[has-value=true]:block","group-data-[has-value=true]:scale-100","group-data-[has-value=true]:pointer-events-auto"]}}]}),fpe=b0({base:"flex flex-col gap-2 items-start"}),hpe=b0({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","data-[pressed=true]:scale-[0.97]",...eB],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:Dt.solid.default},{variant:"solid",color:"primary",class:Dt.solid.primary},{variant:"solid",color:"secondary",class:Dt.solid.secondary},{variant:"solid",color:"success",class:Dt.solid.success},{variant:"solid",color:"warning",class:Dt.solid.warning},{variant:"solid",color:"danger",class:Dt.solid.danger},{variant:"shadow",color:"default",class:Dt.shadow.default},{variant:"shadow",color:"primary",class:Dt.shadow.primary},{variant:"shadow",color:"secondary",class:Dt.shadow.secondary},{variant:"shadow",color:"success",class:Dt.shadow.success},{variant:"shadow",color:"warning",class:Dt.shadow.warning},{variant:"shadow",color:"danger",class:Dt.shadow.danger},{variant:"bordered",color:"default",class:Dt.bordered.default},{variant:"bordered",color:"primary",class:Dt.bordered.primary},{variant:"bordered",color:"secondary",class:Dt.bordered.secondary},{variant:"bordered",color:"success",class:Dt.bordered.success},{variant:"bordered",color:"warning",class:Dt.bordered.warning},{variant:"bordered",color:"danger",class:Dt.bordered.danger},{variant:"flat",color:"default",class:Dt.flat.default},{variant:"flat",color:"primary",class:Dt.flat.primary},{variant:"flat",color:"secondary",class:Dt.flat.secondary},{variant:"flat",color:"success",class:Dt.flat.success},{variant:"flat",color:"warning",class:Dt.flat.warning},{variant:"flat",color:"danger",class:Dt.flat.danger},{variant:"faded",color:"default",class:Dt.faded.default},{variant:"faded",color:"primary",class:Dt.faded.primary},{variant:"faded",color:"secondary",class:Dt.faded.secondary},{variant:"faded",color:"success",class:Dt.faded.success},{variant:"faded",color:"warning",class:Dt.faded.warning},{variant:"faded",color:"danger",class:Dt.faded.danger},{variant:"light",color:"default",class:[Dt.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[Dt.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[Dt.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[Dt.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[Dt.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[Dt.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[Dt.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[Dt.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[Dt.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[Dt.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[Dt.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[Dt.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:rf.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:rf.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:rf.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:rf.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:rf.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:rf.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});b0({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var mpe=globalThis!=null&&globalThis.document?m.useLayoutEffect:m.useEffect;function tB(e,t,n){let[r,s]=m.useState(e||t),a=m.useRef(e!==void 0),o=e!==void 0;m.useEffect(()=>{let u=a.current;u!==o&&console.warn(`WARN: A component changed from ${u?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}.`),a.current=o},[o]);let l=o?e:r,c=m.useCallback((u,...d)=>{let f=(h,...p)=>{n&&(Object.is(l,h)||n(h,...p)),o||(l=h)};typeof u=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),s((p,...b)=>{let x=u(o?l:p,...b);return f(x,...d),o?p:x})):(o||s(u),f(u,...d))},[o,l,n]);return[l,c]}function n$(e){let{id:t,label:n,"aria-labelledby":r,"aria-label":s,labelElementType:a="label"}=e;t=Ur(t);let o=Ur(),l={};n&&(r=r?`${o} ${r}`:o,l={id:o,htmlFor:a==="label"?t:void 0});let c=Qf({id:t,"aria-label":s,"aria-labelledby":r});return{labelProps:l,fieldProps:c}}function r$(e){let{description:t,errorMessage:n,isInvalid:r,validationState:s}=e,{labelProps:a,fieldProps:o}=n$(e),l=gc([!!t,!!n,r,s]),c=gc([!!t,!!n,r,s]);return o=Me(o,{"aria-describedby":[l,c,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:a,fieldProps:o,descriptionProps:{id:l},errorMessageProps:{id:c}}}function M1(e,t,n){let{validationBehavior:r,focus:s}=e;Dn(()=>{if(r==="native"&&(n!=null&&n.current)&&!n.current.disabled){let c=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(c),n.current.hasAttribute("title")||(n.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(gpe(n.current))}});let a=pr(()=>{t.resetValidation()}),o=pr(c=>{var u;t.displayValidation.isInvalid||t.commitValidation();let d=n==null||(u=n.current)===null||u===void 0?void 0:u.form;if(!c.defaultPrevented&&n&&d&&bpe(d)===n.current){var f;s?s():(f=n.current)===null||f===void 0||f.focus(),u8("keyboard")}c.preventDefault()}),l=pr(()=>{t.commitValidation()});m.useEffect(()=>{let c=n==null?void 0:n.current;if(!c)return;let u=c.form;return c.addEventListener("invalid",o),c.addEventListener("change",l),u==null||u.addEventListener("reset",a),()=>{c.removeEventListener("invalid",o),c.removeEventListener("change",l),u==null||u.removeEventListener("reset",a)}},[n,o,l,a,r])}function ppe(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function gpe(e){return{isInvalid:!e.validity.valid,validationDetails:ppe(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function bpe(e){for(let t=0;t<e.elements.length;t++){let n=e.elements[t];if(!n.validity.valid)return n}return null}const nB={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},rB={...nB,customError:!0,valid:!1},$f={isInvalid:!1,validationDetails:nB,validationErrors:[]},sB=m.createContext({}),gg="__formValidationState"+Date.now();function Uh(e){if(e[gg]){let{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:s,commitValidation:a}=e[gg];return{realtimeValidation:t,displayValidation:n,updateValidation:r,resetValidation:s,commitValidation:a}}return xpe(e)}function xpe(e){let{isInvalid:t,validationState:n,name:r,value:s,builtinValidation:a,validate:o,validationBehavior:l="aria"}=e;n&&(t||(t=n==="invalid"));let c=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:rB}:null,u=m.useMemo(()=>{if(!o||s==null)return null;let k=ype(o,s);return xT(k)},[o,s]);a!=null&&a.validationDetails.valid&&(a=void 0);let d=m.useContext(sB),f=m.useMemo(()=>r?Array.isArray(r)?r.flatMap(k=>j3(d[k])):j3(d[r]):[],[d,r]),[h,p]=m.useState(d),[b,x]=m.useState(!1);d!==h&&(p(d),x(!1));let y=m.useMemo(()=>xT(b?[]:f),[b,f]),v=m.useRef($f),[j,S]=m.useState($f),N=m.useRef($f),C=()=>{if(!$)return;P(!1);let k=u||a||v.current;cj(k,N.current)||(N.current=k,S(k))},[$,P]=m.useState(!1);return m.useEffect(C),{realtimeValidation:c||y||u||a||$f,displayValidation:l==="native"?c||y||j:c||y||u||a||j,updateValidation(k){l==="aria"&&!cj(j,k)?S(k):v.current=k},resetValidation(){let k=$f;cj(k,N.current)||(N.current=k,S(k)),l==="native"&&P(!1),x(!0)},commitValidation(){l==="native"&&P(!0),x(!0)}}}function j3(e){return e?Array.isArray(e)?e:[e]:[]}function ype(e,t){if(typeof e=="function"){let n=e(t);if(n&&typeof n!="boolean")return j3(n)}return[]}function xT(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:rB}:null}function cj(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((n,r)=>n===t.validationErrors[r])&&Object.entries(e.validationDetails).every(([n,r])=>t.validationDetails[n]===r)}function vpe(e,t){let{inputElementType:n="input",isDisabled:r=!1,isRequired:s=!1,isReadOnly:a=!1,type:o="text",validationBehavior:l="aria"}=e,[c,u]=tB(e.value,e.defaultValue||"",e.onChange),{focusableProps:d}=n8(e,t),f=Uh({...e,value:c}),{isInvalid:h,validationErrors:p,validationDetails:b}=f.displayValidation,{labelProps:x,fieldProps:y,descriptionProps:v,errorMessageProps:j}=r$({...e,isInvalid:h,errorMessage:e.errorMessage||p}),S=AR(e,{labelable:!0});const N={type:o,pattern:e.pattern};return ple(t,c,u),M1(e,f,t),m.useEffect(()=>{if(t.current instanceof yi(t.current).HTMLTextAreaElement){let C=t.current;Object.defineProperty(C,"defaultValue",{get:()=>C.value,set:()=>{},configurable:!0})}},[t]),{labelProps:x,inputProps:da(S,n==="input"?N:void 0,{disabled:r,readOnly:a,required:s&&l==="native","aria-required":s&&l==="aria"||void 0,"aria-invalid":h||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:c,onChange:C=>u(C.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...d,...y}),descriptionProps:v,errorMessageProps:j,isInvalid:h,validationErrors:p,validationDetails:b}}var yT=Symbol("default");function aB(e,t){let n=m.useContext(e);if(t===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=new Intl.ListFormat().format(Object.keys(n.slots).map(a=>`"${a}"`));if(!t&&!n.slots[yT])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let s=t||yT;if(!n.slots[s])throw new Error(`Invalid slot "${t}". Valid slot names are ${r}.`);return n.slots[s]}return n}function wpe(e,t,n){let r=aB(n,e.slot)||{},{ref:s,...a}=r,o=hle(m.useMemo(()=>ele(t,s),[t,s])),l=da(a,e);return"style"in a&&a.style&&"style"in e&&e.style&&(typeof a.style=="function"||typeof e.style=="function"?l.style=c=>{let u=typeof a.style=="function"?a.style(c):a.style,d={...c.defaultStyle,...u},f=typeof e.style=="function"?e.style({...c,defaultStyle:d}):e.style;return{...d,...f}}:l.style={...a.style,...e.style}),[l,o]}const Spe=m.createContext({});var C3=m.createContext(null);m.forwardRef(function(t,n){[t,n]=wpe(t,n,C3);let{validationErrors:r,validationBehavior:s="native",children:a,className:o,...l}=t;const c=m.useMemo(()=>fpe({className:o}),[o]);return i.jsx("form",{noValidate:s!=="native",...l,ref:n,className:c,children:i.jsx(C3.Provider,{value:{...t,validationBehavior:s},children:i.jsx(Spe.Provider,{value:r??{},children:a})})})});function jpe(e){var t,n,r,s;const a=jR(),{validationBehavior:o}=aB(C3)||{},[l,c]=V9(e,bT.variantKeys),{ref:u,as:d,type:f,label:h,baseRef:p,wrapperRef:b,description:x,className:y,classNames:v,autoFocus:j,startContent:S,endContent:N,onClear:C,onChange:$,validationState:P,validationBehavior:E=(t=o??(a==null?void 0:a.validationBehavior))!=null?t:"native",innerWrapperRef:M,onValueChange:k=()=>{},...A}=l,I=m.useCallback(St=>{k(St??"")},[k]),[L,R]=m.useState(!1),F=d||"div",T=(r=(n=e.disableAnimation)!=null?n:a==null?void 0:a.disableAnimation)!=null?r:!1,O=gp(u),_=gp(p),W=gp(b),z=gp(M),[U,H]=tB(l.value,(s=l.defaultValue)!=null?s:"",I),B=["date","time","month","week","range"].includes(f),Y=!joe(U)||B,ae=Y||L,ce=f==="hidden",oe=e.isMultiline,Q=f==="file",K=Ri(v==null?void 0:v.base,y,Y?"is-filled":""),ne=m.useCallback(()=>{var St;H(""),C==null||C(),(St=O.current)==null||St.focus()},[H,C]);mpe(()=>{O.current&&H(O.current.value)},[O.current]);const{labelProps:te,inputProps:X,isInvalid:xe,validationErrors:$e,validationDetails:Ne,descriptionProps:Le,errorMessageProps:we}=vpe({...e,validationBehavior:E,autoCapitalize:e.autoCapitalize,value:U,"aria-label":Coe(e["aria-label"],e.label,e.placeholder),inputElementType:oe?"textarea":"input",onChange:H},O);Q&&(delete X.value,delete X.onChange);const{isFocusVisible:fe,isFocused:me,focusProps:G}=J5({autoFocus:j,isTextInput:!0}),{isHovered:re,hoverProps:ue}=Z5({isDisabled:!!(e!=null&&e.isDisabled)}),{isHovered:ge,hoverProps:ye}=Z5({isDisabled:!!(e!=null&&e.isDisabled)}),{focusProps:je,isFocusVisible:ie}=J5(),{focusWithinProps:he}=t8({onFocusWithinChange:R}),{pressProps:ke}=KR({isDisabled:!!(e!=null&&e.isDisabled)||!!(e!=null&&e.isReadOnly),onPress:ne}),Be=P==="invalid"||xe,qe=m.useMemo(()=>{var St;return(!e.labelPlacement||e.labelPlacement==="inside")&&!h?"outside":(St=e.labelPlacement)!=null?St:"inside"},[e.labelPlacement,h]),Et=typeof l.errorMessage=="function"?l.errorMessage({isInvalid:Be,validationErrors:$e,validationDetails:Ne}):l.errorMessage||($e==null?void 0:$e.join(" ")),ln=!!C||e.isClearable,Ht=!!h||!!x||!!Et,vt=!!l.placeholder,Re=!!h,Ue=!!x||!!Et,it=qe==="outside"||qe==="outside-left",ot=qe==="inside",Je=O.current?(!O.current.value||O.current.value===""||!U||U==="")&&vt:!1,lt=qe==="outside-left",Ot=!!S,Vn=it?qe==="outside-left"||vt||qe==="outside"&&Ot:!1,Yn=qe==="outside"&&!vt&&!Ot,tn=m.useMemo(()=>bT({...c,isInvalid:Be,labelPlacement:qe,isClearable:ln,disableAnimation:T}),[SR(c),Be,qe,ln,Ot,T]),ur=m.useCallback((St={})=>({ref:_,className:tn.base({class:K}),"data-slot":"base","data-filled":an(Y||vt||Ot||Je||Q),"data-filled-within":an(ae||vt||Ot||Je||Q),"data-focus-within":an(L),"data-focus-visible":an(fe),"data-readonly":an(e.isReadOnly),"data-focus":an(me),"data-hover":an(re||ge),"data-required":an(e.isRequired),"data-invalid":an(Be),"data-disabled":an(e.isDisabled),"data-has-elements":an(Ht),"data-has-helper":an(Ue),"data-has-label":an(Re),"data-has-value":an(!Je),"data-hidden":an(ce),...he,...St}),[tn,K,Y,me,re,ge,Be,Ue,Re,Ht,Je,Ot,L,fe,ae,vt,he,ce,e.isReadOnly,e.isRequired,e.isDisabled]),po=m.useCallback((St={})=>({"data-slot":"label",className:tn.label({class:v==null?void 0:v.label}),...da(te,ye,St)}),[tn,ge,te,v==null?void 0:v.label]),At=m.useCallback((St={})=>({"data-slot":"input","data-filled":an(Y),"data-filled-within":an(ae),"data-has-start-content":an(Ot),"data-has-end-content":an(!!N),className:tn.input({class:Ri(v==null?void 0:v.input,Y?"is-filled":"",oe?"pe-0":"")}),...da(G,X,B5(A,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(X))}),St),"aria-readonly":an(e.isReadOnly),onChange:v1(X.onChange,$),ref:O}),[tn,U,G,X,A,Y,ae,Ot,N,v==null?void 0:v.input,e.isReadOnly,e.isRequired,$]),Yt=m.useCallback((St={})=>({ref:W,"data-slot":"input-wrapper","data-hover":an(re||ge),"data-focus-visible":an(fe),"data-focus":an(me),className:tn.inputWrapper({class:Ri(v==null?void 0:v.inputWrapper,Y?"is-filled":"")}),...da(St,ue),onClick:ni=>{O.current&&ni.currentTarget===ni.target&&O.current.focus()},style:{cursor:"text",...St.style}}),[tn,re,ge,fe,me,U,v==null?void 0:v.inputWrapper]),ti=m.useCallback((St={})=>({...St,ref:z,"data-slot":"inner-wrapper",onClick:ni=>{O.current&&ni.currentTarget===ni.target&&O.current.focus()},className:tn.innerWrapper({class:Ri(v==null?void 0:v.innerWrapper,St==null?void 0:St.className)})}),[tn,v==null?void 0:v.innerWrapper]),su=m.useCallback((St={})=>({...St,"data-slot":"main-wrapper",className:tn.mainWrapper({class:Ri(v==null?void 0:v.mainWrapper,St==null?void 0:St.className)})}),[tn,v==null?void 0:v.mainWrapper]),ki=m.useCallback((St={})=>({...St,"data-slot":"helper-wrapper",className:tn.helperWrapper({class:Ri(v==null?void 0:v.helperWrapper,St==null?void 0:St.className)})}),[tn,v==null?void 0:v.helperWrapper]),au=m.useCallback((St={})=>({...St,...Le,"data-slot":"description",className:tn.description({class:Ri(v==null?void 0:v.description,St==null?void 0:St.className)})}),[tn,v==null?void 0:v.description]),go=m.useCallback((St={})=>({...St,...we,"data-slot":"error-message",className:tn.errorMessage({class:Ri(v==null?void 0:v.errorMessage,St==null?void 0:St.className)})}),[tn,we,v==null?void 0:v.errorMessage]),iu=m.useCallback((St={})=>({...St,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":an(ie),className:tn.clearButton({class:Ri(v==null?void 0:v.clearButton,St==null?void 0:St.className)}),...da(ke,je)}),[tn,ie,ke,je,v==null?void 0:v.clearButton]);return{Component:F,classNames:v,domRef:O,label:h,description:x,startContent:S,endContent:N,labelPlacement:qe,isClearable:ln,hasHelper:Ue,hasStartContent:Ot,isLabelOutside:Vn,isOutsideLeft:lt,isLabelOutsideAsPlaceholder:Yn,shouldLabelBeOutside:it,shouldLabelBeInside:ot,hasPlaceholder:vt,isInvalid:Be,errorMessage:Et,getBaseProps:ur,getLabelProps:po,getInputProps:At,getMainWrapperProps:su,getInputWrapperProps:Yt,getInnerWrapperProps:ti,getHelperWrapperProps:ki,getDescriptionProps:au,getErrorMessageProps:go,getClearButtonProps:iu}}var Cpe=e=>i.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:i.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),iB=e$((e,t)=>{const{Component:n,label:r,description:s,isClearable:a,startContent:o,endContent:l,labelPlacement:c,hasHelper:u,isOutsideLeft:d,shouldLabelBeOutside:f,errorMessage:h,isInvalid:p,getBaseProps:b,getLabelProps:x,getInputProps:y,getInnerWrapperProps:v,getInputWrapperProps:j,getMainWrapperProps:S,getHelperWrapperProps:N,getDescriptionProps:C,getErrorMessageProps:$,getClearButtonProps:P}=jpe({...e,ref:t}),E=r?i.jsx("label",{...x(),children:r}):null,M=m.useMemo(()=>a?i.jsx("button",{...P(),children:l||i.jsx(Cpe,{})}):l,[a,P]),k=m.useMemo(()=>{const L=p&&h;return!u||!(L||s)?null:i.jsx("div",{...N(),children:L?i.jsx("div",{...$(),children:h}):i.jsx("div",{...C(),children:s})})},[u,p,h,s,N,$,C]),A=m.useMemo(()=>i.jsxs("div",{...v(),children:[o,i.jsx("input",{...y()}),M]}),[o,M,y,v]),I=m.useMemo(()=>f?i.jsxs("div",{...S(),children:[i.jsxs("div",{...j(),children:[d?null:E,A]}),k]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{...j(),children:[E,A]}),k]}),[c,k,f,E,A,h,s,S,j,$,C]);return i.jsxs(n,{...b(),children:[d?E:null,I]})});iB.displayName="HeroUI.Input";var Ua=iB;function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N3.apply(null,arguments)}function Npe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $pe=m.useLayoutEffect,Epe=function(t){var n=Z.useRef(t);return $pe(function(){n.current=t}),n},vT=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Ape=function(t,n){var r=Z.useRef();return Z.useCallback(function(s){t.current=s,r.current&&vT(r.current,null),r.current=n,n&&vT(n,s)},[n])},wT={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Ppe=function(t){Object.keys(wT).forEach(function(n){t.style.setProperty(n,wT[n],"important")})},ST=Ppe,ms=null,jT=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Dpe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ms||(ms=document.createElement("textarea"),ms.setAttribute("tabindex","-1"),ms.setAttribute("aria-hidden","true"),ST(ms)),ms.parentNode===null&&document.body.appendChild(ms);var s=e.paddingSize,a=e.borderSize,o=e.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(h){var p=h;ms.style[p]=o[p]}),ST(ms),ms.value=t;var c=jT(ms,e);ms.value=t,c=jT(ms,e),ms.value="x";var u=ms.scrollHeight-s,d=u*n;l==="border-box"&&(d=d+s+a),c=Math.max(d,c);var f=u*r;return l==="border-box"&&(f=f+s+a),c=Math.min(f,c),[c,u]}var CT=function(){},kpe=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},Ipe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Tpe=!!document.documentElement.currentStyle,Mpe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=kpe(Ipe,n),s=r.boxSizing;if(s==="")return null;Tpe&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:o}},Ope=Mpe;function s$(e,t,n){var r=Epe(n);m.useLayoutEffect(function(){var s=function(o){return r.current(o)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var Lpe=function(t,n){s$(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},_pe=function(t){s$(window,"resize",t)},Fpe=function(t){s$(document.fonts,"loadingdone",t)},Rpe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Bpe=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,a=t.minRows,o=t.onChange,l=o===void 0?CT:o,c=t.onHeightChange,u=c===void 0?CT:c,d=Npe(t,Rpe),f=d.value!==void 0,h=m.useRef(null),p=Ape(h,n),b=m.useRef(0),x=m.useRef(),y=function(){var S=h.current,N=r&&x.current?x.current:Ope(S);if(N){x.current=N;var C=Dpe(N,S.value||S.placeholder||"x",a,s),$=C[0],P=C[1];b.current!==$&&(b.current=$,S.style.setProperty("height",$+"px","important"),u($,{rowHeight:P}))}},v=function(S){f||y(),l(S)};return m.useLayoutEffect(y),Lpe(h,function(){if(!f){var j=h.current.value;requestAnimationFrame(function(){var S=h.current;S&&j!==S.value&&y()})}}),_pe(y),Fpe(y),m.createElement("textarea",N3({},d,{onChange:v,ref:p}))},zpe=m.forwardRef(Bpe),oB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NT=Z.createContext&&Z.createContext(oB),Vpe=["attr","size","title"];function Wpe(e,t){if(e==null)return{};var n=Upe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Upe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(this,arguments)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){Kpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kpe(e,t,n){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=qpe(e,"string");return typeof t=="symbol"?t:t+""}function qpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lB(e){return e&&e.map((t,n)=>Z.createElement(t.tag,zy({key:n},t.attr),lB(t.child)))}function xn(e){return t=>Z.createElement(Gpe,By({attr:zy({},e.attr)},t),lB(e.child))}function Gpe(e){var t=n=>{var{attr:r,size:s,title:a}=e,o=Wpe(e,Vpe),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Z.createElement("svg",By({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:zy(zy({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Z.createElement("title",null,a),e.children)};return NT!==void 0?Z.createElement(NT.Consumer,null,n=>t(n)):t(oB)}function cB(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function uB(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Ype(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}var[Cct,Xpe]=gR({name:"ButtonGroupContext",strict:!1});function Zpe(e,t){let{elementType:n="button",isDisabled:r,onPress:s,onPressStart:a,onPressEnd:o,onPressChange:l,preventFocusOnPress:c,allowFocusWhenDisabled:u,onClick:d,href:f,target:h,rel:p,type:b="button",allowTextSelectionOnPress:x}=e,y;n==="button"?y={type:b,disabled:r}:y={role:"button",tabIndex:r?void 0:0,href:n==="a"&&!r?f:void 0,target:n==="a"?h:void 0,type:n==="input"?b:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?p:void 0};let v=a4()||i4();d&&typeof d=="function"&&Noe("onClick is deprecated, please use onPress instead. See: https://github.com/frontio-ai/heroui/issues/4292","useButton");const j=P=>{v&&(d==null||d(P)),s==null||s(P)};let{pressProps:S,isPressed:N}=KR({onPressStart:a,onPressEnd:o,onPressChange:l,onPress:j,isDisabled:r,preventFocusOnPress:c,allowTextSelectionOnPress:x,ref:t}),{focusableProps:C}=n8(e,t);u&&(C.tabIndex=r?-1:C.tabIndex);let $=da(C,S,AR(e,{labelable:!0}));return{isPressed:N,buttonProps:da(y,$,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:P=>{b==="button"&&v||d==null||d(P)}})}}const Jpe="modulepreload",Qpe=function(e){return"/"+e},ET={},Cd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Qpe(c),c in ET)return;ET[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Jpe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var ege=()=>Cd(()=>import("./index-BwcQBwDf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.default),dB=e=>{const{ripples:t=[],motionProps:n,color:r="currentColor",style:s,onClear:a}=e;return i.jsx(i.Fragment,{children:t.map(o=>{const l=Ooe(.01*o.size,.2,o.size>100?.75:.5);return i.jsx($c,{features:ege,children:i.jsx(zh,{mode:"popLayout",children:i.jsx(Ec.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:o.y,left:o.x,width:`${o.size}px`,height:`${o.size}px`,...s},transition:{duration:l},onAnimationComplete:()=>{a(o.key)},...n})})},o.key)})})};dB.displayName="HeroUI.Ripple";var tge=dB;function nge(e={}){const[t,n]=m.useState([]),r=m.useCallback(a=>{const o=a.target,l=Math.max(o.clientWidth,o.clientHeight);n(c=>[...c,{key:Moe(c.length.toString()),size:l,x:a.x-l/2,y:a.y-l/2}])},[]),s=m.useCallback(a=>{n(o=>o.filter(l=>l.key!==a))},[]);return{ripples:t,onClear:s,onPress:r,...e}}function rge(e){var t,n,r,s,a,o,l,c,u;const d=Xpe(),f=jR(),h=!!d,{ref:p,as:b,children:x,startContent:y,endContent:v,autoFocus:j,className:S,spinner:N,isLoading:C=!1,disableRipple:$=!1,fullWidth:P=(t=d==null?void 0:d.fullWidth)!=null?t:!1,radius:E=d==null?void 0:d.radius,size:M=(n=d==null?void 0:d.size)!=null?n:"md",color:k=(r=d==null?void 0:d.color)!=null?r:"default",variant:A=(s=d==null?void 0:d.variant)!=null?s:"solid",disableAnimation:I=(o=(a=d==null?void 0:d.disableAnimation)!=null?a:f==null?void 0:f.disableAnimation)!=null?o:!1,isDisabled:L=(l=d==null?void 0:d.isDisabled)!=null?l:!1,isIconOnly:R=(c=d==null?void 0:d.isIconOnly)!=null?c:!1,spinnerPlacement:F="start",onPress:T,onClick:O,..._}=e,W=b||"button",z=typeof W=="string",U=gp(p),H=(u=$||(f==null?void 0:f.disableRipple))!=null?u:I,{isFocusVisible:B,isFocused:Y,focusProps:ae}=J5({autoFocus:j}),ce=L||C,oe=m.useMemo(()=>hpe({size:M,color:k,variant:A,radius:E,fullWidth:P,isDisabled:ce,isInGroup:h,disableAnimation:I,isIconOnly:R,className:S}),[M,k,A,E,P,ce,h,R,I,S]),{onPress:Q,onClear:K,ripples:ne}=nge(),te=m.useCallback(ue=>{H||ce||I||U.current&&Q(ue)},[H,ce,I,U,Q]),{buttonProps:X,isPressed:xe}=Zpe({elementType:b,isDisabled:ce,onPress:v1(T,te),onClick:O,..._},U),{isHovered:$e,hoverProps:Ne}=Z5({isDisabled:ce}),Le=m.useCallback((ue={})=>({"data-disabled":an(ce),"data-focus":an(Y),"data-pressed":an(xe),"data-focus-visible":an(B),"data-hover":an($e),"data-loading":an(C),...da(X,ae,Ne,B5(_,{enabled:z}),B5(ue))}),[C,ce,Y,xe,z,B,$e,X,ae,Ne,_]),we=ue=>m.isValidElement(ue)?m.cloneElement(ue,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,fe=we(y),me=we(v),G=m.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[M],[M]),re=m.useCallback(()=>({ripples:ne,onClear:K}),[ne,K]);return{Component:W,children:x,domRef:U,spinner:N,styles:oe,startContent:fe,endContent:me,isLoading:C,spinnerPlacement:F,spinnerSize:G,disableRipple:H,getButtonProps:Le,getRippleProps:re,isIconOnly:R}}function sge(e){const[t,n]=V9(e,gT.variantKeys),{children:r,className:s,classNames:a,label:o,...l}=t,c=m.useMemo(()=>gT({...n}),[SR(n)]),u=Ri(a==null?void 0:a.base,s),d=o||r,f=m.useMemo(()=>d&&typeof d=="string"?d:l["aria-label"]?"":"Loading",[r,d,l["aria-label"]]),h=m.useCallback(()=>({"aria-label":f,className:c.base({class:u}),...l}),[f,c,u,l]);return{label:d,slots:c,classNames:a,getSpinnerProps:h}}var fB=e$((e,t)=>{const{slots:n,classNames:r,label:s,getSpinnerProps:a}=sge({...e});return i.jsxs("div",{ref:t,...a(),children:[i.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[i.jsx("i",{className:n.circle1({class:r==null?void 0:r.circle1})}),i.jsx("i",{className:n.circle2({class:r==null?void 0:r.circle2})})]}),s&&i.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]})});fB.displayName="HeroUI.Spinner";var age=fB,hB=e$((e,t)=>{const{Component:n,domRef:r,children:s,styles:a,spinnerSize:o,spinner:l=i.jsx(age,{color:"current",size:o}),spinnerPlacement:c,startContent:u,endContent:d,isLoading:f,disableRipple:h,getButtonProps:p,getRippleProps:b,isIconOnly:x}=rge({...e,ref:t});return i.jsxs(n,{ref:r,className:a,...p(),children:[u,f&&c==="start"&&l,f&&x?null:s,f&&c==="end"&&l,d,!h&&i.jsx(tge,{...b()})]})});hB.displayName="HeroUI.Button";var ige=hB;const oge=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...r,children:[i.jsx("path",{d:"M21.2714 9.17834C20.9814 8.71834 20.6714 8.28834 20.3514 7.88834C19.9814 7.41834 19.2814 7.37834 18.8614 7.79834L15.8614 10.7983C16.0814 11.4583 16.1214 12.2183 15.9214 13.0083C15.5714 14.4183 14.4314 15.5583 13.0214 15.9083C12.2314 16.1083 11.4714 16.0683 10.8114 15.8483C10.8114 15.8483 9.38141 17.2783 8.35141 18.3083C7.85141 18.8083 8.01141 19.6883 8.68141 19.9483C9.75141 20.3583 10.8614 20.5683 12.0014 20.5683C13.7814 20.5683 15.5114 20.0483 17.0914 19.0783C18.7014 18.0783 20.1514 16.6083 21.3214 14.7383C22.2714 13.2283 22.2214 10.6883 21.2714 9.17834Z",fill:"currentColor"}),i.jsx("path",{d:"M14.0206 9.98062L9.98062 14.0206C9.47062 13.5006 9.14062 12.7806 9.14062 12.0006C9.14062 10.4306 10.4206 9.14062 12.0006 9.14062C12.7806 9.14062 13.5006 9.47062 14.0206 9.98062Z",fill:"currentColor"}),i.jsx("path",{d:"M18.25 5.74969L14.86 9.13969C14.13 8.39969 13.12 7.95969 12 7.95969C9.76 7.95969 7.96 9.76969 7.96 11.9997C7.96 13.1197 8.41 14.1297 9.14 14.8597L5.76 18.2497H5.75C4.64 17.3497 3.62 16.1997 2.75 14.8397C1.75 13.2697 1.75 10.7197 2.75 9.14969C3.91 7.32969 5.33 5.89969 6.91 4.91969C8.49 3.95969 10.22 3.42969 12 3.42969C14.23 3.42969 16.39 4.24969 18.25 5.74969Z",fill:"currentColor"}),i.jsx("path",{d:"M14.8581 11.9981C14.8581 13.5681 13.5781 14.8581 11.9981 14.8581C11.9381 14.8581 11.8881 14.8581 11.8281 14.8381L14.8381 11.8281C14.8581 11.8881 14.8581 11.9381 14.8581 11.9981Z",fill:"currentColor"}),i.jsx("path",{d:"M21.7689 2.22891C21.4689 1.92891 20.9789 1.92891 20.6789 2.22891L2.22891 20.6889C1.92891 20.9889 1.92891 21.4789 2.22891 21.7789C2.37891 21.9189 2.56891 21.9989 2.76891 21.9989C2.96891 21.9989 3.15891 21.9189 3.30891 21.7689L21.7689 3.30891C22.0789 3.00891 22.0789 2.52891 21.7689 2.22891Z",fill:"currentColor"})]}),lge=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...r,children:[i.jsx("path",{d:"M21.25 9.14969C18.94 5.51969 15.56 3.42969 12 3.42969C10.22 3.42969 8.49 3.94969 6.91 4.91969C5.33 5.89969 3.91 7.32969 2.75 9.14969C1.75 10.7197 1.75 13.2697 2.75 14.8397C5.06 18.4797 8.44 20.5597 12 20.5597C13.78 20.5597 15.51 20.0397 17.09 19.0697C18.67 18.0897 20.09 16.6597 21.25 14.8397C22.25 13.2797 22.25 10.7197 21.25 9.14969ZM12 16.0397C9.76 16.0397 7.96 14.2297 7.96 11.9997C7.96 9.76969 9.76 7.95969 12 7.95969C14.24 7.95969 16.04 9.76969 16.04 11.9997C16.04 14.2297 14.24 16.0397 12 16.0397Z",fill:"currentColor"}),i.jsx("path",{d:"M11.9984 9.14062C10.4284 9.14062 9.14844 10.4206 9.14844 12.0006C9.14844 13.5706 10.4284 14.8506 11.9984 14.8506C13.5684 14.8506 14.8584 13.5706 14.8584 12.0006C14.8584 10.4306 13.5684 9.14062 11.9984 9.14062Z",fill:"currentColor"})]}),x0=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-panel-right-close",children:[i.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),i.jsx("path",{d:"M15 3v18"}),i.jsx("path",{d:"m8 9 3 3-3 3"})]}),y0=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-layout-dashboard",children:[i.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),i.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),i.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),v0=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-search",children:[i.jsx("circle",{cx:"11",cy:"11",r:"8"}),i.jsx("path",{d:"m21 21-4.3-4.3"})]}),O1=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-bell",children:[i.jsx("path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}),i.jsx("path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"})]}),cge=({size:e=24,width:t,height:n,...r})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.76","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-chevron-left",children:i.jsx("path",{d:"m15 18-6-6 6-6"})}),Ir=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-book-copy",children:[i.jsx("path",{d:"M2 16V4a2 2 0 0 1 2-2h11"}),i.jsx("path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12"}),i.jsx("path",{d:"M5 14H4a2 2 0 1 0 0 4h1"})]}),Bc=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-circle-user-round",children:[i.jsx("path",{d:"M18 20a6 6 0 0 0-12 0"}),i.jsx("circle",{cx:"12",cy:"10",r:"4"}),i.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),Tr=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-calendar-fold",children:[i.jsx("path",{d:"M8 2v4"}),i.jsx("path",{d:"M16 2v4"}),i.jsx("path",{d:"M21 17V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11Z"}),i.jsx("path",{d:"M3 10h18"}),i.jsx("path",{d:"M15 22v-4a2 2 0 0 1 2-2h4"})]}),w0=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-users",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),$i=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-bus-front-icon lucide-bus-front",children:[i.jsx("path",{d:"M4 6 2 7"}),i.jsx("path",{d:"M10 6h4"}),i.jsx("path",{d:"m22 7-2-1"}),i.jsx("rect",{width:"16",height:"16",x:"4",y:"3",rx:"2"}),i.jsx("path",{d:"M4 11h16"}),i.jsx("path",{d:"M8 15h.01"}),i.jsx("path",{d:"M16 15h.01"}),i.jsx("path",{d:"M6 19v2"}),i.jsx("path",{d:"M18 21v-2"})]}),zc=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-map-pinned-icon lucide-map-pinned",children:[i.jsx("path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0"}),i.jsx("circle",{cx:"12",cy:"8",r:"2"}),i.jsx("path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712"})]}),L1=({size:e=24,width:t,height:n,...r})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-wrench-icon lucide-wrench",children:i.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),Uf=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-file-text-icon lucide-file-text",children:[i.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),i.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),i.jsx("path",{d:"M10 9H8"}),i.jsx("path",{d:"M16 13H8"}),i.jsx("path",{d:"M16 17H8"})]}),_1=({size:e=24,width:t,height:n,...r})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-list-collapse-icon lucide-list-collapse",children:[i.jsx("path",{d:"m3 10 2.5-2.5L3 5"}),i.jsx("path",{d:"m3 19 2.5-2.5L3 14"}),i.jsx("path",{d:"M10 6h11"}),i.jsx("path",{d:"M10 12h11"}),i.jsx("path",{d:"M10 18h11"})]});function uge(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48c-42.9 0-84.2 13-119.2 37.5-34.2 24-60.2 57.2-75.1 96.1L58 192h45.7l1.9-5c8.2-17.8 19.4-33.9 33.5-48 31.2-31.2 72.7-48.4 116.9-48.4s85.7 17.2 116.9 48.4c31.2 31.2 48.4 72.7 48.4 116.9 0 44.1-17.2 85.7-48.4 116.9-31.2 31.2-72.7 48.4-116.9 48.4-44.1 0-85.6-17.2-116.9-48.4-14-14-25.3-30.1-33.5-47.9l-1.9-5H58l3.6 10.4c14.9 38.9 40.9 72.1 75.1 96.1C171.8 451.1 213 464 256 464c114.7 0 208-93.3 208-208S370.7 48 256 48z"},child:[]},{tag:"path",attr:{d:"M48 277.4h189.7l-43.6 44.7L224 352l96-96-96-96-31 29.9 44.7 44.7H48v42.8z"},child:[]}]})(e)}function S0(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(e)}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vc=zn("align-vertical-justify-center",dge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fge=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hge=zn("arrow-left",fge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mge=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],F1=zn("book-check",mge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pge=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],Wc=zn("book-open-check",pge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gge=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bge=zn("book-open",gge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xge=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yge=zn("briefcase",xge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vge=[["path",{d:"M11 10v4h4",key:"172dkj"}],["path",{d:"m11 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"vu0qm5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"m21 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"1qgeyt"}],["path",{d:"M21 22v-4h-4",key:"hrummi"}],["path",{d:"M21 8.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h4.3",key:"mctw84"}],["path",{d:"M3 10h4",key:"1el30a"}],["path",{d:"M8 2v4",key:"1cmpym"}]],R1=zn("calendar-sync",vge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wge=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sge=zn("circle-user-round",wge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jge=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],B1=zn("coins",jge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cge=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Nge=zn("download",Cge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Ege=zn("facebook",$ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pge=zn("funnel",Age);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kge=zn("globe",Dge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],AT=zn("house",Ige);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tge=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],a$=zn("image",Tge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]],bl=zn("images",Mge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Lge=zn("library",Oge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Fge=zn("linkedin",_ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],PT=zn("list-checks",Rge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zge=zn("log-out",Bge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M15 2v20",key:"dcj49h"}],["path",{d:"M15 7h5",key:"1xj5lc"}],["path",{d:"M15 12h5",key:"w5shd9"}],["path",{d:"M15 17h5",key:"1qaofu"}]],Ya=zn("notebook-tabs",Vge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DT=zn("square-check-big",Wge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xl=zn("star",Uge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Hge=zn("trending-up",Kge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Gge=zn("users",qge);let Yge={data:""},Xge=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Yge,Zge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jge=/\/\*[^]*?\*\/|  +/g,kT=/\n+/g,nc=(e,t)=>{let n="",r="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?nc(o,a):a+"{"+nc(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=nc(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=nc.p?nc.p(a,o):a+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Ao={},mB=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+mB(e[n]);return t}return e},Qge=(e,t,n,r,s)=>{let a=mB(e),o=Ao[a]||(Ao[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!Ao[o]){let c=a!==e?e:(u=>{let d,f,h=[{}];for(;d=Zge.exec(u.replace(Jge,""));)d[4]?h.shift():d[3]?(f=d[3].replace(kT," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(kT," ").trim();return h[0]})(e);Ao[o]=nc(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Ao.g?Ao.g:null;return n&&(Ao.g=Ao[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ao[o],t,r,l),o},e0e=(e,t,n)=>e.reduce((r,s,a)=>{let o=t[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":nc(l,""):l===!1?"":l}return r+s+(o??"")},"");function z1(e){let t=this||{},n=e.call?e(t.p):e;return Qge(n.unshift?n.raw?e0e(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Xge(t.target),t.g,t.o,t.k)}let pB,$3,E3;z1.bind({g:1});let nl=z1.bind({k:1});function t0e(e,t,n,r){nc.p=t,pB=e,$3=n,E3=r}function Uc(e,t){let n=this||{};return function(){let r=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;n.p=Object.assign({theme:$3&&$3()},l),n.o=/ *go\d+/.test(c),l.className=z1.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),E3&&u[0]&&E3(l),pB(u,l)}return t?t(s):s}}var n0e=e=>typeof e=="function",Vy=(e,t)=>n0e(e)?e(t):e,r0e=(()=>{let e=0;return()=>(++e).toString()})(),gB=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),s0e=20,bB=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s0e)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return bB(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},dy=[],Ku={toasts:[],pausedAt:void 0},Nd=e=>{Ku=bB(Ku,e),dy.forEach(t=>{t(Ku)})},a0e={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},i0e=(e={})=>{let[t,n]=m.useState(Ku),r=m.useRef(Ku);m.useEffect(()=>(r.current!==Ku&&n(Ku),dy.push(n),()=>{let a=dy.indexOf(n);a>-1&&dy.splice(a,1)}),[]);let s=t.toasts.map(a=>{var o,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||a0e[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:s}},o0e=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||r0e()}),j0=e=>(t,n)=>{let r=o0e(t,e,n);return Nd({type:2,toast:r}),r.id},Ge=(e,t)=>j0("blank")(e,t);Ge.error=j0("error");Ge.success=j0("success");Ge.loading=j0("loading");Ge.custom=j0("custom");Ge.dismiss=e=>{Nd({type:3,toastId:e})};Ge.remove=e=>Nd({type:4,toastId:e});Ge.promise=(e,t,n)=>{let r=Ge.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?Vy(t.success,s):void 0;return a?Ge.success(a,{id:r,...n,...n==null?void 0:n.success}):Ge.dismiss(r),s}).catch(s=>{let a=t.error?Vy(t.error,s):void 0;a?Ge.error(a,{id:r,...n,...n==null?void 0:n.error}):Ge.dismiss(r)}),e};var l0e=(e,t)=>{Nd({type:1,toast:{id:e,height:t}})},c0e=()=>{Nd({type:5,time:Date.now()})},_p=new Map,u0e=1e3,d0e=(e,t=u0e)=>{if(_p.has(e))return;let n=setTimeout(()=>{_p.delete(e),Nd({type:4,toastId:e})},t);_p.set(e,n)},f0e=e=>{let{toasts:t,pausedAt:n}=i0e(e);m.useEffect(()=>{if(n)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Ge.dismiss(l.id);return}return setTimeout(()=>Ge.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=m.useCallback(()=>{n&&Nd({type:6,time:Date.now()})},[n]),s=m.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(a.position||u)&&p.height),f=d.findIndex(p=>p.id===a.id),h=d.filter((p,b)=>b<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[h+1]:[0,h]).reduce((p,b)=>p+(b.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(a=>{if(a.dismissed)d0e(a.id,a.removeDelay);else{let o=_p.get(a.id);o&&(clearTimeout(o),_p.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:l0e,startPause:c0e,endPause:r,calculateOffset:s}}},h0e=nl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,m0e=nl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,p0e=nl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,g0e=Uc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h0e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${m0e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${p0e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,b0e=nl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x0e=Uc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${b0e} 1s linear infinite;
`,y0e=nl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,v0e=nl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w0e=Uc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${y0e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${v0e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,S0e=Uc("div")`
  position: absolute;
`,j0e=Uc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C0e=nl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N0e=Uc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C0e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$0e=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?m.createElement(N0e,null,t):t:n==="blank"?null:m.createElement(j0e,null,m.createElement(x0e,{...r}),n!=="loading"&&m.createElement(S0e,null,n==="error"?m.createElement(g0e,{...r}):m.createElement(w0e,{...r})))},E0e=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,A0e=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,P0e="0%{opacity:0;} 100%{opacity:1;}",D0e="0%{opacity:1;} 100%{opacity:0;}",k0e=Uc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,I0e=Uc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,T0e=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=gB()?[P0e,D0e]:[E0e(n),A0e(n)];return{animation:t?`${nl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},M0e=m.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?T0e(e.position||t||"top-center",e.visible):{opacity:0},a=m.createElement($0e,{toast:e}),o=m.createElement(I0e,{...e.ariaProps},Vy(e.message,e));return m.createElement(k0e,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):m.createElement(m.Fragment,null,a,o))});t0e(m.createElement);var O0e=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return m.createElement("div",{ref:a,className:t,style:n},s)},L0e=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},_0e=z1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ox=16,ia=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=f0e(n);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ox,left:ox,right:ox,bottom:ox,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=L0e(d,f);return m.createElement(O0e,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?_0e:"",style:h},u.type==="custom"?Vy(u.message,u):s?s(u):m.createElement(M0e,{toast:u,position:d}))}))},Ke=Ge;const F0e=[{href:"https://soraddynamics.com/",icon:i.jsx(kge,{className:"h-5 w-5"}),label:"Website"},{href:"https://www.facebook.com/profile.php?id=61569291325991",icon:i.jsx(Ege,{className:"h-5 w-5"}),label:"Facebook"},{href:"https://www.linkedin.com/in/sorad-dynamics-a84087346/",icon:i.jsx(Fge,{className:"h-5 w-5"}),label:"LinkedIn"}];function R0e({setUser:e}){const[t,n]=m.useState(""),[r,s]=m.useState(""),[a,o]=m.useState(!1),[l,c]=m.useState(!1),u=m.useId(),d=m.useId(),f=()=>c(!l),h=async b=>{b.preventDefault(),o(!0);try{await ut.createEmailPasswordSession(t,r);const x=await ut.get(),y={isParent:x.labels.includes("parent"),isStudent:x.labels.includes("student"),isAdmin:x.labels.includes("admin"),isTeacher:x.labels.includes("teacher"),isDriver:x.labels.includes("driver"),isCam:x.labels.includes("camera"),isLib:x.labels.includes("library"),isPro:x.labels.includes("pro"),isManage:x.labels.includes("manage"),isOne:x.labels.includes("one")};e({...x,...y}),Ge.success("Login successful! Redirecting...")}catch(x){x instanceof aoe?Ge.error(x.message||"Login failed. Please check your credentials."):Ge.error("An unexpected error occurred.")}finally{o(!1)}},p={inputWrapper:"h-12 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 transition-colors hover:border-orange-500 dark:hover:border-orange-400 focus-within:border-orange-500 focus-within:ring-2 focus-within:ring-orange-500/20 dark:focus-within:ring-orange-500/40",input:"text-base placeholder:text-gray-500 dark:placeholder:text-gray-400"};return i.jsxs(i.Fragment,{children:[i.jsx(ia,{position:"top-right",toastOptions:{className:"dark:bg-gray-700 dark:text-white"}}),i.jsx("div",{className:"flex min-h-screen w-full items-center justify-center bg-white p-6 dark:bg-gray-900 md:bg-gray-100 md:p-4 md:dark:bg-gray-950",children:i.jsxs("div",{className:"w-full max-w-md space-y-10 md:rounded-2xl md:bg-white md:p-8 md:shadow-xl md:dark:bg-gray-800",children:[i.jsxs("header",{className:"text-center",children:[i.jsxs("div",{className:"mb-4 inline-flex items-center",children:[i.jsx("img",{src:"/ico.png",alt:"Sorad Dynamics Logo",className:"mr-3 h-10 w-10 object-contain"}),i.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:["Sorad",i.jsx("span",{className:"text-orange-500",children:"Dynamics"})]})]}),i.jsx("h2",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Welcome Back"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please sign in to continue"})]}),i.jsx("main",{children:i.jsxs(hoe,{method:"post",onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:u,className:"sr-only",children:"Email Address"}),i.jsx(Ua,{id:u,name:"email",type:"email",placeholder:"Enter your email",autoComplete:"email",required:!0,value:t,onChange:b=>n(b.target.value),endContent:i.jsx(Ype,{className:"pointer-events-none text-xl text-gray-400"}),classNames:p})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:d,className:"sr-only",children:"Password"}),i.jsx(Ua,{id:d,name:"password",placeholder:"Enter your password",type:l?"text":"password",autoComplete:"current-password",required:!0,minLength:8,value:r,onChange:b=>s(b.target.value),endContent:i.jsx("button",{"aria-label":"toggle password visibility",onClick:f,className:"focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 rounded-md",type:"button",children:l?i.jsx(oge,{className:"text-xl text-gray-400"}):i.jsx(lge,{className:"text-xl text-gray-400"})}),classNames:p})]}),i.jsx(ige,{type:"submit",color:"primary",variant:"solid",disabled:a,isLoading:a,className:"h-12 w-full bg-orange-500 text-base font-bold text-white shadow-md transition-all hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-70 dark:focus:ring-offset-gray-800",startContent:!a&&i.jsx(uge,{className:"text-xl"}),children:a?"Signing In...":"Sign In"})]})}),i.jsxs("footer",{className:"pt-6 border-t border-gray-200 dark:border-gray-600",children:[i.jsx("p",{className:"mb-4 text-center text-sm font-medium text-gray-600 dark:text-gray-400",children:"Connect with us"}),i.jsx("div",{className:"flex justify-center space-x-4",children:F0e.map(b=>i.jsx("a",{href:b.href,target:"_blank",rel:"noopener noreferrer","aria-label":b.label,className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200 hover:text-gray-900 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",children:b.icon},b.label))})]})]})})]})}function $d(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,s=m.createContext(void 0);s.displayName=r;function a(){var o;const l=m.useContext(s);if(!l&&t){const c=new Error(n);throw c.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,c,a),c}return l}return[s.Provider,a,s]}function B0e(e){return{UNSAFE_getDOMNode(){return e.current}}}function Kt(e){const t=m.useRef(null);return m.useImperativeHandle(e,()=>t.current),t}var z0e=e=>e?"":void 0;function i$(e){return Array.isArray(e)}function V0e(e){return i$(e)&&e.length===0}function xB(e){const t=typeof e;return e!=null&&(t==="object"||t==="function")&&!i$(e)}function W0e(e){return xB(e)&&Object.keys(e).length===0}function yB(e){return i$(e)?V0e(e):xB(e)?W0e(e):e==null||e===""}function U0e(e){return typeof e=="function"}var Ae=e=>e?"true":void 0;function vB(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=vB(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ye(...e){for(var t=0,n,r,s="";t<e.length;)(n=e[t++])&&(r=vB(n))&&(s&&(s+=" "),s+=r);return s}var K0e=e=>(e==null?void 0:e.length)<=4?e:e==null?void 0:e.slice(0,3),wB=(...e)=>{let t=" ";for(const n of e)if(typeof n=="string"&&n.length>0){t=n;break}return t},SB=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"";function H0e(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function jB(e){for(const t in e)t.startsWith("on")&&delete e[t];return e}function Kr(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function q0e(e,t,n){return Math.min(Math.max(e,t),n)}function G0e(e,t=100){return Math.min(Math.max(e,0),t)}var IT={};function Y0e(e,t,...n){const s=`[Hero UI] : ${e}`;typeof console>"u"||IT[s]||(IT[s]=!0)}function X0e(e,t){if(e!=null){if(U0e(e)){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function V1(...e){return t=>{e.forEach(n=>X0e(n,t))}}function Z0e(){const e=()=>()=>{};return m.useSyncExternalStore(e,()=>!0,()=>!1)}var J0e=(e,t)=>{var n;let r=[];const s=(n=m.Children.map(e,o=>m.isValidElement(o)&&o.type===t?(r.push(o),null):o))==null?void 0:n.filter(Boolean),a=r.length>=0?r:void 0;return[s,a]},Q0e=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),ebe=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),TT=/^(data-.*)$/,tbe=/^(aria-.*)$/,lx=/^(on[A-Z].*)$/;function Mn(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:s,omitPropNames:a,omitEventNames:o,omitDataProps:l,omitEventProps:c}=t,u={};if(!r)return e;for(const d in e)a!=null&&a.has(d)||o!=null&&o.has(d)&&lx.test(d)||lx.test(d)&&!ebe.has(d)||l&&TT.test(d)||c&&lx.test(d)||(Object.prototype.hasOwnProperty.call(e,d)&&(Q0e.has(d)||n&&tbe.test(d)||s!=null&&s.has(d)||TT.test(d))||lx.test(d))&&(u[d]=e[d]);return u}var[Nct,xr]=$d({name:"ProviderContext",strict:!1});const Wi={top:"top",bottom:"top",left:"left",right:"left"},Wy={top:"bottom",bottom:"top",left:"right",right:"left"},nbe={top:"left",left:"top"},A3={top:"height",left:"width"},CB={width:"totalWidth",height:"totalHeight"},cx={};let Ar=typeof document<"u"?window.visualViewport:null;function MT(e){let t=0,n=0,r=0,s=0,a=0,o=0,l={};var c;let u=((c=Ar==null?void 0:Ar.scale)!==null&&c!==void 0?c:1)>1;if(e.tagName==="BODY"){let b=document.documentElement;r=b.clientWidth,s=b.clientHeight;var d;t=(d=Ar==null?void 0:Ar.width)!==null&&d!==void 0?d:r;var f;n=(f=Ar==null?void 0:Ar.height)!==null&&f!==void 0?f:s,l.top=b.scrollTop||e.scrollTop,l.left=b.scrollLeft||e.scrollLeft,Ar&&(a=Ar.offsetTop,o=Ar.offsetLeft)}else({width:t,height:n,top:a,left:o}=Kf(e)),l.top=e.scrollTop,l.left=e.scrollLeft,r=t,s=n;if(l4()&&(e.tagName==="BODY"||e.tagName==="HTML")&&u){l.top=0,l.left=0;var h;a=(h=Ar==null?void 0:Ar.pageTop)!==null&&h!==void 0?h:0;var p;o=(p=Ar==null?void 0:Ar.pageLeft)!==null&&p!==void 0?p:0}return{width:t,height:n,totalWidth:r,totalHeight:s,scroll:l,top:a,left:o}}function rbe(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function OT(e,t,n,r,s,a,o){var l;let c=(l=s.scroll[e])!==null&&l!==void 0?l:0,u=r[A3[e]],d=r.scroll[Wi[e]]+a,f=u+r.scroll[Wi[e]]-a,h=t-c+o[e]-r[Wi[e]],p=t-c+n+o[e]-r[Wi[e]];return h<d?d-h:p>f?Math.max(f-p,d-h):0}function sbe(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function LT(e){if(cx[e])return cx[e];let[t,n]=e.split(" "),r=Wi[t]||"right",s=nbe[r];Wi[n]||(n="center");let a=A3[r],o=A3[s];return cx[e]={placement:t,crossPlacement:n,axis:r,crossAxis:s,size:a,crossSize:o},cx[e]}function uj(e,t,n,r,s,a,o,l,c,u){let{placement:d,crossPlacement:f,axis:h,crossAxis:p,size:b,crossSize:x}=r,y={};var v;y[p]=(v=e[p])!==null&&v!==void 0?v:0;var j,S,N,C;f==="center"?y[p]+=(((j=e[x])!==null&&j!==void 0?j:0)-((S=n[x])!==null&&S!==void 0?S:0))/2:f!==p&&(y[p]+=((N=e[x])!==null&&N!==void 0?N:0)-((C=n[x])!==null&&C!==void 0?C:0)),y[p]+=a;const $=e[p]-n[x]+c+u,P=e[p]+e[x]-c-u;if(y[p]=jy(y[p],$,P),d===h){const E=l?o[b]:t[CB[b]];y[Wy[h]]=Math.floor(E-e[h]+s)}else y[h]=Math.floor(e[h]+e[b]+s);return y}function abe(e,t,n,r,s,a,o,l){const c=r?n.height:t[CB.height];var u;let d=e.top!=null?n.top+e.top:n.top+(c-((u=e.bottom)!==null&&u!==void 0?u:0)-o);var f,h,p,b,x,y;let v=l!=="top"?Math.max(0,t.height+t.top+((f=t.scroll.top)!==null&&f!==void 0?f:0)-d-(((h=s.top)!==null&&h!==void 0?h:0)+((p=s.bottom)!==null&&p!==void 0?p:0)+a)):Math.max(0,d+o-(t.top+((b=t.scroll.top)!==null&&b!==void 0?b:0))-(((x=s.top)!==null&&x!==void 0?x:0)+((y=s.bottom)!==null&&y!==void 0?y:0)+a));return Math.min(t.height-a*2,v)}function _T(e,t,n,r,s,a){let{placement:o,axis:l,size:c}=a;var u,d;if(o===l)return Math.max(0,n[l]-e[l]-((u=e.scroll[l])!==null&&u!==void 0?u:0)+t[l]-((d=r[l])!==null&&d!==void 0?d:0)-r[Wy[l]]-s);var f;return Math.max(0,e[c]+e[l]+e.scroll[l]-t[l]-n[l]-n[c]-((f=r[l])!==null&&f!==void 0?f:0)-r[Wy[l]]-s)}function ibe(e,t,n,r,s,a,o,l,c,u,d,f,h,p,b,x){let y=LT(e),{size:v,crossAxis:j,crossSize:S,placement:N,crossPlacement:C}=y,$=uj(t,l,n,y,d,f,u,h,b,x),P=d,E=_T(l,u,t,s,a+d,y);if(o&&r[v]>E){let Y=LT(`${Wy[N]} ${C}`),ae=uj(t,l,n,Y,d,f,u,h,b,x);_T(l,u,t,s,a+d,Y)>E&&(y=Y,$=ae,P=d)}let M="bottom";y.axis==="top"?y.placement==="top"?M="top":y.placement==="bottom"&&(M="bottom"):y.crossAxis==="top"&&(y.crossPlacement==="top"?M="bottom":y.crossPlacement==="bottom"&&(M="top"));let k=OT(j,$[j],n[S],l,c,a,u);$[j]+=k;let A=abe($,l,u,h,s,a,n.height,M);p&&p<A&&(A=p),n.height=Math.min(n.height,A),$=uj(t,l,n,y,P,f,u,h,b,x),k=OT(j,$[j],n[S],l,c,a,u),$[j]+=k;let I={},L=t[j]+.5*t[S]-$[j]-s[Wi[j]];const R=b/2+x;var F,T,O,_;const W=Wi[j]==="left"?((F=s.left)!==null&&F!==void 0?F:0)+((T=s.right)!==null&&T!==void 0?T:0):((O=s.top)!==null&&O!==void 0?O:0)+((_=s.bottom)!==null&&_!==void 0?_:0),z=n[S]-W-b/2-x,U=t[j]+b/2-($[j]+s[Wi[j]]),H=t[j]+t[S]-b/2-($[j]+s[Wi[j]]),B=jy(L,U,H);return I[j]=jy(B,R,z),{position:$,maxHeight:A,arrowOffsetLeft:I.left,arrowOffsetTop:I.top,placement:y.placement}}function obe(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:s,padding:a,shouldFlip:o,boundaryElement:l,offset:c,crossOffset:u,maxHeight:d,arrowSize:f=0,arrowBoundaryOffset:h=0}=e,p=r instanceof HTMLElement?lbe(r):document.documentElement,b=p===document.documentElement;const x=window.getComputedStyle(p).position;let y=!!x&&x!=="static",v=b?Kf(n):FT(n,p);if(!b){let{marginTop:I,marginLeft:L}=window.getComputedStyle(n);v.top+=parseInt(I,10)||0,v.left+=parseInt(L,10)||0}let j=Kf(r),S=sbe(r);var N,C;j.width+=((N=S.left)!==null&&N!==void 0?N:0)+((C=S.right)!==null&&C!==void 0?C:0);var $,P;j.height+=(($=S.top)!==null&&$!==void 0?$:0)+((P=S.bottom)!==null&&P!==void 0?P:0);let E=rbe(s),M=MT(l),k=MT(p),A=l.tagName==="BODY"?Kf(p):FT(p,l);return p.tagName==="HTML"&&l.tagName==="BODY"&&(k.scroll.top=0,k.scroll.left=0),ibe(t,v,j,E,S,a,o,M,k,A,c,u,y,d,f,h)}function Kf(e){let{top:t,left:n,width:r,height:s}=e.getBoundingClientRect(),{scrollTop:a,scrollLeft:o,clientTop:l,clientLeft:c}=document.documentElement;return{top:t+a-l,left:n+o-c,width:r,height:s}}function FT(e,t){let n=window.getComputedStyle(e),r;if(n.position==="fixed"){let{top:s,left:a,width:o,height:l}=e.getBoundingClientRect();r={top:s,left:a,width:o,height:l}}else{r=Kf(e);let s=Kf(t),a=window.getComputedStyle(t);s.top+=(parseInt(a.borderTopWidth,10)||0)-t.scrollTop,s.left+=(parseInt(a.borderLeftWidth,10)||0)-t.scrollLeft,r.top-=s.top,r.left-=s.left}return r.top-=parseInt(n.marginTop,10)||0,r.left-=parseInt(n.marginLeft,10)||0,r}function lbe(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!RT(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!RT(t);)t=t.parentElement;return t||document.documentElement}function RT(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const NB=new WeakMap;function cbe(e){let{triggerRef:t,isOpen:n,onClose:r}=e;m.useEffect(()=>{if(!n||r===null)return;let s=a=>{let o=a.target;if(!t.current||o instanceof Node&&!o.contains(t.current)||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement)return;let l=r||NB.get(t.current);l&&l()};return window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("scroll",s,!0)}},[n,r,t])}let sr=typeof document<"u"?window.visualViewport:null;function $B(e){let{direction:t}=ro(),{arrowSize:n=0,targetRef:r,overlayRef:s,scrollRef:a=s,placement:o="bottom",containerPadding:l=12,shouldFlip:c=!0,boundaryElement:u=typeof document<"u"?document.body:null,offset:d=0,crossOffset:f=0,shouldUpdatePosition:h=!0,isOpen:p=!0,onClose:b,maxHeight:x,arrowBoundaryOffset:y=0}=e,[v,j]=m.useState(null),S=[h,o,s.current,r.current,a.current,l,c,u,d,f,p,t,x,y,n],N=m.useRef(sr==null?void 0:sr.scale);m.useEffect(()=>{p&&(N.current=sr==null?void 0:sr.scale)},[p]);let C=m.useCallback(()=>{if(h===!1||!p||!s.current||!r.current||!u||(sr==null?void 0:sr.scale)!==N.current)return;let k=null;if(a.current&&a.current.contains(document.activeElement)){var A;let _=(A=document.activeElement)===null||A===void 0?void 0:A.getBoundingClientRect(),W=a.current.getBoundingClientRect();var I;if(k={type:"top",offset:((I=_==null?void 0:_.top)!==null&&I!==void 0?I:0)-W.top},k.offset>W.height/2){k.type="bottom";var L;k.offset=((L=_==null?void 0:_.bottom)!==null&&L!==void 0?L:0)-W.bottom}}let R=s.current;if(!x&&s.current){var F;R.style.top="0px",R.style.bottom="";var T;R.style.maxHeight=((T=(F=window.visualViewport)===null||F===void 0?void 0:F.height)!==null&&T!==void 0?T:window.innerHeight)+"px"}let O=obe({placement:dbe(o,t),overlayNode:s.current,targetNode:r.current,scrollNode:a.current||s.current,padding:l,shouldFlip:c,boundaryElement:u,offset:d,crossOffset:f,maxHeight:x,arrowSize:n,arrowBoundaryOffset:y});if(O.position){if(R.style.top="",R.style.bottom="",R.style.left="",R.style.right="",Object.keys(O.position).forEach(_=>R.style[_]=O.position[_]+"px"),R.style.maxHeight=O.maxHeight!=null?O.maxHeight+"px":"",k&&document.activeElement&&a.current){let _=document.activeElement.getBoundingClientRect(),W=a.current.getBoundingClientRect(),z=_[k.type]-W[k.type];a.current.scrollTop+=z-k.offset}j(O)}},S);Dn(C,S),ube(C),Dk({ref:s,onResize:C}),Dk({ref:r,onResize:C});let $=m.useRef(!1);Dn(()=>{let k,A=()=>{$.current=!0,clearTimeout(k),k=setTimeout(()=>{$.current=!1},500),C()},I=()=>{$.current&&A()};return sr==null||sr.addEventListener("resize",A),sr==null||sr.addEventListener("scroll",I),()=>{sr==null||sr.removeEventListener("resize",A),sr==null||sr.removeEventListener("scroll",I)}},[C]);let P=m.useCallback(()=>{$.current||b==null||b()},[b,$]);cbe({triggerRef:r,isOpen:p,onClose:b&&P});var E,M;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...v==null?void 0:v.position,maxHeight:(E=v==null?void 0:v.maxHeight)!==null&&E!==void 0?E:"100vh"}},placement:(M=v==null?void 0:v.placement)!==null&&M!==void 0?M:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:v==null?void 0:v.arrowOffsetLeft,top:v==null?void 0:v.arrowOffsetTop}},updatePosition:C}}function ube(e){Dn(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function dbe(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}function fbe(e){const t=Bs(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,s=n!=="none"&&r!=="hidden"&&r!=="collapse";if(s){const{getComputedStyle:a}=e.ownerDocument.defaultView;let{display:o,visibility:l}=a(e);s=o!=="none"&&l!=="hidden"&&l!=="collapse"}return s}function hbe(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function EB(e,t){return e.nodeName!=="#comment"&&fbe(e)&&hbe(e,t)&&(!e.parentElement||EB(e.parentElement,e))}const BT=Z.createContext(null),P3="react-aria-focus-scope-restore";let Pn=null;function AB(e){let{children:t,contain:n,restoreFocus:r,autoFocus:s}=e,a=m.useRef(null),o=m.useRef(null),l=m.useRef([]),{parentNode:c}=m.useContext(BT)||{},u=m.useMemo(()=>new k3({scopeRef:l}),[l]);Dn(()=>{let h=c||hr.root;if(hr.getTreeNode(h.scopeRef)&&Pn&&!Uy(Pn,h.scopeRef)){let p=hr.getTreeNode(Pn);p&&(h=p)}h.addChild(u),hr.addNode(u)},[u,c]),Dn(()=>{let h=hr.getTreeNode(l);h&&(h.contain=!!n)},[n]),Dn(()=>{var h;let p=(h=a.current)===null||h===void 0?void 0:h.nextSibling,b=[],x=y=>y.stopPropagation();for(;p&&p!==o.current;)b.push(p),p.addEventListener(P3,x),p=p.nextSibling;return l.current=b,()=>{for(let y of b)y.removeEventListener(P3,x)}},[t]),xbe(l,r,n),pbe(l,n),ybe(l,r,n),bbe(l,s),m.useEffect(()=>{const h=ss(hn(l.current?l.current[0]:void 0));let p=null;if(Ka(h,l.current)){for(let b of hr.traverse())b.scopeRef&&Ka(h,b.scopeRef.current)&&(p=b);p===hr.getTreeNode(l)&&(Pn=p.scopeRef)}},[l]),Dn(()=>()=>{var h,p,b;let x=(b=(p=hr.getTreeNode(l))===null||p===void 0||(h=p.parent)===null||h===void 0?void 0:h.scopeRef)!==null&&b!==void 0?b:null;(l===Pn||Uy(l,Pn))&&(!x||hr.getTreeNode(x))&&(Pn=x),hr.removeTreeNode(l)},[l]);let d=m.useMemo(()=>mbe(l),[]),f=m.useMemo(()=>({focusManager:d,parentNode:u}),[u,d]);return Z.createElement(BT.Provider,{value:f},Z.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),t,Z.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function mbe(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:s,wrap:a,accept:o}=t;var l;let c=r||ss(hn((l=n[0])!==null&&l!==void 0?l:void 0)),u=n[0].previousElementSibling,d=Hu(n),f=Ra(d,{tabbable:s,accept:o},n);f.currentNode=Ka(c,n)?c:u;let h=f.nextNode();return!h&&a&&(f.currentNode=u,h=f.nextNode()),h&&Vo(h,!0),h},focusPrevious(t={}){let n=e.current,{from:r,tabbable:s,wrap:a,accept:o}=t;var l;let c=r||ss(hn((l=n[0])!==null&&l!==void 0?l:void 0)),u=n[n.length-1].nextElementSibling,d=Hu(n),f=Ra(d,{tabbable:s,accept:o},n);f.currentNode=Ka(c,n)?c:u;let h=f.previousNode();return!h&&a&&(f.currentNode=u,h=f.previousNode()),h&&Vo(h,!0),h},focusFirst(t={}){let n=e.current,{tabbable:r,accept:s}=t,a=Hu(n),o=Ra(a,{tabbable:r,accept:s},n);o.currentNode=n[0].previousElementSibling;let l=o.nextNode();return l&&Vo(l,!0),l},focusLast(t={}){let n=e.current,{tabbable:r,accept:s}=t,a=Hu(n),o=Ra(a,{tabbable:r,accept:s},n);o.currentNode=n[n.length-1].nextElementSibling;let l=o.previousNode();return l&&Vo(l,!0),l}}}function Hu(e){return e[0].parentElement}function Sp(e){let t=hr.getTreeNode(Pn);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function pbe(e,t){let n=m.useRef(void 0),r=m.useRef(void 0);Dn(()=>{let s=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const a=hn(s?s[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!Sp(e)||u.isComposing)return;let d=ss(a),f=e.current;if(!f||!Ka(d,f))return;let h=Hu(f),p=Ra(h,{tabbable:!0},f);if(!d)return;p.currentNode=d;let b=u.shiftKey?p.previousNode():p.nextNode();b||(p.currentNode=u.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,b=u.shiftKey?p.previousNode():p.nextNode()),u.preventDefault(),b&&Vo(b,!0)},l=u=>{(!Pn||Uy(Pn,e))&&Ka(ir(u),e.current)?(Pn=e,n.current=ir(u)):Sp(e)&&!lc(ir(u),e)?n.current?n.current.focus():Pn&&Pn.current&&D3(Pn.current):Sp(e)&&(n.current=ir(u))},c=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{let d=lg(),f=(d==="virtual"||d===null)&&ag()&&LR(),h=ss(a);if(!f&&h&&Sp(e)&&!lc(h,e)){Pn=e;let b=ir(u);if(b&&b.isConnected){var p;n.current=b,(p=n.current)===null||p===void 0||p.focus()}else Pn.current&&D3(Pn.current)}})};return a.addEventListener("keydown",o,!1),a.addEventListener("focusin",l,!1),s==null||s.forEach(u=>u.addEventListener("focusin",l,!1)),s==null||s.forEach(u=>u.addEventListener("focusout",c,!1)),()=>{a.removeEventListener("keydown",o,!1),a.removeEventListener("focusin",l,!1),s==null||s.forEach(u=>u.removeEventListener("focusin",l,!1)),s==null||s.forEach(u=>u.removeEventListener("focusout",c,!1))}},[e,t]),Dn(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function PB(e){return lc(e)}function Ka(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function lc(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of hr.traverse(hr.getTreeNode(t)))if(n&&Ka(e,n.current))return!0;return!1}function gbe(e){return lc(e,Pn)}function Uy(e,t){var n;let r=(n=hr.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Vo(e,t=!1){if(e!=null&&!t)try{vs(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function DB(e,t=!0){let n=e[0].previousElementSibling,r=Hu(e),s=Ra(r,{tabbable:t},e);s.currentNode=n;let a=s.nextNode();return t&&!a&&(r=Hu(e),s=Ra(r,{tabbable:!1},e),s.currentNode=n,a=s.nextNode()),a}function D3(e,t=!0){Vo(DB(e,t))}function bbe(e,t){const n=Z.useRef(t);m.useEffect(()=>{if(n.current){Pn=e;const r=hn(e.current?e.current[0]:void 0);!Ka(ss(r),Pn.current)&&e.current&&D3(e.current)}n.current=!1},[e])}function xbe(e,t,n){Dn(()=>{if(t||n)return;let r=e.current;const s=hn(r?r[0]:void 0);let a=o=>{let l=ir(o);Ka(l,e.current)?Pn=e:PB(l)||(Pn=null)};return s.addEventListener("focusin",a,!1),r==null||r.forEach(o=>o.addEventListener("focusin",a,!1)),()=>{s.removeEventListener("focusin",a,!1),r==null||r.forEach(o=>o.removeEventListener("focusin",a,!1))}},[e,t,n])}function zT(e){let t=hr.getTreeNode(Pn);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function ybe(e,t,n){const r=m.useRef(typeof document<"u"?ss(hn(e.current?e.current[0]:void 0)):null);Dn(()=>{let s=e.current;const a=hn(s?s[0]:void 0);if(!t||n)return;let o=()=>{(!Pn||Uy(Pn,e))&&Ka(ss(a),e.current)&&(Pn=e)};return a.addEventListener("focusin",o,!1),s==null||s.forEach(l=>l.addEventListener("focusin",o,!1)),()=>{a.removeEventListener("focusin",o,!1),s==null||s.forEach(l=>l.removeEventListener("focusin",o,!1))}},[e,n]),Dn(()=>{const s=hn(e.current?e.current[0]:void 0);if(!t)return;let a=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!Sp(e)||o.isComposing)return;let l=s.activeElement;if(!lc(l,e)||!zT(e))return;let c=hr.getTreeNode(e);if(!c)return;let u=c.nodeToRestore,d=Ra(s.body,{tabbable:!0});d.currentNode=l;let f=o.shiftKey?d.previousNode():d.nextNode();if((!u||!u.isConnected||u===s.body)&&(u=void 0,c.nodeToRestore=void 0),(!f||!lc(f,e))&&u){d.currentNode=u;do f=o.shiftKey?d.previousNode():d.nextNode();while(lc(f,e));o.preventDefault(),o.stopPropagation(),f?Vo(f,!0):PB(u)?Vo(u,!0):l.blur()}};return n||s.addEventListener("keydown",a,!0),()=>{n||s.removeEventListener("keydown",a,!0)}},[e,t,n]),Dn(()=>{const s=hn(e.current?e.current[0]:void 0);if(!t)return;let a=hr.getTreeNode(e);if(a){var o;return a.nodeToRestore=(o=r.current)!==null&&o!==void 0?o:void 0,()=>{let l=hr.getTreeNode(e);if(!l)return;let c=l.nodeToRestore,u=ss(s);if(t&&c&&(u&&lc(u,e)||u===s.body&&zT(e))){let d=hr.clone();requestAnimationFrame(()=>{if(s.activeElement===s.body){let f=d.getTreeNode(e);for(;f;){if(f.nodeToRestore&&f.nodeToRestore.isConnected){VT(f.nodeToRestore);return}f=f.parent}for(f=d.getTreeNode(e);f;){if(f.scopeRef&&f.scopeRef.current&&hr.getTreeNode(f.scopeRef)){let h=DB(f.scopeRef.current,!0);VT(h);return}f=f.parent}}})}}}},[e,t])}function VT(e){e.dispatchEvent(new CustomEvent(P3,{bubbles:!0,cancelable:!0}))&&Vo(e)}function Ra(e,t,n){let r=t!=null&&t.tabbable?sce:zR,s=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,a=hn(s),o=Ole(a,e||a,NodeFilter.SHOW_ELEMENT,{acceptNode(l){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(l)?NodeFilter.FILTER_REJECT:r(l)&&EB(l)&&(!n||Ka(l,n))&&(!(t!=null&&t.accept)||t.accept(l))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(o.currentNode=t.from),o}class o${get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let s=this.fastMap.get(n??null);if(!s)return;let a=new k3({scopeRef:t});s.addChild(a),a.parent=s,this.fastMap.set(t,a),r&&(a.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let a of this.traverse())a!==n&&n.nodeToRestore&&a.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Ka(a.nodeToRestore,n.scopeRef.current)&&(a.nodeToRestore=n.nodeToRestore);let s=n.children;r&&(r.removeChild(n),s.size>0&&s.forEach(a=>r&&r.addChild(a))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new o$;var r;for(let s of this.traverse())n.addTreeNode(s.scopeRef,(r=(t=s.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,s.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new k3({scopeRef:null}),this.fastMap.set(null,this.root)}}class k3{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let hr=new o$;function Mr(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=m.useRef({isFocused:!1,isFocusVisible:t||el()}),[a,o]=m.useState(!1),[l,c]=m.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=m.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),d=m.useCallback(p=>{s.current.isFocused=p,o(p),u()},[u]);Fce(p=>{s.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:f}=x4({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=d0({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:l,focusProps:r?h:f}}function kB(e,t){let n=t==null?void 0:t.isDisabled,[r,s]=m.useState(!1);return Dn(()=>{if(e!=null&&e.current&&!n){let a=()=>{if(e.current){let l=Ra(e.current,{tabbable:!0});s(!!l.nextNode())}};a();let o=new MutationObserver(a);return o.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{o.disconnect()}}}),n?!1:r}function IB(e){let t=wbe(hn(e));t!==e&&(t&&vbe(t,e),e&&TB(e,t))}function vbe(e,t){e.dispatchEvent(new FocusEvent("blur",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:t}))}function TB(e,t){e.dispatchEvent(new FocusEvent("focus",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:t}))}function wbe(e){let t=ss(e),n=t==null?void 0:t.getAttribute("aria-activedescendant");return n&&e.getElementById(n)||t}const Oi=[];function MB(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:s,isDismissable:a=!1,isKeyboardDismissDisabled:o=!1,shouldCloseOnInteractOutside:l}=e;m.useEffect(()=>{if(s&&!Oi.includes(t))return Oi.push(t),()=>{let b=Oi.indexOf(t);b>=0&&Oi.splice(b,1)}},[s,t]);let c=()=>{Oi[Oi.length-1]===t&&n&&n()},u=b=>{(!l||l(b.target))&&Oi[Oi.length-1]===t&&(b.stopPropagation(),b.preventDefault())},d=b=>{(!l||l(b.target))&&(Oi[Oi.length-1]===t&&(b.stopPropagation(),b.preventDefault()),c())},f=b=>{b.key==="Escape"&&!o&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),c())};Uce({ref:t,onInteractOutside:a&&s?d:void 0,onInteractOutsideStart:u});let{focusWithinProps:h}=d0({isDisabled:!r,onBlurWithin:b=>{!b.relatedTarget||gbe(b.relatedTarget)||(!l||l(b.relatedTarget))&&(n==null||n())}}),p=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:f,...h},underlayProps:{onPointerDown:p}}}function OB(e,t,n){let{type:r}=e,{isOpen:s}=t;m.useEffect(()=>{n&&n.current&&NB.set(n.current,t.close)});let a;r==="menu"?a=!0:r==="listbox"&&(a="listbox");let o=Ur();return{triggerProps:{"aria-haspopup":a,"aria-expanded":s,"aria-controls":s?o:void 0,onPress:t.toggle},overlayProps:{id:o}}}const dj=typeof document<"u"&&window.visualViewport,Sbe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ux=0,fj;function LB(e={}){let{isDisabled:t}=e;Dn(()=>{if(!t)return ux++,ux===1&&(C1()?fj=Cbe():fj=jbe()),()=>{ux--,ux===0&&fj()}},[t])}function jbe(){return gr(Lf(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Lf(document.documentElement,"overflow","hidden"))}function Cbe(){let e,t,n=u=>{e=Xl(u.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=Lf(e,"overscrollBehavior","contain"))},r=u=>{if(!e||e===document.documentElement||e===document.body){u.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&u.preventDefault()},s=()=>{t&&t()},a=u=>{let d=u.target;Nbe(d)&&(l(),d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",dj&&(dj.height<window.innerHeight?requestAnimationFrame(()=>{WT(d)}):dj.addEventListener("resize",()=>WT(d),{once:!0}))}))},o=null,l=()=>{if(o)return;let u=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset;o=gr(Lm(window,"scroll",u),Lf(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Lf(document.documentElement,"overflow","hidden"),Lf(document.body,"marginTop",`-${f}px`),()=>{window.scrollTo(d,f)}),window.scrollTo(0,0)},c=gr(Lm(document,"touchstart",n,{passive:!1,capture:!0}),Lm(document,"touchmove",r,{passive:!1,capture:!0}),Lm(document,"touchend",s,{passive:!1,capture:!0}),Lm(document,"focus",a,!0));return()=>{t==null||t(),o==null||o(),c()}}function Lf(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Lm(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function WT(e){let t=document.scrollingElement||document.documentElement,n=e;for(;n&&n!==t;){let r=Xl(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let s=r.getBoundingClientRect().top,a=n.getBoundingClientRect().top;a>s+n.clientHeight&&(r.scrollTop+=a-s)}n=r.parentElement}}function Nbe(e){return e instanceof HTMLInputElement&&!Sbe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const $be=m.createContext({});function _B(){var e;return(e=m.useContext($be))!==null&&e!==void 0?e:{}}const I3=Z.createContext(null);function Ebe(e){let{children:t}=e,n=m.useContext(I3),[r,s]=m.useState(0),a=m.useMemo(()=>({parent:n,modalCount:r,addModal(){s(o=>o+1),n&&n.addModal()},removeModal(){s(o=>o-1),n&&n.removeModal()}}),[n,r]);return Z.createElement(I3.Provider,{value:a},t)}function Abe(){let e=m.useContext(I3);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function Pbe(e){let{modalProviderProps:t}=Abe();return Z.createElement("div",{"data-overlay-container":!0,...e,...t})}function Dbe(e){return Z.createElement(Ebe,null,Z.createElement(Pbe,e))}function UT(e){let t=_h(),{portalContainer:n=t?null:document.body,...r}=e,{getContainer:s}=_B();if(!e.portalContainer&&s&&(n=s()),Z.useEffect(()=>{if(n!=null&&n.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[n]),!n)return null;let a=Z.createElement(Dbe,r);return c0.createPortal(a,n)}var FB={};FB={dismiss:"تجاهل"};var RB={};RB={dismiss:"Отхвърляне"};var BB={};BB={dismiss:"Odstranit"};var zB={};zB={dismiss:"Luk"};var VB={};VB={dismiss:"Schließen"};var WB={};WB={dismiss:"Απόρριψη"};var UB={};UB={dismiss:"Dismiss"};var KB={};KB={dismiss:"Descartar"};var HB={};HB={dismiss:"Lõpeta"};var qB={};qB={dismiss:"Hylkää"};var GB={};GB={dismiss:"Rejeter"};var YB={};YB={dismiss:"התעלם"};var XB={};XB={dismiss:"Odbaci"};var ZB={};ZB={dismiss:"Elutasítás"};var JB={};JB={dismiss:"Ignora"};var QB={};QB={dismiss:"閉じる"};var ez={};ez={dismiss:"무시"};var tz={};tz={dismiss:"Atmesti"};var nz={};nz={dismiss:"Nerādīt"};var rz={};rz={dismiss:"Lukk"};var sz={};sz={dismiss:"Negeren"};var az={};az={dismiss:"Zignoruj"};var iz={};iz={dismiss:"Descartar"};var oz={};oz={dismiss:"Dispensar"};var lz={};lz={dismiss:"Revocare"};var cz={};cz={dismiss:"Пропустить"};var uz={};uz={dismiss:"Zrušiť"};var dz={};dz={dismiss:"Opusti"};var fz={};fz={dismiss:"Odbaci"};var hz={};hz={dismiss:"Avvisa"};var mz={};mz={dismiss:"Kapat"};var pz={};pz={dismiss:"Скасувати"};var gz={};gz={dismiss:"取消"};var bz={};bz={dismiss:"關閉"};var xz={};xz={"ar-AE":FB,"bg-BG":RB,"cs-CZ":BB,"da-DK":zB,"de-DE":VB,"el-GR":WB,"en-US":UB,"es-ES":KB,"et-EE":HB,"fi-FI":qB,"fr-FR":GB,"he-IL":YB,"hr-HR":XB,"hu-HU":ZB,"it-IT":JB,"ja-JP":QB,"ko-KR":ez,"lt-LT":tz,"lv-LV":nz,"nb-NO":rz,"nl-NL":sz,"pl-PL":az,"pt-BR":iz,"pt-PT":oz,"ro-RO":lz,"ru-RU":cz,"sk-SK":uz,"sl-SI":dz,"sr-SP":fz,"sv-SE":hz,"tr-TR":mz,"uk-UA":pz,"zh-CN":gz,"zh-TW":bz};function kbe(e){return e&&e.__esModule?e.default:e}function Ky(e){let{onDismiss:t,...n}=e,r=pl(kbe(xz),"@react-aria/overlays"),s=Qf(n,r.format("dismiss")),a=()=>{t&&t()};return Z.createElement(f0,null,Z.createElement("button",{...s,tabIndex:-1,onClick:a,style:{width:1,height:1}}))}let _m=new WeakMap,ka=[];function yz(e,t=document.body){let n=new Set(e),r=new Set,s=c=>{for(let h of c.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(h);let u=h=>{if(n.has(h)||h.parentElement&&r.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of n)if(h.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},d=document.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),f=u(c);if(f===NodeFilter.FILTER_ACCEPT&&a(c),f!==NodeFilter.FILTER_REJECT){let h=d.nextNode();for(;h!=null;)a(h),h=d.nextNode()}},a=c=>{var u;let d=(u=_m.get(c))!==null&&u!==void 0?u:0;c.getAttribute("aria-hidden")==="true"&&d===0||(d===0&&c.setAttribute("aria-hidden","true"),r.add(c),_m.set(c,d+1))};ka.length&&ka[ka.length-1].disconnect(),s(t);let o=new MutationObserver(c=>{for(let u of c)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...n,...r].some(d=>d.contains(u.target))){for(let d of u.removedNodes)d instanceof Element&&(n.delete(d),r.delete(d));for(let d of u.addedNodes)(d instanceof HTMLElement||d instanceof SVGElement)&&(d.dataset.liveAnnouncer==="true"||d.dataset.reactAriaTopLayer==="true")?n.add(d):d instanceof Element&&s(d)}});o.observe(t,{childList:!0,subtree:!0});let l={visibleNodes:n,hiddenNodes:r,observe(){o.observe(t,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return ka.push(l),()=>{o.disconnect();for(let c of r){let u=_m.get(c);u!=null&&(u===1?(c.removeAttribute("aria-hidden"),_m.delete(c)):_m.set(c,u-1))}l===ka[ka.length-1]?(ka.pop(),ka.length&&ka[ka.length-1].observe()):ka.splice(ka.indexOf(l),1)}}const vz=Z.createContext(null);function wz(e){let t=_h(),{portalContainer:n=t?null:document.body,isExiting:r}=e,[s,a]=m.useState(!1),o=m.useMemo(()=>({contain:s,setContain:a}),[s,a]),{getContainer:l}=_B();if(!e.portalContainer&&l&&(n=l()),!n)return null;let c=e.children;return e.disableFocusManagement||(c=Z.createElement(AB,{restoreFocus:!0,contain:(e.shouldContainFocus||s)&&!r},c)),c=Z.createElement(vz.Provider,{value:o},Z.createElement(zce,null,c)),c0.createPortal(c,n)}function Ibe(){let e=m.useContext(vz),t=e==null?void 0:e.setContain;Dn(()=>{t==null||t(!0)},[t])}function Sz(e){const t=xr(),n=t==null?void 0:t.labelPlacement;return m.useMemo(()=>{var r,s;const a=(s=(r=e.labelPlacement)!=null?r:n)!=null?s:"inside";return a==="inside"&&!e.label?"outside":a},[e.labelPlacement,n,e.label])}function Ft(e){return m.forwardRef(e)}var Hr=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((s,a)=>a in e?{...s,[a]:e[a]}:s,{});return n?[Object.keys(e).filter(a=>!t.includes(a)).reduce((a,o)=>({...a,[o]:e[o]}),{}),r]:[e,r]},Tbe={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},Mbe={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},Obe={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},Lbe={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},_be={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},Fbe={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},Rbe={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},Te={solid:Tbe,shadow:Mbe,bordered:Obe,flat:Lbe,faded:_be,light:Fbe,ghost:Rbe},dx=["small","medium","large"],KT={theme:{opacity:["disabled"],spacing:["divider"],borderWidth:dx,borderRadius:dx},classGroups:{shadow:[{shadow:dx}],"font-size":[{text:["tiny",...dx]}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"]}},HT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ls=e=>!e||typeof e!="object"||Object.keys(e).length===0,Bbe=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function jz(e,t){e.forEach(function(n){Array.isArray(n)?jz(n,t):t.push(n)})}function Cz(e){let t=[];return jz(e,t),t}var Nz=(...e)=>Cz(e).filter(Boolean),$z=(e,t)=>{let n={},r=Object.keys(e),s=Object.keys(t);for(let a of r)if(s.includes(a)){let o=e[a],l=t[a];Array.isArray(o)||Array.isArray(l)?n[a]=Nz(l,o):typeof o=="object"&&typeof l=="object"?n[a]=$z(o,l):n[a]=l+" "+o}else n[a]=e[a];for(let a of s)r.includes(a)||(n[a]=t[a]);return n},qT=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();const l$="-",zbe=e=>{const t=Wbe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(l$);return l[0]===""&&l.length!==1&&l.shift(),Ez(l,t)||Vbe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Ez=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Ez(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(l$);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},GT=/^\[(.+)\]$/,Vbe=e=>{if(GT.test(e)){const t=GT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Wbe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Kbe(Object.entries(e.classGroups),n).forEach(([a,o])=>{T3(o,r,a,t)}),r},T3=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:YT(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Ube(s)){T3(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{T3(o,YT(t,a),n,r)})})},YT=(e,t)=>{let n=e;return t.split(l$).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ube=e=>e.isThemeGetter,Kbe=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,Hbe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},Az="!",qbe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let v=l[y];if(u===0){if(v===s&&(r||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(Az),b=p?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},Gbe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Ybe=e=>({cache:Hbe(e.cacheSize),parseClassName:qbe(e),...zbe(e)}),Xbe=/\s+/,Zbe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(Xbe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let b=!!p,x=r(b?h.substring(0,p):h);if(!x){if(!b){l=u+(l.length>0?" "+l:l);continue}if(x=r(h),!x){l=u+(l.length>0?" "+l:l);continue}b=!1}const y=Gbe(d).join(":"),v=f?y+Az:y,j=v+x;if(a.includes(j))continue;a.push(j);const S=s(x,b);for(let N=0;N<S.length;++N){const C=S[N];a.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function Jbe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Pz(t))&&(r&&(r+=" "),r+=n);return r}const Pz=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Pz(e[r]))&&(n&&(n+=" "),n+=t);return n};function M3(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Ybe(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Zbe(c,n);return s(c,d),d}return function(){return a(Jbe.apply(null,arguments))}}const _n=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Dz=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qbe=/^\d+\/\d+$/,exe=new Set(["px","full","screen"]),txe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,axe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=e=>Hf(e)||exe.has(e)||Qbe.test(e),Rl=e=>Kh(e,"length",hxe),Hf=e=>!!e&&!Number.isNaN(Number(e)),hj=e=>Kh(e,"number",Hf),Fm=e=>!!e&&Number.isInteger(Number(e)),ixe=e=>e.endsWith("%")&&Hf(e.slice(0,-1)),Tt=e=>Dz.test(e),Bl=e=>txe.test(e),oxe=new Set(["length","size","percentage"]),lxe=e=>Kh(e,oxe,kz),cxe=e=>Kh(e,"position",kz),uxe=new Set(["image","url"]),dxe=e=>Kh(e,uxe,pxe),fxe=e=>Kh(e,"",mxe),Rm=()=>!0,Kh=(e,t,n)=>{const r=Dz.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},hxe=e=>nxe.test(e)&&!rxe.test(e),kz=()=>!1,mxe=e=>sxe.test(e),pxe=e=>axe.test(e),O3=()=>{const e=_n("colors"),t=_n("spacing"),n=_n("blur"),r=_n("brightness"),s=_n("borderColor"),a=_n("borderRadius"),o=_n("borderSpacing"),l=_n("borderWidth"),c=_n("contrast"),u=_n("grayscale"),d=_n("hueRotate"),f=_n("invert"),h=_n("gap"),p=_n("gradientColorStops"),b=_n("gradientColorStopPositions"),x=_n("inset"),y=_n("margin"),v=_n("opacity"),j=_n("padding"),S=_n("saturate"),N=_n("scale"),C=_n("sepia"),$=_n("skew"),P=_n("space"),E=_n("translate"),M=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Tt,t],I=()=>[Tt,t],L=()=>["",Po,Rl],R=()=>["auto",Hf,Tt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Tt],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Hf,Tt];return{cacheSize:500,separator:":",theme:{colors:[Rm],spacing:[Po,Rl],blur:["none","",Bl,Tt],brightness:U(),borderColor:[e],borderRadius:["none","","full",Bl,Tt],borderSpacing:I(),borderWidth:L(),contrast:U(),grayscale:W(),hueRotate:U(),invert:W(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[ixe,Rl],inset:A(),margin:A(),opacity:U(),padding:I(),saturate:U(),scale:U(),sepia:W(),skew:U(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Tt]}],container:["container"],columns:[{columns:[Bl]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Tt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fm,Tt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Fm,Tt]}],"grid-cols":[{"grid-cols":[Rm]}],"col-start-end":[{col:["auto",{span:["full",Fm,Tt]},Tt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Rm]}],"row-start-end":[{row:["auto",{span:[Fm,Tt]},Tt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Tt,t]}],"min-w":[{"min-w":[Tt,t,"min","max","fit"]}],"max-w":[{"max-w":[Tt,t,"none","full","min","max","fit","prose",{screen:[Bl]},Bl]}],h:[{h:[Tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bl,Rl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hj]}],"font-family":[{font:[Rm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tt]}],"line-clamp":[{"line-clamp":["none",Hf,hj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Po,Tt]}],"list-image":[{"list-image":["none",Tt]}],"list-style-type":[{list:["none","disc","decimal",Tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Po,Rl]}],"underline-offset":[{"underline-offset":["auto",Po,Tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),cxe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lxe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dxe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Po,Tt]}],"outline-w":[{outline:[Po,Rl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Po,Rl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bl,fxe]}],"shadow-color":[{shadow:[Rm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bl,Tt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Tt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Fm,Tt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Po,Rl,hj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gxe=(e,{cacheSize:t,prefix:n,separator:r,experimentalParseClassName:s,extend:a={},override:o={}})=>{jp(e,"cacheSize",t),jp(e,"prefix",n),jp(e,"separator",r),jp(e,"experimentalParseClassName",s);for(const l in o)bxe(e[l],o[l]);for(const l in a)xxe(e[l],a[l]);return e},jp=(e,t,n)=>{n!==void 0&&(e[t]=n)},bxe=(e,t)=>{if(t)for(const n in t)jp(e,n,t[n])},xxe=(e,t)=>{if(t)for(const n in t){const r=t[n];r!==void 0&&(e[n]=(e[n]||[]).concat(r))}},yxe=(e,...t)=>typeof e=="function"?M3(O3,e,...t):M3(()=>gxe(O3(),e),...t),vxe=M3(O3);var wxe={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Iz=e=>e||void 0,bg=(...e)=>Iz(Cz(e).filter(Boolean).join(" ")),mj=null,Lo={},L3=!1,Bm=(...e)=>t=>t.twMerge?((!mj||L3)&&(L3=!1,mj=Ls(Lo)?vxe:yxe({...Lo,extend:{theme:Lo.theme,classGroups:Lo.classGroups,conflictingClassGroupModifiers:Lo.conflictingClassGroupModifiers,conflictingClassGroups:Lo.conflictingClassGroups,...Lo.extend}})),Iz(mj(bg(e)))):bg(e),XT=(e,t)=>{for(let n in t)e.hasOwnProperty(n)?e[n]=bg(e[n],t[n]):e[n]=t[n];return e},Sxe=(e,t)=>{let{extend:n=null,slots:r={},variants:s={},compoundVariants:a=[],compoundSlots:o=[],defaultVariants:l={}}=e,c={...wxe,...t},u=n!=null&&n.base?bg(n.base,e==null?void 0:e.base):e==null?void 0:e.base,d=n!=null&&n.variants&&!Ls(n.variants)?$z(s,n.variants):s,f=n!=null&&n.defaultVariants&&!Ls(n.defaultVariants)?{...n.defaultVariants,...l}:l;!Ls(c.twMergeConfig)&&!Bbe(c.twMergeConfig,Lo)&&(L3=!0,Lo=c.twMergeConfig);let h=Ls(n==null?void 0:n.slots),p=Ls(r)?{}:{base:bg(e==null?void 0:e.base,h&&(n==null?void 0:n.base)),...r},b=h?p:XT({...n==null?void 0:n.slots},Ls(p)?{base:e==null?void 0:e.base}:p),x=Ls(n==null?void 0:n.compoundVariants)?a:Nz(n==null?void 0:n.compoundVariants,a),y=j=>{if(Ls(d)&&Ls(r)&&h)return Bm(u,j==null?void 0:j.class,j==null?void 0:j.className)(c);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let S=(I,L,R=[],F)=>{let T=R;if(typeof L=="string")T=T.concat(qT(L).split(" ").map(O=>`${I}:${O}`));else if(Array.isArray(L))T=T.concat(L.reduce((O,_)=>O.concat(`${I}:${_}`),[]));else if(typeof L=="object"&&typeof F=="string"){for(let O in L)if(L.hasOwnProperty(O)&&O===F){let _=L[O];if(_&&typeof _=="string"){let W=qT(_);T[F]?T[F]=T[F].concat(W.split(" ").map(z=>`${I}:${z}`)):T[F]=W.split(" ").map(z=>`${I}:${z}`)}else Array.isArray(_)&&_.length>0&&(T[F]=_.reduce((W,z)=>W.concat(`${I}:${z}`),[]))}}return T},N=(I,L=d,R=null,F=null)=>{var T;let O=L[I];if(!O||Ls(O))return null;let _=(T=F==null?void 0:F[I])!=null?T:j==null?void 0:j[I];if(_===null)return null;let W=HT(_),z=Array.isArray(c.responsiveVariants)&&c.responsiveVariants.length>0||c.responsiveVariants===!0,U=f==null?void 0:f[I],H=[];if(typeof W=="object"&&z)for(let[ae,ce]of Object.entries(W)){let oe=O[ce];if(ae==="initial"){U=ce;continue}Array.isArray(c.responsiveVariants)&&!c.responsiveVariants.includes(ae)||(H=S(ae,oe,H,R))}let B=W!=null&&typeof W!="object"?W:HT(U),Y=O[B||"false"];return typeof H=="object"&&typeof R=="string"&&H[R]?XT(H,Y):H.length>0?(H.push(Y),R==="base"?H.join(" "):H):Y},C=()=>d?Object.keys(d).map(I=>N(I,d)):null,$=(I,L)=>{if(!d||typeof d!="object")return null;let R=new Array;for(let F in d){let T=N(F,d,I,L),O=I==="base"&&typeof T=="string"?T:T&&T[I];O&&(R[R.length]=O)}return R},P={};for(let I in j)j[I]!==void 0&&(P[I]=j[I]);let E=(I,L)=>{var R;let F=typeof(j==null?void 0:j[I])=="object"?{[I]:(R=j[I])==null?void 0:R.initial}:{};return{...f,...P,...F,...L}},M=(I=[],L)=>{let R=[];for(let{class:F,className:T,...O}of I){let _=!0;for(let[W,z]of Object.entries(O)){let U=E(W,L)[W];if(Array.isArray(z)){if(!z.includes(U)){_=!1;break}}else{let H=B=>B==null||B===!1;if(H(z)&&H(U))continue;if(U!==z){_=!1;break}}}_&&(F&&R.push(F),T&&R.push(T))}return R},k=I=>{let L=M(x,I);if(!Array.isArray(L))return L;let R={};for(let F of L)if(typeof F=="string"&&(R.base=Bm(R.base,F)(c)),typeof F=="object")for(let[T,O]of Object.entries(F))R[T]=Bm(R[T],O)(c);return R},A=I=>{if(o.length<1)return null;let L={};for(let{slots:R=[],class:F,className:T,...O}of o){if(!Ls(O)){let _=!0;for(let W of Object.keys(O)){let z=E(W,I)[W];if(z===void 0||(Array.isArray(O[W])?!O[W].includes(z):O[W]!==z)){_=!1;break}}if(!_)continue}for(let _ of R)L[_]=L[_]||[],L[_].push([F,T])}return L};if(!Ls(r)||!h){let I={};if(typeof b=="object"&&!Ls(b))for(let L of Object.keys(b))I[L]=R=>{var F,T;return Bm(b[L],$(L,R),((F=k(R))!=null?F:[])[L],((T=A(R))!=null?T:[])[L],R==null?void 0:R.class,R==null?void 0:R.className)(c)};return I}return Bm(u,C(),M(x),j==null?void 0:j.class,j==null?void 0:j.className)(c)},v=()=>{if(!(!d||typeof d!="object"))return Object.keys(d)};return y.variantKeys=v(),y.extend=n,y.base=u,y.slots=b,y.variants=d,y.defaultVariants=f,y.compoundSlots=o,y.compoundVariants=x,y},mn=(e,t)=>{var n,r,s;return Sxe(e,{...t,twMerge:(n=t==null?void 0:t.twMerge)!=null?n:!0,twMergeConfig:{...t==null?void 0:t.twMergeConfig,theme:{...(r=t==null?void 0:t.twMergeConfig)==null?void 0:r.theme,...KT.theme},classGroups:{...(s=t==null?void 0:t.twMergeConfig)==null?void 0:s.classGroups,...KT.classGroups}}})},ZT=mn({base:"w-px h-px inline-block",variants:{isInline:{true:"inline-block",false:"block"}},defaultVariants:{isInline:!1}}),JT=mn({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",label:"text-foreground dark:text-foreground-dark font-regular",circle1:"absolute w-full h-full rounded-full",circle2:"absolute w-full h-full rounded-full",dots:"relative rounded-full mx-auto",spinnerBars:["absolute","animate-fade-out","rounded-full","w-[25%]","h-[8%]","left-[calc(37.5%)]","top-[calc(46%)]","spinner-bar-animation"]},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",dots:"size-1",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",dots:"size-1.5",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",dots:"size-2",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current",dots:"bg-current",spinnerBars:"bg-current"},white:{circle1:"border-b-white",circle2:"border-b-white",dots:"bg-white",spinnerBars:"bg-white"},default:{circle1:"border-b-default",circle2:"border-b-default",dots:"bg-default",spinnerBars:"bg-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary",dots:"bg-primary",spinnerBars:"bg-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary",dots:"bg-secondary",spinnerBars:"bg-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success",dots:"bg-success",spinnerBars:"bg-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning",dots:"bg-warning",spinnerBars:"bg-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger",dots:"bg-danger",spinnerBars:"bg-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}},variant:{default:{circle1:["animate-spinner-ease-spin","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["opacity-75","animate-spinner-linear-spin","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"]},gradient:{circle1:["border-0","bg-gradient-to-b","from-transparent","via-transparent","to-primary","animate-spinner-linear-spin","[animation-duration:1s]","[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]"],circle2:["hidden"]},wave:{wrapper:"translate-y-3/4",dots:["animate-sway","spinner-dot-animation"]},dots:{wrapper:"translate-y-2/4",dots:["animate-blink","spinner-dot-blink-animation"]},spinner:{},simple:{wrapper:"text-foreground h-5 w-5 animate-spin",circle1:"opacity-25",circle2:"opacity-75"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground",variant:"default"},compoundVariants:[{variant:"gradient",color:"current",class:{circle1:"to-current"}},{variant:"gradient",color:"white",class:{circle1:"to-white"}},{variant:"gradient",color:"default",class:{circle1:"to-default"}},{variant:"gradient",color:"primary",class:{circle1:"to-primary"}},{variant:"gradient",color:"secondary",class:{circle1:"to-secondary"}},{variant:"gradient",color:"success",class:{circle1:"to-success"}},{variant:"gradient",color:"warning",class:{circle1:"to-warning"}},{variant:"gradient",color:"danger",class:{circle1:"to-danger"}},{variant:"wave",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"wave",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"wave",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"dots",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"dots",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"dots",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"simple",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"simple",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",color:"current",class:{wrapper:"text-current"}},{variant:"simple",color:"white",class:{wrapper:"text-white"}},{variant:"simple",color:"default",class:{wrapper:"text-default"}},{variant:"simple",color:"primary",class:{wrapper:"text-primary"}},{variant:"simple",color:"secondary",class:{wrapper:"text-secondary"}},{variant:"simple",color:"success",class:{wrapper:"text-success"}},{variant:"simple",color:"warning",class:{wrapper:"text-warning"}},{variant:"simple",color:"danger",class:{wrapper:"text-danger"}}]}),ha=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],Tz=["outline-none","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],jxe=["outline-none","ring-2","ring-focus","ring-offset-2","ring-offset-background"],pj=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],sf={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},Cxe=["font-inherit","text-[100%]","leading-[1.15]","m-0","p-0","overflow-visible","box-border","absolute","top-0","w-full","h-full","opacity-[0.0001]","z-[1]","cursor-pointer","disabled:cursor-default"],QT=mn({slots:{base:"flex flex-col relative gap-4",wrapper:["p-4","z-0","flex","flex-col","relative","justify-between","gap-4","shadow-small","bg-content1","overflow-auto"],table:"min-w-full h-auto",thead:"[&>tr]:first:rounded-lg",tbody:"after:block",tr:["group/tr","outline-none",...ha],th:["group/th","px-3","h-10","text-start","align-middle","bg-default-100","whitespace-nowrap","text-foreground-500","text-tiny","font-semibold","first:rounded-s-lg","last:rounded-e-lg","outline-none","data-[sortable=true]:cursor-pointer","data-[hover=true]:text-foreground-400",...ha],td:["py-2","px-3","relative","align-middle","whitespace-normal","text-small","font-normal","outline-none","[&>*]:z-1","[&>*]:relative",...ha,"before:content-['']","before:absolute","before:z-0","before:inset-0","before:opacity-0","data-[selected=true]:before:opacity-100","group-data-[disabled=true]/tr:text-foreground-300","group-data-[disabled=true]/tr:cursor-not-allowed"],tfoot:"",sortIcon:["ms-2","mb-px","opacity-0","text-inherit","inline-block","transition-transform-opacity","data-[visible=true]:opacity-100","group-data-[hover=true]/th:opacity-100","data-[direction=ascending]:rotate-180"],emptyWrapper:"text-foreground-400 align-middle text-center h-40",loadingWrapper:"absolute inset-0 flex items-center justify-center"},variants:{color:{default:{td:"before:bg-default/60 data-[selected=true]:text-default-foreground"},primary:{td:"before:bg-primary/20 data-[selected=true]:text-primary"},secondary:{td:"before:bg-secondary/20 data-[selected=true]:text-secondary"},success:{td:"before:bg-success/20 data-[selected=true]:text-success-600 dark:data-[selected=true]:text-success"},warning:{td:"before:bg-warning/20 data-[selected=true]:text-warning-600 dark:data-[selected=true]:text-warning"},danger:{td:"before:bg-danger/20 data-[selected=true]:text-danger dark:data-[selected=true]:text-danger-500"}},layout:{auto:{table:"table-auto"},fixed:{table:"table-fixed"}},radius:{none:{wrapper:"rounded-none"},sm:{wrapper:"rounded-small"},md:{wrapper:"rounded-medium"},lg:{wrapper:"rounded-large"}},shadow:{none:{wrapper:"shadow-none"},sm:{wrapper:"shadow-small"},md:{wrapper:"shadow-medium"},lg:{wrapper:"shadow-large"}},hideHeader:{true:{thead:"hidden"}},isStriped:{true:{td:["group-data-[odd=true]/tr:before:bg-default-100","group-data-[odd=true]/tr:before:opacity-100","group-data-[odd=true]/tr:before:-z-10"]}},isCompact:{true:{td:"py-1"},false:{}},isHeaderSticky:{true:{thead:"sticky top-0 z-20 [&>tr]:first:shadow-small"}},isSelectable:{true:{tr:"cursor-default",td:["group-aria-[selected=false]/tr:group-data-[hover=true]/tr:before:bg-default-100","group-aria-[selected=false]/tr:group-data-[hover=true]/tr:before:opacity-70"]}},isMultiSelectable:{true:{td:["group-data-[first=true]/tr:first:before:rounded-ss-lg","group-data-[first=true]/tr:last:before:rounded-se-lg","group-data-[middle=true]/tr:before:rounded-none","group-data-[last=true]/tr:first:before:rounded-es-lg","group-data-[last=true]/tr:last:before:rounded-ee-lg"]},false:{td:["first:before:rounded-s-lg","last:before:rounded-e-lg"]}},fullWidth:{true:{base:"w-full",wrapper:"w-full",table:"w-full"}},align:{start:{th:"text-start",td:"text-start"},center:{th:"text-center",td:"text-center"},end:{th:"text-end",td:"text-end"}}},defaultVariants:{layout:"auto",shadow:"sm",radius:"lg",color:"default",isCompact:!1,hideHeader:!1,isStriped:!1,fullWidth:!0,align:"start"},compoundVariants:[{isStriped:!0,color:"default",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-default/60"}},{isStriped:!0,color:"primary",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-primary/20"}},{isStriped:!0,color:"secondary",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-secondary/20"}},{isStriped:!0,color:"success",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-success/20"}},{isStriped:!0,color:"warning",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-warning/20"}},{isStriped:!0,color:"danger",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-danger/20"}}]}),e6=mn({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-none","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...ha],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-none","data-[inert=true]:hidden",...ha],tabWrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-sm",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex flex-row-reverse"},bottom:{tabWrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:Te.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:Te.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:Te.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:Te.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:Te.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]}),Hy=mn({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...ha],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:Te.solid.foreground},primary:{base:"before:bg-primary",content:Te.solid.primary},secondary:{base:"before:bg-secondary",content:Te.solid.secondary},success:{base:"before:bg-success",content:Te.solid.success},warning:{base:"before:bg-warning",content:Te.solid.warning},danger:{base:"before:bg-danger",content:Te.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{none:{content:"shadow-none"},sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),t6=mn({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden rtl:rotate-180",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient-default bg-stripe-size"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}},{color:"primary",isStriped:!0,class:{indicator:"bg-stripe-gradient-primary bg-stripe-size"}},{color:"secondary",isStriped:!0,class:{indicator:"bg-stripe-gradient-secondary bg-stripe-size"}},{color:"success",isStriped:!0,class:{indicator:"bg-stripe-gradient-success bg-stripe-size"}},{color:"warning",isStriped:!0,class:{indicator:"bg-stripe-gradient-warning bg-stripe-size"}},{color:"danger",isStriped:!0,class:{indicator:"bg-stripe-gradient-danger bg-stripe-size"}}]},{twMerge:!0});mn({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});var Nxe=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],$xe=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],qy=mn({base:[],variants:{orientation:{vertical:["overflow-y-auto",...Nxe],horizontal:["overflow-x-auto",...$xe]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}}),n6=mn({slots:{base:["group inline-flex flex-col relative"],label:["block","absolute","z-10","origin-top-left","flex-shrink-0","rtl:origin-top-right","subpixel-antialiased","text-small","text-foreground-500","pointer-events-none","group-data-[has-label-outside=true]:pointer-events-auto"],mainWrapper:"w-full flex flex-col",trigger:"relative px-3 gap-3 w-full inline-flex flex-row items-center shadow-sm outline-none tap-highlight-transparent",innerWrapper:"inline-flex h-fit w-[calc(100%_-_theme(spacing.6))] min-h-4 items-center gap-1.5 box-border",selectorIcon:"absolute end-3 w-4 h-4",spinner:"absolute end-3",value:["text-foreground-500","font-normal","w-full","text-start"],listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",helperWrapper:"p-1 flex relative flex-col gap-1.5 group-data-[has-helper=true]:flex",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{trigger:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-200"]},faded:{trigger:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 data-[focus=true]:border-default-400 data-[open=true]:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{trigger:["border-medium","border-default-200","data-[hover=true]:border-default-400","data-[open=true]:border-default-foreground","data-[focus=true]:border-default-foreground"],value:"group-data-[has-value=true]:text-default-foreground"},underlined:{trigger:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","data-[open=true]:after:w-full","data-[focus=true]:after:w-full"],value:"group-data-[has-value=true]:text-default-foreground"}},color:{default:{},primary:{selectorIcon:"text-primary"},secondary:{selectorIcon:"text-secondary"},success:{selectorIcon:"text-success"},warning:{selectorIcon:"text-warning"},danger:{selectorIcon:"text-danger"}},size:{sm:{label:"text-tiny",trigger:"h-8 min-h-8 px-2 rounded-small",value:"text-small"},md:{trigger:"h-10 min-h-10 rounded-medium",value:"text-small"},lg:{trigger:"h-12 min-h-12 rounded-large",value:"text-medium"}},radius:{none:{trigger:"rounded-none"},sm:{trigger:"rounded-small"},md:{trigger:"rounded-medium"},lg:{trigger:"rounded-large"},full:{trigger:"rounded-full"}},labelPlacement:{outside:{base:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",label:"relative pe-2 text-foreground"},inside:{label:"text-tiny cursor-pointer",trigger:"flex-col items-start justify-center gap-0"}},fullWidth:{true:{base:"w-full"},false:{base:"min-w-40"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",trigger:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",value:"!text-danger",selectorIcon:"text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",trigger:"!h-auto"},false:{value:"truncate"}},disableAnimation:{true:{trigger:"after:transition-none",base:"transition-none",label:"transition-none",selectorIcon:"transition-none"},false:{base:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","origin-top-left","rtl:origin-top-right","!duration-200","!ease-out","transition-[transform,color,left,opacity]","motion-reduce:transition-none"],selectorIcon:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorIcon:"data-[open=true]:rotate-180"}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,isDisabled:!1,isMultiline:!1,disableSelectorIconRotation:!1},compoundVariants:[{variant:"flat",color:"default",class:{value:"group-data-[has-value=true]:text-default-foreground",trigger:["bg-default-100","data-[hover=true]:bg-default-200"]}},{variant:"flat",color:"primary",class:{trigger:["bg-primary-100","text-primary","data-[hover=true]:bg-primary-50","group-data-[focus=true]:bg-primary-50"],value:"text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{trigger:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50"],value:"text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{trigger:["bg-success-100","text-success-600","dark:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],value:"text-success-600 dark:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{trigger:["bg-warning-100","text-warning-600","dark:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],value:"text-warning-600 dark:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{trigger:["bg-danger-100","text-danger","dark:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],value:"text-danger dark:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{trigger:"data-[hover=true]:border-primary data-[focus=true]:border-primary data-[open=true]:border-primary",label:"text-primary"}},{variant:"faded",color:"secondary",class:{trigger:"data-[hover=true]:border-secondary data-[focus=true]:border-secondary data-[open=true]:border-secondary",label:"text-secondary"}},{variant:"faded",color:"success",class:{trigger:"data-[hover=true]:border-success data-[focus=true]:border-success data-[open=true]:border-success",label:"text-success"}},{variant:"faded",color:"warning",class:{trigger:"data-[hover=true]:border-warning data-[focus=true]:border-warning data-[open=true]:border-warning",label:"text-warning"}},{variant:"faded",color:"danger",class:{trigger:"data-[hover=true]:border-danger data-[focus=true]:border-danger data-[open=true]:border-danger",label:"text-danger"}},{variant:"underlined",color:"default",class:{value:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{trigger:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{trigger:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{trigger:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{trigger:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{trigger:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{trigger:["data-[open=true]:border-primary","data-[focus=true]:border-primary"],label:"text-primary"}},{variant:"bordered",color:"secondary",class:{trigger:["data-[open=true]:border-secondary","data-[focus=true]:border-secondary"],label:"text-secondary"}},{variant:"bordered",color:"success",class:{trigger:["data-[open=true]:border-success","data-[focus=true]:border-success"],label:"text-success"}},{variant:"bordered",color:"warning",class:{trigger:["data-[open=true]:border-warning","data-[focus=true]:border-warning"],label:"text-warning"}},{variant:"bordered",color:"danger",class:{trigger:["data-[open=true]:border-danger","data-[focus=true]:border-danger"],label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled=true]:text-foreground"}},{radius:"full",size:["sm"],class:{trigger:"px-3"}},{radius:"full",size:"md",class:{trigger:"px-4"}},{radius:"full",size:"lg",class:{trigger:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{trigger:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{trigger:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{trigger:[...ha]}},{isInvalid:!0,variant:"flat",class:{trigger:["bg-danger-50","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{trigger:"!border-danger group-data-[focus=true]:border-danger"}},{isInvalid:!0,variant:"underlined",class:{trigger:"after:bg-danger"}},{labelPlacement:"inside",size:"sm",class:{trigger:"h-12 min-h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{trigger:"h-14 min-h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{label:"text-medium",trigger:"h-16 min-h-16 py-2.5 gap-0"}},{labelPlacement:"outside",isMultiline:!1,class:{base:"group relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled=true]:start-0"]}},{labelPlacement:["inside"],class:{label:"group-data-[filled=true]:scale-85"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-5"}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_26px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"md",class:{label:["start-3","text-small","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_30px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"lg",class:{label:["start-3","text-medium","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]","group-data-[has-helper=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_34px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}}]}),r6=mn({slots:{base:"group flex flex-col data-[hidden=true]:hidden",label:["absolute","z-10","pointer-events-none","origin-top-left","flex-shrink-0","rtl:origin-top-right","subpixel-antialiased","block","text-small","text-foreground-500"],mainWrapper:"h-full",inputWrapper:"relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",innerWrapper:"inline-flex w-full items-center h-full box-border",input:["w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none","data-[has-start-content=true]:ps-1.5","data-[has-end-content=true]:pe-1.5","data-[type=color]:rounded-none","file:cursor-pointer file:bg-transparent file:border-0","autofill:bg-transparent bg-clip-text"],clearButton:["p-2","-m-2","z-10","absolute","end-3","start-auto","pointer-events-none","appearance-none","outline-none","select-none","opacity-0","hover:!opacity-100","cursor-pointer","active:!opacity-70","rounded-full",...ha],helperWrapper:"hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{inputWrapper:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{inputWrapper:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 focus-within:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{inputWrapper:["border-medium","border-default-200","data-[hover=true]:border-default-400","group-data-[focus=true]:border-default-foreground"]},underlined:{inputWrapper:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","group-data-[focus=true]:after:w-full"],innerWrapper:"pb-1",label:"group-data-[filled-within=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",inputWrapper:"h-8 min-h-8 px-2 rounded-small",input:"text-small",clearButton:"text-medium"},md:{inputWrapper:"h-10 min-h-10 rounded-medium",input:"text-small",clearButton:"text-large"},lg:{label:"text-medium",inputWrapper:"h-12 min-h-12 rounded-large",input:"text-medium",clearButton:"text-large"}},radius:{none:{inputWrapper:"rounded-none"},sm:{inputWrapper:"rounded-small"},md:{inputWrapper:"rounded-medium"},lg:{inputWrapper:"rounded-large"},full:{inputWrapper:"rounded-full"}},labelPlacement:{outside:{mainWrapper:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",inputWrapper:"flex-1",mainWrapper:"flex flex-col",label:"relative text-foreground pe-2 ps-2 pointer-events-auto"},inside:{label:"cursor-text",inputWrapper:"flex-col items-start justify-center gap-0",innerWrapper:"group-data-[has-label=true]:items-end"}},fullWidth:{true:{base:"w-full"},false:{}},isClearable:{true:{input:"peer pe-6 input-search-cancel-button-none",clearButton:["peer-data-[filled=true]:pointer-events-auto","peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block","peer-data-[filled=true]:scale-100"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",inputWrapper:"pointer-events-none",label:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",input:"!placeholder:text-danger !text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",inputWrapper:"!h-auto",innerWrapper:"items-start group-data-[has-label=true]:items-start",input:"resize-none data-[hide-scroll=true]:scrollbar-hide",clearButton:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10"}},disableAnimation:{true:{input:"transition-none",inputWrapper:"transition-none",label:"transition-none"},false:{inputWrapper:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","!duration-200","!ease-out","motion-reduce:transition-none","transition-[transform,color,left,opacity]"],clearButton:["scale-90","ease-out","duration-150","transition-[opacity,transform]","motion-reduce:transition-none","motion-reduce:scale-100"]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,isDisabled:!1,isMultiline:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{inputWrapper:["bg-primary-100","data-[hover=true]:bg-primary-50","text-primary","group-data-[focus=true]:bg-primary-50","placeholder:text-primary"],input:"placeholder:text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{inputWrapper:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50","placeholder:text-secondary"],input:"placeholder:text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{inputWrapper:["bg-success-100","text-success-600","dark:text-success","placeholder:text-success-600","dark:placeholder:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],input:"placeholder:text-success-600 dark:placeholder:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{inputWrapper:["bg-warning-100","text-warning-600","dark:text-warning","placeholder:text-warning-600","dark:placeholder:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],input:"placeholder:text-warning-600 dark:placeholder:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{inputWrapper:["bg-danger-100","text-danger","dark:text-danger-500","placeholder:text-danger","dark:placeholder:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],input:"placeholder:text-danger dark:placeholder:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{label:"text-primary",inputWrapper:"data-[hover=true]:border-primary focus-within:border-primary"}},{variant:"faded",color:"secondary",class:{label:"text-secondary",inputWrapper:"data-[hover=true]:border-secondary focus-within:border-secondary"}},{variant:"faded",color:"success",class:{label:"text-success",inputWrapper:"data-[hover=true]:border-success focus-within:border-success"}},{variant:"faded",color:"warning",class:{label:"text-warning",inputWrapper:"data-[hover=true]:border-warning focus-within:border-warning"}},{variant:"faded",color:"danger",class:{label:"text-danger",inputWrapper:"data-[hover=true]:border-danger focus-within:border-danger"}},{variant:"underlined",color:"default",class:{input:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{inputWrapper:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{inputWrapper:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{inputWrapper:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{inputWrapper:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{inputWrapper:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{inputWrapper:"group-data-[focus=true]:border-primary",label:"text-primary"}},{variant:"bordered",color:"secondary",class:{inputWrapper:"group-data-[focus=true]:border-secondary",label:"text-secondary"}},{variant:"bordered",color:"success",class:{inputWrapper:"group-data-[focus=true]:border-success",label:"text-success"}},{variant:"bordered",color:"warning",class:{inputWrapper:"group-data-[focus=true]:border-warning",label:"text-warning"}},{variant:"bordered",color:"danger",class:{inputWrapper:"group-data-[focus=true]:border-danger",label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled-within=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled-within=true]:text-foreground"}},{radius:"full",size:["sm"],class:{inputWrapper:"px-3"}},{radius:"full",size:"md",class:{inputWrapper:"px-4"}},{radius:"full",size:"lg",class:{inputWrapper:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{inputWrapper:[...Tz]}},{isInvalid:!0,variant:"flat",class:{inputWrapper:["!bg-danger-50","data-[hover=true]:!bg-danger-100","group-data-[focus=true]:!bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:"!border-danger group-data-[focus=true]:!border-danger"}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:"after:!bg-danger"}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:"h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{inputWrapper:"h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{inputWrapper:"h-16 py-2.5 gap-0"}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:"py-1"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled-within=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled-within=true]:start-0"]}},{labelPlacement:["inside"],class:{label:["group-data-[filled-within=true]:scale-85"]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:"pb-0.5"}},{variant:"underlined",size:"sm",class:{innerWrapper:"pb-1"}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:"pb-1.5"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:["start-3","end-auto","text-small","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:["start-3","end-auto","text-medium","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:"py-2"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:"inside",isMultiline:!0,class:{label:"pb-0.5",input:"pt-0"}},{isMultiline:!0,disableAnimation:!1,class:{input:"transition-height !duration-100 motion-reduce:transition-none"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}},{isMultiline:!0,radius:"full",class:{inputWrapper:"data-[has-multiple-rows=true]:rounded-large"}},{isClearable:!0,isMultiline:!0,class:{clearButton:["group-data-[has-value=true]:opacity-70 group-data-[has-value=true]:block","group-data-[has-value=true]:scale-100","group-data-[has-value=true]:pointer-events-auto"]}}]}),Mz=mn({slots:{base:"w-full relative flex flex-col gap-1 p-1 overflow-clip",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),Gy=mn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...ha,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}},hasTitleTextChild:{true:{title:"truncate"}},hasDescriptionTextChild:{true:{description:"truncate"}}},defaultVariants:{variant:"solid",color:"default",showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),Oz=mn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),Exe=mn({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),Axe=mn({base:["w-full","p-1","min-w-[200px]"]});mn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...ha,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default"},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});mn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});mn({base:"w-full flex flex-col gap-0.5 p-1"});var Pxe=mn({base:"flex flex-col gap-2 items-start"}),Dxe=mn({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","transform-gpu data-[pressed=true]:scale-[0.97]",...ha],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:Te.solid.default},{variant:"solid",color:"primary",class:Te.solid.primary},{variant:"solid",color:"secondary",class:Te.solid.secondary},{variant:"solid",color:"success",class:Te.solid.success},{variant:"solid",color:"warning",class:Te.solid.warning},{variant:"solid",color:"danger",class:Te.solid.danger},{variant:"shadow",color:"default",class:Te.shadow.default},{variant:"shadow",color:"primary",class:Te.shadow.primary},{variant:"shadow",color:"secondary",class:Te.shadow.secondary},{variant:"shadow",color:"success",class:Te.shadow.success},{variant:"shadow",color:"warning",class:Te.shadow.warning},{variant:"shadow",color:"danger",class:Te.shadow.danger},{variant:"bordered",color:"default",class:Te.bordered.default},{variant:"bordered",color:"primary",class:Te.bordered.primary},{variant:"bordered",color:"secondary",class:Te.bordered.secondary},{variant:"bordered",color:"success",class:Te.bordered.success},{variant:"bordered",color:"warning",class:Te.bordered.warning},{variant:"bordered",color:"danger",class:Te.bordered.danger},{variant:"flat",color:"default",class:Te.flat.default},{variant:"flat",color:"primary",class:Te.flat.primary},{variant:"flat",color:"secondary",class:Te.flat.secondary},{variant:"flat",color:"success",class:Te.flat.success},{variant:"flat",color:"warning",class:Te.flat.warning},{variant:"flat",color:"danger",class:Te.flat.danger},{variant:"faded",color:"default",class:Te.faded.default},{variant:"faded",color:"primary",class:Te.faded.primary},{variant:"faded",color:"secondary",class:Te.faded.secondary},{variant:"faded",color:"success",class:Te.faded.success},{variant:"faded",color:"warning",class:Te.faded.warning},{variant:"faded",color:"danger",class:Te.faded.danger},{variant:"light",color:"default",class:[Te.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[Te.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[Te.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[Te.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[Te.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[Te.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[Te.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[Te.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[Te.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[Te.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[Te.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[Te.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:sf.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:sf.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:sf.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:sf.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:sf.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:sf.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});mn({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var s6=mn({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-none","text-foreground","box-border","bg-content1",...ha],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}}),kxe=mn({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",wrapper:["relative","inline-flex","items-center","justify-center","flex-shrink-0","overflow-hidden","before:content-['']","before:absolute","before:inset-0","before:border-solid","before:border-2","before:box-border","before:border-default","after:content-['']","after:absolute","after:inset-0","after:scale-50","after:opacity-0","after:origin-center","group-data-[selected=true]:after:scale-100","group-data-[selected=true]:after:opacity-100","group-data-[hover=true]:before:bg-default-100",...Tz],hiddenInput:Cxe,icon:"z-10 w-4 h-3 opacity-0 group-data-[selected=true]:opacity-100 pointer-events-none",label:"relative text-foreground select-none"},variants:{color:{default:{wrapper:"after:bg-default after:text-default-foreground text-default-foreground"},primary:{wrapper:"after:bg-primary after:text-primary-foreground text-primary-foreground"},secondary:{wrapper:"after:bg-secondary after:text-secondary-foreground text-secondary-foreground"},success:{wrapper:"after:bg-success after:text-success-foreground text-success-foreground"},warning:{wrapper:"after:bg-warning after:text-warning-foreground text-warning-foreground"},danger:{wrapper:"after:bg-danger after:text-danger-foreground text-danger-foreground"}},size:{sm:{wrapper:["w-4 h-4 me-2","rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"],label:"text-small",icon:"w-3 h-2"},md:{wrapper:["w-5 h-5 me-2","rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"],label:"text-medium",icon:"w-4 h-3"},lg:{wrapper:["w-6 h-6 me-2","rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"],label:"text-large",icon:"w-5 h-4"}},radius:{none:{wrapper:"rounded-none before:rounded-none after:rounded-none"},sm:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"]},md:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"]},lg:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"]},full:{wrapper:"rounded-full before:rounded-full after:rounded-full"}},lineThrough:{true:{label:["inline-flex","items-center","justify-center","before:content-['']","before:absolute","before:bg-foreground","before:w-0","before:h-0.5","group-data-[selected=true]:opacity-60","group-data-[selected=true]:before:w-full"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isInvalid:{true:{wrapper:"before:border-danger",label:"text-danger"}},disableAnimation:{true:{wrapper:"transition-none",icon:"transition-none",label:"transition-none"},false:{wrapper:["before:transition-colors","group-data-[pressed=true]:scale-95","transition-transform","after:transition-transform-opacity","after:!ease-linear","after:!duration-200","motion-reduce:transition-none"],icon:"transition-opacity motion-reduce:transition-none",label:"transition-colors-opacity before:transition-width motion-reduce:transition-none"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1}});mn({slots:{base:"relative flex flex-col gap-2",label:"relative text-medium text-foreground-500",wrapper:"flex flex-col flex-wrap gap-2 data-[orientation=horizontal]:flex-row",description:"text-small text-foreground-400",errorMessage:"text-small text-danger"},variants:{isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isInvalid:{true:{description:"text-danger"}},disableAnimation:{true:{},false:{description:"transition-colors !duration-150 motion-reduce:transition-none"}}},defaultVariants:{isInvalid:!1,isRequired:!1}});var a6=mn({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...jxe,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:Te.solid.default}},{variant:"solid",color:"primary",class:{base:Te.solid.primary}},{variant:"solid",color:"secondary",class:{base:Te.solid.secondary}},{variant:"solid",color:"success",class:{base:Te.solid.success}},{variant:"solid",color:"warning",class:{base:Te.solid.warning}},{variant:"solid",color:"danger",class:{base:Te.solid.danger}},{variant:"shadow",color:"default",class:{base:Te.shadow.default}},{variant:"shadow",color:"primary",class:{base:Te.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:Te.shadow.secondary}},{variant:"shadow",color:"success",class:{base:Te.shadow.success}},{variant:"shadow",color:"warning",class:{base:Te.shadow.warning}},{variant:"shadow",color:"danger",class:{base:Te.shadow.danger}},{variant:"bordered",color:"default",class:{base:Te.bordered.default}},{variant:"bordered",color:"primary",class:{base:Te.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:Te.bordered.secondary}},{variant:"bordered",color:"success",class:{base:Te.bordered.success}},{variant:"bordered",color:"warning",class:{base:Te.bordered.warning}},{variant:"bordered",color:"danger",class:{base:Te.bordered.danger}},{variant:"flat",color:"default",class:{base:Te.flat.default}},{variant:"flat",color:"primary",class:{base:Te.flat.primary}},{variant:"flat",color:"secondary",class:{base:Te.flat.secondary}},{variant:"flat",color:"success",class:{base:Te.flat.success}},{variant:"flat",color:"warning",class:{base:Te.flat.warning}},{variant:"flat",color:"danger",class:{base:Te.flat.danger}},{variant:"faded",color:"default",class:{base:Te.faded.default}},{variant:"faded",color:"primary",class:{base:Te.faded.primary}},{variant:"faded",color:"secondary",class:{base:Te.faded.secondary}},{variant:"faded",color:"success",class:{base:Te.faded.success}},{variant:"faded",color:"warning",class:{base:Te.faded.warning}},{variant:"faded",color:"danger",class:{base:Te.faded.danger}},{variant:"light",color:"default",class:{base:Te.light.default}},{variant:"light",color:"primary",class:{base:Te.light.primary}},{variant:"light",color:"secondary",class:{base:Te.light.secondary}},{variant:"light",color:"success",class:{base:Te.light.success}},{variant:"light",color:"warning",class:{base:Te.light.warning}},{variant:"light",color:"danger",class:{base:Te.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),i6=mn({slots:{base:"group inline-flex flex-column w-full",listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",endContentWrapper:"relative flex h-full items-center -mr-2",clearButton:["text-medium","translate-x-1","cursor-text","opacity-0","pointer-events-none","text-default-500","group-data-[invalid=true]:text-danger","data-[visible=true]:opacity-100","data-[visible=true]:pointer-events-auto","data-[visible=true]:cursor-pointer","sm:data-[visible=true]:opacity-0","sm:data-[visible=true]:pointer-events-none","sm:group-data-[hover=true]:data-[visible=true]:opacity-100","sm:group-data-[hover=true]:data-[visible=true]:pointer-events-auto"],selectorButton:"text-medium"},variants:{isClearable:{true:{},false:{clearButton:"hidden"}},disableAnimation:{true:{selectorButton:"transition-none"},false:{selectorButton:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorButton:"data-[open=true]:rotate-180"}}},defaultVariants:{isClearable:!0,disableSelectorIconRotation:!1}}),Ixe=mn({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...ha],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...pj,"flex","items-center","justify-center"],name:[...pj,"font-normal","text-center","text-inherit"],icon:[...pj,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:Te.solid.default},primary:{base:Te.solid.primary},secondary:{base:Te.solid.secondary},success:{base:Te.solid.success},warning:{base:Te.solid.warning},danger:{base:Te.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}},disableAnimation:{true:{base:"transition-none",img:"transition-none"},false:{}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});mn({slots:{base:"flex items-center justify-center h-auto w-max",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var o6=mn({slots:{base:["relative","inline-flex","shrink-0"],badge:["flex","z-10","flex-wrap","absolute","box-border","rounded-full","whitespace-nowrap","place-content-center","origin-center","items-center","text-inherit","select-none","font-regular","scale-100","opacity-100","subpixel-antialiased","data-[invisible=true]:scale-0","data-[invisible=true]:opacity-0"]},variants:{variant:{solid:{},flat:{},faded:{badge:"border-medium"},shadow:{}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{badge:"px-1 text-tiny"},md:{badge:"px-1 text-small"},lg:{badge:"px-1 text-small"}},placement:{"top-right":{},"top-left":{},"bottom-right":{},"bottom-left":{}},shape:{circle:{},rectangle:{}},isInvisible:{true:{}},isOneChar:{true:{badge:"px-0"}},isDot:{true:{}},disableAnimation:{true:{badge:"transition-none"},false:{badge:"transition-transform-opacity !ease-soft-spring !duration-300"}},showOutline:{true:{badge:"border-2 border-background"},false:{badge:"border-transparent border-0"}}},defaultVariants:{variant:"solid",color:"default",size:"md",shape:"rectangle",placement:"top-right",showOutline:!0,isInvisible:!1},compoundVariants:[{variant:"solid",color:"default",class:{badge:Te.solid.default}},{variant:"solid",color:"primary",class:{badge:Te.solid.primary}},{variant:"solid",color:"secondary",class:{badge:Te.solid.secondary}},{variant:"solid",color:"success",class:{badge:Te.solid.success}},{variant:"solid",color:"warning",class:{badge:Te.solid.warning}},{variant:"solid",color:"danger",class:{badge:Te.solid.danger}},{variant:"shadow",color:"default",class:{badge:Te.shadow.default}},{variant:"shadow",color:"primary",class:{badge:Te.shadow.primary}},{variant:"shadow",color:"secondary",class:{badge:Te.shadow.secondary}},{variant:"shadow",color:"success",class:{badge:Te.shadow.success}},{variant:"shadow",color:"warning",class:{badge:Te.shadow.warning}},{variant:"shadow",color:"danger",class:{badge:Te.shadow.danger}},{variant:"flat",color:"default",class:{badge:Te.flat.default}},{variant:"flat",color:"primary",class:{badge:Te.flat.primary}},{variant:"flat",color:"secondary",class:{badge:Te.flat.secondary}},{variant:"flat",color:"success",class:{badge:Te.flat.success}},{variant:"flat",color:"warning",class:{badge:Te.flat.warning}},{variant:"flat",color:"danger",class:{badge:Te.flat.danger}},{variant:"faded",color:"default",class:{badge:Te.faded.default}},{variant:"faded",color:"primary",class:{badge:Te.faded.primary}},{variant:"faded",color:"secondary",class:{badge:Te.faded.secondary}},{variant:"faded",color:"success",class:{badge:Te.faded.success}},{variant:"faded",color:"warning",class:{badge:Te.faded.warning}},{variant:"faded",color:"danger",class:{badge:Te.faded.danger}},{isOneChar:!0,size:"sm",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{isOneChar:!0,size:"md",class:{badge:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,size:"lg",class:{badge:"w-6 h-6 min-w-6 min-h-6"}},{isDot:!0,size:"sm",class:{badge:"w-3 h-3 min-w-3 min-h-3"}},{isDot:!0,size:"md",class:{badge:"w-3.5 h-3.5 min-w-3.5 min-h-3.5"}},{isDot:!0,size:"lg",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{placement:"top-right",shape:"rectangle",class:{badge:"top-[5%] right-[5%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"rectangle",class:{badge:"top-[5%] left-[5%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"rectangle",class:{badge:"bottom-[5%] right-[5%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"rectangle",class:{badge:"bottom-[5%] left-[5%] -translate-x-1/2 translate-y-1/2"}},{placement:"top-right",shape:"circle",class:{badge:"top-[10%] right-[10%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"circle",class:{badge:"top-[10%] left-[10%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"circle",class:{badge:"bottom-[10%] right-[10%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"circle",class:{badge:"bottom-[10%] left-[10%] -translate-x-1/2 translate-y-1/2"}}]}),Txe=(e,t)=>{if(!e&&!t)return{};const n=new Set([...Object.keys(e||{}),...Object.keys(t||{})]);return Array.from(n).reduce((r,s)=>({...r,[s]:Ye(e==null?void 0:e[s],t==null?void 0:t[s])}),{})};function _3(e){return ay()?e.altKey:e.ctrlKey}function fy(e,t){var n,r;let s=`[data-key="${CSS.escape(String(t))}"]`,a=(n=e.current)===null||n===void 0?void 0:n.dataset.collection;return a&&(s=`[data-collection="${CSS.escape(a)}"]${s}`),(r=e.current)===null||r===void 0?void 0:r.querySelector(s)}const Lz=new WeakMap;function Mxe(e){let t=Ur();return Lz.set(e,t),t}function Oxe(e){return Lz.get(e)}const Lxe=1e3;function _z(e){let{keyboardDelegate:t,selectionManager:n,onTypeSelect:r}=e,s=m.useRef({search:"",timeout:void 0}).current,a=o=>{let l=_xe(o.key);if(!(!l||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target))){if(l===" "&&s.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),s.search+=l,t.getKeyForSearch!=null){let c=t.getKeyForSearch(s.search,n.focusedKey);c==null&&(c=t.getKeyForSearch(s.search)),c!=null&&(n.setFocusedKey(c),r&&r(c))}clearTimeout(s.timeout),s.timeout=setTimeout(()=>{s.search=""},Lxe)}};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?a:void 0}}}function _xe(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function W1(e){let{selectionManager:t,keyboardDelegate:n,ref:r,autoFocus:s=!1,shouldFocusWrap:a=!1,disallowEmptySelection:o=!1,disallowSelectAll:l=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:u=t.selectionBehavior==="replace",disallowTypeAhead:d=!1,shouldUseVirtualFocus:f,allowsTabNavigation:h=!1,isVirtualized:p,scrollRef:b=r,linkBehavior:x="action"}=e,{direction:y}=ro(),v=Fh(),j=T=>{var O;if(T.altKey&&T.key==="Tab"&&T.preventDefault(),!(!((O=r.current)===null||O===void 0)&&O.contains(T.target)))return;const _=(te,X)=>{if(te!=null){if(t.isLink(te)&&x==="selection"&&u&&!_3(T)){t4.flushSync(()=>{t.setFocusedKey(te,X)});let xe=fy(r,te),$e=t.getItemProps(te);xe&&v.open(xe,T,$e.href,$e.routerOptions);return}if(t.setFocusedKey(te,X),t.isLink(te)&&x==="override")return;T.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(te):u&&!_3(T)&&t.replaceSelection(te)}};switch(T.key){case"ArrowDown":if(n.getKeyBelow){var W,z,U;let te=t.focusedKey!=null?(W=n.getKeyBelow)===null||W===void 0?void 0:W.call(n,t.focusedKey):(z=n.getFirstKey)===null||z===void 0?void 0:z.call(n);te==null&&a&&(te=(U=n.getFirstKey)===null||U===void 0?void 0:U.call(n,t.focusedKey)),te!=null&&(T.preventDefault(),_(te))}break;case"ArrowUp":if(n.getKeyAbove){var H,B,Y;let te=t.focusedKey!=null?(H=n.getKeyAbove)===null||H===void 0?void 0:H.call(n,t.focusedKey):(B=n.getLastKey)===null||B===void 0?void 0:B.call(n);te==null&&a&&(te=(Y=n.getLastKey)===null||Y===void 0?void 0:Y.call(n,t.focusedKey)),te!=null&&(T.preventDefault(),_(te))}break;case"ArrowLeft":if(n.getKeyLeftOf){var ae,ce,oe;let te=t.focusedKey!=null?(ae=n.getKeyLeftOf)===null||ae===void 0?void 0:ae.call(n,t.focusedKey):null;te==null&&a&&(te=y==="rtl"?(ce=n.getFirstKey)===null||ce===void 0?void 0:ce.call(n,t.focusedKey):(oe=n.getLastKey)===null||oe===void 0?void 0:oe.call(n,t.focusedKey)),te!=null&&(T.preventDefault(),_(te,y==="rtl"?"first":"last"))}break;case"ArrowRight":if(n.getKeyRightOf){var Q,K,ne;let te=t.focusedKey!=null?(Q=n.getKeyRightOf)===null||Q===void 0?void 0:Q.call(n,t.focusedKey):null;te==null&&a&&(te=y==="rtl"?(K=n.getLastKey)===null||K===void 0?void 0:K.call(n,t.focusedKey):(ne=n.getFirstKey)===null||ne===void 0?void 0:ne.call(n,t.focusedKey)),te!=null&&(T.preventDefault(),_(te,y==="rtl"?"last":"first"))}break;case"Home":if(n.getFirstKey){if(t.focusedKey===null&&T.shiftKey)return;T.preventDefault();let te=n.getFirstKey(t.focusedKey,Nf(T));t.setFocusedKey(te),te!=null&&(Nf(T)&&T.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(te):u&&t.replaceSelection(te))}break;case"End":if(n.getLastKey){if(t.focusedKey===null&&T.shiftKey)return;T.preventDefault();let te=n.getLastKey(t.focusedKey,Nf(T));t.setFocusedKey(te),te!=null&&(Nf(T)&&T.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(te):u&&t.replaceSelection(te))}break;case"PageDown":if(n.getKeyPageBelow&&t.focusedKey!=null){let te=n.getKeyPageBelow(t.focusedKey);te!=null&&(T.preventDefault(),_(te))}break;case"PageUp":if(n.getKeyPageAbove&&t.focusedKey!=null){let te=n.getKeyPageAbove(t.focusedKey);te!=null&&(T.preventDefault(),_(te))}break;case"a":Nf(T)&&t.selectionMode==="multiple"&&l!==!0&&(T.preventDefault(),t.selectAll());break;case"Escape":c==="clearSelection"&&!o&&t.selectedKeys.size!==0&&(T.stopPropagation(),T.preventDefault(),t.clearSelection());break;case"Tab":if(!h){if(T.shiftKey)r.current.focus();else{let te=Ra(r.current,{tabbable:!0}),X,xe;do xe=te.lastChild(),xe&&(X=xe);while(xe);X&&!X.contains(document.activeElement)&&Ci(X)}break}}},S=m.useRef({top:0,left:0});Yb(b,"scroll",p?void 0:()=>{var T,O,_,W;S.current={top:(_=(T=b.current)===null||T===void 0?void 0:T.scrollTop)!==null&&_!==void 0?_:0,left:(W=(O=b.current)===null||O===void 0?void 0:O.scrollLeft)!==null&&W!==void 0?W:0}});let N=T=>{if(t.isFocused){T.currentTarget.contains(T.target)||t.setFocused(!1);return}if(T.currentTarget.contains(T.target)){if(t.setFocused(!0),t.focusedKey==null){var O,_;let U=B=>{B!=null&&(t.setFocusedKey(B),u&&!t.isSelected(B)&&t.replaceSelection(B))},H=T.relatedTarget;var W,z;H&&T.currentTarget.compareDocumentPosition(H)&Node.DOCUMENT_POSITION_FOLLOWING?U((W=t.lastSelectedKey)!==null&&W!==void 0?W:(O=n.getLastKey)===null||O===void 0?void 0:O.call(n)):U((z=t.firstSelectedKey)!==null&&z!==void 0?z:(_=n.getFirstKey)===null||_===void 0?void 0:_.call(n))}else!p&&b.current&&(b.current.scrollTop=S.current.top,b.current.scrollLeft=S.current.left);if(t.focusedKey!=null&&b.current){let U=fy(r,t.focusedKey);U instanceof HTMLElement&&(!U.contains(document.activeElement)&&!f&&Ci(U),lg()==="keyboard"&&Zl(U,{containingElement:r.current}))}}},C=T=>{T.currentTarget.contains(T.relatedTarget)||t.setFocused(!1)},$=m.useRef(!1);Yb(r,tce,f?T=>{let{detail:O}=T;T.stopPropagation(),t.setFocused(!0),(O==null?void 0:O.focusStrategy)==="first"&&($.current=!0)}:void 0);let P=pr(()=>{var T,O;let _=(O=(T=n.getFirstKey)===null||T===void 0?void 0:T.call(n))!==null&&O!==void 0?O:null;_==null?(IB(r.current),t.collection.size>0&&($.current=!1)):(t.setFocusedKey(_),$.current=!1)});Pk(()=>{$.current&&P()},[t.collection,P]);let E=pr(()=>{t.collection.size>0&&($.current=!1)});Pk(()=>{E()},[t.focusedKey,E]),Yb(r,ece,f?T=>{var O;T.stopPropagation(),t.setFocused(!1),!((O=T.detail)===null||O===void 0)&&O.clearFocusKey&&t.setFocusedKey(null)}:void 0);const M=m.useRef(s),k=m.useRef(!1);m.useEffect(()=>{if(M.current){var T,O;let z=null;var _;s==="first"&&(z=(_=(T=n.getFirstKey)===null||T===void 0?void 0:T.call(n))!==null&&_!==void 0?_:null);var W;s==="last"&&(z=(W=(O=n.getLastKey)===null||O===void 0?void 0:O.call(n))!==null&&W!==void 0?W:null);let U=t.selectedKeys;if(U.size){for(let H of U)if(t.canSelectItem(H)){z=H;break}}t.setFocused(!0),t.setFocusedKey(z),z==null&&!f&&r.current&&vs(r.current),t.collection.size>0&&(M.current=!1,k.current=!0)}});let A=m.useRef(t.focusedKey);m.useEffect(()=>{if(t.isFocused&&t.focusedKey!=null&&(t.focusedKey!==A.current||k.current)&&b.current&&r.current){let T=lg(),O=fy(r,t.focusedKey);if(!(O instanceof HTMLElement))return;(T==="keyboard"||k.current)&&(RR(b.current,O),T!=="virtual"&&Zl(O,{containingElement:r.current}))}!f&&t.isFocused&&t.focusedKey==null&&A.current!=null&&r.current&&vs(r.current),A.current=t.focusedKey,k.current=!1}),Yb(r,"react-aria-focus-scope-restore",T=>{T.preventDefault(),t.setFocused(!0)});let I={onKeyDown:j,onFocus:N,onBlur:C,onMouseDown(T){b.current===T.target&&T.preventDefault()}},{typeSelectProps:L}=_z({keyboardDelegate:n,selectionManager:t});d||(I=Me(L,I));let R;f||(R=t.focusedKey==null?0:-1);let F=Mxe(t.collection);return{collectionProps:Me(I,{tabIndex:R,"data-collection":F})}}function C0(e){let{id:t,selectionManager:n,key:r,ref:s,shouldSelectOnPressUp:a,shouldUseVirtualFocus:o,focus:l,isDisabled:c,onAction:u,allowsDifferentPressOrigin:d,linkBehavior:f="action"}=e,h=Fh();t=Ur(t);let p=_=>{if(_.pointerType==="keyboard"&&_3(_))n.toggleSelection(r);else{if(n.selectionMode==="none")return;if(n.isLink(r)){if(f==="selection"&&s.current){let W=n.getItemProps(r);h.open(s.current,_,W.href,W.routerOptions),n.setSelectedKeys(n.selectedKeys);return}else if(f==="override"||f==="none")return}n.selectionMode==="single"?n.isSelected(r)&&!n.disallowEmptySelection?n.toggleSelection(r):n.replaceSelection(r):_&&_.shiftKey?n.extendSelection(r):n.selectionBehavior==="toggle"||_&&(Nf(_)||_.pointerType==="touch"||_.pointerType==="virtual")?n.toggleSelection(r):n.replaceSelection(r)}};m.useEffect(()=>{r===n.focusedKey&&n.isFocused&&(o?IB(s.current):l?l():document.activeElement!==s.current&&s.current&&vs(s.current))},[s,r,n.focusedKey,n.childFocusStrategy,n.isFocused,o]),c=c||n.isDisabled(r);let b={};!o&&!c?b={tabIndex:r===n.focusedKey?0:-1,onFocus(_){_.target===s.current&&n.setFocusedKey(r)}}:c&&(b.onMouseDown=_=>{_.preventDefault()});let x=n.isLink(r)&&f==="override",y=n.isLink(r)&&f!=="selection"&&f!=="none",v=!c&&n.canSelectItem(r)&&!x,j=(u||y)&&!c,S=j&&(n.selectionBehavior==="replace"?!v:!v||n.isEmpty),N=j&&v&&n.selectionBehavior==="replace",C=S||N,$=m.useRef(null),P=C&&v,E=m.useRef(!1),M=m.useRef(!1),k=_=>{if(u&&u(),y&&s.current){let W=n.getItemProps(r);h.open(s.current,_,W.href,W.routerOptions)}},A={ref:s};a?(A.onPressStart=_=>{$.current=_.pointerType,E.current=P,_.pointerType==="keyboard"&&(!C||c6())&&p(_)},d?(A.onPressUp=S?void 0:_=>{_.pointerType==="mouse"&&v&&p(_)},A.onPress=S?k:_=>{_.pointerType!=="keyboard"&&_.pointerType!=="mouse"&&v&&p(_)}):A.onPress=_=>{if(S||N&&_.pointerType!=="mouse"){if(_.pointerType==="keyboard"&&!l6())return;k(_)}else _.pointerType!=="keyboard"&&v&&p(_)}):(A.onPressStart=_=>{$.current=_.pointerType,E.current=P,M.current=S,v&&(_.pointerType==="mouse"&&!S||_.pointerType==="keyboard"&&(!j||c6()))&&p(_)},A.onPress=_=>{(_.pointerType==="touch"||_.pointerType==="pen"||_.pointerType==="virtual"||_.pointerType==="keyboard"&&C&&l6()||_.pointerType==="mouse"&&M.current)&&(C?k(_):v&&p(_))}),b["data-collection"]=Oxe(n.collection),b["data-key"]=r,A.preventFocusOnPress=o,o&&(A=Me(A,{onPressStart(_){_.pointerType!=="touch"&&(n.setFocused(!0),n.setFocusedKey(r))},onPress(_){_.pointerType==="touch"&&(n.setFocused(!0),n.setFocusedKey(r))}}));let{pressProps:I,isPressed:L}=Ni(A),R=N?_=>{$.current==="mouse"&&(_.stopPropagation(),_.preventDefault(),k(_))}:void 0,{longPressProps:F}=f8({isDisabled:!P,onLongPress(_){_.pointerType==="touch"&&(p(_),n.setSelectionBehavior("toggle"))}}),T=_=>{$.current==="touch"&&E.current&&_.preventDefault()},O=n.isLink(r)?_=>{od.isOpening||_.preventDefault()}:void 0;return{itemProps:Me(b,v||S||o?I:{},P?F:{},{onDoubleClick:R,onDragStartCapture:T,onClick:O,id:t},o?{onMouseDown:_=>_.preventDefault()}:void 0),isPressed:L,isSelected:n.isSelected(r),isFocused:n.isFocused&&n.focusedKey===r,isDisabled:c,allowsSelection:v,hasAction:C}}function l6(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function c6(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class F3{getItemRect(t){let n=this.ref.current;if(!n)return null;let r=t!=null?fy(this.ref,t):null;if(!r)return null;let s=n.getBoundingClientRect(),a=r.getBoundingClientRect();return{x:a.left-s.left+n.scrollLeft,y:a.top-s.top+n.scrollTop,width:a.width,height:a.height}}getContentSize(){let t=this.ref.current;var n,r;return{width:(n=t==null?void 0:t.scrollWidth)!==null&&n!==void 0?n:0,height:(r=t==null?void 0:t.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let t=this.ref.current;var n,r,s,a;return{x:(n=t==null?void 0:t.scrollLeft)!==null&&n!==void 0?n:0,y:(r=t==null?void 0:t.scrollTop)!==null&&r!==void 0?r:0,width:(s=t==null?void 0:t.offsetWidth)!==null&&s!==void 0?s:0,height:(a=t==null?void 0:t.offsetHeight)!==null&&a!==void 0?a:0}}constructor(t){this.ref=t}}class c${isDisabled(t){var n;return this.disabledBehavior==="all"&&(((n=t.props)===null||n===void 0?void 0:n.isDisabled)||this.disabledKeys.has(t.key))}findNextNonDisabled(t,n){let r=t;for(;r!=null;){let s=this.collection.getItem(r);if((s==null?void 0:s.type)==="item"&&!this.isDisabled(s))return r;r=n(r)}return null}getNextKey(t){let n=t;return n=this.collection.getKeyAfter(n),this.findNextNonDisabled(n,r=>this.collection.getKeyAfter(r))}getPreviousKey(t){let n=t;return n=this.collection.getKeyBefore(n),this.findNextNonDisabled(n,r=>this.collection.getKeyBefore(r))}findKey(t,n,r){let s=t,a=this.layoutDelegate.getItemRect(s);if(!a||s==null)return null;let o=a;do{if(s=n(s),s==null)break;a=this.layoutDelegate.getItemRect(s)}while(a&&r(o,a)&&s!=null);return s}isSameRow(t,n){return t.y===n.y||t.x!==n.x}isSameColumn(t,n){return t.x===n.x||t.y!==n.y}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getNextKey(n),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,n=>this.getPreviousKey(n),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,n){return n?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){let n=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[n]?(t=this.layoutDelegate[n](t),this.findNextNonDisabled(t,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){let n=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[n]?(t=this.layoutDelegate[n](t),this.findNextNonDisabled(t,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();return this.findNextNonDisabled(t,n=>this.collection.getKeyAfter(n))}getLastKey(){let t=this.collection.getLastKey();return this.findNextNonDisabled(t,n=>this.collection.getKeyBefore(n))}getKeyPageAbove(t){let n=this.ref.current,r=this.layoutDelegate.getItemRect(t);if(!r)return null;if(n&&!ig(n))return this.getFirstKey();let s=t;if(this.orientation==="horizontal"){let a=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>a&&s!=null;)s=this.getKeyAbove(s),r=s==null?null:this.layoutDelegate.getItemRect(s)}else{let a=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>a&&s!=null;)s=this.getKeyAbove(s),r=s==null?null:this.layoutDelegate.getItemRect(s)}return s??this.getFirstKey()}getKeyPageBelow(t){let n=this.ref.current,r=this.layoutDelegate.getItemRect(t);if(!r)return null;if(n&&!ig(n))return this.getLastKey();let s=t;if(this.orientation==="horizontal"){let a=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<a&&s!=null;)s=this.getKeyBelow(s),r=s==null?null:this.layoutDelegate.getItemRect(s)}else{let a=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<a&&s!=null;)s=this.getKeyBelow(s),r=s==null?null:this.layoutDelegate.getItemRect(s)}return s??this.getLastKey()}getKeyForSearch(t,n){if(!this.collator)return null;let r=this.collection,s=n||this.getFirstKey();for(;s!=null;){let a=r.getItem(s);if(!a)return null;let o=a.textValue.slice(0,t.length);if(a.textValue&&this.collator.compare(o,t)===0)return s;s=this.getNextKey(s)}return null}constructor(...t){if(t.length===1){let n=t[0];this.collection=n.collection,this.ref=n.ref,this.collator=n.collator,this.disabledKeys=n.disabledKeys||new Set,this.disabledBehavior=n.disabledBehavior||"all",this.orientation=n.orientation||"vertical",this.direction=n.direction,this.layout=n.layout||"stack",this.layoutDelegate=n.layoutDelegate||new F3(n.ref)}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new F3(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Fz(e){let{selectionManager:t,collection:n,disabledKeys:r,ref:s,keyboardDelegate:a,layoutDelegate:o}=e,l=u0({usage:"search",sensitivity:"base"}),c=t.disabledBehavior,u=m.useMemo(()=>a||new c$({collection:n,disabledKeys:r,disabledBehavior:c,ref:s,collator:l,layoutDelegate:o}),[a,o,n,r,s,l,c]),{collectionProps:d}=W1({...e,ref:s,selectionManager:t,keyboardDelegate:u});return{listProps:d}}var u$=e=>i.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:i.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),Fxe=e=>{const{isSelected:t,isIndeterminate:n,disableAnimation:r,...s}=e;return i.jsx("svg",{"aria-hidden":"true",className:"fill-current",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...s,children:i.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})},d$=({strokeWidth:e=1.5,...t})=>i.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:e,viewBox:"0 0 24 24",width:"1em",...t,children:i.jsx("path",{d:"m6 9 6 6 6-6"})}),u6={ease:[.36,.66,.4,1]},xg={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:u6.ease}},exit:{opacity:0,transition:{duration:.3,ease:u6.ease}}}};class Rxe{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}constructor(t,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,n=n||new Set;let r=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||n.has(l.key)))for(let c of l.childNodes)r(c)};for(let l of t)r(l);let s=null,a=0;for(let[l,c]of this.keyMap)s?(s.nextKey=l,c.prevKey=s.key):(this.firstKey=l,c.prevKey=void 0),c.type==="item"&&(c.index=a++),s=c,s.nextKey=void 0;var o;this.lastKey=(o=s==null?void 0:s.key)!==null&&o!==void 0?o:null}}class mi extends Set{constructor(t,n,r){super(t),t instanceof mi?(this.anchorKey=n??t.anchorKey,this.currentKey=r??t.currentKey):(this.anchorKey=n??null,this.currentKey=r??null)}}function Bxe(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function f$(e){let{selectionMode:t="none",disallowEmptySelection:n=!1,allowDuplicateSelectionEvents:r,selectionBehavior:s="toggle",disabledBehavior:a="all"}=e,o=m.useRef(!1),[,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(null),[,d]=m.useState(null),f=m.useMemo(()=>d6(e.selectedKeys),[e.selectedKeys]),h=m.useMemo(()=>d6(e.defaultSelectedKeys,new mi),[e.defaultSelectedKeys]),[p,b]=ml(f,h,e.onSelectionChange),x=m.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[y,v]=m.useState(s);s==="replace"&&y==="toggle"&&typeof p=="object"&&p.size===0&&v("replace");let j=m.useRef(s);return m.useEffect(()=>{s!==j.current&&(v(s),j.current=s)},[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:y,setSelectionBehavior:v,get isFocused(){return o.current},setFocused(S){o.current=S,l(S)},get focusedKey(){return c.current},get childFocusStrategy(){return u.current},setFocusedKey(S,N="first"){c.current=S,u.current=N,d(S)},selectedKeys:p,setSelectedKeys(S){(r||!Bxe(S,p))&&b(S)},disabledKeys:x,disabledBehavior:a}}function d6(e,t){return e?e==="all"?"all":new mi(e):t}function Rz(e){return null}Rz.getCollectionNode=function*(t,n){let{childItems:r,title:s,children:a}=t,o=t.title||t.children,l=t.textValue||(typeof o=="string"?o:"")||t["aria-label"]||"";!l&&(n!=null&&n.suppressTextValueWarning),yield{type:"item",props:t,rendered:o,textValue:l,"aria-label":t["aria-label"],hasChildNodes:zxe(t),*childNodes(){if(r)for(let c of r)yield{type:"item",value:c};else if(s){let c=[];Z.Children.forEach(a,u=>{c.push({type:"item",element:u})}),yield*c}}}};function zxe(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&Z.Children.count(e.children)>0)}let h$=Rz;function Bz(e){return null}Bz.getCollectionNode=function*(t){let{children:n,title:r,items:s}=t;yield{type:"section",props:t,hasChildNodes:!0,rendered:r,"aria-label":t["aria-label"],*childNodes(){if(typeof n=="function"){if(!s)throw new Error("props.children was a function but props.items is missing");for(let a of s)yield{type:"item",value:a,renderer:n}}else{let a=[];Z.Children.forEach(n,o=>{a.push({type:"item",element:o})}),yield*a}}}};let Vxe=Bz;class Wxe{build(t,n){return this.context=n,f6(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:n,items:r}=t;if(Z.isValidElement(n)&&n.type===Z.Fragment)yield*this.iterateCollection({children:n.props.children,items:r});else if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");let s=0;for(let a of r)yield*this.getFullNode({value:a,index:s},{renderer:n}),s++}else{let s=[];Z.Children.forEach(n,o=>{o&&s.push(o)});let a=0;for(let o of s){let l=this.getFullNode({element:o,index:a},{});for(let c of l)a++,yield c}}}getKey(t,n,r,s){if(t.key!=null)return t.key;if(n.type==="cell"&&n.key!=null)return`${s}${n.key}`;let a=n.value;if(a!=null){var o;let l=(o=a.key)!==null&&o!==void 0?o:a.id;if(l==null)throw new Error("No key found for item");return l}return s?`${s}.${n.index}`:`$.${n.index}`}getChildState(t,n){return{renderer:n.renderer||t.renderer}}*getFullNode(t,n,r,s){if(Z.isValidElement(t.element)&&t.element.type===Z.Fragment){let y=[];Z.Children.forEach(t.element.props.children,j=>{y.push(j)});var a;let v=(a=t.index)!==null&&a!==void 0?a:0;for(const j of y)yield*this.getFullNode({element:j,index:v++},n,r,s);return}let o=t.element;if(!o&&t.value&&n&&n.renderer){let y=this.cache.get(t.value);if(y&&(!y.shouldInvalidate||!y.shouldInvalidate(this.context))){y.index=t.index,y.parentKey=s?s.key:null,yield y;return}o=n.renderer(t.value)}if(Z.isValidElement(o)){let y=o.type;if(typeof y!="function"&&typeof y.getCollectionNode!="function"){let N=o.type;throw new Error(`Unknown element <${N}> in collection.`)}let v=y.getCollectionNode(o.props,this.context);var l;let j=(l=t.index)!==null&&l!==void 0?l:0,S=v.next();for(;!S.done&&S.value;){let N=S.value;t.index=j;var c;let C=(c=N.key)!==null&&c!==void 0?c:null;C==null&&(C=N.element?null:this.getKey(o,t,n,r));let P=[...this.getFullNode({...N,key:C,index:j,wrapper:Uxe(t.wrapper,N.wrapper)},this.getChildState(n,N),r?`${r}${o.key}`:o.key,s)];for(let E of P){var u,d;E.value=(d=(u=N.value)!==null&&u!==void 0?u:t.value)!==null&&d!==void 0?d:null,E.value&&this.cache.set(E.value,E);var f;if(t.type&&E.type!==t.type)throw new Error(`Unsupported type <${gj(E.type)}> in <${gj((f=s==null?void 0:s.type)!==null&&f!==void 0?f:"unknown parent type")}>. Only <${gj(t.type)}> is supported.`);j++,yield E}S=v.next(P)}return}if(t.key==null||t.type==null)return;let h=this;var p,b;let x={type:t.type,props:t.props,key:t.key,parentKey:s?s.key:null,value:(p=t.value)!==null&&p!==void 0?p:null,level:s?s.level+1:0,index:t.index,rendered:t.rendered,textValue:(b=t.textValue)!==null&&b!==void 0?b:"","aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes||!1,childNodes:f6(function*(){if(!t.hasChildNodes||!t.childNodes)return;let y=0;for(let v of t.childNodes()){v.key!=null&&(v.key=`${x.key}${v.key}`);let j=h.getFullNode({...v,index:y},h.getChildState(n,v),x.key,x);for(let S of j)y++,yield S}})};yield x}constructor(){this.cache=new WeakMap}}function f6(e){let t=[],n=null;return{*[Symbol.iterator](){for(let r of t)yield r;n||(n=e());for(let r of n)t.push(r),yield r}}}function Uxe(e,t){if(e&&t)return n=>e(t(n));if(e)return e;if(t)return t}function gj(e){return e[0].toUpperCase()+e.slice(1)}function m$(e,t,n){let r=m.useMemo(()=>new Wxe,[]),{children:s,items:a,collection:o}=e;return m.useMemo(()=>{if(o)return o;let c=r.build({children:s,items:a},n);return t(c)},[r,s,a,o,n,t])}function mr(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function Ro(e){return Cp(e,0)}function Cp(e,t){if(t<0)return;let n=0;for(let r of e){if(n===t)return r;n++}}function cc(e){let t;for(let n of e)t=n;return t}function bj(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=[...h6(e,t),t],s=[...h6(e,n),n],a=r.slice(0,s.length).findIndex((o,l)=>o!==s[l]);return a!==-1?(t=r[a],n=s[a],t.index-n.index):r.findIndex(o=>o===n)>=0?1:(s.findIndex(o=>o===t)>=0,-1)}function h6(e,t){let n=[],r=t;for(;(r==null?void 0:r.parentKey)!=null;)r=e.getItem(r.parentKey),r&&n.unshift(r);return n}const m6=new WeakMap;function p$(e){let t=m6.get(e);if(t!=null)return t;let n=0,r=s=>{for(let a of s)a.type==="section"?r(mr(a,e)):n++};return r(e),m6.set(e,n),n}class N0{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,n){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){if(this.state.selectionMode==="none")return!1;let n=this.getKey(t);return n==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(n):this.state.selectedKeys.has(n)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=t.every(r=>n.has(r)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let s=this.collection.getItem(r);(!t||s&&bj(this.collection,s,t)<0)&&(t=s)}var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}get lastSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let s=this.collection.getItem(r);(!t||s&&bj(this.collection,s,t)>0)&&(t=s)}var n;return(n=t==null?void 0:t.key)!==null&&n!==void 0?n:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}let n=this.getKey(t);if(n==null)return;let r;if(this.state.selectedKeys==="all")r=new mi([n],n,n);else{let o=this.state.selectedKeys;var s;let l=(s=o.anchorKey)!==null&&s!==void 0?s:n;r=new mi(o,l,n);var a;for(let c of this.getKeyRange(l,(a=o.currentKey)!==null&&a!==void 0?a:n))r.delete(c);for(let c of this.getKeyRange(n,l))this.canSelectItem(c)&&r.add(c)}this.state.setSelectedKeys(r)}getKeyRange(t,n){let r=this.collection.getItem(t),s=this.collection.getItem(n);return r&&s?bj(this.collection,r,s)<=0?this.getKeyRangeInternal(t,n):this.getKeyRangeInternal(n,t):[]}getKeyRangeInternal(t,n){var r;if(!((r=this.layoutDelegate)===null||r===void 0)&&r.getKeyRange)return this.layoutDelegate.getKeyRange(t,n);let s=[],a=t;for(;a!=null;){let o=this.collection.getItem(a);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&s.push(a),a===n)return s;a=this.collection.getKeyAfter(a)}return[]}getKey(t){let n=this.collection.getItem(t);if(!n||n.type==="cell"&&this.allowsCellSelection)return t;for(;n&&n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}let n=this.getKey(t);if(n==null)return;let r=new mi(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(n)?r.delete(n):this.canSelectItem(n)&&(r.add(n),r.anchorKey=n,r.currentKey=n),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode==="none")return;let n=this.getKey(t);if(n==null)return;let r=this.canSelectItem(n)?new mi([n],n,n):new mi;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode==="none")return;let n=new mi;for(let r of t){let s=this.getKey(r);if(s!=null&&(n.add(s),this.selectionMode==="single"))break}this.state.setSelectedKeys(n)}getSelectAllKeys(){let t=[],n=r=>{for(;r!=null;){if(this.canSelectItem(r)){var s;let o=this.collection.getItem(r);(o==null?void 0:o.type)==="item"&&t.push(r);var a;o!=null&&o.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&n((a=(s=Ro(mr(o,this.collection)))===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:null)}r=this.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new mi)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(t.size!==n.size)return!1;for(let r of t)if(!n.has(r))return!1;for(let r of n)if(!t.has(r))return!1;return!0}canSelectItem(t){var n;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let r=this.collection.getItem(t);return!(!r||!(r==null||(n=r.props)===null||n===void 0)&&n.isDisabled||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){var n,r;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled))}isLink(t){var n,r;return!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.href)}getItemProps(t){var n;return(n=this.collection.getItem(t))===null||n===void 0?void 0:n.props}withCollection(t){return new N0(t,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(t,n,r){this.collection=t,this.state=n;var s;this.allowsCellSelection=(s=r==null?void 0:r.allowsCellSelection)!==null&&s!==void 0?s:!1,this._isSelectAll=null,this.layoutDelegate=(r==null?void 0:r.layoutDelegate)||null}}function Kxe(e){let{onExpandedChange:t}=e,[n,r]=ml(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),s=f$(e),a=m.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),o=m$(e,m.useCallback(c=>new Rxe(c,{expandedKeys:n}),[n]),null);return m.useEffect(()=>{s.focusedKey!=null&&!o.getItem(s.focusedKey)&&s.setFocusedKey(null)},[o,s.focusedKey]),{collection:o,expandedKeys:n,disabledKeys:a,toggleKey:c=>{r(Hxe(n,c))},setExpandedKeys:r,selectionManager:new N0(o,s)}}function Hxe(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}function qxe(e){let t=Mn(e,{enabled:typeof e.elementType=="string"}),n;return e.orientation==="vertical"&&(n="vertical"),e.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":n}}:{separatorProps:t}}function Gxe(e){const{as:t,className:n,orientation:r,...s}=e;let a=t||"hr";a==="hr"&&r==="vertical"&&(a="div");const{separatorProps:o}=qxe({elementType:typeof a=="string"?a:"hr",orientation:r}),l=m.useMemo(()=>Exe({orientation:r,className:n}),[r,n]),c=m.useCallback((u={})=>({className:l,role:"separator","data-orientation":r,...o,...s,...u}),[l,r,o,s]);return{Component:a,getDividerProps:c}}var zz=Ft((e,t)=>{const{Component:n,getDividerProps:r}=Gxe({...e});return i.jsx(n,{ref:t,...r()})});zz.displayName="HeroUI.Divider";var Ed=zz,zm=new WeakMap,Fs=[];function Yxe(e,t=document.body){let n=new Set(e),r=new Set,s=c=>{for(let h of c.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(h);let u=h=>{if(n.has(h)||h.parentElement&&r.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of n)if(h.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},d=document.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),f=u(c);if(f===NodeFilter.FILTER_ACCEPT&&a(c),f!==NodeFilter.FILTER_REJECT){let h=d.nextNode();for(;h!=null;)a(h),h=d.nextNode()}},a=c=>{var u;let d=(u=zm.get(c))!=null?u:0;c.getAttribute("aria-hidden")==="true"&&d===0||(d===0&&c.setAttribute("aria-hidden","true"),r.add(c),zm.set(c,d+1))};Fs.length&&Fs[Fs.length-1].disconnect(),s(t);let o=new MutationObserver(c=>{for(let u of c)if(!(u.type!=="childList"||u.addedNodes.length===0)&&![...n,...r].some(d=>d.contains(u.target))){for(let d of u.removedNodes)d instanceof Element&&(n.delete(d),r.delete(d));for(let d of u.addedNodes)(d instanceof HTMLElement||d instanceof SVGElement)&&(d.dataset.liveAnnouncer==="true"||d.dataset.reactAriaTopLayer==="true")?n.add(d):d instanceof Element&&s(d)}});o.observe(t,{childList:!0,subtree:!0});let l={visibleNodes:n,hiddenNodes:r,observe(){o.observe(t,{childList:!0,subtree:!0})},disconnect(){o.disconnect()}};return Fs.push(l),()=>{o.disconnect();for(let c of r){let u=zm.get(c);u!=null&&(u===1?(c.removeAttribute("aria-hidden"),zm.delete(c)):zm.set(c,u-1))}l===Fs[Fs.length-1]?(Fs.pop(),Fs.length&&Fs[Fs.length-1].observe()):Fs.splice(Fs.indexOf(l),1)}}function Xxe(e){let t=Fs[Fs.length-1];if(t&&!t.visibleNodes.has(e))return t.visibleNodes.add(e),()=>{t.visibleNodes.delete(e)}}var U1=(e,t,n)=>{const r=t==null?void 0:t.current;if(!r||!r.contains(e)){const s=document.querySelectorAll("body > span[data-focus-scope-start]");let a=[];if(s.forEach(o=>{a.push(o.nextElementSibling)}),a.length===1)return n.close(),!1}return!r||!r.contains(e)},g$=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[e])||{}},Vz=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],Zxe=(e,t)=>{if(t.includes("-")){const[n]=t.split("-");if(n.includes(e))return!1}return!0},Yy=(e,t)=>{if(t.includes("-")){const[,n]=t.split("-");return`${e}-${n}`}return e},$0=()=>i.jsxs("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[i.jsx("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),i.jsx("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[$ct,Jxe]=$d({name:"AvatarGroupContext",strict:!1}),Kc=globalThis!=null&&globalThis.document?m.useLayoutEffect:m.useEffect;function Qxe(e={}){const{onLoad:t,onError:n,ignoreFallback:r,src:s,crossOrigin:a,srcSet:o,sizes:l,loading:c}=e,u=Z0e(),d=m.useRef(u?new Image:null),[f,h]=m.useState("pending");m.useEffect(()=>{d.current&&(d.current.onload=x=>{p(),h("loaded"),t==null||t(x)},d.current.onerror=x=>{p(),h("failed"),n==null||n(x)})},[d.current]);const p=()=>{d.current&&(d.current.onload=null,d.current.onerror=null,d.current=null)},b=m.useCallback(()=>{if(!s)return"pending";if(r)return"loaded";const x=new Image;return x.src=s,a&&(x.crossOrigin=a),o&&(x.srcset=o),l&&(x.sizes=l),c&&(x.loading=c),d.current=x,x.complete&&x.naturalWidth?"loaded":"loading"},[s,a,o,l,t,n,c]);return Kc(()=>{u&&h(b())},[u,b]),r?"loaded":f}function eye(e={}){var t,n,r,s,a,o;const l=xr(),c=Jxe(),u=!!c,{as:d,ref:f,src:h,name:p,icon:b,classNames:x,fallback:y,alt:v=p||"avatar",imgRef:j,color:S=(t=c==null?void 0:c.color)!=null?t:"default",radius:N=(n=c==null?void 0:c.radius)!=null?n:"full",size:C=(r=c==null?void 0:c.size)!=null?r:"md",isBordered:$=(s=c==null?void 0:c.isBordered)!=null?s:!1,isDisabled:P=(a=c==null?void 0:c.isDisabled)!=null?a:!1,isFocusable:E=!1,getInitials:M=K0e,ignoreFallback:k=!1,showFallback:A=!1,ImgComponent:I="img",imgProps:L,className:R,onError:F,disableAnimation:T,...O}=e,_=d||"span",W=Kt(f),z=Kt(j),{isFocusVisible:U,isFocused:H,focusProps:B}=Mr(),{isHovered:Y,hoverProps:ae}=is({isDisabled:P}),ce=(o=T??(l==null?void 0:l.disableAnimation))!=null?o:!1,Q=Qxe({src:h,onError:F,ignoreFallback:k})==="loaded",K=typeof I=="string",ne=(!h||!Q)&&A,te=m.useMemo(()=>{var Le;return Ixe({color:S,radius:N,size:C,isBordered:$,isDisabled:P,isInGroup:u,disableAnimation:ce,isInGridGroup:(Le=c==null?void 0:c.isGrid)!=null?Le:!1})},[S,N,C,$,P,ce,u,c==null?void 0:c.isGrid]),X=Ye(x==null?void 0:x.base,R),xe=m.useMemo(()=>E||d==="button",[E,d]),$e=m.useCallback((Le={})=>({ref:W,tabIndex:xe?0:-1,"data-hover":Ae(Y),"data-focus":Ae(H),"data-focus-visible":Ae(U),className:te.base({class:Ye(X,Le==null?void 0:Le.className)}),...Me(O,ae,xe?B:{})}),[xe,te,X,B,O]),Ne=m.useCallback((Le={})=>({ref:z,src:h,"data-loaded":Ae(Q),className:te.img({class:x==null?void 0:x.img}),...Me(L,Le,Mn({disableAnimation:ce},{enabled:K}))}),[te,Q,L,ce,h,z,K]);return{Component:_,ImgComponent:I,src:h,alt:v,icon:b,name:p,imgRef:z,slots:te,classNames:x,fallback:y,isImgLoaded:Q,showFallback:ne,ignoreFallback:k,getInitials:M,getAvatarProps:$e,getImageProps:Ne}}var Wz=Ft((e,t)=>{const{Component:n,ImgComponent:r,src:s,icon:a=i.jsx($0,{}),alt:o,classNames:l,slots:c,name:u,showFallback:d,fallback:f,getInitials:h,getAvatarProps:p,getImageProps:b}=eye({...e,ref:t}),x=m.useMemo(()=>!d&&s?null:f?i.jsx("div",{"aria-label":o,className:c.fallback({class:l==null?void 0:l.fallback}),role:"img",children:f}):u?i.jsx("span",{"aria-label":o,className:c.name({class:l==null?void 0:l.name}),role:"img",children:h(u)}):i.jsx("span",{"aria-label":o,className:c.icon({class:l==null?void 0:l.icon}),role:"img",children:a}),[d,s,f,u,l]);return i.jsxs(n,{...p(),children:[s&&i.jsx(r,{...b(),alt:o}),x]})});Wz.displayName="HeroUI.Avatar";var Ha=Wz;function tye(e){var t,n;const r=xr(),s=(n=(t=e==null?void 0:e.disableAnimation)!=null?t:r==null?void 0:r.disableAnimation)!=null?n:!1,[a,o]=Hr(e,o6.variantKeys),{as:l,children:c,className:u,content:d,classNames:f,...h}=a,p=l||"span",b=m.useMemo(()=>{var S;return((S=String(d))==null?void 0:S.length)===1||(e==null?void 0:e.isOneChar)},[d,e==null?void 0:e.isOneChar]),x=m.useMemo(()=>{var S;return((S=String(d))==null?void 0:S.length)===0},[d]),y=Ye(f==null?void 0:f.badge,u),v=m.useMemo(()=>o6({...o,showOutline:e!=null&&e.disableOutline?!(e!=null&&e.disableOutline):e==null?void 0:e.showOutline,isOneChar:b,isDot:x}),[Kr(o),b,x]),j=()=>({className:v.badge({class:y}),"data-invisible":e.isInvisible,...h});return{Component:p,children:c,content:d,slots:v,classNames:f,disableAnimation:s,isInvisible:e==null?void 0:e.isInvisible,getBadgeProps:j}}var Uz=Ft((e,t)=>{const{Component:n,children:r,content:s,slots:a,classNames:o,getBadgeProps:l}=tye({...e});return i.jsxs("div",{className:a.base({class:o==null?void 0:o.base}),children:[r,i.jsx(n,{ref:t,...l(),children:s})]})});Uz.displayName="HeroUI.Badge";var rl=Uz,[Ect,nye]=$d({name:"ButtonGroupContext",strict:!1});function K1(e,t){let{elementType:n="button",isDisabled:r,onPress:s,onPressStart:a,onPressEnd:o,onPressChange:l,preventFocusOnPress:c,allowFocusWhenDisabled:u,onClick:d,href:f,target:h,rel:p,type:b="button",allowTextSelectionOnPress:x}=e,y;n==="button"?y={type:b,disabled:r}:y={role:"button",href:n==="a"&&!r?f:void 0,target:n==="a"?h:void 0,type:n==="input"?b:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?p:void 0};let{pressProps:v,isPressed:j}=Ni({onClick:d,onPressStart:a,onPressEnd:o,onPressChange:l,onPress:s,isDisabled:r,preventFocusOnPress:c,allowTextSelectionOnPress:x,ref:t}),{focusableProps:S}=Bh(e,t);u&&(S.tabIndex=r?-1:S.tabIndex);let N=Me(S,v,va(e,{labelable:!0}));return{isPressed:j,buttonProps:Me(y,N,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}var rye=()=>Cd(()=>import("./index-Ci_XXAC0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10])).then(e=>e.default),Kz=e=>{const{ripples:t=[],motionProps:n,color:r="currentColor",style:s,onClear:a}=e;return i.jsx(i.Fragment,{children:t.map(o=>{const l=q0e(.01*o.size,.2,o.size>100?.75:.5);return i.jsx($c,{features:rye,children:i.jsx(zh,{mode:"popLayout",children:i.jsx(Ec.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:o.y,left:o.x,width:`${o.size}px`,height:`${o.size}px`,...s},transition:{duration:l},onAnimationComplete:()=>{a(o.key)},...n})})},o.key)})})};Kz.displayName="HeroUI.Ripple";var Hz=Kz;function qz(e={}){const[t,n]=m.useState([]),r=m.useCallback(a=>{const o=a.target,l=Math.max(o.clientWidth,o.clientHeight);n(c=>[...c,{key:H0e(c.length.toString()),size:l,x:a.x-l/2,y:a.y-l/2}])},[]),s=m.useCallback(a=>{n(o=>o.filter(l=>l.key!==a))},[]);return{ripples:t,onClear:s,onPress:r,...e}}function sye(e){var t,n,r,s,a,o,l,c,u;const d=nye(),f=xr(),h=!!d,{ref:p,as:b,children:x,startContent:y,endContent:v,autoFocus:j,className:S,spinner:N,isLoading:C=!1,disableRipple:$=!1,fullWidth:P=(t=d==null?void 0:d.fullWidth)!=null?t:!1,radius:E=d==null?void 0:d.radius,size:M=(n=d==null?void 0:d.size)!=null?n:"md",color:k=(r=d==null?void 0:d.color)!=null?r:"default",variant:A=(s=d==null?void 0:d.variant)!=null?s:"solid",disableAnimation:I=(o=(a=d==null?void 0:d.disableAnimation)!=null?a:f==null?void 0:f.disableAnimation)!=null?o:!1,isDisabled:L=(l=d==null?void 0:d.isDisabled)!=null?l:!1,isIconOnly:R=(c=d==null?void 0:d.isIconOnly)!=null?c:!1,spinnerPlacement:F="start",onPress:T,onClick:O,..._}=e,W=b||"button",z=typeof W=="string",U=Kt(p),H=(u=$||(f==null?void 0:f.disableRipple))!=null?u:I,{isFocusVisible:B,isFocused:Y,focusProps:ae}=Mr({autoFocus:j}),ce=L||C,oe=m.useMemo(()=>Dxe({size:M,color:k,variant:A,radius:E,fullWidth:P,isDisabled:ce,isInGroup:h,disableAnimation:I,isIconOnly:R,className:S}),[M,k,A,E,P,ce,h,R,I,S]),{onPress:Q,onClear:K,ripples:ne}=qz(),te=m.useCallback(ue=>{H||ce||I||U.current&&Q(ue)},[H,ce,I,U,Q]),{buttonProps:X,isPressed:xe}=K1({elementType:b,isDisabled:ce,onPress:gr(T,te),onClick:O,..._},U),{isHovered:$e,hoverProps:Ne}=is({isDisabled:ce}),Le=m.useCallback((ue={})=>({"data-disabled":Ae(ce),"data-focus":Ae(Y),"data-pressed":Ae(xe),"data-focus-visible":Ae(B),"data-hover":Ae($e),"data-loading":Ae(C),...Me(X,ae,Ne,Mn(_,{enabled:z}),Mn(ue)),className:oe}),[C,ce,Y,xe,z,B,$e,X,ae,Ne,_,oe]),we=ue=>m.isValidElement(ue)?m.cloneElement(ue,{"aria-hidden":!0,focusable:!1}):null,fe=we(y),me=we(v),G=m.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[M],[M]),re=m.useCallback(()=>({ripples:ne,onClear:K}),[ne,K]);return{Component:W,children:x,domRef:U,spinner:N,styles:oe,startContent:fe,endContent:me,isLoading:C,spinnerPlacement:F,spinnerSize:G,disableRipple:H,getButtonProps:Le,getRippleProps:re,isIconOnly:R}}function aye(e){var t,n;const[r,s]=Hr(e,JT.variantKeys),a=xr(),o=(n=(t=e==null?void 0:e.variant)!=null?t:a==null?void 0:a.spinnerVariant)!=null?n:"default",{children:l,className:c,classNames:u,label:d,...f}=r,h=m.useMemo(()=>JT({...s}),[Kr(s)]),p=Ye(u==null?void 0:u.base,c),b=d||l,x=m.useMemo(()=>b&&typeof b=="string"?b:f["aria-label"]?"":"Loading",[l,b,f["aria-label"]]),y=m.useCallback(()=>({"aria-label":x,className:h.base({class:p}),...f}),[x,h,p,f]);return{label:b,slots:h,classNames:u,variant:o,getSpinnerProps:y}}var Gz=Ft((e,t)=>{const{slots:n,classNames:r,label:s,variant:a,getSpinnerProps:o}=aye({...e});return a==="wave"||a==="dots"?i.jsxs("div",{ref:t,...o(),children:[i.jsx("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[...new Array(3)].map((l,c)=>i.jsx("i",{className:n.dots({class:r==null?void 0:r.dots}),style:{"--dot-index":c}},`dot-${c}`))}),s&&i.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]}):a==="simple"?i.jsxs("div",{ref:t,...o(),children:[i.jsxs("svg",{className:n.wrapper({class:r==null?void 0:r.wrapper}),fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:n.circle1({class:r==null?void 0:r.circle1}),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:n.circle2({class:r==null?void 0:r.circle2}),d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),s&&i.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]}):a==="spinner"?i.jsxs("div",{ref:t,...o(),children:[i.jsx("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[...new Array(12)].map((l,c)=>i.jsx("i",{className:n.spinnerBars({class:r==null?void 0:r.spinnerBars}),style:{"--bar-index":c}},`star-${c}`))}),s&&i.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]}):i.jsxs("div",{ref:t,...o(),children:[i.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[i.jsx("i",{className:n.circle1({class:r==null?void 0:r.circle1})}),i.jsx("i",{className:n.circle2({class:r==null?void 0:r.circle2})})]}),s&&i.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]})});Gz.displayName="HeroUI.Spinner";var ct=Gz,Yz=Ft((e,t)=>{const{Component:n,domRef:r,children:s,spinnerSize:a,spinner:o=i.jsx(ct,{color:"current",size:a}),spinnerPlacement:l,startContent:c,endContent:u,isLoading:d,disableRipple:f,getButtonProps:h,getRippleProps:p,isIconOnly:b}=sye({...e,ref:t});return i.jsxs(n,{ref:r,...h(),children:[c,d&&l==="start"&&o,d&&b?null:s,d&&l==="end"&&o,u,!f&&i.jsx(Hz,{...p()})]})});Yz.displayName="HeroUI.Button";var Se=Yz,[iye,b$]=$d({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),Xz=Ft((e,t)=>{var n;const{as:r,className:s,children:a,...o}=e,l=r||"div",c=Kt(t),{slots:u,classNames:d}=b$(),f=Ye(d==null?void 0:d.body,s);return i.jsx(l,{ref:c,className:(n=u.body)==null?void 0:n.call(u,{class:f}),...o,children:a})});Xz.displayName="HeroUI.CardBody";var yt=Xz,Zz=Ft((e,t)=>{var n;const{as:r,className:s,children:a,...o}=e,l=r||"div",c=Kt(t),{slots:u,classNames:d}=b$(),f=Ye(d==null?void 0:d.footer,s);return i.jsx(l,{ref:c,className:(n=u.footer)==null?void 0:n.call(u,{class:f}),...o,children:a})});Zz.displayName="HeroUI.CardFooter";var oye=Zz,Jz=Ft((e,t)=>{var n;const{as:r,className:s,children:a,...o}=e,l=r||"div",c=Kt(t),{slots:u,classNames:d}=b$(),f=Ye(d==null?void 0:d.header,s);return i.jsx(l,{ref:c,className:(n=u.header)==null?void 0:n.call(u,{class:f}),...o,children:a})});Jz.displayName="HeroUI.CardHeader";var Un=Jz;function lye(e){var t,n,r,s;const a=xr(),[o,l]=Hr(e,s6.variantKeys),{ref:c,as:u,children:d,onClick:f,onPress:h,autoFocus:p,className:b,classNames:x,allowTextSelectionOnPress:y=!0,...v}=o,j=Kt(c),S=u||(e.isPressable?"button":"div"),N=typeof S=="string",C=(n=(t=e.disableAnimation)!=null?t:a==null?void 0:a.disableAnimation)!=null?n:!1,$=(s=(r=e.disableRipple)!=null?r:a==null?void 0:a.disableRipple)!=null?s:!1,P=Ye(x==null?void 0:x.base,b),{onClear:E,onPress:M,ripples:k}=qz(),A=m.useCallback(B=>{$||C||j.current&&M(B)},[$,C,j,M]),{buttonProps:I,isPressed:L}=K1({onPress:gr(h,A),elementType:u,isDisabled:!e.isPressable,onClick:f,allowTextSelectionOnPress:y,...v},j),{hoverProps:R,isHovered:F}=is({isDisabled:!e.isHoverable,...v}),{isFocusVisible:T,isFocused:O,focusProps:_}=Mr({autoFocus:p}),W=m.useMemo(()=>s6({...l,disableAnimation:C}),[Kr(l),C]),z=m.useMemo(()=>({slots:W,classNames:x,disableAnimation:C,isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,fullWidth:e.fullWidth}),[W,x,e.isDisabled,e.isFooterBlurred,C,e.fullWidth]),U=m.useCallback((B={})=>({ref:j,className:W.base({class:P}),tabIndex:e.isPressable?0:-1,"data-hover":Ae(F),"data-pressed":Ae(L),"data-focus":Ae(O),"data-focus-visible":Ae(T),"data-disabled":Ae(e.isDisabled),...Me(e.isPressable?{...I,..._,role:"button"}:{},e.isHoverable?R:{},Mn(v,{enabled:N}),Mn(B))}),[j,W,P,N,e.isPressable,e.isHoverable,e.isDisabled,F,L,T,I,_,R,v]),H=m.useCallback(()=>({ripples:k,onClear:E}),[k,E]);return{context:z,domRef:j,Component:S,classNames:x,children:d,isHovered:F,isPressed:L,disableAnimation:C,isPressable:e.isPressable,isHoverable:e.isHoverable,disableRipple:$,handlePress:A,isFocusVisible:T,getCardProps:U,getRippleProps:H}}var Qz=Ft((e,t)=>{const{children:n,context:r,Component:s,isPressable:a,disableAnimation:o,disableRipple:l,getCardProps:c,getRippleProps:u}=lye({...e,ref:t});return i.jsxs(s,{...c(),children:[i.jsx(iye,{value:r,children:n}),a&&!o&&!l&&i.jsx(Hz,{...u()})]})});Qz.displayName="HeroUI.Card";var mt=Qz;function cye(e){const[t,n]=Hr(e,a6.variantKeys),{ref:r,as:s,children:a,avatar:o,startContent:l,endContent:c,onClose:u,classNames:d,className:f,...h}=t,p=s||"div",b=Kt(r),x=Ye(d==null?void 0:d.base,f),y=!!u,v=e.variant==="dot",{focusProps:j,isFocusVisible:S}=Mr(),N=m.useMemo(()=>typeof a=="string"&&(a==null?void 0:a.length)===1,[a]),C=m.useMemo(()=>!!o||!!l,[o,l]),$=m.useMemo(()=>!!c||y,[c,y]),P=m.useMemo(()=>a6({...n,hasStartContent:C,hasEndContent:$,isOneChar:N,isCloseable:y,isCloseButtonFocusVisible:S}),[Kr(n),S,C,$,N,y]),{pressProps:E}=Ni({isDisabled:!!(e!=null&&e.isDisabled),onPress:u}),M=()=>({ref:b,className:P.base({class:x}),...h}),k=()=>({role:"button",tabIndex:0,className:P.closeButton({class:d==null?void 0:d.closeButton}),"aria-label":"close chip",...Me(E,j)}),A=L=>m.isValidElement(L)?m.cloneElement(L,{className:P.avatar({class:d==null?void 0:d.avatar})}):null,I=L=>m.isValidElement(L)?m.cloneElement(L,{className:Ye("max-h-[80%]",L.props.className)}):null;return{Component:p,children:a,slots:P,classNames:d,isDot:v,isCloseable:y,startContent:A(o)||I(l),endContent:I(c),getCloseButtonProps:k,getChipProps:M}}var eV=Ft((e,t)=>{const{Component:n,children:r,slots:s,classNames:a,isDot:o,isCloseable:l,startContent:c,endContent:u,getCloseButtonProps:d,getChipProps:f}=cye({...e,ref:t}),h=m.useMemo(()=>o&&!c?i.jsx("span",{className:s.dot({class:a==null?void 0:a.dot})}):c,[s,c,o]),p=m.useMemo(()=>l?i.jsx("span",{...d(),children:u||i.jsx(u$,{})}):u,[u,l,d]);return i.jsxs(n,{...f(),children:[h,i.jsx("span",{className:s.content({class:a==null?void 0:a.content}),children:r}),p]})});eV.displayName="HeroUI.Chip";var Jt=eV;function uye(e,t,n){let{isDisabled:r=!1,isReadOnly:s=!1,value:a,name:o,children:l,"aria-label":c,"aria-labelledby":u,validationState:d="valid",isInvalid:f}=e,h=N=>{N.stopPropagation(),t.setSelected(N.target.checked)},{pressProps:p,isPressed:b}=Ni({isDisabled:r}),{pressProps:x,isPressed:y}=Ni({onPress(){var N;t.toggle(),(N=n.current)===null||N===void 0||N.focus()},isDisabled:r||s}),{focusableProps:v}=Bh(e,n),j=Me(p,v),S=va(e,{labelable:!0});return d4(n,t.isSelected,t.setSelected),{labelProps:Me(x,{onClick:N=>N.preventDefault()}),inputProps:Me(S,{"aria-invalid":f||d==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":s||void 0,onChange:h,disabled:r,...a==null?{}:{value:a},name:o,type:"checkbox",...j}),isSelected:t.isSelected,isPressed:b||y,isDisabled:r,isReadOnly:s,isInvalid:f||d==="invalid"}}function tV(e,t,n){let r=Uh({...e,value:t.isSelected}),{isInvalid:s,validationErrors:a,validationDetails:o}=r.displayValidation,{labelProps:l,inputProps:c,isSelected:u,isPressed:d,isDisabled:f,isReadOnly:h}=uye({...e,isInvalid:s},t,n);M1(e,r,n);let{isIndeterminate:p,isRequired:b,validationBehavior:x="aria"}=e;m.useEffect(()=>{n.current&&(n.current.indeterminate=!!p)});let{pressProps:y}=Ni({isDisabled:f||h,onPress(){let{[gg]:v}=e,{commitValidation:j}=v||r;j()}});return{labelProps:Me(l,y),inputProps:{...c,checked:u,"aria-required":b&&x==="aria"||void 0,required:b&&x==="native"},isSelected:u,isPressed:d,isDisabled:f,isReadOnly:h,isInvalid:s,validationErrors:a,validationDetails:o}}const dye=new WeakMap;function nV(e={}){let{isReadOnly:t}=e,[n,r]=ml(e.isSelected,e.defaultSelected||!1,e.onChange);function s(o){t||r(o)}function a(){t||r(!n)}return{isSelected:n,setSelected:s,toggle:a}}function fye(e,t,n){const r=nV({isReadOnly:e.isReadOnly||t.isReadOnly,isSelected:t.isSelected(e.value),onChange(y){y?t.addValue(e.value):t.removeValue(e.value),e.onChange&&e.onChange(y)}});let{name:s,descriptionId:a,errorMessageId:o,validationBehavior:l}=dye.get(t);var c;l=(c=e.validationBehavior)!==null&&c!==void 0?c:l;let{realtimeValidation:u}=Uh({...e,value:r.isSelected,name:void 0,validationBehavior:"aria"}),d=m.useRef($f),f=()=>{t.setInvalid(e.value,u.isInvalid?u:d.current)};m.useEffect(f);let h=t.realtimeValidation.isInvalid?t.realtimeValidation:u,p=l==="native"?t.displayValidation:h;var b;let x=tV({...e,isReadOnly:e.isReadOnly||t.isReadOnly,isDisabled:e.isDisabled||t.isDisabled,name:e.name||s,isRequired:(b=e.isRequired)!==null&&b!==void 0?b:t.isRequired,validationBehavior:l,[gg]:{realtimeValidation:h,displayValidation:p,resetValidation:t.resetValidation,commitValidation:t.commitValidation,updateValidation(y){d.current=y,f()}}},r,n);return{...x,inputProps:{...x.inputProps,"aria-describedby":[e["aria-describedby"],t.isInvalid?o:null,a].filter(Boolean).join(" ")||void 0}}}var p6=Symbol("default");function E0(e,t){let n=m.useContext(e);if(t===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=new Intl.ListFormat().format(Object.keys(n.slots).map(a=>`"${a}"`));if(!t&&!n.slots[p6])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let s=t||p6;if(!n.slots[s])throw new Error(`Invalid slot "${t}". Valid slot names are ${r}.`);return n.slots[s]}return n}function hye(e,t,n){let r=E0(n,e.slot)||{},{ref:s,...a}=r,o=Yle(m.useMemo(()=>MR(t,s),[t,s])),l=Me(a,e);return"style"in a&&a.style&&"style"in e&&e.style&&(typeof a.style=="function"||typeof e.style=="function"?l.style=c=>{let u=typeof a.style=="function"?a.style(c):a.style,d={...c.defaultStyle,...u},f=typeof e.style=="function"?e.style({...c,defaultStyle:d}):e.style;return{...d,...f}}:l.style={...a.style,...e.style}),[l,o]}var rh=m.createContext(null);m.forwardRef(function(t,n){[t,n]=hye(t,n,rh);let{validationErrors:r,validationBehavior:s="native",children:a,className:o,...l}=t;const c=m.useMemo(()=>Pxe({className:o}),[o]);return i.jsx("form",{noValidate:s!=="native",...l,ref:n,className:c,children:i.jsx(rh.Provider,{value:{...t,validationBehavior:s},children:i.jsx(sB.Provider,{value:r??{},children:a})})})});var[Act,mye]=$d({name:"CheckboxGroupContext",strict:!1});function pye(e){const{isSelected:t,disableAnimation:n,...r}=e;return i.jsx("svg",{"aria-hidden":"true",fill:"none",role:"presentation",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!n&&t?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{},viewBox:"0 0 17 18",...r,children:i.jsx("polyline",{points:"1 9 7 14 15 4"})})}function gye(e){const{isSelected:t,disableAnimation:n,...r}=e;return i.jsx("svg",{stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",...r,children:i.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function bye(e){const{isIndeterminate:t,...n}=e,r=t?gye:pye;return i.jsx(r,{...n})}function R3(e,t=[]){const n=m.useRef(e);return Kc(()=>{n.current=e}),m.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},t)}function xye(e={}){var t,n,r,s,a,o,l,c;const u=xr(),d=mye(),{validationBehavior:f}=E0(rh)||{},h=!!d,{as:p,ref:b,value:x="",children:y,icon:v,name:j,isRequired:S,isReadOnly:N=!1,autoFocus:C=!1,isSelected:$,size:P=(t=d==null?void 0:d.size)!=null?t:"md",color:E=(n=d==null?void 0:d.color)!=null?n:"primary",radius:M=d==null?void 0:d.radius,lineThrough:k=(r=d==null?void 0:d.lineThrough)!=null?r:!1,isDisabled:A=(s=d==null?void 0:d.isDisabled)!=null?s:!1,disableAnimation:I=(o=(a=d==null?void 0:d.disableAnimation)!=null?a:u==null?void 0:u.disableAnimation)!=null?o:!1,validationState:L,isInvalid:R=L?L==="invalid":(l=d==null?void 0:d.isInvalid)!=null?l:!1,isIndeterminate:F=!1,validationBehavior:T=h?d.validationBehavior:(c=f??(u==null?void 0:u.validationBehavior))!=null?c:"native",defaultSelected:O,classNames:_,className:W,onValueChange:z,validate:U,...H}=e,B=p||"label",Y=m.useRef(null),ae=m.useRef(null);let ce=e.onChange;h&&(ce=gr(()=>{d.groupState.resetValidation()},ce));const oe=m.useId(),Q=m.useMemo(()=>({name:j,value:x,children:y,autoFocus:C,defaultSelected:O,isIndeterminate:F,isRequired:S,isInvalid:R,isSelected:$,isDisabled:A,isReadOnly:N,"aria-label":wB(H["aria-label"],y),"aria-labelledby":H["aria-labelledby"]||oe,onChange:z}),[j,x,y,C,O,F,S,R,$,A,N,H["aria-label"],H["aria-labelledby"],oe,z]),K=nV(Q),ne={isInvalid:R,isRequired:S,validate:U,validationState:L,validationBehavior:T},{inputProps:te,isSelected:X,isDisabled:xe,isReadOnly:$e,isPressed:Ne,isInvalid:Le}=h?fye({...Q,...ne},d.groupState,ae):tV({...Q,...ne},K,ae),we=xe||$e,fe=L==="invalid"||R||Le,me=we?!1:Ne,{hoverProps:G,isHovered:re}=is({isDisabled:te.disabled}),{focusProps:ue,isFocused:ge,isFocusVisible:ye}=Mr({autoFocus:te.autoFocus}),je=m.useMemo(()=>kxe({color:E,size:P,radius:M,isInvalid:fe,lineThrough:k,isDisabled:xe,disableAnimation:I}),[E,P,M,fe,k,xe,I]);Kc(()=>{if(!ae.current)return;const vt=!!ae.current.checked;K.setSelected(vt)},[ae.current]);const ie=R3(ce),he=m.useCallback(vt=>{if($e||xe){vt.preventDefault();return}ie==null||ie(vt)},[$e,xe,ie]),ke=Ye(_==null?void 0:_.base,W),Be=m.useCallback(()=>({ref:Y,className:je.base({class:ke}),"data-disabled":Ae(xe),"data-selected":Ae(X||F),"data-invalid":Ae(fe),"data-hover":Ae(re),"data-focus":Ae(ge),"data-pressed":Ae(me),"data-readonly":Ae(te.readOnly),"data-focus-visible":Ae(ye),"data-indeterminate":Ae(F),...Me(G,H)}),[je,ke,xe,X,F,fe,re,ge,me,te.readOnly,ye,G,H]),qe=m.useCallback((vt={})=>({...vt,"aria-hidden":!0,className:Ye(je.wrapper({class:Ye(_==null?void 0:_.wrapper,vt==null?void 0:vt.className)}))}),[je,_==null?void 0:_.wrapper]),Et=m.useCallback(()=>({ref:V1(ae,b),...Me(te,ue),className:je.hiddenInput({class:_==null?void 0:_.hiddenInput}),onChange:gr(te.onChange,he)}),[te,ue,he,_==null?void 0:_.hiddenInput]),ln=m.useCallback(()=>({id:oe,className:je.label({class:_==null?void 0:_.label})}),[je,_==null?void 0:_.label,xe,X,fe]),Ht=m.useCallback(()=>({isSelected:X,isIndeterminate:F,disableAnimation:I,className:je.icon({class:_==null?void 0:_.icon})}),[je,_==null?void 0:_.icon,X,F,I]);return{Component:B,icon:v,children:y,isSelected:X,isDisabled:xe,isInvalid:fe,isFocused:ge,isHovered:re,isFocusVisible:ye,getBaseProps:Be,getWrapperProps:qe,getInputProps:Et,getLabelProps:ln,getIconProps:Ht}}var rV=Ft((e,t)=>{const{Component:n,children:r,icon:s=i.jsx(bye,{}),getBaseProps:a,getWrapperProps:o,getInputProps:l,getIconProps:c,getLabelProps:u}=xye({...e,ref:t}),d=typeof s=="function"?s(c()):m.cloneElement(s,c());return i.jsxs(n,{...a(),children:[i.jsx("input",{...l()}),i.jsx("span",{...o(),children:d}),r&&i.jsx("span",{...u(),children:r})]})});rV.displayName="HeroUI.Checkbox";var sl=rV;const g6=e=>typeof e=="object"&&e!=null&&e.nodeType===1,b6=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",fx=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return b6(n.overflowY,t)||b6(n.overflowX,t)||(r=>{const s=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)})(e)}return!1},hx=(e,t,n,r,s,a,o,l)=>a<e&&o>t||a>e&&o<t?0:a<=e&&l<=n||o>=t&&l>=n?a-e-r:o>t&&l<n||a<e&&l>n?o-t+s:0,yye=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},x6=(e,t)=>{var n,r,s,a;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:T=>T!==u;if(!g6(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,p=[];let b=e;for(;g6(b)&&f(b);){if(b=yye(b),b===h){p.push(b);break}b!=null&&b===document.body&&fx(b)&&!fx(document.documentElement)||b!=null&&fx(b,d)&&p.push(b)}const x=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(a=(s=window.visualViewport)==null?void 0:s.height)!=null?a:innerHeight,{scrollX:v,scrollY:j}=window,{height:S,width:N,top:C,right:$,bottom:P,left:E}=e.getBoundingClientRect(),{top:M,right:k,bottom:A,left:I}=(T=>{const O=window.getComputedStyle(T);return{top:parseFloat(O.scrollMarginTop)||0,right:parseFloat(O.scrollMarginRight)||0,bottom:parseFloat(O.scrollMarginBottom)||0,left:parseFloat(O.scrollMarginLeft)||0}})(e);let L=l==="start"||l==="nearest"?C-M:l==="end"?P+A:C+S/2-M+A,R=c==="center"?E+N/2-I+k:c==="end"?$+k:E-I;const F=[];for(let T=0;T<p.length;T++){const O=p[T],{height:_,width:W,top:z,right:U,bottom:H,left:B}=O.getBoundingClientRect();if(o==="if-needed"&&C>=0&&E>=0&&P<=y&&$<=x&&(O===h&&!fx(O)||C>=z&&P<=H&&E>=B&&$<=U))return F;const Y=getComputedStyle(O),ae=parseInt(Y.borderLeftWidth,10),ce=parseInt(Y.borderTopWidth,10),oe=parseInt(Y.borderRightWidth,10),Q=parseInt(Y.borderBottomWidth,10);let K=0,ne=0;const te="offsetWidth"in O?O.offsetWidth-O.clientWidth-ae-oe:0,X="offsetHeight"in O?O.offsetHeight-O.clientHeight-ce-Q:0,xe="offsetWidth"in O?O.offsetWidth===0?0:W/O.offsetWidth:0,$e="offsetHeight"in O?O.offsetHeight===0?0:_/O.offsetHeight:0;if(h===O)K=l==="start"?L:l==="end"?L-y:l==="nearest"?hx(j,j+y,y,ce,Q,j+L,j+L+S,S):L-y/2,ne=c==="start"?R:c==="center"?R-x/2:c==="end"?R-x:hx(v,v+x,x,ae,oe,v+R,v+R+N,N),K=Math.max(0,K+j),ne=Math.max(0,ne+v);else{K=l==="start"?L-z-ce:l==="end"?L-H+Q+X:l==="nearest"?hx(z,H,_,ce,Q+X,L,L+S,S):L-(z+_/2)+X/2,ne=c==="start"?R-B-ae:c==="center"?R-(B+W/2)+te/2:c==="end"?R-U+oe+te:hx(B,U,W,ae,oe+te,R,R+N,N);const{scrollLeft:Ne,scrollTop:Le}=O;K=$e===0?0:Math.max(0,Math.min(Le+K/$e,O.scrollHeight-_/$e+X)),ne=xe===0?0:Math.max(0,Math.min(Ne+ne/xe,O.scrollWidth-W/xe+te)),L+=Le-K,R+=Ne-ne}F.push({el:O,top:K,left:ne})}return F},vye=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function wye(e,t){if(!e.isConnected||!(r=>{let s=r;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;if((r=>typeof r=="object"&&typeof r.behavior=="function")(t))return t.behavior(x6(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:r,top:s,left:a}of x6(e,vye(t)))r.scroll({top:s,left:a,behavior:n})}function H1(e){let[t,n]=ml(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=m.useCallback(()=>{n(!0)},[n]),s=m.useCallback(()=>{n(!1)},[n]),a=m.useCallback(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:r,close:s,toggle:a}}const Sye=1500,y6=500;let bu={},jye=0,Vm=!1,Do=null,xu=null;function Cye(e={}){let{delay:t=Sye,closeDelay:n=y6}=e,{isOpen:r,open:s,close:a}=H1(e),o=m.useMemo(()=>`${++jye}`,[]),l=m.useRef(null),c=m.useRef(a),u=()=>{bu[o]=h},d=()=>{for(let b in bu)b!==o&&(bu[b](!0),delete bu[b])},f=()=>{l.current&&clearTimeout(l.current),l.current=null,d(),u(),Vm=!0,s(),Do&&(clearTimeout(Do),Do=null),xu&&(clearTimeout(xu),xu=null)},h=b=>{b||n<=0?(l.current&&clearTimeout(l.current),l.current=null,c.current()):l.current||(l.current=setTimeout(()=>{l.current=null,c.current()},n)),Do&&(clearTimeout(Do),Do=null),Vm&&(xu&&clearTimeout(xu),xu=setTimeout(()=>{delete bu[o],xu=null,Vm=!1},Math.max(y6,n)))},p=()=>{d(),u(),!r&&!Do&&!Vm?Do=setTimeout(()=>{Do=null,Vm=!0,f()},t):r||f()};return m.useEffect(()=>{c.current=a},[a]),m.useEffect(()=>()=>{l.current&&clearTimeout(l.current),bu[o]&&delete bu[o]},[o]),{isOpen:r,open:b=>{!b&&t>0&&!l.current?p():f()},close:h}}function Nye(e,t){let n=va(e,{labelable:!0}),{hoverProps:r}=is({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:Me(n,r,{role:"tooltip"})}}function $ye(e,t,n){let{isDisabled:r,trigger:s}=e,a=Ur(),o=m.useRef(!1),l=m.useRef(!1),c=()=>{(o.current||l.current)&&t.open(l.current)},u=v=>{!o.current&&!l.current&&t.close(v)};m.useEffect(()=>{let v=j=>{n&&n.current&&j.key==="Escape"&&(j.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[n,t]);let d=()=>{s!=="focus"&&(lg()==="pointer"?o.current=!0:o.current=!1,c())},f=()=>{s!=="focus"&&(l.current=!1,o.current=!1,u())},h=()=>{l.current=!1,o.current=!1,u(!0)},p=()=>{el()&&(l.current=!0,c())},b=()=>{l.current=!1,o.current=!1,u(!0)},{hoverProps:x}=is({isDisabled:r,onHoverStart:d,onHoverEnd:f}),{focusableProps:y}=Bh({isDisabled:r,onFocus:p,onBlur:b},n);return{triggerProps:{"aria-describedby":t.isOpen?a:void 0,...Me(y,x,{onPointerDown:h,onKeyDown:h,tabIndex:void 0})},tooltipProps:{id:a}}}function Eye(e){var t,n;const r=xr(),[s,a]=Hr(e,Hy.variantKeys),{ref:o,as:l,isOpen:c,content:u,children:d,defaultOpen:f,onOpenChange:h,isDisabled:p,trigger:b,shouldFlip:x=!0,containerPadding:y=12,placement:v="top",delay:j=0,closeDelay:S=500,showArrow:N=!1,offset:C=7,crossOffset:$=0,isDismissable:P,shouldCloseOnBlur:E=!0,portalContainer:M,isKeyboardDismissDisabled:k=!1,updatePositionDeps:A=[],shouldCloseOnInteractOutside:I,className:L,onClose:R,motionProps:F,classNames:T,...O}=s,_=l||"div",W=(n=(t=e==null?void 0:e.disableAnimation)!=null?t:r==null?void 0:r.disableAnimation)!=null?n:!1,z=Cye({delay:j,closeDelay:S,isDisabled:p,defaultOpen:f,isOpen:c,onOpenChange:Le=>{h==null||h(Le),Le||R==null||R()}}),U=m.useRef(null),H=m.useRef(null),B=m.useId(),Y=z.isOpen&&!p;m.useImperativeHandle(o,()=>B0e(H));const{triggerProps:ae,tooltipProps:ce}=$ye({isDisabled:p,trigger:b},z,U),{tooltipProps:oe}=Nye({isOpen:Y,...Me(s,ce)},z),{overlayProps:Q,placement:K,updatePosition:ne}=$B({isOpen:Y,targetRef:U,placement:Vz(v),overlayRef:H,offset:N?C+3:C,crossOffset:$,shouldFlip:x,containerPadding:y});Kc(()=>{A.length&&ne()},A);const{overlayProps:te}=MB({isOpen:Y,onClose:z.close,isDismissable:P,shouldCloseOnBlur:E,isKeyboardDismissDisabled:k,shouldCloseOnInteractOutside:I},H),X=m.useMemo(()=>{var Le,we,fe;return Hy({...a,disableAnimation:W,radius:(Le=e==null?void 0:e.radius)!=null?Le:"md",size:(we=e==null?void 0:e.size)!=null?we:"md",shadow:(fe=e==null?void 0:e.shadow)!=null?fe:"sm"})},[Kr(a),W,e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),xe=m.useCallback((Le={},we=null)=>({...Me(ae,Le),ref:V1(we,U),"aria-describedby":Y?B:void 0}),[ae,Y,B,z]),$e=m.useCallback(()=>({ref:H,"data-slot":"base","data-open":Ae(Y),"data-arrow":Ae(N),"data-disabled":Ae(p),"data-placement":Yy(K||"top",v),...Me(oe,te,O),style:Me(Q.style,O.style,s.style),className:X.base({class:T==null?void 0:T.base}),id:B}),[X,Y,N,p,K,v,oe,te,O,Q,s,B]),Ne=m.useCallback(()=>({"data-slot":"content","data-open":Ae(Y),"data-arrow":Ae(N),"data-disabled":Ae(p),"data-placement":Yy(K||"top",v),className:X.content({class:Ye(T==null?void 0:T.content,L)})}),[X,Y,N,p,K,v,T]);return{Component:_,content:u,children:d,isOpen:Y,triggerRef:U,showArrow:N,portalContainer:M,placement:v,disableAnimation:W,isDisabled:p,motionProps:F,getTooltipContentProps:Ne,getTriggerProps:xe,getTooltipProps:$e}}var Aye=()=>Cd(()=>import("./index-Ci_XXAC0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10])).then(e=>e.default),sV=Ft((e,t)=>{var n;const{Component:r,children:s,content:a,isOpen:o,portalContainer:l,placement:c,disableAnimation:u,motionProps:d,getTriggerProps:f,getTooltipProps:h,getTooltipContentProps:p}=Eye({...e,ref:t});let b;try{if(m.Children.count(s)!==1)throw new Error;if(!m.isValidElement(s))b=i.jsx("p",{...f(),children:s});else{const C=s,$=(n=C.props.ref)!=null?n:C.ref;b=m.cloneElement(C,f(C.props,$))}}catch{b=i.jsx("span",{}),Y0e("Tooltip must have only one child node. Please, check your code.")}const{ref:x,id:y,style:v,...j}=h(),S=i.jsx("div",{ref:x,id:y,style:v,children:i.jsx(Ec.div,{animate:"enter",exit:"exit",initial:"exit",variants:xg.scaleSpring,...Me(d,j),style:{...g$(c)},children:i.jsx(r,{...p(),children:a})},`${y}-tooltip-inner`)},`${y}-tooltip-content`);return i.jsxs(i.Fragment,{children:[b,u?o&&i.jsx(UT,{portalContainer:l,children:i.jsx("div",{ref:x,id:y,style:v,...j,children:i.jsx(r,{...p(),children:a})})}):i.jsx($c,{features:Aye,children:i.jsx(zh,{children:o&&i.jsx(UT,{portalContainer:l,children:S})})})]})});sV.displayName="HeroUI.Tooltip";var Vs=sV;function aV(e={}){const{rerender:t=!1,delay:n=0}=e,r=m.useRef(!1),[s,a]=m.useState(!1);return m.useEffect(()=>{r.current=!0;let o=null;return t&&(n>0?o=setTimeout(()=>{a(!0)},n):a(!0)),()=>{r.current=!1,t&&a(!1),o&&clearTimeout(o)}},[t]),[m.useCallback(()=>r.current,[]),s]}function Pye(e){let{value:t=0,minValue:n=0,maxValue:r=100,valueLabel:s,isIndeterminate:a,formatOptions:o={style:"percent"}}=e,l=va(e,{labelable:!0}),{labelProps:c,fieldProps:u}=n$({...e,labelElementType:"span"});t=jy(t,n,r);let d=(t-n)/(r-n),f=ace(o);if(!a&&!s){let h=o.style==="percent"?d:t;s=f.format(h)}return{progressBarProps:Me(l,{...u,"aria-valuenow":a?void 0:t,"aria-valuemin":n,"aria-valuemax":r,"aria-valuetext":a?void 0:s,role:"progressbar"}),labelProps:c}}function Dye(e){var t,n;const r=xr(),[s,a]=Hr(e,t6.variantKeys),{ref:o,as:l,id:c,className:u,classNames:d,label:f,valueLabel:h,value:p=0,minValue:b=0,maxValue:x=100,showValueLabel:y=!1,formatOptions:v={style:"percent"},...j}=s,S=l||"div",N=Kt(o),C=Ye(d==null?void 0:d.base,u),[,$]=aV({rerender:!0,delay:100}),P=e.isIndeterminate,E=(n=(t=e.disableAnimation)!=null?t:r==null?void 0:r.disableAnimation)!=null?n:!1,{progressBarProps:M,labelProps:k}=Pye({id:c,label:f,value:p,minValue:b,maxValue:x,valueLabel:h,formatOptions:v,isIndeterminate:P,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),A=m.useMemo(()=>t6({...a,disableAnimation:E}),[Kr(a),E]),I=E?!0:$,L=m.useMemo(()=>P||!I?void 0:G0e((p-b)/(x-b)*100),[I,P,p,b,x]),R=m.useCallback((T={})=>({ref:N,"data-indeterminate":Ae(P),"data-disabled":Ae(e.isDisabled),className:A.base({class:C}),...Me(M,j,T)}),[N,A,P,e.isDisabled,C,M,j]),F=m.useCallback((T={})=>({className:A.label({class:d==null?void 0:d.label}),...Me(k,T)}),[A,d,k]);return{Component:S,domRef:N,slots:A,classNames:d,label:f,percentage:L,showValueLabel:y,getProgressBarProps:R,getLabelProps:F}}var iV=Ft((e,t)=>{const{Component:n,slots:r,classNames:s,label:a,percentage:o,showValueLabel:l,getProgressBarProps:c,getLabelProps:u}=Dye({...e,ref:t}),d=c(),f=a||l;return i.jsxs(n,{...d,children:[f?i.jsxs("div",{className:r.labelWrapper({class:s==null?void 0:s.labelWrapper}),children:[a&&i.jsx("span",{...u(),children:a}),l&&i.jsx("span",{className:r.value({class:s==null?void 0:s.value}),children:d["aria-valuetext"]})]}):null,i.jsx("div",{className:r.track({class:s==null?void 0:s.track}),children:i.jsx("div",{className:r.indicator({class:s==null?void 0:s.indicator}),style:{transform:`translateX(-${100-(o||0)}%)`}})})]})});iV.displayName="HeroUI.Progress";var sh=iV;function oV(e,t){let{inputElementType:n="input",isDisabled:r=!1,isRequired:s=!1,isReadOnly:a=!1,type:o="text",validationBehavior:l="aria"}=e,[c,u]=ml(e.value,e.defaultValue||"",e.onChange),{focusableProps:d}=Bh(e,t),f=Uh({...e,value:c}),{isInvalid:h,validationErrors:p,validationDetails:b}=f.displayValidation,{labelProps:x,fieldProps:y,descriptionProps:v,errorMessageProps:j}=r$({...e,isInvalid:h,errorMessage:e.errorMessage||p}),S=va(e,{labelable:!0});const N={type:o,pattern:e.pattern};return d4(t,c,u),M1(e,f,t),m.useEffect(()=>{if(t.current instanceof Bs(t.current).HTMLTextAreaElement){let C=t.current;Object.defineProperty(C,"defaultValue",{get:()=>C.value,set:()=>{},configurable:!0})}},[t]),{labelProps:x,inputProps:Me(S,n==="input"?N:void 0,{disabled:r,readOnly:a,required:s&&l==="native","aria-required":s&&l==="aria"||void 0,"aria-invalid":h||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:c,onChange:C=>u(C.target.value),autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck,[parseInt(Z.version,10)>=17?"enterKeyHint":"enterkeyhint"]:e.enterKeyHint,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...d,...y}),descriptionProps:v,errorMessageProps:j,isInvalid:h,validationErrors:p,validationDetails:b}}function lV(e){var t,n,r,s,a,o,l;const c=xr(),{validationBehavior:u}=E0(rh)||{},[d,f]=Hr(e,r6.variantKeys),{ref:h,as:p,type:b,label:x,baseRef:y,wrapperRef:v,description:j,className:S,classNames:N,autoFocus:C,startContent:$,endContent:P,onClear:E,onChange:M,validationState:k,validationBehavior:A=(t=u??(c==null?void 0:c.validationBehavior))!=null?t:"native",innerWrapperRef:I,onValueChange:L=()=>{},...R}=d,F=m.useCallback(Ct=>{L(Ct??"")},[L]),[T,O]=m.useState(!1),_=p||"div",W=(r=(n=e.disableAnimation)!=null?n:c==null?void 0:c.disableAnimation)!=null?r:!1,z=Kt(h),U=Kt(y),H=Kt(v),B=Kt(I),[Y,ae]=ml(d.value,(s=d.defaultValue)!=null?s:"",F),ce=b==="file",oe=((l=(o=(a=z==null?void 0:z.current)==null?void 0:a.files)==null?void 0:o.length)!=null?l:0)>0,Q=["date","time","month","week","range"].includes(b),K=!yB(Y)||Q||oe,ne=K||T,te=b==="hidden",X=e.isMultiline,xe=Ye(N==null?void 0:N.base,S,K?"is-filled":""),$e=m.useCallback(()=>{var Ct;ce?z.current.value="":ae(""),E==null||E(),(Ct=z.current)==null||Ct.focus()},[ae,E,ce]);Kc(()=>{z.current&&ae(z.current.value)},[z.current]);const{labelProps:Ne,inputProps:Le,isInvalid:we,validationErrors:fe,validationDetails:me,descriptionProps:G,errorMessageProps:re}=oV({...e,validationBehavior:A,autoCapitalize:e.autoCapitalize,value:Y,"aria-label":wB(e["aria-label"],e.label,e.placeholder),inputElementType:X?"textarea":"input",onChange:ae},z);ce&&(delete Le.value,delete Le.onChange);const{isFocusVisible:ue,isFocused:ge,focusProps:ye}=Mr({autoFocus:C,isTextInput:!0}),{isHovered:je,hoverProps:ie}=is({isDisabled:!!(e!=null&&e.isDisabled)}),{isHovered:he,hoverProps:ke}=is({isDisabled:!!(e!=null&&e.isDisabled)}),{focusProps:Be,isFocusVisible:qe}=Mr(),{focusWithinProps:Et}=d0({onFocusWithinChange:O}),{pressProps:ln}=Ni({isDisabled:!!(e!=null&&e.isDisabled)||!!(e!=null&&e.isReadOnly),onPress:$e}),Ht=k==="invalid"||we,vt=Sz({labelPlacement:e.labelPlacement,label:x}),Re=typeof d.errorMessage=="function"?d.errorMessage({isInvalid:Ht,validationErrors:fe,validationDetails:me}):d.errorMessage||(fe==null?void 0:fe.join(" ")),Ue=!!E||e.isClearable,it=!!x||!!j||!!Re,ot=!!d.placeholder,Je=!!x,lt=!!j||!!Re,Ot=vt==="outside"||vt==="outside-left",Vn=vt==="inside",Yn=z.current?(!z.current.value||z.current.value===""||!Y||Y==="")&&ot:!1,tn=vt==="outside-left",ur=!!$,po=Ot?vt==="outside-left"||ot||vt==="outside"&&ur:!1,At=vt==="outside"&&!ot&&!ur,Yt=m.useMemo(()=>r6({...f,isInvalid:Ht,labelPlacement:vt,isClearable:Ue,disableAnimation:W}),[Kr(f),Ht,vt,Ue,ur,W]),ti=m.useCallback((Ct={})=>({ref:U,className:Yt.base({class:xe}),"data-slot":"base","data-filled":Ae(K||ot||ur||Yn||ce),"data-filled-within":Ae(ne||ot||ur||Yn||ce),"data-focus-within":Ae(T),"data-focus-visible":Ae(ue),"data-readonly":Ae(e.isReadOnly),"data-focus":Ae(ge),"data-hover":Ae(je||he),"data-required":Ae(e.isRequired),"data-invalid":Ae(Ht),"data-disabled":Ae(e.isDisabled),"data-has-elements":Ae(it),"data-has-helper":Ae(lt),"data-has-label":Ae(Je),"data-has-value":Ae(!Yn),"data-hidden":Ae(te),...Et,...Ct}),[Yt,xe,K,ge,je,he,Ht,lt,Je,it,Yn,ur,T,ue,ne,ot,Et,te,e.isReadOnly,e.isRequired,e.isDisabled]),su=m.useCallback((Ct={})=>({"data-slot":"label",className:Yt.label({class:N==null?void 0:N.label}),...Me(Ne,ke,Ct)}),[Yt,he,Ne,N==null?void 0:N.label]),ki=m.useCallback(Ct=>{Ct.key==="Escape"&&Y&&(Ue||E)&&!e.isReadOnly&&(ae(""),E==null||E())},[Y,ae,E,Ue,e.isReadOnly]),au=m.useCallback((Ct={})=>({"data-slot":"input","data-filled":Ae(K),"data-filled-within":Ae(ne),"data-has-start-content":Ae(ur),"data-has-end-content":Ae(!!P),"data-type":b,className:Yt.input({class:Ye(N==null?void 0:N.input,K?"is-filled":"",X?"pe-0":"",b==="password"?"[&::-ms-reveal]:hidden":"")}),...Me(ye,Le,Mn(R,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(Le))}),Ct),"aria-readonly":Ae(e.isReadOnly),onChange:gr(Le.onChange,M),onKeyDown:gr(Le.onKeyDown,Ct.onKeyDown,ki),ref:z}),[Yt,Y,ye,Le,R,K,ne,ur,P,N==null?void 0:N.input,e.isReadOnly,e.isRequired,M,ki]),go=m.useCallback((Ct={})=>({ref:H,"data-slot":"input-wrapper","data-hover":Ae(je||he),"data-focus-visible":Ae(ue),"data-focus":Ae(ge),className:Yt.inputWrapper({class:Ye(N==null?void 0:N.inputWrapper,K?"is-filled":"")}),...Me(Ct,ie),onClick:bo=>{z.current&&bo.currentTarget===bo.target&&z.current.focus()},style:{cursor:"text",...Ct.style}}),[Yt,je,he,ue,ge,Y,N==null?void 0:N.inputWrapper]),iu=m.useCallback((Ct={})=>({...Ct,ref:B,"data-slot":"inner-wrapper",onClick:bo=>{z.current&&bo.currentTarget===bo.target&&z.current.focus()},className:Yt.innerWrapper({class:Ye(N==null?void 0:N.innerWrapper,Ct==null?void 0:Ct.className)})}),[Yt,N==null?void 0:N.innerWrapper]),St=m.useCallback((Ct={})=>({...Ct,"data-slot":"main-wrapper",className:Yt.mainWrapper({class:Ye(N==null?void 0:N.mainWrapper,Ct==null?void 0:Ct.className)})}),[Yt,N==null?void 0:N.mainWrapper]),ni=m.useCallback((Ct={})=>({...Ct,"data-slot":"helper-wrapper",className:Yt.helperWrapper({class:Ye(N==null?void 0:N.helperWrapper,Ct==null?void 0:Ct.className)})}),[Yt,N==null?void 0:N.helperWrapper]),hm=m.useCallback((Ct={})=>({...Ct,...G,"data-slot":"description",className:Yt.description({class:Ye(N==null?void 0:N.description,Ct==null?void 0:Ct.className)})}),[Yt,N==null?void 0:N.description]),mm=m.useCallback((Ct={})=>({...Ct,...re,"data-slot":"error-message",className:Yt.errorMessage({class:Ye(N==null?void 0:N.errorMessage,Ct==null?void 0:Ct.className)})}),[Yt,re,N==null?void 0:N.errorMessage]),pm=m.useCallback((Ct={})=>({...Ct,type:"button",tabIndex:-1,disabled:e.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":Ae(qe),className:Yt.clearButton({class:Ye(N==null?void 0:N.clearButton,Ct==null?void 0:Ct.className)}),...Me(ln,Be)}),[Yt,qe,ln,Be,N==null?void 0:N.clearButton]);return{Component:_,classNames:N,domRef:z,label:x,description:j,startContent:$,endContent:P,labelPlacement:vt,isClearable:Ue,hasHelper:lt,hasStartContent:ur,isLabelOutside:po,isOutsideLeft:tn,isLabelOutsideAsPlaceholder:At,shouldLabelBeOutside:Ot,shouldLabelBeInside:Vn,hasPlaceholder:ot,isInvalid:Ht,errorMessage:Re,getBaseProps:ti,getLabelProps:su,getInputProps:au,getMainWrapperProps:St,getInputWrapperProps:go,getInnerWrapperProps:iu,getHelperWrapperProps:ni,getDescriptionProps:hm,getErrorMessageProps:mm,getClearButtonProps:pm}}var cV=Ft((e,t)=>{const{Component:n,label:r,description:s,isClearable:a,startContent:o,endContent:l,labelPlacement:c,hasHelper:u,isOutsideLeft:d,shouldLabelBeOutside:f,errorMessage:h,isInvalid:p,getBaseProps:b,getLabelProps:x,getInputProps:y,getInnerWrapperProps:v,getInputWrapperProps:j,getMainWrapperProps:S,getHelperWrapperProps:N,getDescriptionProps:C,getErrorMessageProps:$,getClearButtonProps:P}=lV({...e,ref:t}),E=r?i.jsx("label",{...x(),children:r}):null,M=m.useMemo(()=>a?i.jsx("button",{...P(),children:l||i.jsx(u$,{})}):l,[a,P]),k=m.useMemo(()=>{const L=p&&h;return!u||!(L||s)?null:i.jsx("div",{...N(),children:L?i.jsx("div",{...$(),children:h}):i.jsx("div",{...C(),children:s})})},[u,p,h,s,N,$,C]),A=m.useMemo(()=>i.jsxs("div",{...v(),children:[o,i.jsx("input",{...y()}),M]}),[o,M,y,v]),I=m.useMemo(()=>f?i.jsxs("div",{...S(),children:[i.jsxs("div",{...j(),children:[d?null:E,A]}),k]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{...j(),children:[E,A]}),k]}),[c,k,f,E,A,h,s,S,j,$,C]);return i.jsxs(n,{...b(),children:[d?E:null,I]})});cV.displayName="HeroUI.Input";var Ve=cV,uV=Ft(({style:e,minRows:t=3,maxRows:n=8,cacheMeasurements:r=!1,disableAutosize:s=!1,onHeightChange:a,...o},l)=>{const{Component:c,label:u,description:d,startContent:f,endContent:h,hasHelper:p,shouldLabelBeOutside:b,shouldLabelBeInside:x,isInvalid:y,errorMessage:v,getBaseProps:j,getLabelProps:S,getInputProps:N,getInnerWrapperProps:C,getInputWrapperProps:$,getHelperWrapperProps:P,getDescriptionProps:E,getErrorMessageProps:M,isClearable:k,getClearButtonProps:A}=lV({...o,ref:l,isMultiline:!0}),[I,L]=m.useState(t>1),[R,F]=m.useState(!1),T=u?i.jsx("label",{...S(),children:u}):null,O=N(),_=(Y,ae)=>{if(t===1&&L(Y>=ae.rowHeight*2),n>t){const ce=Y>=n*ae.rowHeight;F(ce)}a==null||a(Y,ae)},W=s?i.jsx("textarea",{...O,style:Me(O.style,e??{})}):i.jsx(zpe,{...O,cacheMeasurements:r,"data-hide-scroll":Ae(!R),maxRows:n,minRows:t,style:Me(O.style,e??{}),onHeightChange:_}),z=m.useMemo(()=>k?i.jsx("button",{...A(),children:i.jsx(u$,{})}):null,[k,A]),U=m.useMemo(()=>f||h?i.jsxs("div",{...C(),children:[f,W,h]}):i.jsx("div",{...C(),children:W}),[f,O,h,C]),H=y&&v,B=H||d;return i.jsxs(c,{...j(),children:[b?T:null,i.jsxs("div",{...$(),"data-has-multiple-rows":Ae(I),children:[x?T:null,U,z]}),p&&B?i.jsx("div",{...P(),children:H?i.jsx("div",{...M(),children:v}):i.jsx("div",{...E(),children:d})}):null]})});uV.displayName="HeroUI.Textarea";var Ss=uV;function kye(e,t){const{groupRef:n,triggerRef:r,popoverRef:s,showArrow:a,offset:o=7,crossOffset:l=0,scrollRef:c,shouldFlip:u,boundaryElement:d,isDismissable:f=!0,shouldCloseOnBlur:h=!0,shouldCloseOnScroll:p=!0,placement:b="top",containerPadding:x,shouldCloseOnInteractOutside:y,isNonModal:v,isKeyboardDismissDisabled:j,updatePositionDeps:S=[],...N}=e,C=v??!0,$=N.trigger==="SubmenuTrigger",{overlayProps:P,underlayProps:E}=MB({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:h,isDismissable:f||$,isKeyboardDismissDisabled:j,shouldCloseOnInteractOutside:y||(L=>U1(L,r,t))},s),{overlayProps:M,arrowProps:k,placement:A,updatePosition:I}=$B({...N,shouldFlip:u,crossOffset:l,targetRef:r,overlayRef:s,isOpen:t.isOpen,scrollRef:c,boundaryElement:d,containerPadding:x,placement:Vz(b),offset:a?o+3:o,onClose:C&&!$&&p?t.close:()=>{}});return Kc(()=>{S.length&&I()},S),m.useEffect(()=>{var L,R;if(t.isOpen&&s.current)return C?Xxe((L=n==null?void 0:n.current)!=null?L:s.current):Yxe([(R=n==null?void 0:n.current)!=null?R:s.current])},[C,t.isOpen,s,n]),{popoverProps:Me(P,M),arrowProps:k,underlayProps:E,placement:A}}var Iye="top";function dV(e){var t,n,r;const s=xr(),[a,o]=Hr(e,Hy.variantKeys),{as:l,ref:c,children:u,state:d,triggerRef:f,scrollRef:h,defaultOpen:p,onOpenChange:b,isOpen:x,isNonModal:y=!0,shouldFlip:v=!0,containerPadding:j=12,shouldBlockScroll:S=!1,isDismissable:N=!0,shouldCloseOnBlur:C,portalContainer:$,updatePositionDeps:P,dialogProps:E,placement:M=Iye,triggerType:k="dialog",showArrow:A=!1,offset:I=7,crossOffset:L=0,boundaryElement:R,isKeyboardDismissDisabled:F,shouldCloseOnInteractOutside:T,shouldCloseOnScroll:O,motionProps:_,className:W,classNames:z,onClose:U,...H}=a,B=l||"div",Y=Kt(c),ae=m.useRef(null),ce=m.useRef(!1),oe=f||ae,Q=(n=(t=e.disableAnimation)!=null?t:s==null?void 0:s.disableAnimation)!=null?n:!1,K=H1({isOpen:x,defaultOpen:p,onOpenChange:he=>{b==null||b(he),he||U==null||U()}}),ne=d||K,{popoverProps:te,underlayProps:X,placement:xe}=kye({triggerRef:oe,isNonModal:y,popoverRef:Y,placement:M,offset:I,scrollRef:h,isDismissable:N,shouldCloseOnBlur:C,boundaryElement:R,crossOffset:L,shouldFlip:v,containerPadding:j,updatePositionDeps:P,isKeyboardDismissDisabled:F,shouldCloseOnScroll:O,shouldCloseOnInteractOutside:T},ne),$e=m.useMemo(()=>xe?Zxe(xe,M)?xe:M:null,[xe,M]),{triggerProps:Ne}=OB({type:k},ne,oe),{isFocusVisible:Le,isFocused:we,focusProps:fe}=Mr(),me=m.useMemo(()=>Hy({...o}),[Kr(o)]),G=Ye(z==null?void 0:z.base,W);LB({isDisabled:!(S&&ne.isOpen)});const re=(he={})=>({ref:Y,...Me(te,H,he),style:Me(te.style,H.style,he.style)}),ue=(he={})=>({"data-slot":"base","data-open":Ae(ne.isOpen),"data-focus":Ae(we),"data-arrow":Ae(A),"data-focus-visible":Ae(Le),"data-placement":xe?Yy(xe,M):void 0,...Me(fe,E,he),className:me.base({class:Ye(G)}),style:{outline:"none"}}),ge=m.useCallback((he={})=>({"data-slot":"content","data-open":Ae(ne.isOpen),"data-arrow":Ae(A),"data-placement":xe?Yy(xe,M):void 0,className:me.content({class:Ye(z==null?void 0:z.content,he.className)})}),[me,ne.isOpen,A,$e,M,z,xe]),ye=m.useCallback(he=>{var ke;let Be;return he.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?Be=setTimeout(()=>{ce.current=!0},100):ce.current=!0,(ke=Ne.onPress)==null||ke.call(Ne,he),()=>{clearTimeout(Be)}},[Ne==null?void 0:Ne.onPress]),je=m.useCallback((he={},ke=null)=>{const{isDisabled:Be,...qe}=he;return{"data-slot":"trigger",...Me({"aria-haspopup":"dialog"},Ne,qe),onPress:ye,isDisabled:Be,className:me.trigger({class:Ye(z==null?void 0:z.trigger,he.className),isTriggerDisabled:Be}),ref:MR(ke,oe)}},[ne,Ne,ye,oe]),ie=m.useCallback((he={})=>({"data-slot":"backdrop",className:me.backdrop({class:z==null?void 0:z.backdrop}),onClick:ke=>{if(!ce.current){ke.preventDefault();return}ne.close(),ce.current=!1},...X,...he}),[me,ne.isOpen,z,X]);return m.useEffect(()=>{if(ne.isOpen&&(Y!=null&&Y.current))return yz([Y==null?void 0:Y.current])},[ne.isOpen,Y]),{state:ne,Component:B,children:u,classNames:z,showArrow:A,triggerRef:oe,placement:$e,isNonModal:y,popoverRef:Y,portalContainer:$,isOpen:ne.isOpen,onClose:ne.close,disableAnimation:Q,shouldBlockScroll:S,backdrop:(r=e.backdrop)!=null?r:"transparent",motionProps:_,getBackdropProps:ie,getPopoverProps:re,getTriggerProps:je,getDialogProps:ue,getContentProps:ge}}function fV(e,t){let{role:n="dialog"}=e,r=gc();r=e["aria-label"]?void 0:r;let s=m.useRef(!1);return m.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){vs(t.current);let a=setTimeout(()=>{document.activeElement===t.current&&(s.current=!0,t.current&&(t.current.blur(),vs(t.current)),s.current=!1)},500);return()=>{clearTimeout(a)}}},[t]),Ibe(),{dialogProps:{...va(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:a=>{s.current&&a.stopPropagation()}},titleProps:{id:r}}}var hV=()=>Cd(()=>import("./index-Ci_XXAC0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10])).then(e=>e.default),mV=Ft(({children:e,motionProps:t,placement:n,disableAnimation:r,style:s={},transformOrigin:a={},...o},l)=>{let c=s;return a.originX!==void 0||a.originY!==void 0?c={...c,transformOrigin:a}:n&&(c={...c,...g$(n==="center"?"top":n)}),r?i.jsx("div",{...o,ref:l,children:e}):i.jsx($c,{features:hV,children:i.jsx(Ec.div,{ref:l,animate:"enter",exit:"exit",initial:"initial",style:c,variants:xg.scaleSpringOpacity,...Me(o,t),children:e})})});mV.displayName="HeroUI.FreeSoloPopoverWrapper";var pV=Ft(({children:e,transformOrigin:t,disableDialogFocus:n=!1,...r},s)=>{const{Component:a,state:o,placement:l,backdrop:c,portalContainer:u,disableAnimation:d,motionProps:f,isNonModal:h,getPopoverProps:p,getBackdropProps:b,getDialogProps:x,getContentProps:y}=dV({...r,ref:s}),v=m.useRef(null),{dialogProps:j,titleProps:S}=fV({},v),N=x({...!n&&{ref:v},...j}),C=m.useMemo(()=>c==="transparent"?null:d?i.jsx("div",{...b()}):i.jsx($c,{features:hV,children:i.jsx(Ec.div,{animate:"enter",exit:"exit",initial:"exit",variants:xg.fade,...b()})}),[c,d,b]);return i.jsxs(wz,{portalContainer:u,children:[!h&&C,i.jsx(a,{...p(),children:i.jsxs(mV,{disableAnimation:d,motionProps:f,placement:l,tabIndex:-1,transformOrigin:t,...N,children:[!h&&i.jsx(Ky,{onDismiss:o.close}),i.jsx("div",{...y(),children:typeof e=="function"?e(S):e}),i.jsx(Ky,{onDismiss:o.close})]})})]})});pV.displayName="HeroUI.FreeSoloPopover";var gV=pV,[Tye,bV]=$d({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),v6=()=>Cd(()=>import("./index-Ci_XXAC0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10])).then(e=>e.default),xV=e=>{const{as:t,children:n,className:r,...s}=e,{Component:a,placement:o,backdrop:l,motionProps:c,disableAnimation:u,getPopoverProps:d,getDialogProps:f,getBackdropProps:h,getContentProps:p,isNonModal:b,onClose:x}=bV(),y=m.useRef(null),{dialogProps:v,titleProps:j}=fV({},y),S=f({ref:y,...v,...s}),N=t||a||"div",C=i.jsxs(i.Fragment,{children:[!b&&i.jsx(Ky,{onDismiss:x}),i.jsx(N,{...S,children:i.jsx("div",{...p({className:r}),children:typeof n=="function"?n(j):n})}),i.jsx(Ky,{onDismiss:x})]}),$=m.useMemo(()=>l==="transparent"?null:u?i.jsx("div",{...h()}):i.jsx($c,{features:v6,children:i.jsx(Ec.div,{animate:"enter",exit:"exit",initial:"exit",variants:xg.fade,...h()})}),[l,u,h]),P=o?g$(o==="center"?"top":o):void 0,E=i.jsx(i.Fragment,{children:u?C:i.jsx($c,{features:v6,children:i.jsx(Ec.div,{animate:"enter",exit:"exit",initial:"initial",style:P,variants:xg.scaleSpringOpacity,...c,children:C})})});return i.jsxs("div",{...d(),children:[$,E]})};xV.displayName="HeroUI.PopoverContent";var Mye=xV,yV=e=>{var t;const{triggerRef:n,getTriggerProps:r}=bV(),{children:s,...a}=e,o=m.useMemo(()=>typeof s=="string"?i.jsx("p",{children:s}):m.Children.only(s),[s]),l=(t=o.props.ref)!=null?t:o.ref,{onPress:c,isDisabled:u,...d}=m.useMemo(()=>r(Me(a,o.props),l),[r,o.props,a,l]),[,f]=J0e(s,Se),{buttonProps:h}=K1({onPress:c,isDisabled:u},n),p=m.useMemo(()=>(f==null?void 0:f[0])!==void 0,[f]);return p||delete d.preventFocusOnPress,m.cloneElement(o,Me(d,p?{onPress:c,isDisabled:u}:h))};yV.displayName="HeroUI.PopoverTrigger";var Oye=yV,vV=Ft((e,t)=>{const{children:n,...r}=e,s=dV({...r,ref:t}),[a,o]=m.Children.toArray(n),l=i.jsx(wz,{portalContainer:s.portalContainer,children:o});return i.jsxs(Tye,{value:s,children:[a,s.disableAnimation&&s.isOpen?l:i.jsx(zh,{children:s.isOpen?l:null})]})});vV.displayName="HeroUI.Popover";var Lye=vV,[_ye,wV]=$d({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"}),Fye=Vxe,As=Fye;function Rye(e){const{isSelected:t,disableAnimation:n,...r}=e;return i.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...r,children:i.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:n?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var SV={};SV={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var jV={};jV={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var CV={};CV={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var NV={};NV={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var $V={};$V={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var EV={};EV={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var AV={};AV={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var PV={};PV={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var DV={};DV={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var kV={};kV={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var IV={};IV={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var TV={};TV={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var MV={};MV={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var OV={};OV={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var LV={};LV={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var _V={};_V={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var FV={};FV={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var RV={};RV={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var BV={};BV={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var zV={};zV={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var VV={};VV={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var WV={};WV={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var UV={};UV={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var KV={};KV={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var HV={};HV={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var qV={};qV={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var GV={};GV={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var YV={};YV={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var XV={};XV={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ZV={};ZV={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var JV={};JV={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var QV={};QV={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var eW={};eW={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var tW={};tW={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var nW={};nW={"ar-AE":SV,"bg-BG":jV,"cs-CZ":CV,"da-DK":NV,"de-DE":$V,"el-GR":EV,"en-US":AV,"es-ES":PV,"et-EE":DV,"fi-FI":kV,"fr-FR":IV,"he-IL":TV,"hr-HR":MV,"hu-HU":OV,"it-IT":LV,"ja-JP":_V,"ko-KR":FV,"lt-LT":RV,"lv-LV":BV,"nb-NO":zV,"nl-NL":VV,"pl-PL":WV,"pt-BR":UV,"pt-PT":KV,"ro-RO":HV,"ru-RU":qV,"sk-SK":GV,"sl-SI":YV,"sr-SP":XV,"sv-SE":ZV,"tr-TR":JV,"uk-UA":QV,"zh-CN":eW,"zh-TW":tW};function Bye(e){return e&&e.__esModule?e.default:e}function x$(e,t,n){let{type:r="menu",isDisabled:s,trigger:a="press"}=e,o=Ur(),{triggerProps:l,overlayProps:c}=OB({type:r},t,n),u=p=>{if(!s&&!(a==="longPress"&&!p.altKey)&&n&&n.current)switch(p.key){case"Enter":case" ":if(a==="longPress")return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),t.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},d=pl(Bye(nW),"@react-aria/menu"),{longPressProps:f}=f8({isDisabled:s||a!=="longPress",accessibilityDescription:d.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),h={preventFocusOnPress:!0,onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!s&&(Ci(p.target),t.open(p.pointerType==="virtual"?"first":null))},onPress(p){p.pointerType==="touch"&&!s&&(Ci(p.target),t.toggle())}};return delete l.onPress,{menuTriggerProps:{...l,...a==="press"?h:f,id:o,onKeyDown:u},menuProps:{...c,"aria-labelledby":o,autoFocus:t.focusStrategy||!0,onClose:t.close}}}const rW=new WeakMap;function zye(e,t,n){let{shouldFocusWrap:r=!0,onKeyDown:s,onKeyUp:a,...o}=e;!e["aria-label"]&&e["aria-labelledby"];let l=va(e,{labelable:!0}),{listProps:c}=Fz({...o,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return rW.set(t,{onClose:e.onClose,onAction:e.onAction,shouldUseVirtualFocus:e.shouldUseVirtualFocus}),{menuProps:Me(l,{onKeyDown:s,onKeyUp:a},{role:"menu",...c,onKeyDown:u=>{var d;(u.key!=="Escape"||e.shouldUseVirtualFocus)&&((d=c.onKeyDown)===null||d===void 0||d.call(c,u))}})}}function Vye(e,t,n){let{id:r,key:s,closeOnSelect:a,isVirtualized:o,"aria-haspopup":l,onPressStart:c,onPressUp:u,onPress:d,onPressChange:f,onPressEnd:h,onHoverStart:p,onHoverChange:b,onHoverEnd:x,onKeyDown:y,onKeyUp:v,onFocus:j,onFocusChange:S,onBlur:N,selectionManager:C=t.selectionManager}=e,$=!!l,P=$&&e["aria-expanded"]==="true";var E;let M=(E=e.isDisabled)!==null&&E!==void 0?E:C.isDisabled(s);var k;let A=(k=e.isSelected)!==null&&k!==void 0?k:C.isSelected(s),I=rW.get(t),L=t.collection.getItem(s),R=e.onClose||I.onClose,F=Fh(),T=Ne=>{var Le;if(!$){if(!(L==null||(Le=L.props)===null||Le===void 0)&&Le.onAction?L.props.onAction():e.onAction&&e.onAction(s),I.onAction){let we=I.onAction;we(s)}Ne.target instanceof HTMLAnchorElement&&L&&F.open(Ne.target,Ne,L.props.href,L.props.routerOptions)}},O="menuitem";$||(C.selectionMode==="single"?O="menuitemradio":C.selectionMode==="multiple"&&(O="menuitemcheckbox"));let _=gc(),W=gc(),z=gc(),U={id:r,"aria-disabled":M||void 0,role:O,"aria-label":e["aria-label"],"aria-labelledby":_,"aria-describedby":[W,z].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":l,"aria-expanded":e["aria-expanded"]};C.selectionMode!=="none"&&!$&&(U["aria-checked"]=A),o&&(U["aria-posinset"]=L==null?void 0:L.index,U["aria-setsize"]=p$(t.collection));let H=Ne=>{Ne.pointerType==="keyboard"&&T(Ne),c==null||c(Ne)},B=()=>{!$&&R&&(a??(C.selectionMode!=="multiple"||C.isLink(s)))&&R()},Y=Ne=>{Ne.pointerType==="mouse"&&(T(Ne),B()),u==null||u(Ne)},ae=Ne=>{Ne.pointerType!=="keyboard"&&Ne.pointerType!=="mouse"&&(T(Ne),B()),d==null||d(Ne)},{itemProps:ce,isFocused:oe}=C0({id:r,selectionManager:C,key:s,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:I.shouldUseVirtualFocus}),{pressProps:Q,isPressed:K}=Ni({onPressStart:H,onPress:ae,onPressUp:Y,onPressChange:f,onPressEnd:h,isDisabled:M}),{hoverProps:ne}=is({isDisabled:M,onHoverStart(Ne){!el()&&!(P&&l)&&(C.setFocused(!0),C.setFocusedKey(s)),p==null||p(Ne)},onHoverChange:b,onHoverEnd:x}),{keyboardProps:te}=d8({onKeyDown:Ne=>{if(Ne.repeat){Ne.continuePropagation();return}switch(Ne.key){case" ":!M&&C.selectionMode==="none"&&!$&&a!==!1&&R&&R();break;case"Enter":!M&&a!==!1&&!$&&R&&R();break;default:$||Ne.continuePropagation(),y==null||y(Ne);break}},onKeyUp:v}),{focusProps:X}=x4({onBlur:N,onFocus:j,onFocusChange:S}),xe=va(L==null?void 0:L.props);delete xe.id;let $e=c4(L==null?void 0:L.props);return{menuItemProps:{...U,...Me(xe,$e,$?{onFocus:ce.onFocus,"data-collection":ce["data-collection"],"data-key":ce["data-key"]}:ce,Q,ne,te,X,I.shouldUseVirtualFocus||$?{onMouseDown:Ne=>Ne.preventDefault()}:void 0),tabIndex:ce.tabIndex!=null&&P&&!I.shouldUseVirtualFocus?-1:ce.tabIndex},labelProps:{id:_},descriptionProps:{id:W},keyboardShortcutProps:{id:z},isFocused:oe,isFocusVisible:oe&&C.isFocused&&el()&&!P,isSelected:A,isPressed:K,isDisabled:M}}function Wye(e){let{heading:t,"aria-label":n}=e,r=Ur();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}var Uye=700;function sW(){return _h()||typeof window>"u"?!1:window.screen.width<=Uye}function Kye(e){var t,n;const r=xr(),[s,a]=Hr(e,Gy.variantKeys),{as:o,item:l,state:c,shortcut:u,description:d,startContent:f,endContent:h,isVirtualized:p,selectedIcon:b,className:x,classNames:y,onAction:v,autoFocus:j,onPress:S,onPressStart:N,onPressUp:C,onPressEnd:$,onPressChange:P,onHoverStart:E,onHoverChange:M,onHoverEnd:k,hideSelectedIcon:A=!1,isReadOnly:I=!1,closeOnSelect:L,onClose:R,onClick:F,...T}=s,O=(n=(t=e.disableAnimation)!=null?t:r==null?void 0:r.disableAnimation)!=null?n:!1,_=m.useRef(null),W=o||(T!=null&&T.href?"a":"li"),z=typeof W=="string",{rendered:U,key:H}=l,B=c.disabledKeys.has(H)||e.isDisabled,Y=c.selectionManager.selectionMode!=="none",ae=sW(),{isFocusVisible:ce,focusProps:oe}=Mr({autoFocus:j}),Q=m.useCallback(he=>{F==null||F(he),S==null||S(he)},[F,S]),{isPressed:K,isFocused:ne,isSelected:te,isDisabled:X,menuItemProps:xe,labelProps:$e,descriptionProps:Ne,keyboardShortcutProps:Le}=Vye({key:H,onClose:R,isDisabled:B,onPress:Q,onPressStart:N,onPressUp:C,onPressEnd:$,onPressChange:P,"aria-label":s["aria-label"],closeOnSelect:L,isVirtualized:p,onAction:v},c,_);let{hoverProps:we,isHovered:fe}=is({isDisabled:X,onHoverStart(he){el()||(c.selectionManager.setFocused(!0),c.selectionManager.setFocusedKey(H)),E==null||E(he)},onHoverChange:M,onHoverEnd:k}),me=xe;const G=m.useMemo(()=>Gy({...a,isDisabled:X,disableAnimation:O,hasTitleTextChild:typeof U=="string",hasDescriptionTextChild:typeof d=="string"}),[Kr(a),X,O,U,d]),re=Ye(y==null?void 0:y.base,x);I&&(me=jB(me));const ue=(he={})=>({ref:_,...Me(I?{}:oe,Mn(T,{enabled:z}),me,we,he),"data-focus":Ae(ne),"data-selectable":Ae(Y),"data-hover":Ae(ae?fe||K:fe),"data-disabled":Ae(X),"data-selected":Ae(te),"data-pressed":Ae(K),"data-focus-visible":Ae(ce),className:G.base({class:Ye(re,he.className)})}),ge=(he={})=>({...Me($e,he),className:G.title({class:y==null?void 0:y.title})}),ye=(he={})=>({...Me(Ne,he),className:G.description({class:y==null?void 0:y.description})}),je=(he={})=>({...Me(Le,he),className:G.shortcut({class:y==null?void 0:y.shortcut})}),ie=m.useCallback((he={})=>({"aria-hidden":Ae(!0),"data-disabled":Ae(X),className:G.selectedIcon({class:y==null?void 0:y.selectedIcon}),...he}),[X,G,y]);return{Component:W,domRef:_,slots:G,classNames:y,isSelectable:Y,isSelected:te,isDisabled:X,rendered:U,shortcut:u,description:d,startContent:f,endContent:h,selectedIcon:b,disableAnimation:O,getItemProps:ue,getLabelProps:ge,hideSelectedIcon:A,getDescriptionProps:ye,getKeyboardShortcutProps:je,getSelectedIconProps:ie}}var aW=e=>{const{Component:t,slots:n,classNames:r,rendered:s,shortcut:a,description:o,isSelectable:l,isSelected:c,isDisabled:u,selectedIcon:d,startContent:f,endContent:h,disableAnimation:p,hideSelectedIcon:b,getItemProps:x,getLabelProps:y,getDescriptionProps:v,getKeyboardShortcutProps:j,getSelectedIconProps:S}=Kye(e),N=m.useMemo(()=>{const C=i.jsx(Rye,{disableAnimation:p,isSelected:c});return typeof d=="function"?d({icon:C,isSelected:c,isDisabled:u}):d||C},[d,c,u,p]);return i.jsxs(t,{...x(),children:[f,o?i.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[i.jsx("span",{...y(),children:s}),i.jsx("span",{...v(),children:o})]}):i.jsx("span",{...y(),children:s}),a&&i.jsx("kbd",{...j(),children:a}),l&&!b&&i.jsx("span",{...S(),children:N}),h]})};aW.displayName="HeroUI.MenuItem";var iW=aW,oW=Ft(({item:e,state:t,as:n,variant:r,color:s,disableAnimation:a,onAction:o,closeOnSelect:l,className:c,classNames:u,showDivider:d=!1,hideSelectedIcon:f,dividerProps:h={},itemClasses:p,title:b,...x},y)=>{const v=n||"li",j=m.useMemo(()=>Oz(),[]),S=Ye(u==null?void 0:u.base,c),N=Ye(u==null?void 0:u.divider,h==null?void 0:h.className),{itemProps:C,headingProps:$,groupProps:P}=Wye({heading:e.rendered,"aria-label":e["aria-label"]});return i.jsxs(v,{"data-slot":"base",...Me(C,x),className:j.base({class:S}),children:[e.rendered&&i.jsx("span",{...$,className:j.heading({class:u==null?void 0:u.heading}),"data-slot":"heading",children:e.rendered}),i.jsxs("ul",{...P,className:j.group({class:u==null?void 0:u.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(E=>{const{key:M,props:k}=E;let A=i.jsx(iW,{classNames:p,closeOnSelect:l,color:s,disableAnimation:a,hideSelectedIcon:f,item:E,state:t,variant:r,onAction:o,...k},M);return E.wrapper&&(A=E.wrapper(A)),A}),d&&i.jsx(Ed,{as:"li",className:j.divider({class:N}),...h})]})]})});oW.displayName="HeroUI.MenuSection";var Hye=oW;function qye(e){var t;const n=xr(),{as:r,ref:s,variant:a,color:o,children:l,disableAnimation:c=(t=n==null?void 0:n.disableAnimation)!=null?t:!1,onAction:u,closeOnSelect:d,itemClasses:f,className:h,state:p,topContent:b,bottomContent:x,hideEmptyContent:y=!1,hideSelectedIcon:v=!1,emptyContent:j="No items.",menuProps:S,onClose:N,classNames:C,...$}=e,P=r||"ul",E=Kt(s),M=typeof P=="string",k=Kxe({...$,...S,children:l}),A=p||k,{menuProps:I}=zye({...$,...S,onAction:u},A,E),L=m.useMemo(()=>Mz({className:h}),[h]),R=Ye(C==null?void 0:C.base,h);return{Component:P,state:A,variant:a,color:o,disableAnimation:c,onClose:N,topContent:b,bottomContent:x,closeOnSelect:d,className:h,itemClasses:f,getBaseProps:(_={})=>({ref:E,"data-slot":"base",className:L.base({class:R}),...Mn($,{enabled:M}),..._}),getListProps:(_={})=>({"data-slot":"list",className:L.list({class:C==null?void 0:C.list}),...I,..._}),hideEmptyContent:y,hideSelectedIcon:v,getEmptyContentProps:(_={})=>({children:j,className:L.emptyContent({class:C==null?void 0:C.emptyContent}),..._})}}var Gye=Ft(function(t,n){const{Component:r,state:s,closeOnSelect:a,color:o,disableAnimation:l,hideSelectedIcon:c,hideEmptyContent:u,variant:d,onClose:f,topContent:h,bottomContent:p,itemClasses:b,getBaseProps:x,getListProps:y,getEmptyContentProps:v}=qye({...t,ref:n}),j=i.jsxs(r,{...y(),children:[!s.collection.size&&!u&&i.jsx("li",{children:i.jsx("div",{...v()})}),[...s.collection].map(S=>{const N={closeOnSelect:a,color:o,disableAnimation:l,item:S,state:s,variant:d,onClose:f,hideSelectedIcon:c,...S.props},C=Txe(b,N==null?void 0:N.classNames);if(S.type==="section")return i.jsx(Hye,{...N,itemClasses:C},S.key);let $=i.jsx(iW,{...N,classNames:C},S.key);return S.wrapper&&($=S.wrapper($)),$})]});return i.jsxs("div",{...x(),children:[h,j,p]})}),Yye=Gye,Xye=h$,kr=Xye,Zye=Ft(function(t,n){const{getMenuProps:r}=wV();return i.jsx(Mye,{children:i.jsx(AB,{contain:!0,restoreFocus:!0,children:i.jsx(Yye,{...r(t,n)})})})}),Pc=Zye,lW=e=>{const{getMenuTriggerProps:t}=wV(),{children:n,...r}=e;return i.jsx(Oye,{...t(r),children:n})};lW.displayName="HeroUI.DropdownTrigger";var Dc=lW;function cW(e){let t=H1(e),[n,r]=m.useState(null),[s,a]=m.useState([]),o=()=>{a([]),t.close()};return{focusStrategy:n,...t,open(u=null){r(u),t.open()},toggle(u=null){r(u),t.toggle()},close(){o()},expandedKeysStack:s,openSubmenu:(u,d)=>{a(f=>d>f.length?f:[...f.slice(0,d),u])},closeSubmenu:(u,d)=>{a(f=>f[d]===u?f.slice(0,d):f)}}}var Jye=(e,t)=>{if(e){const n=Array.isArray(e.children)?e.children:[...(e==null?void 0:e.items)||[]];if(n&&n.length)return n.find(s=>{if(s&&s.key===t)return s})||{}}return null},Qye=(e,t,n)=>{const r=n||Jye(e,t);return r&&r.props&&"closeOnSelect"in r.props?r.props.closeOnSelect:e==null?void 0:e.closeOnSelect};function eve(e){var t;const n=xr(),{as:r,triggerRef:s,isOpen:a,defaultOpen:o,onOpenChange:l,isDisabled:c,type:u="menu",trigger:d="press",placement:f="bottom",closeOnSelect:h=!0,shouldBlockScroll:p=!0,classNames:b,disableAnimation:x=(t=n==null?void 0:n.disableAnimation)!=null?t:!1,onClose:y,className:v,...j}=e,S=r||"div",N=m.useRef(null),C=s||N,$=m.useRef(null),P=m.useRef(null),E=cW({trigger:d,isOpen:a,defaultOpen:o,onOpenChange:T=>{l==null||l(T),T||y==null||y()}}),{menuTriggerProps:M,menuProps:k}=x$({type:u,trigger:d,isDisabled:c},E,C),A=m.useMemo(()=>Axe({className:v}),[v]),I=T=>{T!==void 0&&!T||h&&E.close()},L=(T={})=>{const O=Me(j,T);return{state:E,placement:f,ref:P,disableAnimation:x,shouldBlockScroll:p,scrollRef:$,triggerRef:C,...O,classNames:{...b,...T.classNames,content:Ye(A,b==null?void 0:b.content,T.className)},shouldCloseOnInteractOutside:O!=null&&O.shouldCloseOnInteractOutside?O.shouldCloseOnInteractOutside:_=>U1(_,N,E)}},R=(T={})=>{const{onPress:O,onPressStart:_,...W}=M;return Me(W,{isDisabled:c},T)},F=(T,O=null)=>({ref:V1(O,$),menuProps:k,closeOnSelect:h,...Me(T,{onAction:(_,W)=>{const z=Qye(T,_,W);I(z)},onClose:E.close})});return{Component:S,menuRef:$,menuProps:k,closeOnSelect:h,onClose:E.close,autoFocus:E.focusStrategy||!0,disableAnimation:x,getPopoverProps:L,getMenuProps:F,getMenuTriggerProps:R}}var uW=e=>{const{children:t,...n}=e,r=eve(n),[s,a]=Z.Children.toArray(t);return i.jsx(_ye,{value:r,children:i.jsxs(Lye,{...r.getPopoverProps(),children:[s,a]})})};uW.displayName="HeroUI.Dropdown";var kc=uW;function Ei(e={}){const{id:t,defaultOpen:n,isOpen:r,onClose:s,onOpen:a,onChange:o=()=>{}}=e,l=R3(a),c=R3(s),[u,d]=ml(r,n||!1,o),f=m.useId(),h=t||f,p=r!==void 0,b=m.useCallback(()=>{p||d(!1),c==null||c()},[p,c]),x=m.useCallback(()=>{p||d(!0),l==null||l()},[p,l]),y=m.useCallback(()=>{(u?b:x)()},[u,x,b]);return{isOpen:!!u,onOpen:x,onClose:b,onOpenChange:y,isControlled:p,getButtonProps:(v={})=>({...v,"aria-expanded":u,"aria-controls":h,onClick:gr(v.onClick,y)}),getDisclosureProps:(v={})=>({...v,hidden:!u,id:h})}}const y$=new WeakMap;function B3(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function tve(e,t){let n=y$.get(e);if(!n)throw new Error("Unknown grid");return`${n}-${B3(t)}`}function dW(e,t,n){let r=y$.get(e);if(!r)throw new Error("Unknown grid");return`${r}-${B3(t)}-${B3(n)}`}function fW(e,t){return[...e.collection.rowHeaderColumnKeys].map(n=>dW(e,t,n)).join(" ")}var hW={};hW={ascending:"تصاعدي",ascendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تصاعدي`,columnSize:e=>`${e.value} بالبكسل`,descending:"تنازلي",descendingSort:e=>`ترتيب حسب العمود ${e.columnName} بترتيب تنازلي`,resizerDescription:"اضغط على مفتاح Enter لبدء تغيير الحجم",select:"تحديد",selectAll:"تحديد الكل",sortable:"عمود قابل للترتيب"};var mW={};mW={ascending:"възходящ",ascendingSort:e=>`сортирано по колона ${e.columnName} във възходящ ред`,columnSize:e=>`${e.value} пиксела`,descending:"низходящ",descendingSort:e=>`сортирано по колона ${e.columnName} в низходящ ред`,resizerDescription:"Натиснете „Enter“, за да започнете да преоразмерявате",select:"Изберете",selectAll:"Изберете всичко",sortable:"сортираща колона"};var pW={};pW={ascending:"vzestupně",ascendingSort:e=>`řazeno vzestupně podle sloupce ${e.columnName}`,columnSize:e=>`${e.value} pixelů`,descending:"sestupně",descendingSort:e=>`řazeno sestupně podle sloupce ${e.columnName}`,resizerDescription:"Stisknutím klávesy Enter začnete měnit velikost",select:"Vybrat",selectAll:"Vybrat vše",sortable:"sloupec s možností řazení"};var gW={};gW={ascending:"stigende",ascendingSort:e=>`sorteret efter kolonne ${e.columnName} i stigende rækkefølge`,columnSize:e=>`${e.value} pixels`,descending:"faldende",descendingSort:e=>`sorteret efter kolonne ${e.columnName} i faldende rækkefølge`,resizerDescription:"Tryk på Enter for at ændre størrelse",select:"Vælg",selectAll:"Vælg alle",sortable:"sorterbar kolonne"};var bW={};bW={ascending:"aufsteigend",ascendingSort:e=>`sortiert nach Spalte ${e.columnName} in aufsteigender Reihenfolge`,columnSize:e=>`${e.value} Pixel`,descending:"absteigend",descendingSort:e=>`sortiert nach Spalte ${e.columnName} in absteigender Reihenfolge`,resizerDescription:"Eingabetaste zum Starten der Größenänderung drücken",select:"Auswählen",selectAll:"Alles auswählen",sortable:"sortierbare Spalte"};var xW={};xW={ascending:"αύξουσα",ascendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε αύξουσα σειρά`,columnSize:e=>`${e.value} pixel`,descending:"φθίνουσα",descendingSort:e=>`διαλογή ανά στήλη ${e.columnName} σε φθίνουσα σειρά`,resizerDescription:"Πατήστε Enter για έναρξη της αλλαγής μεγέθους",select:"Επιλογή",selectAll:"Επιλογή όλων",sortable:"Στήλη διαλογής"};var yW={};yW={select:"Select",selectAll:"Select All",sortable:"sortable column",ascending:"ascending",descending:"descending",ascendingSort:e=>`sorted by column ${e.columnName} in ascending order`,descendingSort:e=>`sorted by column ${e.columnName} in descending order`,columnSize:e=>`${e.value} pixels`,resizerDescription:"Press Enter to start resizing"};var vW={};vW={ascending:"ascendente",ascendingSort:e=>`ordenado por columna ${e.columnName} en sentido ascendente`,columnSize:e=>`${e.value} píxeles`,descending:"descendente",descendingSort:e=>`ordenado por columna ${e.columnName} en orden descendente`,resizerDescription:"Pulse Intro para empezar a redimensionar",select:"Seleccionar",selectAll:"Seleccionar todos",sortable:"columna ordenable"};var wW={};wW={ascending:"tõusev järjestus",ascendingSort:e=>`sorditud veeru järgi ${e.columnName} tõusvas järjestuses`,columnSize:e=>`${e.value} pikslit`,descending:"laskuv järjestus",descendingSort:e=>`sorditud veeru järgi ${e.columnName} laskuvas järjestuses`,resizerDescription:"Suuruse muutmise alustamiseks vajutage klahvi Enter",select:"Vali",selectAll:"Vali kõik",sortable:"sorditav veerg"};var SW={};SW={ascending:"nouseva",ascendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan nousevassa järjestyksessä`,columnSize:e=>`${e.value} pikseliä`,descending:"laskeva",descendingSort:e=>`lajiteltu sarakkeen ${e.columnName} mukaan laskevassa järjestyksessä`,resizerDescription:"Aloita koon muutos painamalla Enter-näppäintä",select:"Valitse",selectAll:"Valitse kaikki",sortable:"lajiteltava sarake"};var jW={};jW={ascending:"croissant",ascendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre croissant`,columnSize:e=>`${e.value} pixels`,descending:"décroissant",descendingSort:e=>`trié en fonction de la colonne ${e.columnName} par ordre décroissant`,resizerDescription:"Appuyez sur Entrée pour commencer le redimensionnement.",select:"Sélectionner",selectAll:"Sélectionner tout",sortable:"colonne triable"};var CW={};CW={ascending:"עולה",ascendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר עולה`,columnSize:e=>`${e.value} פיקסלים`,descending:"יורד",descendingSort:e=>`מוין לפי עמודה ${e.columnName} בסדר יורד`,resizerDescription:"הקש Enter כדי לשנות את הגודל",select:"בחר",selectAll:"בחר הכול",sortable:"עמודה שניתן למיין"};var NW={};NW={ascending:"rastući",ascendingSort:e=>`razvrstano po stupcima ${e.columnName} rastućem redoslijedom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`razvrstano po stupcima ${e.columnName} padajućim redoslijedom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Odaberite",selectAll:"Odaberite sve",sortable:"stupac koji se može razvrstati"};var $W={};$W={ascending:"növekvő",ascendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, növekvő sorrendben`,columnSize:e=>`${e.value} képpont`,descending:"csökkenő",descendingSort:e=>`rendezve a(z) ${e.columnName} oszlop szerint, csökkenő sorrendben`,resizerDescription:"Nyomja le az Enter billentyűt az átméretezés megkezdéséhez",select:"Kijelölés",selectAll:"Összes kijelölése",sortable:"rendezendő oszlop"};var EW={};EW={ascending:"crescente",ascendingSort:e=>`in ordine crescente in base alla colonna ${e.columnName}`,columnSize:e=>`${e.value} pixel`,descending:"decrescente",descendingSort:e=>`in ordine decrescente in base alla colonna ${e.columnName}`,resizerDescription:"Premi Invio per iniziare a ridimensionare",select:"Seleziona",selectAll:"Seleziona tutto",sortable:"colonna ordinabile"};var AW={};AW={ascending:"昇順",ascendingSort:e=>`列 ${e.columnName} を昇順で並べ替え`,columnSize:e=>`${e.value} ピクセル`,descending:"降順",descendingSort:e=>`列 ${e.columnName} を降順で並べ替え`,resizerDescription:"Enter キーを押してサイズ変更を開始",select:"選択",selectAll:"すべて選択",sortable:"並べ替え可能な列"};var PW={};PW={ascending:"오름차순",ascendingSort:e=>`${e.columnName} 열을 기준으로 오름차순으로 정렬됨`,columnSize:e=>`${e.value} 픽셀`,descending:"내림차순",descendingSort:e=>`${e.columnName} 열을 기준으로 내림차순으로 정렬됨`,resizerDescription:"크기 조정을 시작하려면 Enter를 누르세요.",select:"선택",selectAll:"모두 선택",sortable:"정렬 가능한 열"};var DW={};DW={ascending:"didėjančia tvarka",ascendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} didėjančia tvarka`,columnSize:e=>`${e.value} piks.`,descending:"mažėjančia tvarka",descendingSort:e=>`surikiuota pagal stulpelį ${e.columnName} mažėjančia tvarka`,resizerDescription:"Paspauskite „Enter“, kad pradėtumėte keisti dydį",select:"Pasirinkti",selectAll:"Pasirinkti viską",sortable:"rikiuojamas stulpelis"};var kW={};kW={ascending:"augošā secībā",ascendingSort:e=>`kārtots pēc kolonnas ${e.columnName} augošā secībā`,columnSize:e=>`${e.value} pikseļi`,descending:"dilstošā secībā",descendingSort:e=>`kārtots pēc kolonnas ${e.columnName} dilstošā secībā`,resizerDescription:"Nospiediet Enter, lai sāktu izmēru mainīšanu",select:"Atlasīt",selectAll:"Atlasīt visu",sortable:"kārtojamā kolonna"};var IW={};IW={ascending:"stigende",ascendingSort:e=>`sortert etter kolonne ${e.columnName} i stigende rekkefølge`,columnSize:e=>`${e.value} piksler`,descending:"synkende",descendingSort:e=>`sortert etter kolonne ${e.columnName} i synkende rekkefølge`,resizerDescription:"Trykk på Enter for å starte størrelsesendring",select:"Velg",selectAll:"Velg alle",sortable:"kolonne som kan sorteres"};var TW={};TW={ascending:"oplopend",ascendingSort:e=>`gesorteerd in oplopende volgorde in kolom ${e.columnName}`,columnSize:e=>`${e.value} pixels`,descending:"aflopend",descendingSort:e=>`gesorteerd in aflopende volgorde in kolom ${e.columnName}`,resizerDescription:"Druk op Enter om het formaat te wijzigen",select:"Selecteren",selectAll:"Alles selecteren",sortable:"sorteerbare kolom"};var MW={};MW={ascending:"rosnąco",ascendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku rosnącym`,columnSize:e=>`Liczba pikseli: ${e.value}`,descending:"malejąco",descendingSort:e=>`posortowano według kolumny ${e.columnName} w porządku malejącym`,resizerDescription:"Naciśnij Enter, aby rozpocząć zmienianie rozmiaru",select:"Zaznacz",selectAll:"Zaznacz wszystko",sortable:"kolumna z możliwością sortowania"};var OW={};OW={ascending:"crescente",ascendingSort:e=>`classificado pela coluna ${e.columnName} em ordem crescente`,columnSize:e=>`${e.value} pixels`,descending:"decrescente",descendingSort:e=>`classificado pela coluna ${e.columnName} em ordem decrescente`,resizerDescription:"Pressione Enter para começar a redimensionar",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"coluna classificável"};var LW={};LW={ascending:"ascendente",ascendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem ascendente`,columnSize:e=>`${e.value} pixels`,descending:"descendente",descendingSort:e=>`Ordenar por coluna ${e.columnName} em ordem descendente`,resizerDescription:"Prima Enter para iniciar o redimensionamento",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"Coluna ordenável"};var _W={};_W={ascending:"crescătoare",ascendingSort:e=>`sortate după coloana ${e.columnName} în ordine crescătoare`,columnSize:e=>`${e.value} pixeli`,descending:"descrescătoare",descendingSort:e=>`sortate după coloana ${e.columnName} în ordine descrescătoare`,resizerDescription:"Apăsați pe Enter pentru a începe redimensionarea",select:"Selectare",selectAll:"Selectare totală",sortable:"coloană sortabilă"};var FW={};FW={ascending:"возрастание",ascendingSort:e=>`сортировать столбец ${e.columnName} в порядке возрастания`,columnSize:e=>`${e.value} пикс.`,descending:"убывание",descendingSort:e=>`сортировать столбец ${e.columnName} в порядке убывания`,resizerDescription:"Нажмите клавишу Enter для начала изменения размеров",select:"Выбрать",selectAll:"Выбрать все",sortable:"сортируемый столбец"};var RW={};RW={ascending:"vzostupne",ascendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,columnSize:e=>`Počet pixelov: ${e.value}`,descending:"zostupne",descendingSort:e=>`zoradené zostupne podľa stĺpca ${e.columnName}`,resizerDescription:"Stlačením klávesu Enter začnete zmenu veľkosti",select:"Vybrať",selectAll:"Vybrať všetko",sortable:"zoraditeľný stĺpec"};var BW={};BW={ascending:"naraščajoče",ascendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v naraščajočem vrstnem redu`,columnSize:e=>`${e.value} slikovnih pik`,descending:"padajoče",descendingSort:e=>`razvrščeno po stolpcu ${e.columnName} v padajočem vrstnem redu`,resizerDescription:"Pritisnite tipko Enter da začnete spreminjati velikost",select:"Izberite",selectAll:"Izberite vse",sortable:"razvrstljivi stolpec"};var zW={};zW={ascending:"rastući",ascendingSort:e=>`sortirano po kolonama ${e.columnName} rastućim redosledom`,columnSize:e=>`${e.value} piksela`,descending:"padajući",descendingSort:e=>`sortirano po kolonama ${e.columnName} padajućim redosledom`,resizerDescription:"Pritisnite Enter da biste započeli promenu veličine",select:"Izaberite",selectAll:"Izaberite sve",sortable:"kolona koja se može sortirati"};var VW={};VW={ascending:"stigande",ascendingSort:e=>`sorterat på kolumn ${e.columnName} i stigande ordning`,columnSize:e=>`${e.value} pixlar`,descending:"fallande",descendingSort:e=>`sorterat på kolumn ${e.columnName} i fallande ordning`,resizerDescription:"Tryck på Retur för att börja ändra storlek",select:"Markera",selectAll:"Markera allt",sortable:"sorterbar kolumn"};var WW={};WW={ascending:"artan sırada",ascendingSort:e=>`${e.columnName} sütuna göre artan düzende sırala`,columnSize:e=>`${e.value} piksel`,descending:"azalan sırada",descendingSort:e=>`${e.columnName} sütuna göre azalan düzende sırala`,resizerDescription:"Yeniden boyutlandırmak için Enter'a basın",select:"Seç",selectAll:"Tümünü Seç",sortable:"Sıralanabilir sütun"};var UW={};UW={ascending:"висхідний",ascendingSort:e=>`відсортовано за стовпцем ${e.columnName} у висхідному порядку`,columnSize:e=>`${e.value} пікс.`,descending:"низхідний",descendingSort:e=>`відсортовано за стовпцем ${e.columnName} у низхідному порядку`,resizerDescription:"Натисніть Enter, щоб почати зміну розміру",select:"Вибрати",selectAll:"Вибрати все",sortable:"сортувальний стовпець"};var KW={};KW={ascending:"升序",ascendingSort:e=>`按列 ${e.columnName} 升序排序`,columnSize:e=>`${e.value} 像素`,descending:"降序",descendingSort:e=>`按列 ${e.columnName} 降序排序`,resizerDescription:"按“输入”键开始调整大小。",select:"选择",selectAll:"全选",sortable:"可排序的列"};var HW={};HW={ascending:"遞增",ascendingSort:e=>`已依據「${e.columnName}」欄遞增排序`,columnSize:e=>`${e.value} 像素`,descending:"遞減",descendingSort:e=>`已依據「${e.columnName}」欄遞減排序`,resizerDescription:"按 Enter 鍵以開始調整大小",select:"選取",selectAll:"全選",sortable:"可排序的欄"};var q1={};q1={"ar-AE":hW,"bg-BG":mW,"cs-CZ":pW,"da-DK":gW,"de-DE":bW,"el-GR":xW,"en-US":yW,"es-ES":vW,"et-EE":wW,"fi-FI":SW,"fr-FR":jW,"he-IL":CW,"hr-HR":NW,"hu-HU":$W,"it-IT":EW,"ja-JP":AW,"ko-KR":PW,"lt-LT":DW,"lv-LV":kW,"nb-NO":IW,"nl-NL":TW,"pl-PL":MW,"pt-BR":OW,"pt-PT":LW,"ro-RO":_W,"ru-RU":FW,"sk-SK":RW,"sl-SI":BW,"sr-SP":zW,"sv-SE":VW,"tr-TR":WW,"uk-UA":UW,"zh-CN":KW,"zh-TW":HW};class qW{isCell(t){return t.type==="cell"}isRow(t){return t.type==="row"||t.type==="item"}isDisabled(t){var n;return this.disabledBehavior==="all"&&(((n=t.props)===null||n===void 0?void 0:n.isDisabled)||this.disabledKeys.has(t.key))}findPreviousKey(t,n){let r=t!=null?this.collection.getKeyBefore(t):this.collection.getLastKey();for(;r!=null;){let s=this.collection.getItem(r);if(!s)return null;if(!this.isDisabled(s)&&(!n||n(s)))return r;r=this.collection.getKeyBefore(r)}return null}findNextKey(t,n){let r=t!=null?this.collection.getKeyAfter(t):this.collection.getFirstKey();for(;r!=null;){let s=this.collection.getItem(r);if(!s)return null;if(!this.isDisabled(s)&&(!n||n(s)))return r;if(r=this.collection.getKeyAfter(r),r==null)return null}return null}getKeyForItemInRowByIndex(t,n=0){if(n<0)return null;let r=this.collection.getItem(t);if(!r)return null;let s=0;for(let l of mr(r,this.collection)){var a;if(l.colSpan&&l.colSpan+s>n)return(a=l.key)!==null&&a!==void 0?a:null;l.colSpan&&(s=s+l.colSpan-1);var o;if(s===n)return(o=l.key)!==null&&o!==void 0?o:null;s++}return null}getKeyBelow(t){let n=t,r=this.collection.getItem(n);if(!r)return null;var s;if(this.isCell(r)&&(n=(s=r.parentKey)!==null&&s!==void 0?s:null),n==null)return null;if(n=this.findNextKey(n,a=>a.type==="item"),n!=null){if(this.isCell(r)){let a=r.colIndex?r.colIndex:r.index;return this.getKeyForItemInRowByIndex(n,a)}if(this.focusMode==="row")return n}return null}getKeyAbove(t){let n=t,r=this.collection.getItem(n);if(!r)return null;var s;if(this.isCell(r)&&(n=(s=r.parentKey)!==null&&s!==void 0?s:null),n==null)return null;if(n=this.findPreviousKey(n,a=>a.type==="item"),n!=null){if(this.isCell(r)){let a=r.colIndex?r.colIndex:r.index;return this.getKeyForItemInRowByIndex(n,a)}if(this.focusMode==="row")return n}return null}getKeyRightOf(t){let n=this.collection.getItem(t);if(!n)return null;if(this.isRow(n)){var r,s;let d=mr(n,this.collection);var a;return(a=this.direction==="rtl"?(r=cc(d))===null||r===void 0?void 0:r.key:(s=Ro(d))===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:null}if(this.isCell(n)&&n.parentKey!=null){let d=this.collection.getItem(n.parentKey);if(!d)return null;let f=mr(d,this.collection);var o;let h=(o=this.direction==="rtl"?Cp(f,n.index-1):Cp(f,n.index+1))!==null&&o!==void 0?o:null;var l;if(h)return(l=h.key)!==null&&l!==void 0?l:null;var c;if(this.focusMode==="row")return(c=n.parentKey)!==null&&c!==void 0?c:null;var u;return(u=this.direction==="rtl"?this.getFirstKey(t):this.getLastKey(t))!==null&&u!==void 0?u:null}return null}getKeyLeftOf(t){let n=this.collection.getItem(t);if(!n)return null;if(this.isRow(n)){var r,s;let d=mr(n,this.collection);var a;return(a=this.direction==="rtl"?(r=Ro(d))===null||r===void 0?void 0:r.key:(s=cc(d))===null||s===void 0?void 0:s.key)!==null&&a!==void 0?a:null}if(this.isCell(n)&&n.parentKey!=null){let d=this.collection.getItem(n.parentKey);if(!d)return null;let f=mr(d,this.collection);var o;let h=(o=this.direction==="rtl"?Cp(f,n.index+1):Cp(f,n.index-1))!==null&&o!==void 0?o:null;var l;if(h)return(l=h.key)!==null&&l!==void 0?l:null;var c;if(this.focusMode==="row")return(c=n.parentKey)!==null&&c!==void 0?c:null;var u;return(u=this.direction==="rtl"?this.getLastKey(t):this.getFirstKey(t))!==null&&u!==void 0?u:null}return null}getFirstKey(t,n){let r=t??null,s;if(r!=null){if(s=this.collection.getItem(r),!s)return null;if(this.isCell(s)&&!n&&s.parentKey!=null){var a;let u=this.collection.getItem(s.parentKey);if(!u)return null;var o;return(o=(a=Ro(mr(u,this.collection)))===null||a===void 0?void 0:a.key)!==null&&o!==void 0?o:null}}if(r=this.findNextKey(void 0,u=>u.type==="item"),r!=null&&(s&&this.isCell(s)&&n||this.focusMode==="cell")){var l;let u=this.collection.getItem(r);if(!u)return null;var c;r=(c=(l=Ro(mr(u,this.collection)))===null||l===void 0?void 0:l.key)!==null&&c!==void 0?c:null}return r}getLastKey(t,n){let r=t??null,s;if(r!=null){if(s=this.collection.getItem(r),!s)return null;if(this.isCell(s)&&!n&&s.parentKey!=null){var a;let u=this.collection.getItem(s.parentKey);if(!u)return null;let d=mr(u,this.collection);var o;return(o=(a=cc(d))===null||a===void 0?void 0:a.key)!==null&&o!==void 0?o:null}}if(r=this.findPreviousKey(void 0,u=>u.type==="item"),r!=null&&(s&&this.isCell(s)&&n||this.focusMode==="cell")){var l;let u=this.collection.getItem(r);if(!u)return null;let d=mr(u,this.collection);var c;r=(c=(l=cc(d))===null||l===void 0?void 0:l.key)!==null&&c!==void 0?c:null}return r}getKeyPageAbove(t){let n=t,r=this.layoutDelegate.getItemRect(n);if(!r)return null;let s=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>s&&n!=null;){var a;if(n=(a=this.getKeyAbove(n))!==null&&a!==void 0?a:null,n==null)break;r=this.layoutDelegate.getItemRect(n)}return n}getKeyPageBelow(t){let n=t,r=this.layoutDelegate.getItemRect(n);if(!r)return null;let s=this.layoutDelegate.getVisibleRect().height,a=Math.min(this.layoutDelegate.getContentSize().height,r.y+s);for(;r&&r.y+r.height<a;){let o=this.getKeyBelow(n);if(o==null)break;r=this.layoutDelegate.getItemRect(o),n=o}return n}getKeyForSearch(t,n){let r=n??null;if(!this.collator)return null;let s=this.collection;if(r=n??this.getFirstKey(),r==null)return null;let a=s.getItem(r);if(!a)return null;var o;a.type==="cell"&&(r=(o=a.parentKey)!==null&&o!==void 0?o:null);let l=!1;for(;r!=null;){let d=s.getItem(r);if(!d)return null;if(d.textValue){let f=d.textValue.slice(0,t.length);if(this.collator.compare(f,t)===0){var c,u;return this.isRow(d)&&this.focusMode==="cell"?(u=(c=Ro(mr(d,this.collection)))===null||c===void 0?void 0:c.key)!==null&&u!==void 0?u:null:d.key}}r=this.findNextKey(r,f=>f.type==="item"),r==null&&!l&&(r=this.getFirstKey(),l=!0)}return null}constructor(t){if(this.collection=t.collection,this.disabledKeys=t.disabledKeys,this.disabledBehavior=t.disabledBehavior||"all",this.direction=t.direction,this.collator=t.collator,!t.layout&&!t.ref)throw new Error("Either a layout or a ref must be specified.");this.layoutDelegate=t.layoutDelegate||(t.layout?new nve(t.layout):new F3(t.ref)),this.focusMode=t.focusMode||"row"}}class nve{getContentSize(){return this.layout.getContentSize()}getItemRect(t){var n;return((n=this.layout.getLayoutInfo(t))===null||n===void 0?void 0:n.rect)||null}getVisibleRect(){return this.layout.virtualizer.visibleRect}constructor(t){this.layout=t}}const v$=new WeakMap;var GW={};GW={deselectedItem:e=>`${e.item} غير المحدد`,longPressToSelect:"اضغط مطولًا للدخول إلى وضع التحديد.",select:"تحديد",selectedAll:"جميع العناصر المحددة.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"لم يتم تحديد عناصر",one:()=>`${t.number(e.count)} عنصر محدد`,other:()=>`${t.number(e.count)} عنصر محدد`})}.`,selectedItem:e=>`${e.item} المحدد`};var YW={};YW={deselectedItem:e=>`${e.item} не е избран.`,longPressToSelect:"Натиснете и задръжте за да влезете в избирателен режим.",select:"Изберете",selectedAll:"Всички елементи са избрани.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Няма избрани елементи",one:()=>`${t.number(e.count)} избран елемент`,other:()=>`${t.number(e.count)} избрани елементи`})}.`,selectedItem:e=>`${e.item} избран.`};var XW={};XW={deselectedItem:e=>`Položka ${e.item} není vybrána.`,longPressToSelect:"Dlouhým stisknutím přejdete do režimu výběru.",select:"Vybrat",selectedAll:"Vybrány všechny položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nevybrány žádné položky",one:()=>`Vybrána ${t.number(e.count)} položka`,other:()=>`Vybráno ${t.number(e.count)} položek`})}.`,selectedItem:e=>`Vybrána položka ${e.item}.`};var ZW={};ZW={deselectedItem:e=>`${e.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vælg",selectedAll:"Alle elementer valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer valgt",one:()=>`${t.number(e.count)} element valgt`,other:()=>`${t.number(e.count)} elementer valgt`})}.`,selectedItem:e=>`${e.item} valgt.`};var JW={};JW={deselectedItem:e=>`${e.item} nicht ausgewählt.`,longPressToSelect:"Gedrückt halten, um Auswahlmodus zu öffnen.",select:"Auswählen",selectedAll:"Alle Elemente ausgewählt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Keine Elemente ausgewählt",one:()=>`${t.number(e.count)} Element ausgewählt`,other:()=>`${t.number(e.count)} Elemente ausgewählt`})}.`,selectedItem:e=>`${e.item} ausgewählt.`};var QW={};QW={deselectedItem:e=>`Δεν επιλέχθηκε το στοιχείο ${e.item}.`,longPressToSelect:"Πατήστε παρατεταμένα για να μπείτε σε λειτουργία επιλογής.",select:"Επιλογή",selectedAll:"Επιλέχθηκαν όλα τα στοιχεία.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Δεν επιλέχθηκαν στοιχεία",one:()=>`Επιλέχθηκε ${t.number(e.count)} στοιχείο`,other:()=>`Επιλέχθηκαν ${t.number(e.count)} στοιχεία`})}.`,selectedItem:e=>`Επιλέχθηκε το στοιχείο ${e.item}.`};var eU={};eU={deselectedItem:e=>`${e.item} not selected.`,select:"Select",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"No items selected",one:()=>`${t.number(e.count)} item selected`,other:()=>`${t.number(e.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:e=>`${e.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var tU={};tU={deselectedItem:e=>`${e.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selección.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ningún elemento seleccionado",one:()=>`${t.number(e.count)} elemento seleccionado`,other:()=>`${t.number(e.count)} elementos seleccionados`})}.`,selectedItem:e=>`${e.item} seleccionado.`};var nU={};nU={deselectedItem:e=>`${e.item} pole valitud.`,longPressToSelect:"Valikurežiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kõik üksused valitud.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Üksusi pole valitud",one:()=>`${t.number(e.count)} üksus valitud`,other:()=>`${t.number(e.count)} üksust valitud`})}.`,selectedItem:e=>`${e.item} valitud.`};var rU={};rU={deselectedItem:e=>`Kohdetta ${e.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkään.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ei yhtään kohdetta valittu",one:()=>`${t.number(e.count)} kohde valittu`,other:()=>`${t.number(e.count)} kohdetta valittu`})}.`,selectedItem:e=>`${e.item} valittu.`};var sU={};sU={deselectedItem:e=>`${e.item} non sélectionné.`,longPressToSelect:"Appuyez de manière prolongée pour passer en mode de sélection.",select:"Sélectionner",selectedAll:"Tous les éléments sélectionnés.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Aucun élément sélectionné",one:()=>`${t.number(e.count)} élément sélectionné`,other:()=>`${t.number(e.count)} éléments sélectionnés`})}.`,selectedItem:e=>`${e.item} sélectionné.`};var aU={};aU={deselectedItem:e=>`${e.item} לא נבחר.`,longPressToSelect:"הקשה ארוכה לכניסה למצב בחירה.",select:"בחר",selectedAll:"כל הפריטים נבחרו.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"לא נבחרו פריטים",one:()=>`פריט ${t.number(e.count)} נבחר`,other:()=>`${t.number(e.count)} פריטים נבחרו`})}.`,selectedItem:e=>`${e.item} נבחר.`};var iU={};iU={deselectedItem:e=>`Stavka ${e.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u način odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${t.number(e.count)} stavka`,other:()=>`Odabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`Stavka ${e.item} je odabrana.`};var oU={};oU={deselectedItem:e=>`${e.item} nincs kijelölve.`,longPressToSelect:"Nyomja hosszan a kijelöléshez.",select:"Kijelölés",selectedAll:"Az összes elem kijelölve.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Egy elem sincs kijelölve",one:()=>`${t.number(e.count)} elem kijelölve`,other:()=>`${t.number(e.count)} elem kijelölve`})}.`,selectedItem:e=>`${e.item} kijelölve.`};var lU={};lU={deselectedItem:e=>`${e.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalità di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nessun elemento selezionato",one:()=>`${t.number(e.count)} elemento selezionato`,other:()=>`${t.number(e.count)} elementi selezionati`})}.`,selectedItem:e=>`${e.item} selezionato.`};var cU={};cU={deselectedItem:e=>`${e.item} が選択されていません。`,longPressToSelect:"長押しして選択モードを開きます。",select:"選択",selectedAll:"すべての項目を選択しました。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"項目が選択されていません",one:()=>`${t.number(e.count)} 項目を選択しました`,other:()=>`${t.number(e.count)} 項目を選択しました`})}。`,selectedItem:e=>`${e.item} を選択しました。`};var uU={};uU={deselectedItem:e=>`${e.item}이(가) 선택되지 않았습니다.`,longPressToSelect:"선택 모드로 들어가려면 길게 누르십시오.",select:"선택",selectedAll:"모든 항목이 선택되었습니다.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"선택된 항목이 없습니다",one:()=>`${t.number(e.count)}개 항목이 선택되었습니다`,other:()=>`${t.number(e.count)}개 항목이 선택되었습니다`})}.`,selectedItem:e=>`${e.item}이(가) 선택되었습니다.`};var dU={};dU={deselectedItem:e=>`${e.item} nepasirinkta.`,longPressToSelect:"Norėdami įjungti pasirinkimo režimą, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nepasirinktas nė vienas elementas",one:()=>`Pasirinktas ${t.number(e.count)} elementas`,other:()=>`Pasirinkta elementų: ${t.number(e.count)}`})}.`,selectedItem:e=>`Pasirinkta: ${e.item}.`};var fU={};fU={deselectedItem:e=>`Vienums ${e.item} nav atlasīts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslēgtu atlases režīmu.",select:"Atlasīt",selectedAll:"Atlasīti visi vienumi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nav atlasīts neviens vienums",one:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`,other:()=>`Atlasīto vienumu skaits: ${t.number(e.count)}`})}.`,selectedItem:e=>`Atlasīts vienums ${e.item}.`};var hU={};hU={deselectedItem:e=>`${e.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for å gå inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Ingen elementer er valgt",one:()=>`${t.number(e.count)} element er valgt`,other:()=>`${t.number(e.count)} elementer er valgt`})}.`,selectedItem:e=>`${e.item} er valgt.`};var mU={};mU={deselectedItem:e=>`${e.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Geen items geselecteerd",one:()=>`${t.number(e.count)} item geselecteerd`,other:()=>`${t.number(e.count)} items geselecteerd`})}.`,selectedItem:e=>`${e.item} geselecteerd.`};var pU={};pU={deselectedItem:e=>`Nie zaznaczono ${e.item}.`,longPressToSelect:"Naciśnij i przytrzymaj, aby wejść do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nie zaznaczono żadnych elementów",one:()=>`${t.number(e.count)} zaznaczony element`,other:()=>`${t.number(e.count)} zaznaczonych elementów`})}.`,selectedItem:e=>`Zaznaczono ${e.item}.`};var gU={};gU={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var bU={};bU={deselectedItem:e=>`${e.item} não selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleção.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nenhum item selecionado",one:()=>`${t.number(e.count)} item selecionado`,other:()=>`${t.number(e.count)} itens selecionados`})}.`,selectedItem:e=>`${e.item} selecionado.`};var xU={};xU={deselectedItem:e=>`${e.item} neselectat.`,longPressToSelect:"Apăsați lung pentru a intra în modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Niciun element selectat",one:()=>`${t.number(e.count)} element selectat`,other:()=>`${t.number(e.count)} elemente selectate`})}.`,selectedItem:e=>`${e.item} selectat.`};var yU={};yU={deselectedItem:e=>`${e.item} не выбрано.`,longPressToSelect:"Нажмите и удерживайте для входа в режим выбора.",select:"Выбрать",selectedAll:"Выбраны все элементы.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Нет выбранных элементов",one:()=>`${t.number(e.count)} элемент выбран`,other:()=>`${t.number(e.count)} элементов выбрано`})}.`,selectedItem:e=>`${e.item} выбрано.`};var vU={};vU={deselectedItem:e=>`Nevybraté položky: ${e.item}.`,longPressToSelect:"Dlhším stlačením prejdite do režimu výberu.",select:"Vybrať",selectedAll:"Všetky vybraté položky.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Žiadne vybraté položky",one:()=>`${t.number(e.count)} vybratá položka`,other:()=>`Počet vybratých položiek:${t.number(e.count)}`})}.`,selectedItem:e=>`Vybraté položky: ${e.item}.`};var wU={};wU={deselectedItem:e=>`Element ${e.item} ni izbran.`,longPressToSelect:"Za izbirni način pritisnite in dlje časa držite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Noben element ni izbran",one:()=>`${t.number(e.count)} element je izbran`,other:()=>`${t.number(e.count)} elementov je izbranih`})}.`,selectedItem:e=>`Element ${e.item} je izbran.`};var SU={};SU={deselectedItem:e=>`${e.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u režim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${t.number(e.count)} stavka`,other:()=>`Izabrano je ${t.number(e.count)} stavki`})}.`,selectedItem:e=>`${e.item} je izabrano.`};var jU={};jU={deselectedItem:e=>`${e.item} ej markerat.`,longPressToSelect:"Tryck länge när du vill öppna väljarläge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Inga markerade objekt",one:()=>`${t.number(e.count)} markerat objekt`,other:()=>`${t.number(e.count)} markerade objekt`})}.`,selectedItem:e=>`${e.item} markerat.`};var CU={};CU={deselectedItem:e=>`${e.item} seçilmedi.`,longPressToSelect:"Seçim moduna girmek için uzun basın.",select:"Seç",selectedAll:"Tüm ögeler seçildi.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Hiçbir öge seçilmedi",one:()=>`${t.number(e.count)} öge seçildi`,other:()=>`${t.number(e.count)} öge seçildi`})}.`,selectedItem:e=>`${e.item} seçildi.`};var NU={};NU={deselectedItem:e=>`${e.item} не вибрано.`,longPressToSelect:"Виконайте довге натиснення, щоб перейти в режим вибору.",select:"Вибрати",selectedAll:"Усі елементи вибрано.",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"Жодних елементів не вибрано",one:()=>`${t.number(e.count)} елемент вибрано`,other:()=>`Вибрано елементів: ${t.number(e.count)}`})}.`,selectedItem:e=>`${e.item} вибрано.`};var $U={};$U={deselectedItem:e=>`未选择 ${e.item}。`,longPressToSelect:"长按以进入选择模式。",select:"选择",selectedAll:"已选择所有项目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未选择项目",one:()=>`已选择 ${t.number(e.count)} 个项目`,other:()=>`已选择 ${t.number(e.count)} 个项目`})}。`,selectedItem:e=>`已选择 ${e.item}。`};var EU={};EU={deselectedItem:e=>`未選取「${e.item}」。`,longPressToSelect:"長按以進入選擇模式。",select:"選取",selectedAll:"已選取所有項目。",selectedCount:(e,t)=>`${t.plural(e.count,{"=0":"未選取任何項目",one:()=>`已選取 ${t.number(e.count)} 個項目`,other:()=>`已選取 ${t.number(e.count)} 個項目`})}。`,selectedItem:e=>`已選取「${e.item}」。`};var G1={};G1={"ar-AE":GW,"bg-BG":YW,"cs-CZ":XW,"da-DK":ZW,"de-DE":JW,"el-GR":QW,"en-US":eU,"es-ES":tU,"et-EE":nU,"fi-FI":rU,"fr-FR":sU,"he-IL":aU,"hr-HR":iU,"hu-HU":oU,"it-IT":lU,"ja-JP":cU,"ko-KR":uU,"lt-LT":dU,"lv-LV":fU,"nb-NO":hU,"nl-NL":mU,"pl-PL":pU,"pt-BR":gU,"pt-PT":bU,"ro-RO":xU,"ru-RU":yU,"sk-SK":vU,"sl-SI":wU,"sr-SP":SU,"sv-SE":jU,"tr-TR":CU,"uk-UA":NU,"zh-CN":$U,"zh-TW":EU};const AU=7e3;let Li=null;function Fp(e,t="assertive",n=AU){Li?Li.announce(e,t,n):(Li=new rve,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?Li.announce(e,t,n):setTimeout(()=>{Li!=null&&Li.isAttached()&&(Li==null||Li.announce(e,t,n))},100))}class rve{isAttached(){var t;return(t=this.node)===null||t===void 0?void 0:t.isConnected}createLog(t){let n=document.createElement("div");return n.setAttribute("role","log"),n.setAttribute("aria-live",t),n.setAttribute("aria-relevant","additions"),n}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(t,n="assertive",r=AU){var s,a;if(!this.node)return;let o=document.createElement("div");typeof t=="object"?(o.setAttribute("role","img"),o.setAttribute("aria-labelledby",t["aria-labelledby"])):o.textContent=t,n==="assertive"?(s=this.assertiveLog)===null||s===void 0||s.appendChild(o):(a=this.politeLog)===null||a===void 0||a.appendChild(o),t!==""&&setTimeout(()=>{o.remove()},r)}clear(t){this.node&&((!t||t==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!t||t==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function sve(e){return e&&e.__esModule?e.default:e}function ave(e,t){let{getRowText:n=l=>{var c,u,d,f;return(f=(c=(u=t.collection).getTextValue)===null||c===void 0?void 0:c.call(u,l))!==null&&f!==void 0?f:(d=t.collection.getItem(l))===null||d===void 0?void 0:d.textValue}}=e,r=pl(sve(G1),"@react-aria/grid"),s=t.selectionManager.rawSelection,a=m.useRef(s),o=pr(()=>{var l;if(!t.selectionManager.isFocused||s===a.current){a.current=s;return}let c=w6(s,a.current),u=w6(a.current,s),d=t.selectionManager.selectionBehavior==="replace",f=[];if(t.selectionManager.selectedKeys.size===1&&d){if(t.collection.getItem(t.selectionManager.selectedKeys.keys().next().value)){let h=n(t.selectionManager.selectedKeys.keys().next().value);h&&f.push(r.format("selectedItem",{item:h}))}}else if(c.size===1&&u.size===0){let h=n(c.keys().next().value);h&&f.push(r.format("selectedItem",{item:h}))}else if(u.size===1&&c.size===0&&t.collection.getItem(u.keys().next().value)){let h=n(u.keys().next().value);h&&f.push(r.format("deselectedItem",{item:h}))}t.selectionManager.selectionMode==="multiple"&&(f.length===0||s==="all"||s.size>1||a.current==="all"||((l=a.current)===null||l===void 0?void 0:l.size)>1)&&f.push(s==="all"?r.format("selectedAll"):r.format("selectedCount",{count:s.size})),f.length>0&&Fp(f.join(" ")),a.current=s});u4(()=>{if(t.selectionManager.isFocused)o();else{let l=requestAnimationFrame(o);return()=>cancelAnimationFrame(l)}},[s,t.selectionManager.isFocused])}function w6(e,t){let n=new Set;if(e==="all"||t==="all")return n;for(let r of e.keys())t.has(r)||n.add(r);return n}function ive(e){return e&&e.__esModule?e.default:e}function ove(e){let t=pl(ive(G1),"@react-aria/grid"),n=Oce(),r=(n==="pointer"||n==="virtual"||n==null)&&typeof window<"u"&&"ontouchstart"in window,s=m.useMemo(()=>{let o=e.selectionManager.selectionMode,l=e.selectionManager.selectionBehavior,c;return r&&(c=t.format("longPressToSelect")),l==="replace"&&o!=="none"&&e.hasItemActions?c:void 0},[e.selectionManager.selectionMode,e.selectionManager.selectionBehavior,e.hasItemActions,t,r]);return $1(s)}function lve(e,t,n){let{isVirtualized:r,disallowTypeAhead:s,keyboardDelegate:a,focusMode:o,scrollRef:l,getRowText:c,onRowAction:u,onCellAction:d,escapeKeyBehavior:f="clearSelection"}=e,{selectionManager:h}=t;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let p=u0({usage:"search",sensitivity:"base"}),{direction:b}=ro(),x=t.selectionManager.disabledBehavior,y=m.useMemo(()=>a||new qW({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:x,ref:n,direction:b,collator:p,focusMode:o}),[a,t.collection,t.disabledKeys,x,n,b,p,o]),{collectionProps:v}=W1({ref:n,selectionManager:h,keyboardDelegate:y,isVirtualized:r,scrollRef:l,disallowTypeAhead:s,escapeKeyBehavior:f}),j=Ur(e.id);v$.set(t,{keyboardDelegate:y,actions:{onRowAction:u,onCellAction:d}});let S=ove({selectionManager:h,hasItemActions:!!(u||d)}),N=va(e,{labelable:!0}),C=m.useCallback(M=>{if(h.isFocused){M.currentTarget.contains(M.target)||h.setFocused(!1);return}M.currentTarget.contains(M.target)&&h.setFocused(!0)},[h]),$=m.useMemo(()=>({onBlur:v.onBlur,onFocus:C}),[C,v.onBlur]),P=kB(n,{isDisabled:t.collection.size!==0}),E=Me(N,{role:"grid",id:j,"aria-multiselectable":h.selectionMode==="multiple"?"true":void 0},t.isKeyboardNavigationDisabled?$:v,t.collection.size===0&&{tabIndex:P?-1:0}||void 0,S);return r&&(E["aria-rowcount"]=t.collection.size,E["aria-colcount"]=t.collection.columnCount),ave({getRowText:c},t),{gridProps:E}}function cve(){return{rowGroupProps:{role:"rowgroup"}}}function uve(e,t,n){var r,s;let{node:a,isVirtualized:o,shouldSelectOnPressUp:l,onAction:c}=e,{actions:u}=v$.get(t),d=u.onRowAction?()=>{var x;return(x=u.onRowAction)===null||x===void 0?void 0:x.call(u,a.key)}:c,{itemProps:f,...h}=C0({selectionManager:t.selectionManager,key:a.key,ref:n,isVirtualized:o,shouldSelectOnPressUp:l,onAction:d||!(a==null||(r=a.props)===null||r===void 0)&&r.onAction?gr(a==null||(s=a.props)===null||s===void 0?void 0:s.onAction,d):void 0,isDisabled:t.collection.size===0}),p=t.selectionManager.isSelected(a.key),b={role:"row","aria-selected":t.selectionManager.selectionMode!=="none"?p:void 0,"aria-disabled":h.isDisabled||void 0,...f};return o&&(b["aria-rowindex"]=a.index+1),{rowProps:b,...h}}function PU(e,t,n){let{node:r,isVirtualized:s,focusMode:a="child",shouldSelectOnPressUp:o,onAction:l}=e,{direction:c}=ro(),{keyboardDelegate:u,actions:{onCellAction:d}}=v$.get(t),f=m.useRef(null),h=()=>{if(n.current){let S=Ra(n.current);if(a==="child"){if(n.current.contains(document.activeElement)&&n.current!==document.activeElement)return;let N=t.selectionManager.childFocusStrategy==="last"?xj(S):S.firstChild();if(N){vs(N);return}}(f.current!=null&&r.key!==f.current||!n.current.contains(document.activeElement))&&vs(n.current)}},{itemProps:p,isPressed:b}=C0({selectionManager:t.selectionManager,key:r.key,ref:n,isVirtualized:s,focus:h,shouldSelectOnPressUp:o,onAction:d?()=>d(r.key):l,isDisabled:t.collection.size===0}),x=S=>{if(!S.currentTarget.contains(S.target)||t.isKeyboardNavigationDisabled||!n.current||!document.activeElement)return;let N=Ra(n.current);switch(N.currentNode=document.activeElement,S.key){case"ArrowLeft":{let k=c==="rtl"?N.nextNode():N.previousNode();if(a==="child"&&k===n.current&&(k=null),S.preventDefault(),S.stopPropagation(),k)vs(k),Zl(k,{containingElement:Xl(n.current)});else{var C;if(((C=u.getKeyLeftOf)===null||C===void 0?void 0:C.call(u,r.key))!==r.key){var $;($=n.current.parentElement)===null||$===void 0||$.dispatchEvent(new KeyboardEvent(S.nativeEvent.type,S.nativeEvent));break}a==="cell"&&c==="rtl"?(vs(n.current),Zl(n.current,{containingElement:Xl(n.current)})):(N.currentNode=n.current,k=c==="rtl"?N.firstChild():xj(N),k&&(vs(k),Zl(k,{containingElement:Xl(n.current)})))}break}case"ArrowRight":{let k=c==="rtl"?N.previousNode():N.nextNode();if(a==="child"&&k===n.current&&(k=null),S.preventDefault(),S.stopPropagation(),k)vs(k),Zl(k,{containingElement:Xl(n.current)});else{var P;if(((P=u.getKeyRightOf)===null||P===void 0?void 0:P.call(u,r.key))!==r.key){var E;(E=n.current.parentElement)===null||E===void 0||E.dispatchEvent(new KeyboardEvent(S.nativeEvent.type,S.nativeEvent));break}a==="cell"&&c==="ltr"?(vs(n.current),Zl(n.current,{containingElement:Xl(n.current)})):(N.currentNode=n.current,k=c==="rtl"?xj(N):N.firstChild(),k&&(vs(k),Zl(k,{containingElement:Xl(n.current)})))}break}case"ArrowUp":case"ArrowDown":if(!S.altKey&&n.current.contains(S.target)){var M;S.stopPropagation(),S.preventDefault(),(M=n.current.parentElement)===null||M===void 0||M.dispatchEvent(new KeyboardEvent(S.nativeEvent.type,S.nativeEvent))}break}},y=S=>{if(f.current=r.key,S.target!==n.current){el()||t.selectionManager.setFocusedKey(r.key);return}requestAnimationFrame(()=>{a==="child"&&document.activeElement===n.current&&h()})},v=Me(p,{role:"gridcell",onKeyDownCapture:x,"aria-colspan":r.colSpan,"aria-colindex":r.colIndex!=null?r.colIndex+1:void 0,colSpan:s?void 0:r.colSpan,onFocus:y});var j;return s&&(v["aria-colindex"]=((j=r.colIndex)!==null&&j!==void 0?j:r.index)+1),o&&v.tabIndex!=null&&v.onPointerDown==null&&(v.onPointerDown=S=>{let N=S.currentTarget,C=N.getAttribute("tabindex");N.removeAttribute("tabindex"),requestAnimationFrame(()=>{C!=null&&N.setAttribute("tabindex",C)})}),{gridCellProps:v,isPressed:b}}function xj(e){let t=null,n=null;do n=e.lastChild(),n&&(t=n);while(n);return t}function dve(e){return e&&e.__esModule?e.default:e}function fve(e,t){let{key:n}=e,r=t.selectionManager,s=Ur(),a=!t.selectionManager.canSelectItem(n),o=t.selectionManager.isSelected(n),l=()=>r.toggleSelection(n);const c=pl(dve(G1),"@react-aria/grid");return{checkboxProps:{id:s,"aria-label":c.format("select"),isSelected:o,isDisabled:a,onChange:l}}}class hve extends qW{isCell(t){return t.type==="cell"||t.type==="rowheader"||t.type==="column"}getKeyBelow(t){let n=this.collection.getItem(t);if(!n)return null;if(n.type==="column"){let r=Ro(mr(n,this.collection));if(r)return r.key;let s=this.getFirstKey();return s==null||!this.collection.getItem(s)?null:super.getKeyForItemInRowByIndex(s,n.index)}return super.getKeyBelow(t)}getKeyAbove(t){let n=this.collection.getItem(t);if(!n)return null;if(n.type==="column"){let a=n.parentKey!=null?this.collection.getItem(n.parentKey):null;return a&&a.type==="column"?a.key:null}let r=super.getKeyAbove(t),s=r!=null?this.collection.getItem(r):null;return s&&s.type!=="headerrow"?r:this.isCell(n)?this.collection.columns[n.index].key:this.collection.columns[0].key}findNextColumnKey(t){let n=this.findNextKey(t.key,s=>s.type==="column");if(n!=null)return n;let r=this.collection.headerRows[t.level];for(let s of mr(r,this.collection))if(s.type==="column")return s.key;return null}findPreviousColumnKey(t){let n=this.findPreviousKey(t.key,a=>a.type==="column");if(n!=null)return n;let r=this.collection.headerRows[t.level],s=[...mr(r,this.collection)];for(let a=s.length-1;a>=0;a--){let o=s[a];if(o.type==="column")return o.key}return null}getKeyRightOf(t){let n=this.collection.getItem(t);return n?n.type==="column"?this.direction==="rtl"?this.findPreviousColumnKey(n):this.findNextColumnKey(n):super.getKeyRightOf(t):null}getKeyLeftOf(t){let n=this.collection.getItem(t);return n?n.type==="column"?this.direction==="rtl"?this.findNextColumnKey(n):this.findPreviousColumnKey(n):super.getKeyLeftOf(t):null}getKeyForSearch(t,n){if(!this.collator)return null;let r=this.collection,s=n??this.getFirstKey();if(s==null)return null;let a=r.getItem(s);var o;(a==null?void 0:a.type)==="cell"&&(s=(o=a.parentKey)!==null&&o!==void 0?o:null);let l=!1;for(;s!=null;){let c=r.getItem(s);if(!c)return null;if(c.textValue){let u=c.textValue.slice(0,t.length);if(this.collator.compare(u,t)===0)return c.key}for(let u of mr(c,this.collection)){let d=r.columns[u.index];if(r.rowHeaderColumnKeys.has(d.key)&&u.textValue){let f=u.textValue.slice(0,t.length);if(this.collator.compare(f,t)===0){let h=n!=null?r.getItem(n):a;return(h==null?void 0:h.type)==="cell"?u.key:c.key}}}s=this.getKeyBelow(s),s==null&&!l&&(s=this.getFirstKey(),l=!0)}return null}}function mve(e){return e&&e.__esModule?e.default:e}function pve(e,t,n){let{keyboardDelegate:r,isVirtualized:s,layoutDelegate:a,layout:o}=e,l=u0({usage:"search",sensitivity:"base"}),{direction:c}=ro(),u=t.selectionManager.disabledBehavior,d=m.useMemo(()=>r||new hve({collection:t.collection,disabledKeys:t.disabledKeys,disabledBehavior:u,ref:n,direction:c,collator:l,layoutDelegate:a,layout:o}),[r,t.collection,t.disabledKeys,u,n,c,l,a,o]),f=Ur(e.id);y$.set(t,f);let{gridProps:h}=lve({...e,id:f,keyboardDelegate:d},t,n);s&&(h["aria-rowcount"]=t.collection.size+t.collection.headerRows.length),Ny()&&"expandedKeys"in t&&(h.role="treegrid");let{column:p,direction:b}=t.sortDescriptor||{},x=pl(mve(q1),"@react-aria/table"),y=m.useMemo(()=>{var j,S;let N=(S=(j=t.collection.columns.find(C=>C.key===p))===null||j===void 0?void 0:j.textValue)!==null&&S!==void 0?S:"";return b&&p?x.format(`${b}Sort`,{columnName:N}):void 0},[b,p,t.collection.columns]),v=$1(y);return u4(()=>{y&&Fp(y,"assertive",500)},[y]),{gridProps:Me(h,v,{"aria-describedby":[v["aria-describedby"],h["aria-describedby"]].filter(Boolean).join(" ")})}}function gve(e){return e&&e.__esModule?e.default:e}function DU(e,t,n){var r,s;let{node:a}=e,o=a.props.allowsSorting,{gridCellProps:l}=PU({...e,focusMode:"child"},t,n),c=a.props.isSelectionCell&&t.selectionManager.selectionMode==="single",{pressProps:u}=Ni({isDisabled:!o||c,onPress(){t.sort(a.key)},ref:n}),{focusableProps:d}=Bh({},n),f,h=((r=t.sortDescriptor)===null||r===void 0?void 0:r.column)===a.key,p=(s=t.sortDescriptor)===null||s===void 0?void 0:s.direction;a.props.allowsSorting&&!ag()&&(f=h?p:"none");let b=pl(gve(q1),"@react-aria/table"),x;o&&(x=`${b.format("sortable")}`,h&&p&&ag()&&(x=`${x}, ${b.format(p)}`));let y=$1(x),v=t.collection.size===0;return m.useEffect(()=>{v&&t.selectionManager.focusedKey===a.key&&t.selectionManager.setFocusedKey(null)},[v,t.selectionManager,a.key]),{columnHeaderProps:{...Me(d,l,u,y,v?{tabIndex:-1}:null),role:"columnheader",id:tve(t,a.key),"aria-colspan":a.colSpan&&a.colSpan>1?a.colSpan:void 0,"aria-sort":f}}}const S6={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function bve(e,t,n){let{node:r,isVirtualized:s}=e,{rowProps:a,...o}=uve(e,t,n),{direction:l}=ro();s&&!(Ny()&&"expandedKeys"in t)?a["aria-rowindex"]=r.index+1+t.collection.headerRows.length:delete a["aria-rowindex"];let c={};if(Ny()&&"expandedKeys"in t){let C=t.keyMap.get(r.key);if(C!=null){var u,d,f,h,p,b;let $=((u=C.props)===null||u===void 0?void 0:u.UNSTABLE_childItems)||((f=C.props)===null||f===void 0||(d=f.children)===null||d===void 0?void 0:d.length)>t.userColumnCount;var x,y,v,j;c={onKeyDown:P=>{(P.key===S6.expand[l]&&t.selectionManager.focusedKey===C.key&&$&&t.expandedKeys!=="all"&&!t.expandedKeys.has(C.key)||P.key===S6.collapse[l]&&t.selectionManager.focusedKey===C.key&&$&&(t.expandedKeys==="all"||t.expandedKeys.has(C.key)))&&(t.toggleKey(C.key),P.stopPropagation())},"aria-expanded":$?t.expandedKeys==="all"||t.expandedKeys.has(r.key):void 0,"aria-level":C.level,"aria-posinset":((x=C.indexOfType)!==null&&x!==void 0?x:0)+1,"aria-setsize":C.level>1?((v=(h=cc((y=(p=t.keyMap.get(C.parentKey))===null||p===void 0?void 0:p.childNodes)!==null&&y!==void 0?y:[]))===null||h===void 0?void 0:h.indexOfType)!==null&&v!==void 0?v:0)+1:((j=(b=cc(t.collection.body.childNodes))===null||b===void 0?void 0:b.indexOfType)!==null&&j!==void 0?j:0)+1}}}let S=Gle(r.props),N=o.hasAction?S:{};return{rowProps:{...Me(a,c,N),"aria-labelledby":fW(t,r.key)},...o}}function xve(e,t,n){let{node:r,isVirtualized:s}=e,a={role:"row"};return s&&!(Ny()&&"expandedKeys"in t)&&(a["aria-rowindex"]=r.index+1),{rowProps:a}}function kU(e,t,n){var r;let{gridCellProps:s,isPressed:a}=PU(e,t,n),o=(r=e.node.column)===null||r===void 0?void 0:r.key;return o!=null&&t.collection.rowHeaderColumnKeys.has(o)&&(s.role="rowheader",s.id=dW(t,e.node.parentKey,o)),{gridCellProps:s,isPressed:a}}function yve(e){return e&&e.__esModule?e.default:e}function vve(e,t){let{key:n}=e;const{checkboxProps:r}=fve(e,t);return{checkboxProps:{...r,"aria-labelledby":`${r.id} ${fW(t,n)}`}}}function wve(e){let{isEmpty:t,isSelectAll:n,selectionMode:r}=e.selectionManager;return{checkboxProps:{"aria-label":pl(yve(q1),"@react-aria/table").format(r==="single"?"select":"selectAll"),isSelected:n,isDisabled:r!=="multiple"||e.collection.size===0,isIndeterminate:!t&&!n,onChange:()=>e.selectionManager.toggleSelectAll()}}}function w$(){return cve()}var IU=Ft((e,t)=>{var n,r;const{as:s,className:a,node:o,slots:l,state:c,selectionMode:u,color:d,checkboxesProps:f,disableAnimation:h,classNames:p,...b}=e,x=s||"th",y=typeof x=="string",v=Kt(t),{columnHeaderProps:j}=DU({node:o},c,v),{isFocusVisible:S,focusProps:N}=Mr(),{checkboxProps:C}=wve(c),$=Ye(p==null?void 0:p.th,a,(n=o.props)==null?void 0:n.className),P=u==="single",{onChange:E,...M}=C;return i.jsx(x,{ref:v,"data-focus-visible":Ae(S),...Me(j,N,Mn(o.props,{enabled:y}),Mn(b,{enabled:y})),className:(r=l.th)==null?void 0:r.call(l,{class:$}),children:P?i.jsx(f0,{children:C["aria-label"]}):i.jsx(sl,{color:d,disableAnimation:h,onValueChange:E,...Me(f,M)})})});IU.displayName="HeroUI.TableSelectAllCheckbox";var TU=IU;function Sve(e){let{collection:t,focusMode:n}=e,r=e.UNSAFE_selectionState||f$(e),s=m.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),a=r.setFocusedKey;r.setFocusedKey=(c,u)=>{if(n==="cell"&&c!=null){let b=t.getItem(c);if((b==null?void 0:b.type)==="item"){var d,f;let x=mr(b,t);var h,p;u==="last"?c=(h=(d=cc(x))===null||d===void 0?void 0:d.key)!==null&&h!==void 0?h:null:c=(p=(f=Ro(x))===null||f===void 0?void 0:f.key)!==null&&p!==void 0?p:null}}a(c,u)};let o=m.useMemo(()=>new N0(t,r),[t,r]);const l=m.useRef(null);return m.useEffect(()=>{if(r.focusedKey!=null&&l.current&&!t.getItem(r.focusedKey)){const c=l.current.getItem(r.focusedKey),u=(c==null?void 0:c.parentKey)!=null&&(c.type==="cell"||c.type==="rowheader"||c.type==="column")?l.current.getItem(c.parentKey):c;if(!u){r.setFocusedKey(null);return}const d=l.current.rows,f=t.rows,h=d.length-f.length;let p=Math.min(h>1?Math.max(u.index-h+1,0):u.index,f.length-1),b=null;for(;p>=0;){if(!o.isDisabled(f[p].key)&&f[p].type!=="headerrow"){b=f[p];break}p<f.length-1?p++:(p>u.index&&(p=u.index),p--)}if(b){const x=b.hasChildNodes?[...mr(b,t)]:[],y=b.hasChildNodes&&u!==c&&c&&c.index<x.length?x[c.index].key:b.key;r.setFocusedKey(y)}else r.setFocusedKey(null)}l.current=t},[t,o,r,r.focusedKey]),{collection:t,disabledKeys:s,isKeyboardNavigationDisabled:!1,selectionManager:o}}class jve{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){var t;return(t=[...this.rows][0])===null||t===void 0?void 0:t.key}getLastKey(){var t;let n=[...this.rows];return(t=n[n.length-1])===null||t===void 0?void 0:t.key}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}getChildren(t){let n=this.keyMap.get(t);return(n==null?void 0:n.childNodes)||[]}constructor(t){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=t==null?void 0:t.columnCount,this.rows=[];let n=f=>{let h=this.keyMap.get(f.key);t.visitNode&&(f=t.visitNode(f)),this.keyMap.set(f.key,f);let p=new Set,b=null,x=!1;if(f.type==="item"){var y;for(let C of f.childNodes)if(((y=C.props)===null||y===void 0?void 0:y.colSpan)!==void 0){x=!0;break}}for(let C of f.childNodes){if(C.type==="cell"&&x){var v,j;C.colspan=(v=C.props)===null||v===void 0?void 0:v.colSpan,C.colSpan=(j=C.props)===null||j===void 0?void 0:j.colSpan;var S,N;C.colIndex=b?((S=b.colIndex)!==null&&S!==void 0?S:b.index)+((N=b.colSpan)!==null&&N!==void 0?N:1):C.index}C.type==="cell"&&C.parentKey==null&&(C.parentKey=f.key),p.add(C.key),b?(b.nextKey=C.key,C.prevKey=b.key):C.prevKey=null,n(C),b=C}if(b&&(b.nextKey=null),h)for(let C of h.childNodes)p.has(C.key)||r(C)},r=f=>{this.keyMap.delete(f.key);for(let h of f.childNodes)this.keyMap.get(h.key)===h&&r(h)},s=null;for(let[f,h]of t.items.entries()){var a,o,l,c,u,d;let p={...h,level:(a=h.level)!==null&&a!==void 0?a:0,key:(o=h.key)!==null&&o!==void 0?o:"row-"+f,type:(l=h.type)!==null&&l!==void 0?l:"row",value:(c=h.value)!==null&&c!==void 0?c:null,hasChildNodes:!0,childNodes:[...h.childNodes],rendered:h.rendered,textValue:(u=h.textValue)!==null&&u!==void 0?u:"",index:(d=h.index)!==null&&d!==void 0?d:f};s?(s.nextKey=p.key,p.prevKey=s.key):p.prevKey=null,this.rows.push(p),n(p),s=p}s&&(s.nextKey=null)}}const MU="row-header-column-"+Math.random().toString(36).slice(2);let z3="row-header-column-"+Math.random().toString(36).slice(2);for(;MU===z3;)z3="row-header-column-"+Math.random().toString(36).slice(2);function Cve(e,t){if(t.length===0)return[];let n=[],r=new Map;for(let d of t){let f=d.parentKey,h=[d];for(;f;){let p=e.get(f);if(!p)break;if(r.has(p)){var s,a;(a=(s=p).colSpan)!==null&&a!==void 0||(s.colSpan=0),p.colSpan++,p.colspan=p.colSpan;let{column:b,index:x}=r.get(p);if(x>h.length)break;for(let y=x;y<h.length;y++)b.splice(y,0,null);for(let y=h.length;y<b.length;y++)b[y]&&r.has(b[y])&&(r.get(b[y]).index=y)}else p.colSpan=1,p.colspan=1,h.push(p),r.set(p,{column:h,index:h.length-1});f=p.parentKey}n.push(h),d.index=n.length-1}let o=Math.max(...n.map(d=>d.length)),l=Array(o).fill(0).map(()=>[]),c=0;for(let d of n){let f=o-1;for(let h of d){if(h){let p=l[f],b=p.reduce((x,y)=>{var v;return x+((v=y.colSpan)!==null&&v!==void 0?v:1)},0);if(b<c){let x={type:"placeholder",key:"placeholder-"+h.key,colspan:c-b,colSpan:c-b,index:b,value:null,rendered:null,level:f,hasChildNodes:!1,childNodes:[],textValue:""};p.length>0&&(p[p.length-1].nextKey=x.key,x.prevKey=p[p.length-1].key),p.push(x)}p.length>0&&(p[p.length-1].nextKey=h.key,h.prevKey=p[p.length-1].key),h.level=f,h.colIndex=c,p.push(h)}f--}c++}let u=0;for(let d of l){let f=d.reduce((h,p)=>{var b;return h+((b=p.colSpan)!==null&&b!==void 0?b:1)},0);if(f<t.length){let h={type:"placeholder",key:"placeholder-"+d[d.length-1].key,colSpan:t.length-f,colspan:t.length-f,index:f,value:null,rendered:null,level:u,hasChildNodes:!1,childNodes:[],textValue:"",prevKey:d[d.length-1].key};d.push(h)}u++}return l.map((d,f)=>({type:"headerrow",key:"headerrow-"+f,index:f,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:d,textValue:""}))}class Nve extends jve{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return(r=n==null?void 0:n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return(r=n==null?void 0:n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){var t,n;return(n=(t=Ro(this.body.childNodes))===null||t===void 0?void 0:t.key)!==null&&n!==void 0?n:null}getLastKey(){var t,n;return(n=(t=cc(this.body.childNodes))===null||t===void 0?void 0:t.key)!==null&&n!==void 0?n:null}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}getChildren(t){return t===this.body.key?this.body.childNodes:super.getChildren(t)}getTextValue(t){let n=this.getItem(t);if(!n)return"";if(n.textValue)return n.textValue;let r=this.rowHeaderColumnKeys;if(r){let s=[];for(let a of n.childNodes){let o=this.columns[a.index];if(r.has(o.key)&&a.textValue&&s.push(a.textValue),s.length===r.size)break}return s.join(" ")}return""}constructor(t,n,r){let s=new Set,a=null,o=[];if(r!=null&&r.showSelectionCheckboxes){let f={type:"column",key:MU,value:null,textValue:"",level:0,index:r!=null&&r.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};o.unshift(f)}if(r!=null&&r.showDragButtons){let f={type:"column",key:z3,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};o.unshift(f)}let l=[],c=new Map,u=f=>{switch(f.type){case"body":a=f;break;case"column":c.set(f.key,f),f.hasChildNodes||(o.push(f),f.props.isRowHeader&&s.add(f.key));break;case"item":l.push(f);return}for(let h of f.childNodes)u(h)};for(let f of t)u(f);let d=Cve(c,o);if(d.forEach((f,h)=>l.splice(h,0,f)),super({columnCount:o.length,items:l,visitNode:f=>(f.column=o[f.index],f)}),this._size=0,this.columns=o,this.rowHeaderColumnKeys=s,this.body=a,this.headerRows=d,this._size=[...a.childNodes].length,this.rowHeaderColumnKeys.size===0){let f=this.columns.find(h=>{var p,b;return!(!((p=h.props)===null||p===void 0)&&p.isDragButtonCell)&&!(!((b=h.props)===null||b===void 0)&&b.isSelectionCell)});f&&this.rowHeaderColumnKeys.add(f.key)}}}const $ve={ascending:"descending",descending:"ascending"};function Eve(e){let[t,n]=m.useState(!1),{selectionMode:r="none",showSelectionCheckboxes:s,showDragButtons:a}=e,o=m.useMemo(()=>({showSelectionCheckboxes:s&&r!=="none",showDragButtons:a,selectionMode:r,columns:[]}),[e.children,s,r,a]),l=m$(e,m.useCallback(f=>new Nve(f,null,o),[o]),o),{disabledKeys:c,selectionManager:u}=Sve({...e,collection:l,disabledBehavior:e.disabledBehavior||"selection"});var d;return{collection:l,disabledKeys:c,selectionManager:u,showSelectionCheckboxes:e.showSelectionCheckboxes||!1,sortDescriptor:(d=e.sortDescriptor)!==null&&d!==void 0?d:null,isKeyboardNavigationDisabled:l.size===0||t,setKeyboardNavigationDisabled:n,sort(f,h){var p,b;(b=e.onSortChange)===null||b===void 0||b.call(e,{column:f,direction:h??(((p=e.sortDescriptor)===null||p===void 0?void 0:p.column)===f?$ve[e.sortDescriptor.direction]:"ascending")})}}}function OU(e){return null}OU.getCollectionNode=function*(t,n){let{children:r,columns:s}=t;if(n.columns=[],typeof r=="function"){if(!s)throw new Error("props.children was a function but props.columns is missing");for(let a of s)yield{type:"column",value:a,renderer:r}}else{let a=[];Z.Children.forEach(r,o=>{a.push({type:"column",element:o})}),yield*a}};let Ave=OU;function LU(e){return null}LU.getCollectionNode=function*(t){let{children:n,items:r}=t;yield{type:"body",hasChildNodes:!0,props:t,*childNodes(){if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let s of r)yield{type:"item",value:s,renderer:n}}else{let s=[];Z.Children.forEach(n,a=>{s.push({type:"item",element:a})}),yield*s}}}};let Pve=LU;function _U(e){return null}_U.getCollectionNode=function*(t,n){let{title:r,children:s,childColumns:a}=t,o=r||s,l=t.textValue||(typeof o=="string"?o:"")||t["aria-label"],c=yield{type:"column",hasChildNodes:!!a||!!r&&Z.Children.count(s)>0,rendered:o,textValue:l,props:t,*childNodes(){if(a)for(let d of a)yield{type:"column",value:d};else if(r){let d=[];Z.Children.forEach(s,f=>{d.push({type:"column",element:f})}),yield*d}},shouldInvalidate(d){return u(d),!1}},u=d=>{for(let f of c)f.hasChildNodes||d.columns.push(f)};u(n)};let Dve=_U;function V3(e){return null}V3.getCollectionNode=function*(t,n){let{children:r,textValue:s,UNSTABLE_childItems:a}=t;yield{type:"item",props:t,textValue:s,"aria-label":t["aria-label"],hasChildNodes:!0,*childNodes(){if(n.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),n.showSelectionCheckboxes&&n.selectionMode!=="none"&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),typeof r=="function"){for(let o of n.columns)yield{type:"cell",element:r(o.key),key:o.key};if(a)for(let o of a)yield{type:"item",value:o}}else{let o=[],l=[],c=0;if(Z.Children.forEach(r,u=>{if(u.type===V3){if(o.length<n.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");l.push({type:"item",element:u})}else{o.push({type:"cell",element:u});var d;c+=(d=u.props.colSpan)!==null&&d!==void 0?d:1}}),c!==n.columns.length)throw new Error(`Cell count must match column count. Found ${c} cells and ${n.columns.length} columns.`);yield*o,yield*l}},shouldInvalidate(o){return o.columns.length!==n.columns.length||o.columns.some((l,c)=>l.key!==n.columns[c].key)||o.showSelectionCheckboxes!==n.showSelectionCheckboxes||o.showDragButtons!==n.showDragButtons||o.selectionMode!==n.selectionMode}}};let kve=V3;function FU(e){return null}FU.getCollectionNode=function*(t){let{children:n}=t,r=t.textValue||(typeof n=="string"?n:"")||t["aria-label"]||"";yield{type:"cell",props:t,rendered:n,textValue:r,"aria-label":t["aria-label"],hasChildNodes:!1}};let Ive=FU;function RU(e){var t;const n=xr(),[r,s]=Hr(e,QT.variantKeys),{ref:a,as:o,baseRef:l,children:c,className:u,classNames:d,removeWrapper:f=!1,disableAnimation:h=(t=n==null?void 0:n.disableAnimation)!=null?t:!1,isKeyboardNavigationDisabled:p=!1,selectionMode:b="none",topContentPlacement:x="inside",bottomContentPlacement:y="inside",selectionBehavior:v=b==="none"?null:"toggle",disabledBehavior:j="selection",showSelectionCheckboxes:S=b==="multiple"&&v!=="replace",BaseComponent:N="div",checkboxesProps:C,topContent:$,bottomContent:P,onRowAction:E,onCellAction:M,...k}=r,A=o||"table",I=typeof A=="string",L=Kt(a),R=Kt(l),F=Eve({...e,children:c,showSelectionCheckboxes:S});p&&!F.isKeyboardNavigationDisabled&&F.setKeyboardNavigationDisabled(!0);const{collection:T}=F,{layout:O,..._}=e,{gridProps:W}=pve({..._},F,L),z=b!=="none",U=b==="multiple",H=m.useMemo(()=>QT({...s,isSelectable:z,isMultiSelectable:U}),[Kr(s),z,U]),B=Ye(d==null?void 0:d.base,u),Y=m.useMemo(()=>{var Q;return{state:F,slots:H,isSelectable:z,collection:T,classNames:d,color:e==null?void 0:e.color,disableAnimation:h,checkboxesProps:C,isHeaderSticky:(Q=e==null?void 0:e.isHeaderSticky)!=null?Q:!1,selectionMode:b,selectionBehavior:v,disabledBehavior:j,showSelectionCheckboxes:S,onRowAction:E,onCellAction:M}},[H,F,T,z,d,b,v,C,j,h,S,e==null?void 0:e.color,e==null?void 0:e.isHeaderSticky,E,M]),ae=m.useCallback(Q=>({...Q,ref:R,className:H.base({class:Ye(B,Q==null?void 0:Q.className)})}),[B,H]),ce=m.useCallback(Q=>({...Q,ref:R,className:H.wrapper({class:Ye(d==null?void 0:d.wrapper,Q==null?void 0:Q.className)})}),[d==null?void 0:d.wrapper,H]),oe=m.useCallback(Q=>({...Me(W,Mn(k,{enabled:I}),Q),onKeyDownCapture:void 0,ref:L,className:H.table({class:Ye(d==null?void 0:d.table,Q==null?void 0:Q.className)})}),[d==null?void 0:d.table,I,H,W,k]);return{BaseComponent:N,Component:A,children:c,state:F,collection:T,values:Y,topContent:$,bottomContent:P,removeWrapper:f,topContentPlacement:x,bottomContentPlacement:y,getBaseProps:ae,getWrapperProps:ce,getTableProps:oe}}var BU=Ft((e,t)=>{var n,r,s;const{as:a,className:o,node:l,rowKey:c,slots:u,state:d,classNames:f,...h}=e,p=a||"td",b=typeof p=="string",x=Kt(t),{gridCellProps:y}=kU({node:l},d,x),v=Ye(f==null?void 0:f.td,o,(n=l.props)==null?void 0:n.className),{isFocusVisible:j,focusProps:S}=Mr(),N=d.selectionManager.isSelected(c),C=m.useMemo(()=>{const P=typeof l.rendered;return P!=="object"&&P!=="function"?i.jsx("span",{children:l.rendered}):l.rendered},[l.rendered]),$=((r=l.column)==null?void 0:r.props)||{};return i.jsx(p,{ref:x,"data-focus-visible":Ae(j),"data-selected":Ae(N),...Me(y,S,Mn(l.props,{enabled:b}),h),className:(s=u.td)==null?void 0:s.call(u,{align:$.align,class:v}),children:C})});BU.displayName="HeroUI.TableCell";var zU=BU,VU=Ft((e,t)=>{var n,r;const{as:s,className:a,node:o,rowKey:l,slots:c,state:u,color:d,disableAnimation:f,checkboxesProps:h,selectionMode:p,classNames:b,...x}=e,y=s||"td",v=typeof y=="string",j=Kt(t),{gridCellProps:S}=kU({node:o},u,j),{isFocusVisible:N,focusProps:C}=Mr(),{checkboxProps:$}=vve({key:(o==null?void 0:o.parentKey)||o.key},u),P=Ye(b==null?void 0:b.td,a,(n=o.props)==null?void 0:n.className),E=p==="single",{onChange:M,...k}=$,A=u.selectionManager.isSelected(l);return i.jsx(y,{ref:j,"data-focus-visible":Ae(N),"data-selected":Ae(A),...Me(S,C,Mn(o.props,{enabled:v}),x),className:(r=c.td)==null?void 0:r.call(c,{class:P}),children:E?i.jsx(f0,{children:$["aria-label"]}):i.jsx(sl,{color:d,disableAnimation:f,onValueChange:M,...Me(h,k)})})});VU.displayName="HeroUI.TableCheckboxCell";var WU=VU,UU=Ft((e,t)=>{var n,r;const{as:s,className:a,children:o,node:l,slots:c,state:u,isSelectable:d,classNames:f,...h}=e,p=s||(e!=null&&e.href?"a":"tr"),b=typeof p=="string",x=Kt(t),{rowProps:y}=bve({node:l},u,x),v=Ye(f==null?void 0:f.tr,a,(n=l.props)==null?void 0:n.className),{isFocusVisible:j,focusProps:S}=Mr(),N=u.disabledKeys.has(l.key),C=u.selectionManager.isSelected(l.key),{isHovered:$,hoverProps:P}=is({isDisabled:N}),{isFirst:E,isLast:M,isMiddle:k,isOdd:A}=m.useMemo(()=>{const I=l.key===u.collection.getFirstKey(),L=l.key===u.collection.getLastKey(),R=!I&&!L,F=l!=null&&l.index?(l.index+1)%2===0:!1;return{isFirst:I,isLast:L,isMiddle:R,isOdd:F}},[l,u.collection]);return i.jsx(p,{ref:x,"data-disabled":Ae(N),"data-first":Ae(E),"data-focus-visible":Ae(j),"data-hover":Ae($),"data-last":Ae(M),"data-middle":Ae(k),"data-odd":Ae(A),"data-selected":Ae(C),...Me(y,S,d?P:{},Mn(l.props,{enabled:b}),h),className:(r=c.tr)==null?void 0:r.call(c,{class:v}),children:o})});UU.displayName="HeroUI.TableRow";var KU=UU,HU=Ft((e,t)=>{var n;const{as:r,className:s,slots:a,state:o,collection:l,isSelectable:c,color:u,disableAnimation:d,checkboxesProps:f,selectionMode:h,classNames:p,rowVirtualizer:b,...x}=e,y=r||"tbody",v=typeof y=="string",j=Kt(t),{rowGroupProps:S}=w$(),N=Ye(p==null?void 0:p.tbody,s),C=l==null?void 0:l.body.props,$=(C==null?void 0:C.isLoading)||(C==null?void 0:C.loadingState)==="loading"||(C==null?void 0:C.loadingState)==="loadingMore",P=[...l.body.childNodes],E=b.getVirtualItems();let M,k;return l.size===0&&C.emptyContent&&(M=i.jsx("tr",{role:"row",children:i.jsx("td",{className:a==null?void 0:a.emptyWrapper({class:p==null?void 0:p.emptyWrapper}),colSpan:l.columnCount,role:"gridcell",children:!$&&C.emptyContent})})),$&&C.loadingContent&&(k=i.jsxs("tr",{role:"row",children:[i.jsx("td",{className:a==null?void 0:a.loadingWrapper({class:p==null?void 0:p.loadingWrapper}),colSpan:l.columnCount,role:"gridcell",children:C.loadingContent}),!M&&l.size===0?i.jsx("td",{className:a==null?void 0:a.emptyWrapper({class:p==null?void 0:p.emptyWrapper})}):null]})),i.jsxs(y,{ref:j,...Me(S,Mn(C,{enabled:v}),x),className:(n=a.tbody)==null?void 0:n.call(a,{class:N}),"data-empty":Ae(l.size===0),"data-loading":Ae($),children:[E.map((A,I)=>{const L=P[A.index];return L?i.jsx(KU,{classNames:p,isSelectable:c,node:L,slots:a,state:o,style:{transform:`translateY(${A.start-I*A.size}px)`,height:`${A.size}px`},children:[...L.childNodes].map(R=>R.props.isSelectionCell?i.jsx(WU,{checkboxesProps:f,classNames:p,color:u,disableAnimation:d,node:R,rowKey:L.key,selectionMode:h,slots:a,state:o},String(R.key)):i.jsx(zU,{classNames:p,node:R,rowKey:L.key,slots:a,state:o},String(R.key)))},String(L.key)):null}),k,M]})});HU.displayName="HeroUI.VirtualizedTableBody";var Tve=HU,qU=Ft((e,t)=>{var n,r,s,a,o;const{as:l,className:c,state:u,node:d,slots:f,classNames:h,...p}=e,b=l||"th",x=typeof b=="string",y=Kt(t),{columnHeaderProps:v}=DU({node:d},u,y),j=Ye(h==null?void 0:h.th,c,(n=d.props)==null?void 0:n.className),{isFocusVisible:S,focusProps:N}=Mr(),{isHovered:C,hoverProps:$}=is({}),{hideHeader:P,align:E,...M}=d.props,k=M.allowsSorting;return i.jsxs(b,{ref:y,colSpan:d.colspan,"data-focus-visible":Ae(S),"data-hover":Ae(C),"data-sortable":Ae(k),...Me(v,N,Mn(M,{enabled:x}),k?$:{},p),className:(r=f.th)==null?void 0:r.call(f,{align:E,class:j}),children:[P?i.jsx(f0,{children:d.rendered}):d.rendered,k&&i.jsx(d$,{"aria-hidden":"true",className:(s=f.sortIcon)==null?void 0:s.call(f,{class:h==null?void 0:h.sortIcon}),"data-direction":(a=u.sortDescriptor)==null?void 0:a.direction,"data-visible":Ae(((o=u.sortDescriptor)==null?void 0:o.column)===d.key),strokeWidth:3})]})});qU.displayName="HeroUI.TableColumnHeader";var GU=qU,YU=Ft((e,t)=>{var n,r;const{as:s,className:a,children:o,node:l,slots:c,classNames:u,state:d,...f}=e,h=s||"tr",p=typeof h=="string",b=Kt(t),{rowProps:x}=xve({node:l},d),y=Ye(u==null?void 0:u.tr,a,(n=l.props)==null?void 0:n.className);return i.jsx(h,{ref:b,...Me(x,Mn(l.props,{enabled:p}),f),className:(r=c.tr)==null?void 0:r.call(c,{class:y}),children:o})});YU.displayName="HeroUI.TableHeaderRow";var XU=YU,ZU=m.forwardRef((e,t)=>{var n;const{as:r,className:s,children:a,slots:o,classNames:l,...c}=e,u=r||"thead",d=Kt(t),{rowGroupProps:f}=w$(),h=Ye(l==null?void 0:l.thead,s);return i.jsx(u,{ref:d,className:(n=o.thead)==null?void 0:n.call(o,{class:h}),...Me(f,c),children:a})});ZU.displayName="HeroUI.TableRowGroup";var JU=ZU,Mve={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},j6=e=>{var t;return(t=Mve[e])!=null?t:e};function Ove(e){const[t,n]=Hr(e,ZT.variantKeys),{as:r,className:s,x:a=1,y:o=1,...l}=t,c=r||"span",u=m.useMemo(()=>ZT({...n,className:s}),[Kr(n),s]),d=j6(a),f=j6(o);return{Component:c,getSpacerProps:(p={})=>({...p,...l,"aria-hidden":Ae(!0),className:Ye(u,p.className),style:{...p.style,...l.style,marginLeft:d,marginTop:f}})}}var QU=Ft((e,t)=>{const{Component:n,getSpacerProps:r}=Ove({...e});return i.jsx(n,{ref:t,...r()})});QU.displayName="HeroUI.Spacer";var eK=QU;function af(e,t,n){let r=n.initialDeps??[],s;return()=>{var a,o,l,c;let u;n.key&&((a=n.debug)!=null&&a.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((p,b)=>r[b]!==p)))return s;r=d;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),s=t(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-u)*100)/100,b=Math.round((Date.now()-h)*100)/100,x=b/16,y=(v,j)=>{for(v=String(v);v.length<j;)v=" "+v;return v};console.info(`%c⏱ ${y(b,5)} /${y(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,s),s}}function yj(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Lve=(e,t)=>Math.abs(e-t)<1,_ve=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},Fve=e=>e,Rve=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},Bve=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(s(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(o=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(n.getBoundingClientRect())});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},C6={passive:!0},zve=typeof window>"u"?!0:"onscrollend"in window,Vve=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const a=e.options.useScrollendEvent&&zve?()=>{}:_ve(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:d,isRtl:f}=e.options;s=d?n.scrollLeft*(f&&-1||1):n.scrollTop,a(),t(s,u)},l=o(!0),c=o(!1);return c(),n.addEventListener("scroll",l,C6),n.addEventListener("scrollend",c,C6),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},Wve=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Uve=(e,{adjustments:t=0,behavior:n},r)=>{var s,a;const o=e+t;(a=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||a.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Kve{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var a;return(a=r())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:s=>{var a;return(a=r())==null?void 0:a.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Fve,rangeExtractor:Rve,onChange:()=>{},measureElement:Wve,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=af(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,a=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=af(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,a,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:a,enabled:o}),{key:!1}),this.getMeasurements=af(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:a,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=a(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=h?h.end+this.options.gap:r+s,b=l.get(f),x=typeof b=="number"?b:this.options.estimateSize(d),y=p+x,v=h?h.lane:d%this.options.lanes;u[d]={index:d,start:p,size:x,end:y,key:f,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=af(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,s)=>this.range=n.length>0&&r>0?Hve({measurements:n,outerSize:r,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=af(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,a,o)=>a===null||o===null?[]:n({startIndex:a,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),a=this.measurementsCache[s];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const a=this.itemSizeCache.get(s.key)??s.size,o=r-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=af(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=r[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return yj(r[tK(0,r.length-1,s=>yj(r[s]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&n>=a+s&&(r="end"),r==="end"&&(n-=s);const o=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-s;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const a=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+a-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=s.start-this.options.scrollPaddingStart+(s.size-a)/2;switch(r){case"center":return[this.getOffsetForAlignment(l,r),r];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(n,r);if(!a)return;const[o,l]=a;this._scrollToOffset(o,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=yj(this.getOffsetForIndex(n,l));Lve(u,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:s})}else this.scrollToIndex(n,{align:l,behavior:s})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;return r.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(a=>a.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const tK=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,a=n(s);if(a<r)e=s+1;else if(a>r)t=s-1;else return s}return e>0?e-1:0};function Hve({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,a=tK(0,r,l=>e[l].start,n);let o=a;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:a,endIndex:o}}const N6=typeof document<"u"?m.useLayoutEffect:m.useEffect;function qve(e){const t=m.useReducer(()=>({}),{})[1],n={...e,onChange:(s,a)=>{var o;a?t4.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,a)}},[r]=m.useState(()=>new Kve(n));return r.setOptions(n),N6(()=>r._didMount(),[]),N6(()=>r._willUpdate()),r}function nK(e){return qve({observeElementRect:Bve,observeElementOffset:Vve,scrollToFn:Uve,...e})}var rK=Ft((e,t)=>{const{BaseComponent:n,Component:r,collection:s,values:a,topContent:o,topContentPlacement:l,bottomContentPlacement:c,bottomContent:u,removeWrapper:d,getBaseProps:f,getWrapperProps:h,getTableProps:p}=RU({...e,ref:t}),{rowHeight:b=40,maxTableHeight:x=600}=e,y=m.useCallback(({children:M})=>d?M:i.jsx(n,{...h(),ref:S,style:{height:x,display:"block"},children:M}),[d,h,x]),j=[...s.body.childNodes].length,S=m.useRef(null),[N,C]=m.useState(0),$=m.useRef(null);m.useLayoutEffect(()=>{$.current&&C($.current.getBoundingClientRect().height)},[$]);const P=nK({count:j,getScrollElement:()=>S.current,estimateSize:()=>b,overscan:5}),E=p();return i.jsxs("div",{...f(),children:[l==="outside"&&o,i.jsx(y,{children:i.jsxs(i.Fragment,{children:[l==="inside"&&o,i.jsxs(r,{...E,style:{height:`calc(${P.getTotalSize()+N}px)`,...E.style},children:[i.jsxs(JU,{ref:$,classNames:a.classNames,slots:a.slots,children:[s.headerRows.map(M=>i.jsx(XU,{classNames:a.classNames,node:M,slots:a.slots,state:a.state,children:[...M.childNodes].map(k=>{var A;return(A=k==null?void 0:k.props)!=null&&A.isSelectionCell?i.jsx(TU,{checkboxesProps:a.checkboxesProps,classNames:a.classNames,color:a.color,disableAnimation:a.disableAnimation,node:k,selectionMode:a.selectionMode,slots:a.slots,state:a.state},k==null?void 0:k.key):i.jsx(GU,{classNames:a.classNames,node:k,slots:a.slots,state:a.state},k==null?void 0:k.key)})},M==null?void 0:M.key)),i.jsx(eK,{as:"tr",tabIndex:-1,y:1})]}),i.jsx(Tve,{checkboxesProps:a.checkboxesProps,classNames:a.classNames,collection:a.collection,color:a.color,disableAnimation:a.disableAnimation,isSelectable:a.isSelectable,rowVirtualizer:P,selectionMode:a.selectionMode,slots:a.slots,state:a.state})]}),c==="inside"&&u]})}),c==="outside"&&u]})});rK.displayName="HeroUI.VirtualizedTable";var Gve=rK,sK=Ft((e,t)=>{var n;const{as:r,className:s,slots:a,state:o,collection:l,isSelectable:c,color:u,disableAnimation:d,checkboxesProps:f,selectionMode:h,classNames:p,...b}=e,x=r||"tbody",y=typeof x=="string",v=Kt(t),{rowGroupProps:j}=w$(),S=Ye(p==null?void 0:p.tbody,s),N=l==null?void 0:l.body.props,C=(N==null?void 0:N.isLoading)||(N==null?void 0:N.loadingState)==="loading"||(N==null?void 0:N.loadingState)==="loadingMore",$=m.useMemo(()=>[...l.body.childNodes].map(M=>i.jsx(KU,{classNames:p,isSelectable:c,node:M,slots:a,state:o,children:[...M.childNodes].map(k=>k.props.isSelectionCell?i.jsx(WU,{checkboxesProps:f,classNames:p,color:u,disableAnimation:d,node:k,rowKey:M.key,selectionMode:h,slots:a,state:o},k.key):i.jsx(zU,{classNames:p,node:k,rowKey:M.key,slots:a,state:o},k.key))},M.key)),[l.body.childNodes,p,c,a,o]);let P,E;return l.size===0&&N.emptyContent&&(P=i.jsx("tr",{role:"row",children:i.jsx("td",{className:a==null?void 0:a.emptyWrapper({class:p==null?void 0:p.emptyWrapper}),colSpan:l.columnCount,role:"gridcell",children:!C&&N.emptyContent})})),C&&N.loadingContent&&(E=i.jsxs("tr",{role:"row",children:[i.jsx("td",{className:a==null?void 0:a.loadingWrapper({class:p==null?void 0:p.loadingWrapper}),colSpan:l.columnCount,role:"gridcell",children:N.loadingContent}),!P&&l.size===0?i.jsx("td",{className:a==null?void 0:a.emptyWrapper({class:p==null?void 0:p.emptyWrapper})}):null]})),i.jsxs(x,{ref:v,...Me(j,Mn(N,{enabled:y}),b),className:(n=a.tbody)==null?void 0:n.call(a,{class:S}),"data-empty":Ae(l.size===0),"data-loading":Ae(C),children:[$,E,P]})});sK.displayName="HeroUI.TableBody";var Yve=sK,aK=Ft((e,t)=>{const{BaseComponent:n,Component:r,collection:s,values:a,topContent:o,topContentPlacement:l,bottomContentPlacement:c,bottomContent:u,removeWrapper:d,getBaseProps:f,getWrapperProps:h,getTableProps:p}=RU({...e,ref:t}),{isVirtualized:b,rowHeight:x=40,maxTableHeight:y=600}=e,v=b,j=m.useCallback(({children:S})=>d?S:i.jsx(n,{...h(),children:S}),[d,h]);return v?i.jsx(Gve,{...e,ref:t,maxTableHeight:y,rowHeight:x}):i.jsxs("div",{...f(),children:[l==="outside"&&o,i.jsx(j,{children:i.jsxs(i.Fragment,{children:[l==="inside"&&o,i.jsxs(r,{...p(),children:[i.jsxs(JU,{classNames:a.classNames,slots:a.slots,children:[s.headerRows.map(S=>i.jsx(XU,{classNames:a.classNames,node:S,slots:a.slots,state:a.state,children:[...S.childNodes].map(N=>{var C;return(C=N==null?void 0:N.props)!=null&&C.isSelectionCell?i.jsx(TU,{checkboxesProps:a.checkboxesProps,classNames:a.classNames,color:a.color,disableAnimation:a.disableAnimation,node:N,selectionMode:a.selectionMode,slots:a.slots,state:a.state},N==null?void 0:N.key):i.jsx(GU,{classNames:a.classNames,node:N,slots:a.slots,state:a.state},N==null?void 0:N.key)})},S==null?void 0:S.key)),i.jsx(eK,{as:"tr",tabIndex:-1,y:1})]}),i.jsx(Yve,{checkboxesProps:a.checkboxesProps,classNames:a.classNames,collection:a.collection,color:a.color,disableAnimation:a.disableAnimation,isSelectable:a.isSelectable,selectionMode:a.selectionMode,slots:a.slots,state:a.state})]}),c==="inside"&&u]})}),c==="outside"&&u]})});aK.displayName="HeroUI.Table";var ah=aK,Xve=Dve,wn=Xve,Zve=Ave,ih=Zve,Jve=kve,Ic=Jve,Qve=Pve,oh=Qve,e1e=Ive,Xt=e1e;const iK=new WeakMap;function Xy(e,t,n){return e?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${iK.get(e)}-${n}-${t}`):""}function t1e(e,t,n){let{key:r,isDisabled:s,shouldSelectOnPressUp:a}=e,{selectionManager:o,selectedKey:l}=t,c=r===l,u=s||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:d,isPressed:f}=C0({selectionManager:o,key:r,ref:n,isDisabled:u,shouldSelectOnPressUp:a,linkBehavior:"selection"}),h=Xy(t,r,"tab"),p=Xy(t,r,"tabpanel"),{tabIndex:b}=d,x=t.collection.getItem(r),y=va(x==null?void 0:x.props,{labelable:!0});delete y.id;let v=c4(x==null?void 0:x.props),{focusableProps:j}=Bh({isDisabled:u},n);return{tabProps:Me(y,j,v,d,{id:h,"aria-selected":c,"aria-disabled":u||void 0,"aria-controls":c?p:void 0,tabIndex:u?void 0:b,role:"tab"}),isSelected:c,isDisabled:u,isPressed:f}}function n1e(e,t,n){let r=kB(n)?void 0:0;var s;const a=Xy(t,(s=e.id)!==null&&s!==void 0?s:t==null?void 0:t.selectedKey,"tabpanel"),o=Qf({...e,id:a,"aria-labelledby":Xy(t,t==null?void 0:t.selectedKey,"tab")});return{tabPanelProps:Me(o,{tabIndex:r,role:"tabpanel","aria-describedby":e["aria-describedby"],"aria-details":e["aria-details"]})}}class r1e{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var n,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let n=t;do n=this.collection.getKeyAfter(n),n==null&&(n=this.collection.getFirstKey());while(n!=null&&this.isDisabled(n));return n}getPreviousKey(t){let n=t;do n=this.collection.getKeyBefore(n),n==null&&(n=this.collection.getLastKey());while(n!=null&&this.isDisabled(n));return n}constructor(t,n,r,s=new Set){this.collection=t,this.flipDirection=n==="rtl"&&r==="horizontal",this.disabledKeys=s,this.tabDirection=r==="horizontal"}}function s1e(e,t,n){let{orientation:r="horizontal",keyboardActivation:s="automatic"}=e,{collection:a,selectionManager:o,disabledKeys:l}=t,{direction:c}=ro(),u=m.useMemo(()=>new r1e(a,c,r,l),[a,l,r,c]),{collectionProps:d}=W1({ref:n,selectionManager:o,keyboardDelegate:u,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:n,linkBehavior:"selection"}),f=Ur();iK.set(t,f);let h=Qf({...e,id:f});return{tabListProps:{...Me(d,h),role:"tablist","aria-orientation":r,tabIndex:void 0}}}var oK=Ft((e,t)=>{var n,r;const{as:s,tabKey:a,destroyInactiveTabPanel:o,state:l,className:c,slots:u,classNames:d,...f}=e,h=s||"div",p=Kt(t),{tabPanelProps:b}=n1e({...e,id:String(a)},l,p),{focusProps:x,isFocused:y,isFocusVisible:v}=Mr(),j=l.selectedItem,S=l.collection.getItem(a).props.children,N=Ye(d==null?void 0:d.panel,c,(n=j==null?void 0:j.props)==null?void 0:n.className),C=a===(j==null?void 0:j.key);return!S||!C&&o?null:i.jsx(h,{ref:p,"data-focus":y,"data-focus-visible":v,"data-inert":C?void 0:"true",inert:z0e(!C),...C&&Me(b,x,f),className:(r=u.panel)==null?void 0:r.call(u,{class:N}),"data-slot":"panel",children:S})});oK.displayName="HeroUI.TabPanel";var a1e=oK,lK=Ft((e,t)=>{var n;const{className:r,as:s,item:a,state:o,classNames:l,isDisabled:c,listRef:u,slots:d,motionProps:f,disableAnimation:h,disableCursorAnimation:p,shouldSelectOnPressUp:b,onClick:x,tabRef:y,...v}=e,{key:j}=a,S=Kt(t),N=s||(e.href?"a":"button"),C=typeof N=="string",{tabProps:$,isSelected:P,isDisabled:E,isPressed:M}=t1e({key:j,isDisabled:c,shouldSelectOnPressUp:b},o,S);e.children==null&&delete $["aria-controls"];const k=c||E,{focusProps:A,isFocused:I,isFocusVisible:L}=Mr(),{hoverProps:R,isHovered:F}=is({isDisabled:k}),T=Ye(l==null?void 0:l.tab,r),[,O]=aV({rerender:!0}),_=()=>{gr(x,$.onClick),!(!(S!=null&&S.current)||!(u!=null&&u.current))&&wye(S.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:u==null?void 0:u.current})};return i.jsxs(N,{ref:V1(S,y),"data-disabled":Ae(E),"data-focus":Ae(I),"data-focus-visible":Ae(L),"data-hover":Ae(F),"data-hover-unselected":Ae((F||M)&&!P),"data-pressed":Ae(M),"data-selected":Ae(P),"data-slot":"tab",...Me($,k?{}:{...A,...R},Mn(v,{enabled:C,omitPropNames:new Set(["title"])}),{onClick:_}),className:(n=d.tab)==null?void 0:n.call(d,{class:T}),title:v==null?void 0:v.titleValue,type:N==="button"?"button":void 0,children:[P&&!h&&!p&&O?i.jsx($c,{features:Cme,children:i.jsx(Ec.span,{className:d.cursor({class:l==null?void 0:l.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...f})}):null,i.jsx("div",{className:d.tabContent({class:l==null?void 0:l.tabContent}),"data-slot":"tabContent",children:a.rendered})]})});lK.displayName="HeroUI.Tab";var i1e=lK;class W3{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let n=this.keyMap.get(t);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(t){let n=this.keyMap.get(t);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var n;return(n=this.keyMap.get(t))!==null&&n!==void 0?n:null}at(t){const n=[...this.getKeys()];return this.getItem(n[t])}getChildren(t){let n=this.keyMap.get(t);return(n==null?void 0:n.childNodes)||[]}constructor(t){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t;let n=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&o.type==="section")for(let l of o.childNodes)n(l)};for(let o of t)n(o);let r=null,s=0;for(let[o,l]of this.keyMap)r?(r.nextKey=o,l.prevKey=r.key):(this.firstKey=o,l.prevKey=void 0),l.type==="item"&&(l.index=s++),r=l,r.nextKey=void 0;var a;this.lastKey=(a=r==null?void 0:r.key)!==null&&a!==void 0?a:null}}function S$(e){let{filter:t,layoutDelegate:n}=e,r=f$(e),s=m.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),a=m.useCallback(u=>t?new W3(t(u)):new W3(u),[t]),o=m.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),l=m$(e,a,o),c=m.useMemo(()=>new N0(l,r,{layoutDelegate:n}),[l,r,n]);return o1e(l,c),{collection:l,disabledKeys:s,selectionManager:c}}function o1e(e,t){const n=m.useRef(null);m.useEffect(()=>{if(t.focusedKey!=null&&!e.getItem(t.focusedKey)&&n.current){const d=n.current.getItem(t.focusedKey),f=[...n.current.getKeys()].map(v=>{const j=n.current.getItem(v);return(j==null?void 0:j.type)==="item"?j:null}).filter(v=>v!==null),h=[...e.getKeys()].map(v=>{const j=e.getItem(v);return(j==null?void 0:j.type)==="item"?j:null}).filter(v=>v!==null);var r,s;const p=((r=f==null?void 0:f.length)!==null&&r!==void 0?r:0)-((s=h==null?void 0:h.length)!==null&&s!==void 0?s:0);var a,o,l;let b=Math.min(p>1?Math.max(((a=d==null?void 0:d.index)!==null&&a!==void 0?a:0)-p+1,0):(o=d==null?void 0:d.index)!==null&&o!==void 0?o:0,((l=h==null?void 0:h.length)!==null&&l!==void 0?l:0)-1),x=null,y=!1;for(;b>=0;){if(!t.isDisabled(h[b].key)){x=h[b];break}if(b<h.length-1&&!y)b++;else{y=!0;var c,u;b>((c=d==null?void 0:d.index)!==null&&c!==void 0?c:0)&&(b=(u=d==null?void 0:d.index)!==null&&u!==void 0?u:0),b--}}t.setFocusedKey(x?x.key:null)}n.current=e},[e,t])}function cK(e){var t;let[n,r]=ml(e.selectedKey,(t=e.defaultSelectedKey)!==null&&t!==void 0?t:null,e.onSelectionChange),s=m.useMemo(()=>n!=null?[n]:[],[n]),{collection:a,disabledKeys:o,selectionManager:l}=S$({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:u=>{if(u==="all")return;var d;let f=(d=u.values().next().value)!==null&&d!==void 0?d:null;f===n&&e.onSelectionChange&&e.onSelectionChange(f),r(f)}}),c=n!=null?a.getItem(n):null;return{collection:a,disabledKeys:o,selectionManager:l,selectedKey:n,setSelectedKey:r,selectedItem:c}}function l1e(e){var t,n;let r=cK({...e,suppressTextValueWarning:!0,defaultSelectedKey:(n=(t=e.defaultSelectedKey)!==null&&t!==void 0?t:$6(e.collection,e.disabledKeys?new Set(e.disabledKeys):new Set))!==null&&n!==void 0?n:void 0}),{selectionManager:s,collection:a,selectedKey:o}=r,l=m.useRef(o);return m.useEffect(()=>{let c=o;e.selectedKey==null&&(s.isEmpty||c==null||!a.getItem(c))&&(c=$6(a,r.disabledKeys),c!=null&&s.setSelectedKeys([c])),(c!=null&&s.focusedKey==null||!s.isFocused&&c!==l.current)&&s.setFocusedKey(c),l.current=c}),{...r,isDisabled:e.isDisabled||!1}}function $6(e,t){let n=null;if(e){var r,s,a,o;for(n=e.getFirstKey();n!=null&&(t.has(n)||!((s=e.getItem(n))===null||s===void 0||(r=s.props)===null||r===void 0)&&r.isDisabled)&&n!==e.getLastKey();)n=e.getKeyAfter(n);n!=null&&(t.has(n)||!((o=e.getItem(n))===null||o===void 0||(a=o.props)===null||a===void 0)&&a.isDisabled)&&n===e.getLastKey()&&(n=e.getFirstKey())}return n}function c1e(e){var t,n,r;const s=xr(),[a,o]=Hr(e,e6.variantKeys),{ref:l,as:c,className:u,classNames:d,children:f,disableCursorAnimation:h,motionProps:p,isVertical:b=!1,shouldSelectOnPressUp:x=!0,destroyInactiveTabPanel:y=!0,...v}=a,j=c||"div",S=typeof j=="string",N=Kt(l),C=(n=(t=e==null?void 0:e.disableAnimation)!=null?t:s==null?void 0:s.disableAnimation)!=null?n:!1,$=l1e({children:f,...v}),{tabListProps:P}=s1e(v,$,N),E=m.useMemo(()=>e6({...o,disableAnimation:C,...b?{placement:"start"}:{}}),[Kr(o),C,b]),M=Ye(d==null?void 0:d.base,u),k=m.useMemo(()=>({state:$,slots:E,classNames:d,motionProps:p,disableAnimation:C,listRef:N,shouldSelectOnPressUp:x,disableCursorAnimation:h,isDisabled:e==null?void 0:e.isDisabled}),[$,E,N,p,C,h,x,e==null?void 0:e.isDisabled,d]),A=m.useCallback(F=>({"data-slot":"base",className:E.base({class:Ye(M,F==null?void 0:F.className)}),...Me(Mn(v,{enabled:S}),F)}),[M,v,E]),I=(r=o.placement)!=null?r:b?"start":"top",L=m.useCallback(F=>({"data-slot":"tabWrapper",className:E.tabWrapper({class:Ye(d==null?void 0:d.tabWrapper,F==null?void 0:F.className)}),"data-placement":I,"data-vertical":b||I==="start"||I==="end"?"vertical":"horizontal"}),[d,E,I,b]),R=m.useCallback(F=>({ref:N,"data-slot":"tabList",className:E.tabList({class:Ye(d==null?void 0:d.tabList,F==null?void 0:F.className)}),...Me(P,F)}),[N,P,d,E]);return{Component:j,domRef:N,state:$,values:k,destroyInactiveTabPanel:y,getBaseProps:A,getTabListProps:R,getWrapperProps:L}}var u1e=Ft(function(t,n){const{Component:r,values:s,state:a,destroyInactiveTabPanel:o,getBaseProps:l,getTabListProps:c,getWrapperProps:u}=c1e({...t,ref:n}),d=m.useId(),f=!t.disableAnimation&&!t.disableCursorAnimation,h={state:a,listRef:s.listRef,slots:s.slots,classNames:s.classNames,isDisabled:s.isDisabled,motionProps:s.motionProps,disableAnimation:s.disableAnimation,shouldSelectOnPressUp:s.shouldSelectOnPressUp,disableCursorAnimation:s.disableCursorAnimation},p=[...a.collection].map(x=>i.jsx(i1e,{item:x,...h,...x.props},x.key)),b=i.jsxs(i.Fragment,{children:[i.jsx("div",{...l(),children:i.jsx(r,{...c(),children:f?i.jsx(sue,{id:d,children:p}):p})}),[...a.collection].map(x=>i.jsx(a1e,{classNames:s.classNames,destroyInactiveTabPanel:o,slots:s.slots,state:s.state,tabKey:x.key},x.key))]});return"placement"in t||"isVertical"in t?i.jsx("div",{...u(),children:b}):b}),uK=u1e,d1e=h$,Rp=d1e;function f1e(e={}){const{domRef:t,isEnabled:n=!0,overflowCheck:r="vertical",visibility:s="auto",offset:a=0,onVisibilityChange:o,updateDeps:l=[]}=e,c=m.useRef(s);m.useEffect(()=>{const u=t==null?void 0:t.current;if(!u||!n)return;const d=(p,b,x,y,v)=>{if(s==="auto"){const j=`${y}${SB(v)}Scroll`;b&&x?(u.dataset[j]="true",u.removeAttribute(`data-${y}-scroll`),u.removeAttribute(`data-${v}-scroll`)):(u.dataset[`${y}Scroll`]=b.toString(),u.dataset[`${v}Scroll`]=x.toString(),u.removeAttribute(`data-${y}-${v}-scroll`))}else{const j=b&&x?"both":b?y:x?v:"none";j!==c.current&&(o==null||o(j),c.current=j)}},f=()=>{var p,b;const x=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}],y=u.querySelector('ul[data-slot="list"]'),v=+((p=y==null?void 0:y.getAttribute("data-virtual-scroll-height"))!=null?p:u.scrollHeight),j=+((b=y==null?void 0:y.getAttribute("data-virtual-scroll-top"))!=null?b:u.scrollTop);for(const{type:S,prefix:N,suffix:C}of x)if(r===S||r==="both"){const $=S==="vertical"?j>a:u.scrollLeft>a,P=S==="vertical"?j+u.clientHeight+a<v:u.scrollLeft+u.clientWidth+a<u.scrollWidth;d(S,$,P,N,C)}},h=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(p=>{u.removeAttribute(`data-${p}-scroll`)})};return f(),u.addEventListener("scroll",f,!0),s!=="auto"&&(h(),s==="both"?(u.dataset.topBottomScroll=String(r==="vertical"),u.dataset.leftRightScroll=String(r==="horizontal")):(u.dataset.topBottomScroll="false",u.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(p=>{u.dataset[`${p}Scroll`]=String(s===p)}))),()=>{u.removeEventListener("scroll",f,!0),h()}},[...l,n,s,r,o,t])}function h1e(e){var t;const[n,r]=Hr(e,qy.variantKeys),{ref:s,as:a,children:o,className:l,style:c,size:u=40,offset:d=0,visibility:f="auto",isEnabled:h=!0,onVisibilityChange:p,...b}=n,x=a||"div",y=Kt(s);f1e({domRef:y,offset:d,visibility:f,isEnabled:h,onVisibilityChange:p,updateDeps:[o],overflowCheck:(t=e.orientation)!=null?t:"vertical"});const v=m.useMemo(()=>qy({...r,className:l}),[Kr(r),l]);return{Component:x,styles:v,domRef:y,children:o,getBaseProps:(S={})=>{var N;return{ref:y,className:v,"data-orientation":(N=e.orientation)!=null?N:"vertical",style:{"--scroll-shadow-size":`${u}px`,...c,...S.style},...b,...S}}}}var dK=Ft((e,t)=>{const{Component:n,children:r,getBaseProps:s}=h1e({...e,ref:t});return i.jsx(n,{...s(),children:r})});dK.displayName="HeroUI.ScrollShadow";var j$=dK;function m1e(e){const{collection:t,disabledKeys:n,selectionManager:r,selectionManager:{setSelectedKeys:s,selectedKeys:a,selectionMode:o}}=S$(e),l=m.useMemo(()=>!e.isLoading&&a.size!==0?Array.from(a).filter(Boolean).filter(u=>!t.getItem(u)):[],[a,t]),c=a.size!==0?Array.from(a).map(u=>t.getItem(u)).filter(Boolean):null;return l.length&&console.warn(`Select: Keys "${l.join(", ")}" passed to "selectedKeys" are not present in the collection.`),{collection:t,disabledKeys:n,selectionManager:r,selectionMode:o,selectedKeys:a,setSelectedKeys:s.bind(r),selectedItems:c}}function p1e({validate:e,validationBehavior:t,...n}){const[r,s]=m.useState(!1),[a,o]=m.useState(null),l=cW(n),c=m1e({...n,onSelectionChange:f=>{n.onSelectionChange!=null&&(f==="all"?n.onSelectionChange(new Set(c.collection.getKeys())):n.onSelectionChange(f)),n.selectionMode==="single"&&l.close()}}),u=Uh({...n,validationBehavior:t,validate:f=>{if(!e)return;const h=Array.from(f);return e(n.selectionMode==="single"?h[0]:h)},value:c.selectedKeys}),d=c.collection.size===0&&n.hideEmptyContent;return{...u,...c,...l,focusStrategy:a,close(){l.close()},open(f=null){d||(o(f),l.open())},toggle(f=null){d||(o(f),l.toggle())},isFocused:r,setFocused:s}}function g1e(e,t,n){const{disallowEmptySelection:r,isDisabled:s}=e,a=u0({usage:"search",sensitivity:"base"}),o=m.useMemo(()=>new c$(t.collection,t.disabledKeys,null,a),[t.collection,t.disabledKeys,a]),{menuTriggerProps:l,menuProps:c}=x$({isDisabled:s,type:"listbox"},t,n),u=C=>{if(t.selectionMode==="single")switch(C.key){case"ArrowLeft":{C.preventDefault();const $=t.selectedKeys.size>0?o.getKeyAbove(t.selectedKeys.values().next().value):o.getFirstKey();$&&t.setSelectedKeys([$]);break}case"ArrowRight":{C.preventDefault();const $=t.selectedKeys.size>0?o.getKeyBelow(t.selectedKeys.values().next().value):o.getFirstKey();$&&t.setSelectedKeys([$]);break}}},{typeSelectProps:d}=_z({keyboardDelegate:o,selectionManager:t.selectionManager,onTypeSelect(C){t.setSelectedKeys([C])}}),{isInvalid:f,validationErrors:h,validationDetails:p}=t.displayValidation,{labelProps:b,fieldProps:x,descriptionProps:y,errorMessageProps:v}=r$({...e,labelElementType:"span",isInvalid:f,errorMessage:e.errorMessage||h});d.onKeyDown=d.onKeyDownCapture,delete d.onKeyDownCapture;const j=va(e,{labelable:!0}),S=Me(d,l,x),N=Ur();return{labelProps:{...b,onClick:()=>{var C;e.isDisabled||((C=n.current)==null||C.focus(),u8("keyboard"))}},triggerProps:Me(j,{...S,onKeyDown:gr(S.onKeyDown,u,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[N,j["aria-label"]!==void 0?j["aria-labelledby"]!==void 0?j["aria-labelledby"]:S.id:S["aria-labelledby"]].join(" "),onFocus(C){t.isFocused||(e.onFocus&&e.onFocus(C),t.setFocused(!0))},onBlur(C){t.isOpen||(e.onBlur&&e.onBlur(C),t.setFocused(!1))}}),valueProps:{id:N},menuProps:{...c,disallowEmptySelection:r,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,onBlur:C=>{C.currentTarget.contains(C.relatedTarget)||(e.onBlur&&e.onBlur(C),t.setFocused(!1))},onFocus:c==null?void 0:c.onFocus,"aria-labelledby":[x["aria-labelledby"],S["aria-label"]&&!x["aria-labelledby"]?S.id:null].filter(Boolean).join(" ")},descriptionProps:y,errorMessageProps:v,isInvalid:f,validationErrors:h,validationDetails:p}}var fK=new WeakMap;function b1e(e){var t,n,r,s,a,o;const l=xr(),{validationBehavior:c}=E0(rh)||{},[u,d]=Hr(e,n6.variantKeys),f=(n=(t=e.disableAnimation)!=null?t:l==null?void 0:l.disableAnimation)!=null?n:!1,{ref:h,as:p,label:b,name:x,isLoading:y,selectorIcon:v,isOpen:j,defaultOpen:S,onOpenChange:N,startContent:C,endContent:$,description:P,renderValue:E,onSelectionChange:M,placeholder:k,isVirtualized:A,itemHeight:I=36,maxListboxHeight:L=256,children:R,disallowEmptySelection:F=!1,selectionMode:T="single",spinnerRef:O,scrollRef:_,popoverProps:W={},scrollShadowProps:z={},listboxProps:U={},spinnerProps:H={},validationState:B,onChange:Y,onClose:ae,className:ce,classNames:oe,validationBehavior:Q=(r=c??(l==null?void 0:l.validationBehavior))!=null?r:"native",hideEmptyContent:K=!1,...ne}=u,te=Kt(_),X={popoverProps:Me({placement:"bottom",triggerScaleOnOpen:!1,offset:5,disableAnimation:f},W),scrollShadowProps:Me({ref:te,isEnabled:(s=e.showScrollIndicators)!=null?s:!0,hideScrollBar:!0,offset:15},z),listboxProps:Me({disableAnimation:f},U)},xe=p||"button",$e=typeof xe=="string",Ne=Kt(h),Le=m.useRef(null),we=m.useRef(null),fe=m.useRef(null);let me=p1e({...u,isOpen:j,selectionMode:T,disallowEmptySelection:F,validationBehavior:Q,children:R,isRequired:e.isRequired,isDisabled:e.isDisabled,isInvalid:e.isInvalid,defaultOpen:S,hideEmptyContent:K,onOpenChange:tt=>{N==null||N(tt),tt||ae==null||ae()},onSelectionChange:tt=>{M==null||M(tt),Y&&typeof Y=="function"&&Y({target:{...Ne.current&&{...Ne.current,name:Ne.current.name},value:Array.from(tt).join(",")}}),me.commitValidation()}});me={...me,...e.isDisabled&&{disabledKeys:new Set([...me.collection.getKeys()])}},Kc(()=>{var tt;(tt=Ne.current)!=null&&tt.value&&me.setSelectedKeys(new Set([...me.selectedKeys,Ne.current.value]))},[Ne.current]);const{labelProps:G,triggerProps:re,valueProps:ue,menuProps:ge,descriptionProps:ye,errorMessageProps:je,isInvalid:ie,validationErrors:he,validationDetails:ke}=g1e({...u,disallowEmptySelection:F,isDisabled:e.isDisabled},me,Le),Be=e.isInvalid||B==="invalid"||ie,{isPressed:qe,buttonProps:Et}=K1(re,Le),{focusProps:ln,isFocused:Ht,isFocusVisible:vt}=Mr(),{isHovered:Re,hoverProps:Ue}=is({isDisabled:e.isDisabled}),it=Sz({labelPlacement:e.labelPlacement,label:b}),ot=!!k,Je=it==="outside-left"||it==="outside",lt=it==="inside",Ot=it==="outside-left",Vn=me.isOpen||ot||!!((a=me.selectedItems)!=null&&a.length)||!!C||!!$||!!e.isMultiline,Yn=!!((o=me.selectedItems)!=null&&o.length),tn=!!b,ur=tn&&(Ot||Je&&ot),po=Ye(oe==null?void 0:oe.base,ce),At=m.useMemo(()=>n6({...d,isInvalid:Be,labelPlacement:it,disableAnimation:f}),[Kr(d),Be,it,f]);m.useEffect(()=>{if(me.isOpen&&fe.current&&we.current){let tt=we.current.querySelector("[aria-selected=true] [data-label=true]"),ks=te.current;if(tt&&ks&&tt.parentElement){let El=(ks==null?void 0:ks.getBoundingClientRect()).height;ks.scrollTop=tt.parentElement.offsetTop-El/2+tt.parentElement.clientHeight/2}}},[me.isOpen,f]),LB({isDisabled:!me.isOpen});const Yt=typeof u.errorMessage=="function"?u.errorMessage({isInvalid:Be,validationErrors:he,validationDetails:ke}):u.errorMessage||(he==null?void 0:he.join(" ")),ti=!!P||!!Yt;m.useEffect(()=>{if(me.isOpen&&fe.current&&Le.current){let tt=Le.current.getBoundingClientRect(),ks=fe.current;ks.style.width=tt.width+"px"}},[me.isOpen]);const su=m.useCallback((tt={})=>({"data-slot":"base","data-filled":Ae(Vn),"data-has-value":Ae(Yn),"data-has-label":Ae(tn),"data-has-helper":Ae(ti),"data-invalid":Ae(Be),"data-has-label-outside":Ae(ur),className:At.base({class:Ye(po,tt.className)}),...tt}),[At,ti,Yn,tn,ur,Vn,po]),ki=m.useCallback((tt={})=>({ref:Le,"data-slot":"trigger","data-open":Ae(me.isOpen),"data-disabled":Ae(e==null?void 0:e.isDisabled),"data-focus":Ae(Ht),"data-pressed":Ae(qe),"data-focus-visible":Ae(vt),"data-hover":Ae(Re),className:At.trigger({class:oe==null?void 0:oe.trigger}),...Me(Et,ln,Ue,Mn(ne,{enabled:$e}),Mn(tt))}),[At,Le,me.isOpen,oe==null?void 0:oe.trigger,e==null?void 0:e.isDisabled,Ht,qe,vt,Re,Et,ln,Ue,ne,$e]),au=m.useCallback((tt={})=>({state:me,triggerRef:Le,selectRef:Ne,selectionMode:T,label:e==null?void 0:e.label,name:e==null?void 0:e.name,isRequired:e==null?void 0:e.isRequired,autoComplete:e==null?void 0:e.autoComplete,isDisabled:e==null?void 0:e.isDisabled,form:e==null?void 0:e.form,onChange:Y,...tt}),[me,T,e==null?void 0:e.label,e==null?void 0:e.autoComplete,e==null?void 0:e.name,e==null?void 0:e.isDisabled,Le]),go=m.useCallback((tt={})=>({"data-slot":"label",className:At.label({class:Ye(oe==null?void 0:oe.label,tt.className)}),...G,...tt}),[At,oe==null?void 0:oe.label,G]),iu=m.useCallback((tt={})=>({"data-slot":"value",className:At.value({class:Ye(oe==null?void 0:oe.value,tt.className)}),...ue,...tt}),[At,oe==null?void 0:oe.value,ue]),St=m.useCallback((tt={})=>({"data-slot":"listboxWrapper",className:At.listboxWrapper({class:Ye(oe==null?void 0:oe.listboxWrapper,tt==null?void 0:tt.className)}),style:{maxHeight:L??256,...tt.style},...Me(X.scrollShadowProps,tt)}),[At.listboxWrapper,oe==null?void 0:oe.listboxWrapper,X.scrollShadowProps,L]),ni=(tt={})=>{const ks=A??me.collection.size>50;return{state:me,ref:we,isVirtualized:ks,virtualization:ks?{maxListboxHeight:L,itemHeight:I}:void 0,"data-slot":"listbox",className:At.listbox({class:Ye(oe==null?void 0:oe.listbox,tt==null?void 0:tt.className)}),scrollShadowProps:X.scrollShadowProps,...Me(X.listboxProps,tt,ge)}},hm=m.useCallback((tt={})=>{var ks,gm;const El=Me(X.popoverProps,tt);return{state:me,triggerRef:Le,ref:fe,"data-slot":"popover",scrollRef:we,triggerType:"listbox",classNames:{content:At.popoverContent({class:Ye(oe==null?void 0:oe.popoverContent,tt.className)})},...El,offset:me.selectedItems&&me.selectedItems.length>0?me.selectedItems.length*1e-8+(((ks=X.popoverProps)==null?void 0:ks.offset)||0):(gm=X.popoverProps)==null?void 0:gm.offset,shouldCloseOnInteractOutside:El!=null&&El.shouldCloseOnInteractOutside?El.shouldCloseOnInteractOutside:Rd=>U1(Rd,Ne,me)}},[At,oe==null?void 0:oe.popoverContent,X.popoverProps,Le,me,me.selectedItems]),mm=m.useCallback(()=>({"data-slot":"selectorIcon","aria-hidden":Ae(!0),"data-open":Ae(me.isOpen),className:At.selectorIcon({class:oe==null?void 0:oe.selectorIcon})}),[At,oe==null?void 0:oe.selectorIcon,me.isOpen]),pm=m.useCallback((tt={})=>({...tt,"data-slot":"innerWrapper",className:At.innerWrapper({class:Ye(oe==null?void 0:oe.innerWrapper,tt==null?void 0:tt.className)})}),[At,oe==null?void 0:oe.innerWrapper]),Ct=m.useCallback((tt={})=>({...tt,"data-slot":"helperWrapper",className:At.helperWrapper({class:Ye(oe==null?void 0:oe.helperWrapper,tt==null?void 0:tt.className)})}),[At,oe==null?void 0:oe.helperWrapper]),bo=m.useCallback((tt={})=>({...tt,...ye,"data-slot":"description",className:At.description({class:Ye(oe==null?void 0:oe.description,tt==null?void 0:tt.className)})}),[At,oe==null?void 0:oe.description]),sb=m.useCallback((tt={})=>({...tt,"data-slot":"mainWrapper",className:At.mainWrapper({class:Ye(oe==null?void 0:oe.mainWrapper,tt==null?void 0:tt.className)})}),[At,oe==null?void 0:oe.mainWrapper]),E2=m.useCallback((tt={})=>({...tt,...je,"data-slot":"error-message",className:At.errorMessage({class:Ye(oe==null?void 0:oe.errorMessage,tt==null?void 0:tt.className)})}),[At,je,oe==null?void 0:oe.errorMessage]),A2=m.useCallback((tt={})=>({"aria-hidden":Ae(!0),"data-slot":"spinner",color:"current",size:"sm",...H,...tt,ref:O,className:At.spinner({class:Ye(oe==null?void 0:oe.spinner,tt==null?void 0:tt.className)})}),[At,O,H,oe==null?void 0:oe.spinner]);return fK.set(me,{isDisabled:e==null?void 0:e.isDisabled,isRequired:e==null?void 0:e.isRequired,name:e==null?void 0:e.name,isInvalid:Be,validationBehavior:Q}),{Component:xe,domRef:Ne,state:me,label:b,name:x,triggerRef:Le,isLoading:y,placeholder:k,startContent:C,endContent:$,description:P,selectorIcon:v,hasHelper:ti,labelPlacement:it,hasPlaceholder:ot,renderValue:E,selectionMode:T,disableAnimation:f,isOutsideLeft:Ot,shouldLabelBeOutside:Je,shouldLabelBeInside:lt,isInvalid:Be,errorMessage:Yt,getBaseProps:su,getTriggerProps:ki,getLabelProps:go,getValueProps:iu,getListboxProps:ni,getPopoverProps:hm,getSpinnerProps:A2,getMainWrapperProps:sb,getListboxWrapperProps:St,getHiddenSelectProps:au,getInnerWrapperProps:pm,getHelperWrapperProps:Ct,getDescriptionProps:bo,getErrorMessageProps:E2,getSelectorIconProps:mm}}function x1e(e,t,n){var r;let s=fK.get(t)||{},{autoComplete:a,name:o=s.name,isDisabled:l=s.isDisabled,selectionMode:c,onChange:u,form:d}=e,{validationBehavior:f,isRequired:h,isInvalid:p}=s,{visuallyHiddenProps:b}=h8();return d4(e.selectRef,t.selectedKeys,t.setSelectedKeys),M1({validationBehavior:f,focus:()=>{var x;return(x=n.current)==null?void 0:x.focus()}},t,e.selectRef),{containerProps:{...b,"aria-hidden":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{form:d,autoComplete:a,disabled:l,"aria-invalid":p||void 0,"aria-required":h&&f==="aria"||void 0,required:h&&f==="native",name:o,tabIndex:-1,value:c==="multiple"?[...t.selectedKeys].map(x=>String(x)):(r=[...t.selectedKeys][0])!=null?r:"",multiple:c==="multiple",onChange:x=>{t.setSelectedKeys(x.target.value),u==null||u(x)}}}}function y1e(e){var t;let{state:n,triggerRef:r,selectRef:s,label:a,name:o,isDisabled:l,form:c}=e,{containerProps:u,selectProps:d}=x1e({...e,selectRef:s},n,r);return n.collection.size<=300?i.jsx("div",{...u,"data-testid":"hidden-select-container",children:i.jsxs("label",{children:[a,i.jsxs("select",{...d,ref:s,children:[i.jsx("option",{}),[...n.collection.getKeys()].map(f=>{let h=n.collection.getItem(f);if((h==null?void 0:h.type)==="item")return i.jsx("option",{value:h.key,children:h.textValue},h.key)})]})]})}):o?i.jsx("input",{autoComplete:d.autoComplete,disabled:l,form:c,name:o,type:"hidden",value:(t=[...n.selectedKeys].join(","))!=null?t:""}):null}var v1e=h$,bn=v1e;const Y1=new WeakMap;function w1e(e){return typeof e=="string"?e.replace(/\s*/g,""):""+e}function hK(e,t){let n=Y1.get(e);if(!n)throw new Error("Unknown list");return`${n.id}-option-${w1e(t)}`}function S1e(e,t,n){let r=va(e,{labelable:!0}),s=e.selectionBehavior||"toggle",a=e.linkBehavior||(s==="replace"?"action":"override");s==="toggle"&&a==="action"&&(a="override");let{listProps:o}=Fz({...e,ref:n,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:a}),{focusWithinProps:l}=d0({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),c=Ur(e.id);Y1.set(t,{id:c,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:a});let{labelProps:u,fieldProps:d}=n$({...e,id:c,labelElementType:"span"});return{labelProps:u,listBoxProps:Me(r,l,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...Me(d,o)})}}function j1e(e,t,n){var r,s;let{key:a}=e,o=Y1.get(t);var l;let c=(l=e.isDisabled)!==null&&l!==void 0?l:t.selectionManager.isDisabled(a);var u;let d=(u=e.isSelected)!==null&&u!==void 0?u:t.selectionManager.isSelected(a);var f;let h=(f=e.shouldSelectOnPressUp)!==null&&f!==void 0?f:o==null?void 0:o.shouldSelectOnPressUp;var p;let b=(p=e.shouldFocusOnHover)!==null&&p!==void 0?p:o==null?void 0:o.shouldFocusOnHover;var x;let y=(x=e.shouldUseVirtualFocus)!==null&&x!==void 0?x:o==null?void 0:o.shouldUseVirtualFocus;var v;let j=(v=e.isVirtualized)!==null&&v!==void 0?v:o==null?void 0:o.isVirtualized,S=gc(),N=gc(),C={role:"option","aria-disabled":c||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?d:void 0};Cc()&&l4()||(C["aria-label"]=e["aria-label"],C["aria-labelledby"]=S,C["aria-describedby"]=N);let $=t.collection.getItem(a);if(j){let O=Number($==null?void 0:$.index);C["aria-posinset"]=Number.isNaN(O)?void 0:O+1,C["aria-setsize"]=p$(t.collection)}let P=o!=null&&o.onAction?()=>{var O;return o==null||(O=o.onAction)===null||O===void 0?void 0:O.call(o,a)}:void 0,E=hK(t,a),{itemProps:M,isPressed:k,isFocused:A,hasAction:I,allowsSelection:L}=C0({selectionManager:t.selectionManager,key:a,ref:n,shouldSelectOnPressUp:h,allowsDifferentPressOrigin:h&&b,isVirtualized:j,shouldUseVirtualFocus:y,isDisabled:c,onAction:P||!($==null||(r=$.props)===null||r===void 0)&&r.onAction?gr($==null||(s=$.props)===null||s===void 0?void 0:s.onAction,P):void 0,linkBehavior:o==null?void 0:o.linkBehavior,id:E}),{hoverProps:R}=is({isDisabled:c||!b,onHoverStart(){el()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(a))}}),F=va($==null?void 0:$.props);delete F.id;let T=c4($==null?void 0:$.props);return{optionProps:{...C,...Me(F,M,R,T),id:E},labelProps:{id:S},descriptionProps:{id:N},isFocused:A,isFocusVisible:A&&t.selectionManager.isFocused&&el(),isSelected:d,isDisabled:c,isPressed:k,allowsSelection:L,hasAction:I}}function C1e(e){let{heading:t,"aria-label":n}=e,r=Ur();return{itemProps:{role:"presentation"},headingProps:t?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":t?r:void 0}}}function N1e(e){var t;const n=xr(),{ref:r,as:s,state:a,variant:o,color:l,onAction:c,children:u,onSelectionChange:d,disableAnimation:f=(t=n==null?void 0:n.disableAnimation)!=null?t:!1,itemClasses:h,className:p,topContent:b,bottomContent:x,emptyContent:y="No items.",hideSelectedIcon:v=!1,hideEmptyContent:j=!1,shouldHighlightOnFocus:S=!1,classNames:N,...C}=e,$=s||"ul",P=typeof $=="string",E=Kt(r),M=S$({...e,children:u,onSelectionChange:d}),k=a||M,{listBoxProps:A}=S1e({...e,onAction:c},k,E),I=m.useMemo(()=>Mz(),[]),L=Ye(N==null?void 0:N.base,p);return{Component:$,state:k,variant:o,color:l,slots:I,classNames:N,topContent:b,bottomContent:x,emptyContent:y,hideEmptyContent:j,shouldHighlightOnFocus:S,hideSelectedIcon:v,disableAnimation:f,className:p,itemClasses:h,getBaseProps:(O={})=>({ref:E,"data-slot":"base",className:I.base({class:L}),...Mn(C,{enabled:P}),...O}),getListProps:(O={})=>({"data-slot":"list",className:I.list({class:N==null?void 0:N.list}),...A,...O}),getEmptyContentProps:(O={})=>({"data-slot":"empty-content",children:y,className:I.emptyContent({class:N==null?void 0:N.emptyContent}),...O})}}function $1e(e){const{isSelected:t,disableAnimation:n,...r}=e;return i.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...r,children:i.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:n?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function E1e(e){var t,n;const r=xr(),[s,a]=Hr(e,Gy.variantKeys),{as:o,item:l,state:c,description:u,startContent:d,endContent:f,isVirtualized:h,selectedIcon:p,className:b,classNames:x,autoFocus:y,onPress:v,onPressUp:j,onPressStart:S,onPressEnd:N,onPressChange:C,onClick:$,shouldHighlightOnFocus:P,hideSelectedIcon:E=!1,isReadOnly:M=!1,...k}=s,A=(n=(t=e.disableAnimation)!=null?t:r==null?void 0:r.disableAnimation)!=null?n:!1,I=m.useRef(null),L=o||(e.href?"a":"li"),R=typeof L=="string",{rendered:F,key:T}=l,O=c.disabledKeys.has(T)||e.isDisabled,_=c.selectionManager.selectionMode!=="none",W=sW(),{pressProps:z,isPressed:U}=Ni({ref:I,isDisabled:O,onClick:$,onPress:v,onPressUp:j,onPressStart:S,onPressEnd:N,onPressChange:C}),{isHovered:H,hoverProps:B}=is({isDisabled:O}),{isFocusVisible:Y,focusProps:ae}=Mr({autoFocus:y}),{isFocused:ce,isSelected:oe,optionProps:Q,labelProps:K,descriptionProps:ne}=j1e({key:T,isDisabled:O,"aria-label":s["aria-label"],isVirtualized:h},c,I);let te=Q;const X=m.useMemo(()=>Gy({...a,isDisabled:O,disableAnimation:A,hasTitleTextChild:typeof F=="string",hasDescriptionTextChild:typeof u=="string"}),[Kr(a),O,A,F,u]),xe=Ye(x==null?void 0:x.base,b);M&&(te=jB(te));const $e=P&&ce||(W?H||U:H||ce&&!Y),Ne=(G={})=>({ref:I,...Me(te,M?{}:Me(ae,z),B,Mn(k,{enabled:R}),G),"data-selectable":Ae(_),"data-focus":Ae(ce),"data-hover":Ae($e),"data-disabled":Ae(O),"data-selected":Ae(oe),"data-pressed":Ae(U),"data-focus-visible":Ae(Y),className:X.base({class:Ye(xe,G.className)})}),Le=(G={})=>({...Me(K,G),"data-label":Ae(!0),className:X.title({class:x==null?void 0:x.title})}),we=(G={})=>({...Me(ne,G),className:X.description({class:x==null?void 0:x.description})}),fe=(G={})=>({...Me(G),className:X.wrapper({class:x==null?void 0:x.wrapper})}),me=m.useCallback((G={})=>({"aria-hidden":Ae(!0),"data-disabled":Ae(O),className:X.selectedIcon({class:x==null?void 0:x.selectedIcon}),...G}),[O,X,x]);return{Component:L,domRef:I,slots:X,classNames:x,isSelectable:_,isSelected:oe,isDisabled:O,rendered:F,description:u,startContent:d,endContent:f,selectedIcon:p,hideSelectedIcon:E,disableAnimation:A,getItemProps:Ne,getLabelProps:Le,getWrapperProps:fe,getDescriptionProps:we,getSelectedIconProps:me}}var mK=e=>{const{Component:t,rendered:n,description:r,isSelectable:s,isSelected:a,isDisabled:o,selectedIcon:l,startContent:c,endContent:u,hideSelectedIcon:d,disableAnimation:f,getItemProps:h,getLabelProps:p,getWrapperProps:b,getDescriptionProps:x,getSelectedIconProps:y}=E1e(e),v=m.useMemo(()=>{const j=i.jsx($1e,{disableAnimation:f,isSelected:a});return typeof l=="function"?l({icon:j,isSelected:a,isDisabled:o}):l||j},[l,a,o,f]);return i.jsxs(t,{...h(),children:[c,r?i.jsxs("div",{...b(),children:[i.jsx("span",{...p(),children:n}),i.jsx("span",{...x(),children:r})]}):i.jsx("span",{...p(),children:n}),s&&!d&&i.jsx("span",{...y(),children:v}),u]})};mK.displayName="HeroUI.ListboxItem";var C$=mK,pK=Ft(({item:e,state:t,as:n,variant:r,color:s,disableAnimation:a,className:o,classNames:l,hideSelectedIcon:c,showDivider:u=!1,dividerProps:d={},itemClasses:f,title:h,items:p,...b},x)=>{const y=n||"li",v=m.useMemo(()=>Oz(),[]),j=Ye(l==null?void 0:l.base,o),S=Ye(l==null?void 0:l.divider,d==null?void 0:d.className),{itemProps:N,headingProps:C,groupProps:$}=C1e({heading:e.rendered,"aria-label":e["aria-label"]});return i.jsxs(y,{"data-slot":"base",...Me(N,b),className:v.base({class:j}),children:[e.rendered&&i.jsx("span",{...C,className:v.heading({class:l==null?void 0:l.heading}),"data-slot":"heading",children:e.rendered}),i.jsxs("ul",{...$,className:v.group({class:l==null?void 0:l.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(P=>{const{key:E,props:M}=P;let k=i.jsx(C$,{classNames:f,color:s,disableAnimation:a,hideSelectedIcon:c,item:P,state:t,variant:r,...M},E);return P.wrapper&&(k=P.wrapper(k)),k}),u&&i.jsx(Ed,{as:"li",className:v.divider({class:S}),...d})]})]},e.key)});pK.displayName="HeroUI.ListboxSection";var gK=pK;function A1e(e={}){const{domRef:t,isEnabled:n=!0,overflowCheck:r="vertical",visibility:s="auto",offset:a=0,onVisibilityChange:o,updateDeps:l=[]}=e,c=m.useRef(s);m.useEffect(()=>{const u=t==null?void 0:t.current;if(!u||!n)return;const d=(p,b,x,y,v)=>{if(s==="auto"){const j=`${y}${SB(v)}Scroll`;b&&x?(u.dataset[j]="true",u.removeAttribute(`data-${y}-scroll`),u.removeAttribute(`data-${v}-scroll`)):(u.dataset[`${y}Scroll`]=b.toString(),u.dataset[`${v}Scroll`]=x.toString(),u.removeAttribute(`data-${y}-${v}-scroll`))}else{const j=b&&x?"both":b?y:x?v:"none";j!==c.current&&(o==null||o(j),c.current=j)}},f=()=>{var p,b;const x=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}],y=u.querySelector('ul[data-slot="list"]'),v=+((p=y==null?void 0:y.getAttribute("data-virtual-scroll-height"))!=null?p:u.scrollHeight),j=+((b=y==null?void 0:y.getAttribute("data-virtual-scroll-top"))!=null?b:u.scrollTop);for(const{type:S,prefix:N,suffix:C}of x)if(r===S||r==="both"){const $=S==="vertical"?j>a:u.scrollLeft>a,P=S==="vertical"?j+u.clientHeight+a<v:u.scrollLeft+u.clientWidth+a<u.scrollWidth;d(S,$,P,N,C)}},h=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(p=>{u.removeAttribute(`data-${p}-scroll`)})};return f(),u.addEventListener("scroll",f,!0),s!=="auto"&&(h(),s==="both"?(u.dataset.topBottomScroll=String(r==="vertical"),u.dataset.leftRightScroll=String(r==="horizontal")):(u.dataset.topBottomScroll="false",u.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(p=>{u.dataset[`${p}Scroll`]=String(s===p)}))),()=>{u.removeEventListener("scroll",f,!0),h()}},[...l,n,s,r,o,t])}function P1e(e){var t;const[n,r]=Hr(e,qy.variantKeys),{ref:s,as:a,children:o,className:l,style:c,size:u=40,offset:d=0,visibility:f="auto",isEnabled:h=!0,onVisibilityChange:p,...b}=n,x=a||"div",y=Kt(s);A1e({domRef:y,offset:d,visibility:f,isEnabled:h,onVisibilityChange:p,updateDeps:[o],overflowCheck:(t=e.orientation)!=null?t:"vertical"});const v=m.useMemo(()=>qy({...r,className:l}),[Kr(r),l]);return{Component:x,styles:v,domRef:y,children:o,getBaseProps:(S={})=>{var N;return{ref:y,className:v,"data-orientation":(N=e.orientation)!=null?N:"vertical",style:{"--scroll-shadow-size":`${u}px`,...c,...S.style},...b,...S}}}}var D1e=(e,t)=>{const n=[];for(const r of e)r.type==="section"?n.push(([...r.childNodes].length+1)*t):n.push(t);return n},k1e=e=>{if(!e||e.scrollTop===void 0||e.clientHeight===void 0||e.scrollHeight===void 0)return{isTop:!1,isBottom:!1,isMiddle:!1};const t=e.scrollTop===0,n=Math.ceil(e.scrollTop+e.clientHeight)>=e.scrollHeight;return{isTop:t,isBottom:n,isMiddle:!t&&!n}},I1e=e=>{var t;const{Component:n,state:r,color:s,variant:a,itemClasses:o,getBaseProps:l,topContent:c,bottomContent:u,hideEmptyContent:d,hideSelectedIcon:f,shouldHighlightOnFocus:h,disableAnimation:p,getEmptyContentProps:b,getListProps:x,scrollShadowProps:y}=e,{virtualization:v}=e;if(!v||!yB(v)&&!v.maxListboxHeight&&!v.itemHeight)throw new Error("You are using a virtualized listbox. VirtualizedListbox requires 'virtualization' props with 'maxListboxHeight' and 'itemHeight' properties. This error might have originated from autocomplete components that use VirtualizedListbox. Please provide these props to use the virtualized listbox.");const{maxListboxHeight:j,itemHeight:S}=v,N=Math.min(j,S*r.collection.size),C=m.useRef(null),$=m.useMemo(()=>D1e([...r.collection],S),[r.collection,S]),P=nK({count:[...r.collection].length,getScrollElement:()=>C.current,estimateSize:F=>$[F]}),E=P.getVirtualItems(),M=P.getTotalSize(),{getBaseProps:k}=P1e({...y}),A=F=>{var T;const O=[...r.collection][F.index];if(!O)return null;const _={color:s,item:O,state:r,variant:a,disableAnimation:p,hideSelectedIcon:f,...O.props},W={position:"absolute",top:0,left:0,width:"100%",height:`${F.size}px`,transform:`translateY(${F.start}px)`};if(O.type==="section")return i.jsx(gK,{..._,itemClasses:o,style:{...W,..._.style}},O.key);let z=i.jsx(C$,{..._,classNames:Me(o,(T=O.props)==null?void 0:T.classNames),shouldHighlightOnFocus:h,style:{...W,..._.style}},O.key);return O.wrapper&&(z=O.wrapper(z)),z},[I,L]=m.useState({isTop:!1,isBottom:!0,isMiddle:!1}),R=i.jsxs(n,{...x(),"data-virtual-scroll-height":M,"data-virtual-scroll-top":(t=C==null?void 0:C.current)==null?void 0:t.scrollTop,children:[!r.collection.size&&!d&&i.jsx("li",{children:i.jsx("div",{...b()})}),i.jsx("div",{...Mn(k()),ref:C,style:{height:j,overflow:"auto"},onScroll:F=>{L(k1e(F.target))},children:N>0&&S>0&&i.jsx("div",{style:{height:`${M}px`,width:"100%",position:"relative"},children:E.map(F=>A(F))})})]});return i.jsxs("div",{...l(),children:[c,R,u]})},T1e=I1e,M1e=Ft(function(t,n){const{isVirtualized:r,...s}=t,a=N1e({...s,ref:n}),{Component:o,state:l,color:c,variant:u,itemClasses:d,getBaseProps:f,topContent:h,bottomContent:p,hideEmptyContent:b,hideSelectedIcon:x,shouldHighlightOnFocus:y,disableAnimation:v,getEmptyContentProps:j,getListProps:S}=a;if(r)return i.jsx(T1e,{...t,...a});const N=i.jsxs(o,{...S(),children:[!l.collection.size&&!b&&i.jsx("li",{children:i.jsx("div",{...j()})}),[...l.collection].map(C=>{var $;const P={color:c,item:C,state:l,variant:u,disableAnimation:v,hideSelectedIcon:x,...C.props};if(C.type==="section")return i.jsx(gK,{...P,itemClasses:d},C.key);let E=i.jsx(C$,{...P,classNames:Me(d,($=C.props)==null?void 0:$.classNames),shouldHighlightOnFocus:y},C.key);return C.wrapper&&(E=C.wrapper(E)),E})]});return i.jsxs("div",{...f(),children:[h,N,p]})}),N$=M1e,O1e=Ft(function(t,n){const{Component:r,state:s,label:a,hasHelper:o,isLoading:l,triggerRef:c,selectorIcon:u=i.jsx(d$,{}),description:d,errorMessage:f,isInvalid:h,startContent:p,endContent:b,placeholder:x,renderValue:y,shouldLabelBeOutside:v,disableAnimation:j,getBaseProps:S,getLabelProps:N,getTriggerProps:C,getValueProps:$,getListboxProps:P,getPopoverProps:E,getSpinnerProps:M,getMainWrapperProps:k,getInnerWrapperProps:A,getHiddenSelectProps:I,getHelperWrapperProps:L,getListboxWrapperProps:R,getDescriptionProps:F,getErrorMessageProps:T,getSelectorIconProps:O}=b1e({...t,ref:n}),_=a?i.jsx("label",{...N(),children:a}):null,W=m.cloneElement(u,O()),z=m.useMemo(()=>{const Y=h&&f;return!o||!(Y||d)?null:i.jsx("div",{...L(),children:Y?i.jsx("div",{...T(),children:f}):i.jsx("div",{...F(),children:d})})},[o,h,f,d,L,T,F]),U=m.useMemo(()=>{var Y;if(!((Y=s.selectedItems)!=null&&Y.length))return x;if(y&&typeof y=="function"){const ae=[...s.selectedItems].map(ce=>({key:ce.key,data:ce.value,type:ce.type,props:ce.props,textValue:ce.textValue,rendered:ce.rendered,"aria-label":ce["aria-label"]}));return y(ae)}return s.selectedItems.map(ae=>ae.textValue).join(", ")},[s.selectedItems,y,x]),H=m.useMemo(()=>l?i.jsx(ct,{...M()}):W,[l,W,M]),B=m.useMemo(()=>s.isOpen?i.jsx(gV,{...E(),children:i.jsx(j$,{...R(),children:i.jsx(N$,{...P()})})}):null,[s.isOpen,E,s,c,R,P]);return i.jsxs("div",{...S(),children:[i.jsx(y1e,{...I()}),v?_:null,i.jsxs("div",{...k(),children:[i.jsxs(r,{...C(),children:[v?null:_,i.jsxs("div",{...A(),children:[p,i.jsx("span",{...$(),children:U}),b&&s.selectedItems&&i.jsx(f0,{elementType:"span",children:","}),b]}),H]}),z]}),j?B:i.jsx(zh,{children:B})]})}),Tc=O1e;function L1e(e){var t;let{defaultFilter:n,menuTrigger:r="input",allowsEmptyCollection:s=!1,allowsCustomValue:a,shouldCloseOnBlur:o=!0}=e,[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),p=me=>{e.onSelectionChange&&e.onSelectionChange(me),me===v&&(Y(),U())};var b;let{collection:x,selectionManager:y,selectedKey:v,setSelectedKey:j,selectedItem:S,disabledKeys:N}=cK({...e,onSelectionChange:p,items:(b=e.items)!==null&&b!==void 0?b:e.defaultItems}),C=e.defaultInputValue;if(C==null){var $,P;v==null?C="":C=(P=($=x.getItem(v))===null||$===void 0?void 0:$.textValue)!==null&&P!==void 0?P:""}let[E,M]=ml(e.inputValue,C,e.onInputChange),k=x,A=m.useMemo(()=>e.items!=null||!n?x:_1e(x,E,n),[x,E,n,e.items]),[I,L]=m.useState(A),R=m.useRef("focus"),T=H1({...e,onOpenChange:me=>{e.onOpenChange&&e.onOpenChange(me,me?R.current:void 0),y.setFocused(me),me||y.setFocusedKey(null)},isOpen:void 0,defaultOpen:void 0}),O=(me=null,G)=>{let re=G==="manual"||G==="focus"&&r==="focus";(s||A.size>0||re&&k.size>0||e.items)&&(re&&!T.isOpen&&e.items===void 0&&c(!0),R.current=G,h(me),T.open())},_=(me=null,G)=>{let re=G==="manual"||G==="focus"&&r==="focus";!(s||A.size>0||re&&k.size>0||e.items)&&!T.isOpen||(re&&!T.isOpen&&e.items===void 0&&c(!0),T.isOpen||(R.current=G),z(me))},W=m.useCallback(()=>{L(l?k:A)},[l,k,A]),z=m.useCallback((me=null)=>{T.isOpen&&W(),h(me),T.toggle()},[T,W]),U=m.useCallback(()=>{T.isOpen&&(W(),T.close())},[T,W]),[H,B]=m.useState(E),Y=()=>{var me,G;let re=v!=null&&(G=(me=x.getItem(v))===null||me===void 0?void 0:me.textValue)!==null&&G!==void 0?G:"";B(re),M(re)};var ae,ce;let oe=m.useRef((ce=(ae=e.selectedKey)!==null&&ae!==void 0?ae:e.defaultSelectedKey)!==null&&ce!==void 0?ce:null);var Q;let K=m.useRef(v!=null&&(Q=(t=x.getItem(v))===null||t===void 0?void 0:t.textValue)!==null&&Q!==void 0?Q:"");m.useEffect(()=>{var me;u&&(A.size>0||s)&&!T.isOpen&&E!==H&&r!=="manual"&&O(null,"input"),!l&&!s&&T.isOpen&&A.size===0&&U(),v!=null&&v!==oe.current&&U(),E!==H&&(y.setFocusedKey(null),c(!1),E===""&&(e.inputValue===void 0||e.selectedKey===void 0)&&j(null)),v!==oe.current&&(e.inputValue===void 0||e.selectedKey===void 0)?Y():H!==E&&B(E);var G;let re=v!=null&&(G=(me=x.getItem(v))===null||me===void 0?void 0:me.textValue)!==null&&G!==void 0?G:"";!u&&v!=null&&e.inputValue===void 0&&v===oe.current&&K.current!==re&&(B(re),M(re)),oe.current=v,K.current=re});let ne=Uh({...e,value:m.useMemo(()=>({inputValue:E,selectedKey:v}),[E,v])}),te=()=>{a&&v==null?X():xe()},X=()=>{oe.current=null,j(null),U()},xe=()=>{if(e.selectedKey!==void 0&&e.inputValue!==void 0){var me,G;(me=e.onSelectionChange)===null||me===void 0||me.call(e,v);var re;let ue=v!=null&&(re=(G=x.getItem(v))===null||G===void 0?void 0:G.textValue)!==null&&re!==void 0?re:"";B(ue),U()}else Y(),U()};const $e=()=>{if(a){var me,G;const re=v!=null&&(G=(me=x.getItem(v))===null||me===void 0?void 0:me.textValue)!==null&&G!==void 0?G:"";E===re?xe():X()}else xe()};let Ne=()=>{T.isOpen&&y.focusedKey!=null?v===y.focusedKey?xe():j(y.focusedKey):$e()},Le=m.useRef(E),we=me=>{me?(Le.current=E,r==="focus"&&!e.isReadOnly&&O(null,"focus")):(o&&$e(),E!==Le.current&&ne.commitValidation()),d(me)},fe=m.useMemo(()=>T.isOpen?l?k:A:I,[T.isOpen,k,A,l,I]);return{...ne,...T,focusStrategy:f,toggle:_,open:O,close:$e,selectionManager:y,selectedKey:v,setSelectedKey:j,disabledKeys:N,isFocused:u,setFocused:we,selectedItem:S,collection:fe,inputValue:E,setInputValue:M,commit:Ne,revert:te}}function _1e(e,t,n){return new W3(bK(e,e,t,n))}function bK(e,t,n,r){let s=[];for(let a of t)if(a.type==="section"&&a.hasChildNodes){let o=bK(e,mr(a,e),n,r);[...o].some(l=>l.type==="item")&&s.push({...a,childNodes:o})}else a.type==="item"&&r(a.textValue,n)?s.push({...a}):a.type!=="item"&&s.push({...a});return s}var xK={};xK={buttonLabel:"عرض المقترحات",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} خيار`,other:()=>`${t.number(e.optionCount)} خيارات`})} متاحة.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`المجموعة المدخلة ${e.groupTitle}, مع ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} خيار`,other:()=>`${t.number(e.groupCount)} خيارات`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", محدد",other:""},e.isSelected)}`,listboxLabel:"مقترحات",selectedAnnouncement:e=>`${e.optionText}، محدد`};var yK={};yK={buttonLabel:"Покажи предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} опция`,other:()=>`${t.number(e.optionCount)} опции`})} на разположение.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Въведена група ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} опция`,other:()=>`${t.number(e.groupCount)} опции`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", избрани",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, избрани`};var vK={};vK={buttonLabel:"Zobrazit doporučení",countAnnouncement:(e,t)=>`K dispozici ${t.plural(e.optionCount,{one:()=>`je ${t.number(e.optionCount)} možnost`,other:()=>`jsou/je ${t.number(e.optionCount)} možnosti/-í`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina „${e.groupTitle}“ ${t.plural(e.groupCount,{one:()=>`s ${t.number(e.groupCount)} možností`,other:()=>`se ${t.number(e.groupCount)} možnostmi`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:" (vybráno)",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybráno`};var wK={};wK={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} mulighed tilgængelig`,other:()=>`${t.number(e.optionCount)} muligheder tilgængelige`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angivet gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} mulighed`,other:()=>`${t.number(e.groupCount)} muligheder`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var SK={};SK={buttonLabel:"Empfehlungen anzeigen",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} Option`,other:()=>`${t.number(e.optionCount)} Optionen`})} verfügbar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Eingetretene Gruppe ${e.groupTitle}, mit ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} Option`,other:()=>`${t.number(e.groupCount)} Optionen`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", ausgewählt",other:""},e.isSelected)}`,listboxLabel:"Empfehlungen",selectedAnnouncement:e=>`${e.optionText}, ausgewählt`};var jK={};jK={buttonLabel:"Προβολή προτάσεων",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} επιλογή`,other:()=>`${t.number(e.optionCount)} επιλογές `})} διαθέσιμες.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Εισαγμένη ομάδα ${e.groupTitle}, με ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} επιλογή`,other:()=>`${t.number(e.groupCount)} επιλογές`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", επιλεγμένο",other:""},e.isSelected)}`,listboxLabel:"Προτάσεις",selectedAnnouncement:e=>`${e.optionText}, επιλέχθηκε`};var CK={};CK={focusAnnouncement:(e,t)=>`${t.select({true:()=>`Entered group ${e.groupTitle}, with ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selected",other:""},e.isSelected)}`,countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} available.`,selectedAnnouncement:e=>`${e.optionText}, selected`,buttonLabel:"Show suggestions",listboxLabel:"Suggestions"};var NK={};NK={buttonLabel:"Mostrar sugerencias",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opción`,other:()=>`${t.number(e.optionCount)} opciones`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Se ha unido al grupo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opción`,other:()=>`${t.number(e.groupCount)} opciones`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seleccionado",other:""},e.isSelected)}`,listboxLabel:"Sugerencias",selectedAnnouncement:e=>`${e.optionText}, seleccionado`};var $K={};$K={buttonLabel:"Kuva soovitused",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} valik`,other:()=>`${t.number(e.optionCount)} valikud`})} saadaval.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Sisestatud rühm ${e.groupTitle}, valikuga ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} valik`,other:()=>`${t.number(e.groupCount)} valikud`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valitud",other:""},e.isSelected)}`,listboxLabel:"Soovitused",selectedAnnouncement:e=>`${e.optionText}, valitud`};var EK={};EK={buttonLabel:"Näytä ehdotukset",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} vaihtoehto`,other:()=>`${t.number(e.optionCount)} vaihtoehdot`})} saatavilla.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Mentiin ryhmään ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} vaihtoehdon`,other:()=>`${t.number(e.groupCount)} vaihtoehdon`})} kanssa.`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valittu",other:""},e.isSelected)}`,listboxLabel:"Ehdotukset",selectedAnnouncement:e=>`${e.optionText}, valittu`};var AK={};AK={buttonLabel:"Afficher les suggestions",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groupe ${e.groupTitle} rejoint, avec ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", sélectionné(s)",other:""},e.isSelected)}`,listboxLabel:"Suggestions",selectedAnnouncement:e=>`${e.optionText}, sélectionné`};var PK={};PK={buttonLabel:"הצג הצעות",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`אפשרות ${t.number(e.optionCount)}`,other:()=>`${t.number(e.optionCount)} אפשרויות`})} במצב זמין.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`נכנס לקבוצה ${e.groupTitle}, עם ${t.plural(e.groupCount,{one:()=>`אפשרות ${t.number(e.groupCount)}`,other:()=>`${t.number(e.groupCount)} אפשרויות`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", נבחר",other:""},e.isSelected)}`,listboxLabel:"הצעות",selectedAnnouncement:e=>`${e.optionText}, נבחר`};var DK={};DK={buttonLabel:"Prikaži prijedloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} opcije/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", odabranih",other:""},e.isSelected)}`,listboxLabel:"Prijedlozi",selectedAnnouncement:e=>`${e.optionText}, odabrano`};var kK={};kK={buttonLabel:"Javaslatok megjelenítése",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} lehetőség`,other:()=>`${t.number(e.optionCount)} lehetőség`})} áll rendelkezésre.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Belépett a(z) ${e.groupTitle} csoportba, amely ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} lehetőséget`,other:()=>`${t.number(e.groupCount)} lehetőséget`})} tartalmaz. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", kijelölve",other:""},e.isSelected)}`,listboxLabel:"Javaslatok",selectedAnnouncement:e=>`${e.optionText}, kijelölve`};var IK={};IK={buttonLabel:"Mostra suggerimenti",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opzione disponibile`,other:()=>`${t.number(e.optionCount)} opzioni disponibili`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingresso nel gruppo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opzione`,other:()=>`${t.number(e.groupCount)} opzioni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selezionato",other:""},e.isSelected)}`,listboxLabel:"Suggerimenti",selectedAnnouncement:e=>`${e.optionText}, selezionato`};var TK={};TK={buttonLabel:"候補を表示",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 個のオプション`,other:()=>`${t.number(e.optionCount)} 個のオプション`})}を利用できます。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`入力されたグループ ${e.groupTitle}、${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 個のオプション`,other:()=>`${t.number(e.groupCount)} 個のオプション`})}を含む。`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:"、選択済み",other:""},e.isSelected)}`,listboxLabel:"候補",selectedAnnouncement:e=>`${e.optionText}、選択済み`};var MK={};MK={buttonLabel:"제안 사항 표시",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)}개 옵션`,other:()=>`${t.number(e.optionCount)}개 옵션`})}을 사용할 수 있습니다.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`입력한 그룹 ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)}개 옵션`,other:()=>`${t.number(e.groupCount)}개 옵션`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 선택됨",other:""},e.isSelected)}`,listboxLabel:"제안",selectedAnnouncement:e=>`${e.optionText}, 선택됨`};var OK={};OK={buttonLabel:"Rodyti pasiūlymus",countAnnouncement:(e,t)=>`Yra ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} parinktis`,other:()=>`${t.number(e.optionCount)} parinktys (-ių)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Įvesta grupė ${e.groupTitle}, su ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} parinktimi`,other:()=>`${t.number(e.groupCount)} parinktimis (-ių)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", pasirinkta",other:""},e.isSelected)}`,listboxLabel:"Pasiūlymai",selectedAnnouncement:e=>`${e.optionText}, pasirinkta`};var LK={};LK={buttonLabel:"Rādīt ieteikumus",countAnnouncement:(e,t)=>`Pieejamo opciju skaits: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcijas`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ievadīta grupa ${e.groupTitle}, ar ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opciju`,other:()=>`${t.number(e.groupCount)} opcijām`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", atlasīta",other:""},e.isSelected)}`,listboxLabel:"Ieteikumi",selectedAnnouncement:e=>`${e.optionText}, atlasīta`};var _K={};_K={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativer`})} finnes.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angitt gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativer`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var FK={};FK={buttonLabel:"Suggesties weergeven",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} optie`,other:()=>`${t.number(e.optionCount)} opties`})} beschikbaar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groep ${e.groupTitle} ingevoerd met ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} optie`,other:()=>`${t.number(e.groupCount)} opties`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", geselecteerd",other:""},e.isSelected)}`,listboxLabel:"Suggesties",selectedAnnouncement:e=>`${e.optionText}, geselecteerd`};var RK={};RK={buttonLabel:"Wyświetlaj sugestie",countAnnouncement:(e,t)=>`dostępna/dostępne(-nych) ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcja`,other:()=>`${t.number(e.optionCount)} opcje(-i)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Dołączono do grupy ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcją`,other:()=>`${t.number(e.groupCount)} opcjami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", wybrano",other:""},e.isSelected)}`,listboxLabel:"Sugestie",selectedAnnouncement:e=>`${e.optionText}, wybrano`};var BK={};BK={buttonLabel:"Mostrar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo inserido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var zK={};zK={buttonLabel:"Apresentar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo introduzido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var VK={};VK={buttonLabel:"Afișare sugestii",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opțiune`,other:()=>`${t.number(e.optionCount)} opțiuni`})} disponibile.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grup ${e.groupTitle} introdus, cu ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opțiune`,other:()=>`${t.number(e.groupCount)} opțiuni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selectat",other:""},e.isSelected)}`,listboxLabel:"Sugestii",selectedAnnouncement:e=>`${e.optionText}, selectat`};var WK={};WK={buttonLabel:"Показать предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметров`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введенная группа ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметром`,other:()=>`${t.number(e.groupCount)} параметрами`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", выбранными",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, выбрано`};var UK={};UK={buttonLabel:"Zobraziť návrhy",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} možnosť`,other:()=>`${t.number(e.optionCount)} možnosti/-í`})} k dispozícii.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} možnosťou`,other:()=>`${t.number(e.groupCount)} možnosťami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", vybraté",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybraté`};var KK={};KK={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Na voljo je ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Vnesena skupina ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcija`,other:()=>`${t.number(e.groupCount)} opcije`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izbrano",other:""},e.isSelected)}`,listboxLabel:"Predlogi",selectedAnnouncement:e=>`${e.optionText}, izbrano`};var HK={};HK={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena grupa ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} optione/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izabranih",other:""},e.isSelected)}`,listboxLabel:"Predlozi",selectedAnnouncement:e=>`${e.optionText}, izabrano`};var qK={};qK={buttonLabel:"Visa förslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativ`})} tillgängliga.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingick i gruppen ${e.groupTitle} med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativ`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valda",other:""},e.isSelected)}`,listboxLabel:"Förslag",selectedAnnouncement:e=>`${e.optionText}, valda`};var GK={};GK={buttonLabel:"Önerileri göster",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} seçenek`,other:()=>`${t.number(e.optionCount)} seçenekler`})} kullanılabilir.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Girilen grup ${e.groupTitle}, ile ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} seçenek`,other:()=>`${t.number(e.groupCount)} seçenekler`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seçildi",other:""},e.isSelected)}`,listboxLabel:"Öneriler",selectedAnnouncement:e=>`${e.optionText}, seçildi`};var YK={};YK={buttonLabel:"Показати пропозиції",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметри(-ів)`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введена група ${e.groupTitle}, з ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметр`,other:()=>`${t.number(e.groupCount)} параметри(-ів)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", вибрано",other:""},e.isSelected)}`,listboxLabel:"Пропозиції",selectedAnnouncement:e=>`${e.optionText}, вибрано`};var XK={};XK={buttonLabel:"显示建议",countAnnouncement:(e,t)=>`有 ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 个选项`,other:()=>`${t.number(e.optionCount)} 个选项`})}可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`进入了 ${e.groupTitle} 组，其中有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 个选项`,other:()=>`${t.number(e.groupCount)} 个选项`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已选择",other:""},e.isSelected)}`,listboxLabel:"建议",selectedAnnouncement:e=>`${e.optionText}, 已选择`};var ZK={};ZK={buttonLabel:"顯示建議",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 選項`,other:()=>`${t.number(e.optionCount)} 選項`})} 可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`輸入的群組 ${e.groupTitle}, 有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 選項`,other:()=>`${t.number(e.groupCount)} 選項`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已選取",other:""},e.isSelected)}`,listboxLabel:"建議",selectedAnnouncement:e=>`${e.optionText}, 已選取`};var JK={};JK={"ar-AE":xK,"bg-BG":yK,"cs-CZ":vK,"da-DK":wK,"de-DE":SK,"el-GR":jK,"en-US":CK,"es-ES":NK,"et-EE":$K,"fi-FI":EK,"fr-FR":AK,"he-IL":PK,"hr-HR":DK,"hu-HU":kK,"it-IT":IK,"ja-JP":TK,"ko-KR":MK,"lt-LT":OK,"lv-LV":LK,"nb-NO":_K,"nl-NL":FK,"pl-PL":RK,"pt-BR":BK,"pt-PT":zK,"ro-RO":VK,"ru-RU":WK,"sk-SK":UK,"sl-SI":KK,"sr-SP":HK,"sv-SE":qK,"tr-TR":GK,"uk-UA":YK,"zh-CN":XK,"zh-TW":ZK};function F1e(e){return e&&e.__esModule?e.default:e}function R1e(e,t){let{buttonRef:n,popoverRef:r,inputRef:s,listBoxRef:a,keyboardDelegate:o,layoutDelegate:l,shouldFocusWrap:c,isReadOnly:u,isDisabled:d}=e,f=m.useRef(null);n=n??f;let h=pl(F1e(JK),"@react-aria/combobox"),{menuTriggerProps:p,menuProps:b}=x$({type:"listbox",isDisabled:d||u},t,n);Y1.set(t,{id:b.id});let{collection:x}=t,{disabledKeys:y}=t.selectionManager,v=m.useMemo(()=>o||new c$({collection:x,disabledKeys:y,ref:a,layoutDelegate:l}),[o,l,x,y,a]),{collectionProps:j}=W1({selectionManager:t.selectionManager,keyboardDelegate:v,disallowTypeAhead:!0,disallowEmptySelection:!0,shouldFocusWrap:c,ref:s,isVirtualized:!0}),S=Fh(),N=te=>{if(!te.nativeEvent.isComposing)switch(te.key){case"Enter":case"Tab":if(t.isOpen&&te.key==="Enter"&&te.preventDefault(),t.isOpen&&a.current&&t.selectionManager.focusedKey!=null&&t.selectionManager.isLink(t.selectionManager.focusedKey)){let X=a.current.querySelector(`[data-key="${CSS.escape(t.selectionManager.focusedKey.toString())}"]`);if(te.key==="Enter"&&X instanceof HTMLAnchorElement){let xe=t.collection.getItem(t.selectionManager.focusedKey);xe&&S.open(X,te,xe.props.href,xe.props.routerOptions)}t.close()}else t.commit();break;case"Escape":(t.selectedKey!==null||t.inputValue===""||e.allowsCustomValue)&&te.continuePropagation(),t.revert();break;case"ArrowDown":t.open("first","manual");break;case"ArrowUp":t.open("last","manual");break;case"ArrowLeft":case"ArrowRight":t.selectionManager.setFocusedKey(null);break}},C=te=>{var X;let xe=(n==null?void 0:n.current)&&n.current===te.relatedTarget,$e=(X=r.current)===null||X===void 0?void 0:X.contains(te.relatedTarget);xe||$e||(e.onBlur&&e.onBlur(te),t.setFocused(!1))},$=te=>{t.isFocused||(e.onFocus&&e.onFocus(te),t.setFocused(!0))},{isInvalid:P,validationErrors:E,validationDetails:M}=t.displayValidation,{labelProps:k,inputProps:A,descriptionProps:I,errorMessageProps:L}=oV({...e,onChange:t.setInputValue,onKeyDown:u?e.onKeyDown:gr(t.isOpen&&j.onKeyDown,N,e.onKeyDown),onBlur:C,value:t.inputValue,onFocus:$,autoComplete:"off",validate:void 0,[gg]:t},s),R=te=>{if(te.pointerType==="touch"){var X;(X=s.current)===null||X===void 0||X.focus(),t.toggle(null,"manual")}},F=te=>{if(te.pointerType!=="touch"){var X;(X=s.current)===null||X===void 0||X.focus(),t.toggle(te.pointerType==="keyboard"||te.pointerType==="virtual"?"first":null,"manual")}},T=Qf({id:p.id,"aria-label":h.format("buttonLabel"),"aria-labelledby":e["aria-labelledby"]||k.id}),O=Qf({id:b.id,"aria-label":h.format("listboxLabel"),"aria-labelledby":e["aria-labelledby"]||k.id}),_=m.useRef(0),W=te=>{if(d||u)return;if(te.timeStamp-_.current<500){var X;te.preventDefault(),(X=s.current)===null||X===void 0||X.focus();return}let xe=te.target.getBoundingClientRect(),$e=te.changedTouches[0],Ne=Math.ceil(xe.left+.5*xe.width),Le=Math.ceil(xe.top+.5*xe.height);if($e.clientX===Ne&&$e.clientY===Le){var we;te.preventDefault(),(we=s.current)===null||we===void 0||we.focus(),t.toggle(null,"manual"),_.current=te.timeStamp}},z=t.selectionManager.focusedKey!=null&&t.isOpen?t.collection.getItem(t.selectionManager.focusedKey):void 0;var U;let H=(U=z==null?void 0:z.parentKey)!==null&&U!==void 0?U:null;var B;let Y=(B=t.selectionManager.focusedKey)!==null&&B!==void 0?B:null,ae=m.useRef(H),ce=m.useRef(Y);m.useEffect(()=>{if(ay()&&z!=null&&Y!=null&&Y!==ce.current){let X=t.selectionManager.isSelected(Y),xe=H!=null?t.collection.getItem(H):null,$e=(xe==null?void 0:xe["aria-label"])||(typeof(xe==null?void 0:xe.rendered)=="string"?xe.rendered:"")||"";var te;let Ne=h.format("focusAnnouncement",{isGroupChange:(te=xe&&H!==ae.current)!==null&&te!==void 0?te:!1,groupTitle:$e,groupCount:xe?[...mr(xe,t.collection)].length:0,optionText:z["aria-label"]||z.textValue||"",isSelected:X});Fp(Ne)}ae.current=H,ce.current=Y});let oe=p$(t.collection),Q=m.useRef(oe),K=m.useRef(t.isOpen);m.useEffect(()=>{let te=t.isOpen!==K.current&&(t.selectionManager.focusedKey==null||ay());if(t.isOpen&&(te||oe!==Q.current)){let X=h.format("countAnnouncement",{optionCount:oe});Fp(X)}Q.current=oe,K.current=t.isOpen});let ne=m.useRef(t.selectedKey);return m.useEffect(()=>{if(ay()&&t.isFocused&&t.selectedItem&&t.selectedKey!==ne.current){let te=t.selectedItem["aria-label"]||t.selectedItem.textValue||"",X=h.format("selectedAnnouncement",{optionText:te});Fp(X)}ne.current=t.selectedKey}),m.useEffect(()=>{if(t.isOpen)return yz([s.current,r.current].filter(te=>te!=null))},[t.isOpen,s,r]),u4(()=>{!z&&s.current&&ss(hn(s.current))===s.current&&TB(s.current,null)},[z]),{labelProps:k,buttonProps:{...p,...T,excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:R,onPressStart:F,isDisabled:d||u},inputProps:Me(A,{role:"combobox","aria-expanded":p["aria-expanded"],"aria-controls":t.isOpen?b.id:void 0,"aria-autocomplete":"list","aria-activedescendant":z?hK(t,z.key):void 0,onTouchEnd:W,autoCorrect:"off",spellCheck:"false"}),listBoxProps:Me(b,O,{autoFocus:t.focusStrategy,shouldUseVirtualFocus:!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,linkBehavior:"selection"}),descriptionProps:I,errorMessageProps:L,isInvalid:P,validationErrors:E,validationDetails:M}}function B1e(e){var t,n,r,s,a;const o=xr(),{validationBehavior:l}=E0(rh)||{},[c,u]=Hr(e,i6.variantKeys),d=(n=(t=e.disableAnimation)!=null?t:o==null?void 0:o.disableAnimation)!=null?n:!1,f=e.disableClearable!==void 0?!e.disableClearable:e.isReadOnly?!1:e.isClearable,{ref:h,as:p,label:b,isLoading:x,menuTrigger:y="focus",filterOptions:v={sensitivity:"base"},children:j,selectorIcon:S,clearIcon:N,scrollRef:C,defaultFilter:$,endContent:P,allowsEmptyCollection:E=!0,shouldCloseOnBlur:M=!0,popoverProps:k={},inputProps:A={},scrollShadowProps:I={},listboxProps:L={},selectorButtonProps:R={},clearButtonProps:F={},showScrollIndicators:T=!0,allowsCustomValue:O=!1,isVirtualized:_,maxListboxHeight:W=256,itemHeight:z=32,validationBehavior:U=(r=l??(o==null?void 0:o.validationBehavior))!=null?r:"native",className:H,classNames:B,errorMessage:Y,onOpenChange:ae,onClose:ce,isReadOnly:oe=!1,...Q}=c,{contains:K}=ice(v);let ne=L1e({...e,children:j,menuTrigger:y,validationBehavior:U,shouldCloseOnBlur:M,allowsEmptyCollection:E,defaultFilter:$&&typeof $=="function"?$:K,onOpenChange:(Je,lt)=>{ae==null||ae(Je,lt),Je||ce==null||ce()}});ne={...ne,...oe&&{disabledKeys:new Set([...ne.collection.getKeys()])}};const te=m.useRef(null),X=m.useRef(null),xe=m.useRef(null),$e=m.useRef(null),Ne=Kt(h),Le=Kt(C),{buttonProps:we,inputProps:fe,listBoxProps:me,isInvalid:G,validationDetails:re,validationErrors:ue}=R1e({validationBehavior:U,...e,inputRef:Ne,buttonRef:te,listBoxRef:xe,popoverRef:$e},ne),ge=e.isInvalid||G,ye={inputProps:Me({label:b,ref:Ne,wrapperRef:X,onClick:()=>{!ne.isOpen&&ne.selectedItem&&ne.open()},isClearable:!1,disableAnimation:d},A),popoverProps:Me({offset:5,placement:"bottom",triggerScaleOnOpen:!1,disableAnimation:d},k),scrollShadowProps:Me({ref:Le,isEnabled:(s=T&&ne.collection.size>5)!=null?s:!0,hideScrollBar:!0,offset:15},I),listboxProps:Me({hideEmptyContent:O,emptyContent:"No results found.",disableAnimation:d},L),selectorButtonProps:Me({isLoading:x,size:"sm",variant:"light",radius:"full",color:ge?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:d},R),clearButtonProps:Me({size:"sm",variant:"light",radius:"full",color:ge?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:d},F)},je=Ye(B==null?void 0:B.base,H),ie=(a=ye.listboxProps)!=null&&a.hideEmptyContent?ne.isOpen&&!!ne.collection.size:ne.isOpen;if(Kc(()=>{if(!Ne.current)return;const Je=Ne.current.value,lt=ne.collection.getItem(Je);lt&&ne.inputValue!==lt.textValue&&(ne.setSelectedKey(Je),ne.setInputValue(lt.textValue))},[Ne.current]),m.useEffect(()=>{let Je=ne.collection.getFirstKey();for(;Je&&ne.disabledKeys.has(Je);)Je=ne.collection.getKeyAfter(Je);ne.selectionManager.setFocusedKey(Je)},[ne.collection,ne.disabledKeys]),m.useEffect(()=>{if(ie&&$e.current&&X.current){let Je=X.current.getBoundingClientRect(),lt=$e.current;lt.style.width=Je.width+"px"}},[ie]),fe.onKeyDown){const Je=fe.onKeyDown;fe.onKeyDown=lt=>("continuePropagation"in lt&&(lt.stopPropagation=()=>{}),Je(lt))}const he=p||"div",ke=m.useMemo(()=>i6({...u,isClearable:f,disableAnimation:d}),[Kr(u),f,d]),Be=()=>({"data-invalid":Ae(ge),"data-open":Ae(ne.isOpen),className:ke.base({class:je})}),qe=()=>{var Je;return{ref:te,...Me(we,ye.selectorButtonProps),"data-open":Ae(ne.isOpen),className:ke.selectorButton({class:Ye(B==null?void 0:B.selectorButton,(Je=ye.selectorButtonProps)==null?void 0:Je.className)})}},Et=()=>{var Je,lt;return{...Me(we,ye.clearButtonProps),onPressStart:()=>{var Ot;(Ot=Ne.current)==null||Ot.focus()},onPress:Ot=>{var Vn,Yn;(Yn=(Vn=ye.clearButtonProps)==null?void 0:Vn.onPress)==null||Yn.call(Vn,Ot),ne.selectedItem&&ne.setSelectedKey(null),ne.setInputValue(""),ne.open()},"data-visible":!!ne.selectedItem||((Je=ne.inputValue)==null?void 0:Je.length)>0,className:ke.clearButton({class:Ye(B==null?void 0:B.clearButton,(lt=ye.clearButtonProps)==null?void 0:lt.className)})}},ln=U==="native"&&ne.displayValidation.isInvalid===!1&&ne.realtimeValidation.isInvalid===!0;return{Component:he,inputRef:Ne,label:b,state:ne,slots:ke,classNames:B,isLoading:x,clearIcon:N,isOpen:ie,endContent:P,isClearable:f,disableAnimation:d,allowsCustomValue:O,selectorIcon:S,getBaseProps:Be,getInputProps:()=>({...Q,...fe,...ye.inputProps,isInvalid:ln?void 0:ge,validationBehavior:U,errorMessage:typeof Y=="function"?Y({isInvalid:ge,validationErrors:ue,validationDetails:re}):Y||(ue==null?void 0:ue.join(" ")),onClick:gr(ye.inputProps.onClick,Q.onClick)}),getListBoxProps:()=>{const Je=_??ne.collection.size>50;return{state:ne,ref:xe,isVirtualized:Je,virtualization:Je?{maxListboxHeight:W,itemHeight:z}:void 0,scrollShadowProps:ye.scrollShadowProps,...Me(ye.listboxProps,me,{shouldHighlightOnFocus:!0})}},getPopoverProps:(Je={})=>{var lt,Ot,Vn;const Yn=Me(ye.popoverProps,Je);return{state:ne,ref:$e,triggerRef:X,scrollRef:xe,triggerType:"listbox",...Yn,classNames:{...(lt=ye.popoverProps)==null?void 0:lt.classNames,content:ke.popoverContent({class:Ye(B==null?void 0:B.popoverContent,(Vn=(Ot=ye.popoverProps)==null?void 0:Ot.classNames)==null?void 0:Vn.content,Je.className)})},shouldCloseOnInteractOutside:Yn!=null&&Yn.shouldCloseOnInteractOutside?Yn.shouldCloseOnInteractOutside:tn=>U1(tn,X,ne),disableDialogFocus:!0}},getEmptyPopoverProps:()=>({ref:$e,className:"hidden"}),getClearButtonProps:Et,getSelectorButtonProps:qe,getListBoxWrapperProps:(Je={})=>{var lt,Ot;return{...Me(ye.scrollShadowProps,Je),className:ke.listboxWrapper({class:Ye(B==null?void 0:B.listboxWrapper,(lt=ye.scrollShadowProps)==null?void 0:lt.className,Je==null?void 0:Je.className)}),style:{maxHeight:(Ot=e.maxListboxHeight)!=null?Ot:256}}},getEndContentWrapperProps:(Je={})=>({className:ke.endContentWrapper({class:Ye(B==null?void 0:B.endContentWrapper,Je==null?void 0:Je.className)}),onPointerDown:gr(Je.onPointerDown,lt=>{var Ot;lt.button===0&&lt.currentTarget===lt.target&&((Ot=Ne.current)==null||Ot.focus())}),onMouseDown:gr(Je.onMouseDown,lt=>{lt.button===0&&lt.currentTarget===lt.target&&lt.preventDefault()})})}}var z1e=Ft(function(t,n){var r;const{Component:s,isOpen:a,disableAnimation:o,selectorIcon:l=i.jsx(d$,{}),clearIcon:c=i.jsx(Fxe,{}),endContent:u,getBaseProps:d,getSelectorButtonProps:f,getInputProps:h,getListBoxProps:p,getPopoverProps:b,getEmptyPopoverProps:x,getClearButtonProps:y,getListBoxWrapperProps:v,getEndContentWrapperProps:j}=B1e({...t,ref:n}),S=p(),N=a?i.jsx(gV,{...b(),children:i.jsx(j$,{...v(),children:i.jsx(N$,{...S})})}):((r=S.state)==null?void 0:r.collection.size)===0?i.jsx("div",{...x()}):null;return i.jsxs(s,{...d(),children:[i.jsx(Ve,{...h(),endContent:i.jsxs("div",{...j(),children:[u||i.jsx(Se,{...y(),children:c}),i.jsx(Se,{...f(),children:l})]})}),o?N:i.jsx(zh,{children:N})]})}),Cr=z1e,$$={};$$.match=q1e;$$.parse=QK;var V1e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,W1e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,U1e=/^(?:(min|max)-)?(.+)/,K1e=/(em|rem|px|cm|mm|in|pt|pc)?$/,H1e=/(dpi|dpcm|dppx)?$/;function q1e(e,t){return QK(e).some(function(n){var r=n.inverse,s=n.type==="all"||t.type===n.type;if(s&&r||!(s||r))return!1;var a=n.expressions.every(function(o){var l=o.feature,c=o.modifier,u=o.value,d=t[l];if(!d)return!1;switch(l){case"orientation":case"scan":return d.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=P6(u),d=P6(d);break;case"resolution":u=A6(u),d=A6(d);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=E6(u),d=E6(d);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,d=parseInt(d,10)||0;break}switch(c){case"min":return d>=u;case"max":return d<=u;default:return d===u}});return a&&!r||!a&&r})}function QK(e){return e.split(",").map(function(t){t=t.trim();var n=t.match(V1e),r=n[1],s=n[2],a=n[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],o.expressions=a.map(function(l){var c=l.match(W1e),u=c[1].toLowerCase().match(U1e);return{modifier:u[1],feature:u[2],value:c[2]}}),o})}function E6(e){var t=Number(e),n;return t||(n=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=n[1]/n[2]),t}function A6(e){var t=parseFloat(e),n=String(e).match(H1e)[1];switch(n){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function P6(e){var t=parseFloat(e),n=String(e).match(K1e)[1];switch(n){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var G1e=$$.match,D6=typeof window<"u"?window.matchMedia:null;function Y1e(e,t,n){var r=this,s;D6&&!n&&(s=D6.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=G1e(e,t),this.media=e),this.addListener=a,this.removeListener=o,this.dispose=c;function a(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){r.matches=u.matches,r.media=u.media}function c(){s&&s.removeListener(l)}}function X1e(e,t,n){return new Y1e(e,t,n)}var Z1e=X1e;const J1e=rn(Z1e);var Q1e=/[A-Z]/g,ewe=/^ms-/,vj={};function twe(e){return"-"+e.toLowerCase()}function eH(e){if(vj.hasOwnProperty(e))return vj[e];var t=e.replace(Q1e,twe);return vj[e]=ewe.test(t)?"-"+t:t}function nwe(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),s=n.length;if(r.length!==s)return!1;for(let a=0;a<s;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}const xs=rt.oneOfType([rt.string,rt.number]),tH={all:rt.bool,grid:rt.bool,aural:rt.bool,braille:rt.bool,handheld:rt.bool,print:rt.bool,projection:rt.bool,screen:rt.bool,tty:rt.bool,tv:rt.bool,embossed:rt.bool},rwe={orientation:rt.oneOf(["portrait","landscape"]),scan:rt.oneOf(["progressive","interlace"]),aspectRatio:rt.string,deviceAspectRatio:rt.string,height:xs,deviceHeight:xs,width:xs,deviceWidth:xs,color:rt.bool,colorIndex:rt.bool,monochrome:rt.bool,resolution:xs,type:Object.keys(tH)},{type:Pct,...swe}=rwe,awe={minAspectRatio:rt.string,maxAspectRatio:rt.string,minDeviceAspectRatio:rt.string,maxDeviceAspectRatio:rt.string,minHeight:xs,maxHeight:xs,minDeviceHeight:xs,maxDeviceHeight:xs,minWidth:xs,maxWidth:xs,minDeviceWidth:xs,maxDeviceWidth:xs,minColor:rt.number,maxColor:rt.number,minColorIndex:rt.number,maxColorIndex:rt.number,minMonochrome:rt.number,maxMonochrome:rt.number,minResolution:xs,maxResolution:xs,...swe},iwe={...tH,...awe};var owe={all:iwe};const lwe=e=>`not ${e}`,cwe=(e,t)=>{const n=eH(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?lwe(n):`(${n}: ${t})`},uwe=e=>e.join(" and "),dwe=e=>{const t=[];return Object.keys(owe.all).forEach(n=>{const r=e[n];r!=null&&t.push(cwe(n,r))}),uwe(t)},fwe=m.createContext(void 0),hwe=e=>e.query||dwe(e),k6=e=>e?Object.keys(e).reduce((n,r)=>(n[eH(r)]=e[r],n),{}):void 0,nH=()=>{const e=m.useRef(!1);return m.useEffect(()=>{e.current=!0},[]),e.current},mwe=e=>{const t=m.useContext(fwe),n=()=>k6(e)||k6(t),[r,s]=m.useState(n);return m.useEffect(()=>{const a=n();nwe(r,a)||s(a)},[e,t]),r},pwe=e=>{const t=()=>hwe(e),[n,r]=m.useState(t);return m.useEffect(()=>{const s=t();n!==s&&r(s)},[e]),n},gwe=(e,t)=>{const n=()=>J1e(e,t||{},!!t),[r,s]=m.useState(n),a=nH();return m.useEffect(()=>{if(a){const o=n();return s(o),()=>{o&&o.dispose()}}},[e,t]),r},bwe=e=>{const[t,n]=m.useState(e.matches);return m.useEffect(()=>{const r=s=>{n(s.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},A0=(e,t,n)=>{const r=mwe(t),s=pwe(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const a=gwe(s,r),o=bwe(a);return nH(),m.useEffect(()=>{},[o]),m.useEffect(()=>()=>{a&&a.dispose()},[]),o},P0=({menuItems:e,activeItemName:t,setActiveItemName:n})=>i.jsx("nav",{className:" flex justify-evenly ",children:e.map((r,s)=>{const a=r.name===t;return i.jsx("button",{onClick:()=>{r.onClick,n(r.name)},className:"flex flex-col items-center justify-evenly pt-2  rounded-md text-gray-500 focus:outline-none                ","aria-label":r.name,style:{color:a?"#3B82F6":""},type:"button",children:i.jsxs(i.Fragment,{children:[r.icon,i.jsx("span",{className:"text-xs my-1 font-medium",children:r.name}),a&&i.jsx("div",{className:"bottom-0 h-[4px] mb-[1px] rounded-large mt-0.5 w-full bg-blue-500 rounded-t-md"})]})},s)})});function xwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const so=m.forwardRef(xwe);function ywe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const os=m.forwardRef(ywe);function vwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const E$=m.forwardRef(vwe);function wwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Hc=m.forwardRef(wwe);function Swe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const wi=m.forwardRef(Swe);function jwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const A$=m.forwardRef(jwe);function Cwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Nwe=m.forwardRef(Cwe);function $we({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Ewe=m.forwardRef($we);function Awe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const I6=m.forwardRef(Awe);function Pwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const D0=m.forwardRef(Pwe);function Dwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const Hh=m.forwardRef(Dwe);function kwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const P$=m.forwardRef(kwe);function Iwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Ji=m.forwardRef(Iwe);function Twe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Mwe=m.forwardRef(Twe);function Owe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const Lwe=m.forwardRef(Owe);function _we({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const Fwe=m.forwardRef(_we);function Rwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ad=m.forwardRef(Rwe);function Bwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const er=m.forwardRef(Bwe);function zwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const X1=m.forwardRef(zwe);function Vwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Wwe=m.forwardRef(Vwe);function Uwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Kwe=m.forwardRef(Uwe);function Hwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Z1=m.forwardRef(Hwe);function qwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const D$=m.forwardRef(qwe);function Gwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const al=m.forwardRef(Gwe);function Ywe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Xwe=m.forwardRef(Ywe);function Zwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const rH=m.forwardRef(Zwe);function Jwe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Qwe=m.forwardRef(Jwe);function e2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const t2e=m.forwardRef(e2e);function n2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const r2e=m.forwardRef(n2e);function s2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Mc=m.forwardRef(s2e);function a2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ma=m.forwardRef(a2e);function i2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const k$=m.forwardRef(i2e);function o2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Wr=m.forwardRef(o2e);function l2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const k0=m.forwardRef(l2e);function c2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const za=m.forwardRef(c2e);function u2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Zy=m.forwardRef(u2e);function d2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gi=m.forwardRef(d2e);function f2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const h2e=m.forwardRef(f2e);function m2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const hy=m.forwardRef(m2e);function p2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const g2e=m.forwardRef(p2e);function b2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ds=m.forwardRef(b2e);function x2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const U3=m.forwardRef(x2e);function y2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Ks=m.forwardRef(y2e);function v2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const il=m.forwardRef(v2e);function w2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const S2e=m.forwardRef(w2e);function j2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const C2e=m.forwardRef(j2e);function N2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const $2e=m.forwardRef(N2e);function E2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const K3=m.forwardRef(E2e);function A2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const I$=m.forwardRef(A2e);function P2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ao=m.forwardRef(P2e);function D2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Wo=m.forwardRef(D2e);function k2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sH=m.forwardRef(k2e);function I2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Pd=m.forwardRef(I2e);function T2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const M2e=m.forwardRef(T2e);function O2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))}const L2e=m.forwardRef(O2e);function _2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Jy=m.forwardRef(_2e);function F2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const T6=m.forwardRef(F2e);function R2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const M6=m.forwardRef(R2e);function B2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const z2e=m.forwardRef(B2e);function V2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const yg=m.forwardRef(V2e);function W2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const U2e=m.forwardRef(W2e);function K2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const xa=m.forwardRef(K2e);function H2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ls=m.forwardRef(H2e);function q2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const I0=m.forwardRef(q2e);function G2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const lh=m.forwardRef(G2e);function Y2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ya=m.forwardRef(Y2e),T0=({menuItems:e,selectedMenuItemName:t,expandedSubMenus:n})=>i.jsx("div",{className:"w-full px-2 sm:px-4 md:px-6",children:i.jsx("div",{className:"mx-auto max-w-3xl mt-3 rounded-full lg:max-w-xl",children:i.jsxs("nav",{className:"flex flex-col justify-start rounded-xl p-2 shadow-md border border-gray-200 overflow-hidden bg-gray-50/50",children:[" ",e.map((r,s)=>i.jsxs(Z.Fragment,{children:[i.jsxs("button",{onClick:r.onClick,className:`group relative flex items-center px-5 gap-3 py-3 w-full text-base font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 justify-start 
                              ${r.name===t?"bg-indigo-500 text-white shadow-md hover:bg-indigo-600":"text-gray-800 hover:bg-gray-50"}
                                          border-b-1.5

                                    first:rounded-t-lg last:rounded-b-lg
                              ${r.subMenu?"justify-between":""} `,"aria-current":r.name===t?"page":void 0,style:{borderBottom:s===e.length-1?"none":void 0},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`text-lg text-gray-600 group-hover:text-gray-700 ${r.name===t?"text-white":""} transition-colors duration-200`,children:r.icon}),i.jsx("span",{className:`text-base ${r.name===t?"font-semibold text-white":"font-medium text-gray-800 group-hover:text-gray-900"} transition-colors duration-200`,children:r.name})]}),r.subMenu&&i.jsx("span",{children:n.includes(r.name)?i.jsx(r2e,{className:"h-5 w-5 text-gray-600 group-hover:text-gray-700 transition-colors duration-200"}):i.jsx(rH,{className:"h-5 w-5 text-gray-600 group-hover:text-gray-700 transition-colors duration-200"})}),r.name===t&&i.jsx("span",{className:"absolute left-0 inset-y-0 w-1 bg-indigo-500 rounded-r-md","aria-hidden":"true"})]}),r.subMenu&&n.includes(r.name)&&i.jsx("div",{className:" pl-8 pr-2",children:r.subMenu.map((a,o)=>i.jsxs("button",{onClick:()=>{r.onSubMenuItemClick&&r.onSubMenuItemClick(a.name)},className:`group relative flex items-center px-5 gap-3 py-3 w-full text-base font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 justify-start
                                          ${a.name===t?"bg-indigo-500 text-white shadow-md hover:bg-indigo-600":"text-gray-700 hover:bg-gray-50"}

                                            border-b-1

                                                first:rounded-t-lg last:rounded-b-lg`,children:[i.jsx("span",{className:`text-lg text-gray-600 group-hover:text-gray-700 ${a.name===t?"text-white":""} transition-colors duration-200`,children:a.icon}),i.jsx("span",{className:`text-base ${a.name===t?"font-semibold text-white":"font-medium text-gray-800 group-hover:text-gray-900"} transition-colors duration-200`,children:a.name}),a.name===t&&i.jsx("span",{className:"absolute left-0 inset-y-0 w-1 bg-indigo-500 rounded-r-md","aria-hidden":"true"})]},o))})]},s))]})})}),M0=({title:e,onBack:t})=>i.jsxs("div",{className:"fixed top-0 bg-slate-200 shadow-md py-0.5 rounded-b-xl left-0 w-full z-10 flex items-center justify-start",children:[i.jsxs("button",{onClick:t,className:" px-3 py-2 pt-2.5 focus:outline-none",children:[" ",i.jsx(cge,{className:"h-5 w-5 text-gray-500 hover:text-gray-700"})]}),i.jsxs("h2",{className:"text-xl font-medium  text-gray-600 flex-1 text-center",children:[" ",e]}),i.jsx("div",{className:"w-10"})," "]});function Oc(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function Lc(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747"},child:[]},{tag:"path",attr:{d:"M20 4v5h-5"},child:[]}]})(e)}const mx=()=>et.getState().dbId,Hs=Gt((e,t)=>({facultyData:[],isLoading:!1,isFacultyLoading:!1,error:null,fetchFacultyData:async()=>{e({isLoading:!0,isFacultyLoading:!0,error:null});try{const n=mx,r="coll-faculty";if(!n||!r)throw new Error("Database and Faculty Collection IDs are not defined in environment variables.");const a=(await le.listDocuments(n,r)).documents;e({facultyData:a,isLoading:!1,isFacultyLoading:!1})}catch(n){console.error("Error fetching faculty data:",n),e({error:n.message||"Failed to fetch faculty data",isLoading:!1,isFacultyLoading:!1})}},updateFacultyData:async n=>{try{const r=mx,s="coll-faculty";if(!r||!s)throw new Error("Database and Faculty Collection IDs are not defined in environment variables.");await le.updateDocument(r,s,n.$id,{name:n.name,classes:n.classes,id:n.id}),e(a=>({facultyData:a.facultyData.map(o=>o.$id===n.$id?n:o)}))}catch(r){throw console.error("Error updating faculty data in Appwrite:",r),r}},deleteFacultyData:async n=>{try{const r=mx,s="coll-faculty";if(!r||!s)throw new Error("Database and Faculty Collection IDs are not defined in environment variables.");await le.deleteDocument(r,s,n),e(a=>({facultyData:a.facultyData.filter(o=>o.$id!==n)}))}catch(r){throw console.error("Error deleting faculty data in Appwrite:",r),r}},addFacultyData:async n=>{try{const r=mx,s="coll-faculty";if(!r||!s)throw new Error("Database and Faculty Collection IDs are not defined in environment variables.");const o=await le.createDocument(r,s,"unique()",n);e(l=>({facultyData:[...l.facultyData,o]}))}catch(r){throw console.error("Error adding faculty data in Appwrite:",r),r}}}));function X2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),m.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),m.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const Z2e=m.forwardRef(X2e);function J2e({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}))}const Q2e=m.forwardRef(J2e);function eSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const tSe=m.forwardRef(eSe);function nSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const vg=m.forwardRef(nSe);function rSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const sSe=m.forwardRef(rSe);function aSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const iSe=m.forwardRef(aSe);function oSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const J1=m.forwardRef(oSe);function lSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const cSe=m.forwardRef(lSe);function uSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const dSe=m.forwardRef(uSe);function fSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const cs=m.forwardRef(fSe);function hSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const mSe=m.forwardRef(hSe);function pSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Ai=m.forwardRef(pSe);function gSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm3 10.5a.75.75 0 0 0 0-1.5H9a.75.75 0 0 0 0 1.5h6Z",clipRule:"evenodd"}))}const aH=m.forwardRef(gSe);function bSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const qc=m.forwardRef(bSe);function xSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ch=m.forwardRef(xSe);function ySe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const H3=m.forwardRef(ySe);function vSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const yl=m.forwardRef(vSe);function wSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const SSe=m.forwardRef(wSe);function jSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const T$=m.forwardRef(jSe),Dd=({message:e})=>e?i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 mb-3 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error! "}),i.jsx("span",{className:"block sm:inline",children:e}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500"})})]}):null,Bn=({placeholder:e="Search...",value:t,onValueChange:n,className:r="",inputClassName:s="",startIconClassName:a=""})=>i.jsxs("div",{className:`relative ${r}`,children:[" ",i.jsx(Ve,{isClearable:!0,className:` sm:max-w sm:px-2 ${s}`,placeholder:e,startContent:i.jsx(il,{className:`w-5 h-5 text-default-400 pointer-events-none flex-shrink-0 ${a}`}),value:t,variant:"faded",onValueChange:n})]}),st=({icon:e,onClick:t,color:n="blue",isIconOnly:r=!0,isLoading:s=!1,className:a="",tooltipText:o="Action"})=>{let l=`bg-${n}-500 hover:bg-${n}-600`,c="text-white";switch(n){case"orange":l="bg-orange-400 hover:bg-orange-500";break;case"green":l="bg-[#17C964] hover:bg-[#12A150]";break;case"red":l="bg-red-500 hover:bg-red-600";break;case"default":l="bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600",c="text-gray-700 dark:text-gray-200";break}return i.jsx(Se,{className:`${r?"":"px-3"} ${l} ${c} shadow-md disabled:opacity-50 ${a}`,size:"sm",radius:"md",isIconOnly:r,onPress:t,isLoading:s,"aria-label":o,isDisabled:s,children:!s&&e})},CSe=()=>{let e=document.getElementById("popover-portal-root");return e||(e=document.createElement("div"),e.setAttribute("id","popover-portal-root"),document.body.appendChild(e)),e},vl=({isOpen:e,onClose:t,onConfirm:n,title:r,content:s,className:a="",isConfirmLoading:o=!1})=>{if(m.useEffect(()=>{const c=u=>{u.key==="Escape"&&e&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),!e)return null;const l=i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:t,children:i.jsxs("div",{className:`bg-white/90 rounded-lg shadow-xl w-full max-w-md p-5 md:p-6 relative overflow-hidden ${a}`,onClick:c=>c.stopPropagation(),children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[typeof r=="string"&&r.toLowerCase().includes("delete")&&i.jsx(cs,{className:"h-5 w-5 text-red-500 inline"}),r]}),i.jsx("div",{className:"mb-5 text-medium text-gray-600",children:s}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-4",children:[i.jsx(Se,{color:"default",variant:"flat",size:"md",onPress:t,className:"text-gray-700 w-full sm:w-auto",isDisabled:o,children:"Cancel"}),i.jsx(Se,{color:"danger",size:"md",onPress:n,className:"w-full sm:w-auto",isLoading:o,isDisabled:o,startContent:o?void 0:i.jsx(yl,{className:"h-5 w-5"}),children:o?"Confirming...":"Confirm"})]})]})});return c0.createPortal(l,CSe())},NSe=({facultyData:e,isLoading:t,onFacultySelect:n,onClearSelection:r})=>{const{updateFacultyData:s,deleteFacultyData:a,fetchFacultyData:o}=Hs(),{isOpen:l,onOpen:c,onClose:u}=Ei(),[d,f]=m.useState(null),[h,p]=m.useState(""),[b,x]=m.useState(""),[y,v]=m.useState(new Set([])),[j,S]=m.useState(null),[N,C]=m.useState(null),[$,P]=m.useState(null),[E,M]=m.useState(!1),k=O=>{f(O),p(O.name),x(O.classes.join(", ")),S(null),c()},A=async()=>{if(!d)return;if(S(null),!h.trim()){S("Faculty Name is required.");return}if(!b.trim()){S("Classes are required.");return}const O={...d,name:h,classes:b.split(",").map(_=>_.trim()).filter(_=>_!=="")};try{await s(O),u(),v(new Set([])),n(null)}catch(_){console.error("FacultyTable: Error updating faculty data:",_),S(_.message||"Failed to update faculty.")}},I=O=>{P(O),M(!0)},L=()=>{M(!1),P(null)},R=async()=>{if($)try{await a($.$id),M(!1),P(null),v(new Set([])),n(null)}catch(O){console.error("FacultyTable: Error deleting faculty data:",O),alert(`Error deleting faculty: ${O.message||"Unknown error"}`),M(!1),P(null)}},F=O=>{let _=new Set;if(O&&(typeof O=="string"?_.add(O):O instanceof Set&&(_=O)),v(_),_.size>0){const W=e.find(z=>_.has(z.$id));n(W||null)}else n(null),v(new Set([]))},T=m.useCallback(()=>{v(new Set([]))},[]);return m.useEffect(()=>{r&&r(T)},[r,T]),m.useEffect(()=>{},[e,t]),t?i.jsx("div",{className:" h-52 flex items-center justify-center",children:i.jsx(ct,{size:"lg",label:"Loading Data..."})}):i.jsxs("div",{className:"mt-4 flow-root md:px-0 lg:px-8",children:[i.jsx("div",{className:" -my-2 overflow-x-auto  lg:-mx-8",children:i.jsx("div",{className:"inline-block min-w-full pt-2 align-middle",children:i.jsxs(ah,{isHeaderSticky:!0,isCompact:!0,"aria-label":"Faculty Table",selectionMode:"single",selectedKeys:y,onSelectionChange:F,color:"secondary",className:"min-w-full divide-y divide-gray-300",classNames:{},children:[i.jsxs(ih,{children:[i.jsx(wn,{children:"Name"},"name"),i.jsx(wn,{children:"Classes"},"classes"),i.jsx(wn,{align:"center",children:"Actions"},"actions")]}),i.jsx(oh,{children:e.length>0?e.map(O=>i.jsxs(Ic,{children:[i.jsx(Xt,{children:O.name}),i.jsx(Xt,{children:O.classes.length}),i.jsxs(Xt,{className:"flex justify-center gap-2",children:[i.jsx(Vs,{content:"Edit",showArrow:!0,color:"warning",placement:"top",className:"bg-warning-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>k(O),"aria-label":"Edit Faculty",children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",showArrow:!0,color:"danger",placement:"top",className:"bg-danger-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>I(O),"aria-label":"Delete Faculty",children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})})]})]},O.$id)):i.jsxs(Ic,{children:[i.jsx(Xt,{className:"text-center",children:i.jsx(i.Fragment,{})}),i.jsx(Xt,{className:" text-gray-500 p-5 text-center text-medium",children:" No Data Found"}),i.jsx(Xt,{className:"text-center",children:i.jsx(i.Fragment,{})})]})})]})})}),i.jsx(vl,{isOpen:E,onClose:L,onConfirm:R,title:"Confirm Delete",content:$?`Are you sure you want to delete faculty member: ${$.name}?`:""}),i.jsxs(We,{isOpen:l,onClose:u,position:"right",size:"md",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Faculty"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[j&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline",children:j}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Ve,{id:"faculty-name",type:"text",color:"secondary",label:"Name",variant:"underlined",value:h,className:"font-medium",isRequired:!0,onChange:O=>{p(O.target.value),S(null)}}),i.jsx(Ve,{id:"faculty-classes",type:"text",color:"secondary",label:"Classes (comma-separated)",variant:"underlined",value:b,className:"font-medium",isRequired:!0,onChange:O=>{x(O.target.value),S(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:u,children:"Close"}),i.jsx(Se,{color:"success",onPress:A,className:"text-white font-medium",children:"Save"})]})]})]})},O6=({isMobile:e,onFacultySelect:t,facultyData:n,isLoading:r})=>{const{addFacultyData:s,fetchFacultyData:a}=Hs(),[o,l]=m.useState(""),c=k=>{l(k)},[u,d]=m.useState(""),{isOpen:f,onOpen:h,onClose:p}=Ei(),[b,x]=m.useState(""),[y,v]=m.useState(""),[j,S]=m.useState(null),[N,C]=m.useState(null),$=()=>{h()},P=()=>{a()},E=async()=>{if(S(null),!b.trim()){S("Faculty Name is required.");return}if(!y.trim()){S("Classes are required.");return}const k=y.split(",").map(I=>I.trim()).filter(I=>I!==""),A={name:b,classes:k,id:Math.random().toString(36).substring(2,15)};try{await s(A),p(),x(""),v("")}catch(I){S(I.message||"Failed to add faculty.")}},M=o?n.filter(k=>k.name.toLowerCase().includes(o.toLowerCase())):n;return i.jsxs("div",{className:" md:w-full w-full md:p-2 ",children:[u&&i.jsx(Dd,{message:u}),i.jsxs("div",{className:"flex justify-between items-center gap-4 mt-1 mx-3 md:px-0",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:$,color:"orange","aria-label":"Add Faculty"}),i.jsx(Bn,{placeholder:"Search faculty members...",value:o,onValueChange:c}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:P,"aria-label":"Refresh Faculty List"})]}),i.jsx(NSe,{facultyData:M,isLoading:r,onFacultySelect:t,onClearSelection:k=>C(()=>k)}),i.jsxs(We,{isOpen:f,onClose:p,position:"right",nonDismissable:!0,size:"md",children:[i.jsx(We.Header,{showCloseButton:!0,children:"Add New Faculty"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[j&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline",children:j}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Ve,{id:"add-faculty-name",type:"text",label:"Faculty Name",variant:"underlined",value:b,isRequired:!0,color:"secondary",className:"font-medium",onChange:k=>{x(k.target.value),S(null)}}),i.jsx(Ve,{id:"add-faculty-classes",type:"text",variant:"underlined",label:"Classes (comma-separated)",value:y,isRequired:!0,color:"secondary",className:"font-medium",onChange:k=>{v(k.target.value),S(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:p,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:E,className:"text-white font-medium",children:"Save"})]})]})]})},L6=({faculty:e,onBack:t})=>e?i.jsxs("div",{className:" px-6 pt-3 rounded-md flex flex-col h-full",children:[t&&i.jsx("div",{className:"mb-6",children:i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",children:"Back to List"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 border-b pb-2",children:e.name}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("strong",{className:"block font-medium text-gray-700 mb-2",children:"Classes:"}),i.jsx("ul",{className:"list-disc list-inside pl-5",children:e.classes.map((n,r)=>i.jsx("li",{className:"text-gray-900",children:n},r))})]})})]}):null,q3=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{facultyData:o,fetchFacultyData:l,isLoading:c}=Hs();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const f=()=>{t(window.innerWidth<768)};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]);const u=f=>{r(f),a(e?!!f:!1)},d=()=>{a(!1),r(null)};return m.useEffect(()=>{},[e,s,n]),i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsxs($t,{options:{suppressScrollX:!0},children:[i.jsx(L6,{faculty:n,onBack:d})," "]})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl  overflow-hidden",children:i.jsx(O6,{isMobile:e,onFacultySelect:u,facultyData:o,isLoading:c})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsxs($t,{options:{suppressScrollX:!0},children:[i.jsx(O6,{isMobile:e,onFacultySelect:u,facultyData:o,isLoading:c})," "]})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(L6,{faculty:n}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a faculty member to view details."})})})})]})})},px=()=>et.getState().dbId,wl=Gt((e,t)=>({sectionData:[],isLoading:!1,error:null,fetchSectionData:async()=>{e({isLoading:!0,error:null});try{const n=px,r="coll-section";if(!n||!r)throw new Error("Database and Section Collection IDs are not defined in environment variables.");const a=(await le.listDocuments(n,r)).documents;e({sectionData:a,isLoading:!1})}catch(n){console.error("Error fetching section data:",n),e({error:n.message||"Failed to fetch section data",isLoading:!1})}},updateSectionData:async n=>{try{const r=px,s="coll-section";if(!r||!s)throw new Error("Database and Section Collection IDs are not defined in environment variables.");await le.updateDocument(r,s,n.$id,{name:n.name,subjects:n.subjects,class:n.class,facultyId:n.facultyId,id:n.id}),e(a=>({sectionData:a.sectionData.map(o=>o.$id===n.$id?n:o)}))}catch(r){throw console.error("Error updating section data in Appwrite:",r),r}},deleteSectionData:async n=>{try{const r=px,s="coll-section";if(!r||!s)throw new Error("Database and Section Collection IDs are not defined in environment variables.");await le.deleteDocument(r,s,n),e(a=>({sectionData:a.sectionData.filter(o=>o.$id!==n)}))}catch(r){throw console.error("Error deleting section data in Appwrite:",r),r}},addSectionData:async n=>{try{const r=px,s="coll-section";if(!r||!s)throw new Error("Database and Section Collection IDs are not defined in environment variables.");const o=await le.createDocument(r,s,"unique()",n);e(l=>({sectionData:[...l.sectionData,o]}))}catch(r){throw console.error("Error adding section data in Appwrite:",r),r}}})),$Se=({sectionData:e,isLoading:t,onSectionSelect:n,onClearSelection:r,facultyData:s,isFacultyLoading:a})=>{const{updateSectionData:o,deleteSectionData:l,fetchSectionData:c}=wl(),{fetchFacultyData:u}=Hs(),{isOpen:d,onOpen:f,onClose:h}=Ei(),[p,b]=m.useState(null),[x,y]=m.useState(""),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(""),[P,E]=m.useState(new Set([])),[M,k]=m.useState(null),[A,I]=m.useState(null),[L,R]=m.useState(null),[F,T]=m.useState(!1),[O,_]=m.useState([]),[W,z]=m.useState([]);m.useEffect(()=>{if(!a){if(p&&s.length>0){const Q=s.find(K=>K.classes.includes(p.class));$((Q==null?void 0:Q.$id)||"")}_(s.map(Q=>({key:Q.$id,label:Q.name})))}},[p,s,a]),m.useEffect(()=>{var Q;z(C?(((Q=s.find(K=>K.$id===C))==null?void 0:Q.classes)??[]).map(K=>({key:K,label:K})):[])},[C,s]);const U=Q=>{b(Q),y(Q.name),j(Q.subjects.join(", ")),N(Q.class),$(Q.facultyId||""),k(null),f()},H=async()=>{if(!p)return;if(k(null),!x.trim()){k("Section Name is required.");return}if(!v.trim()){k("Subjects are required.");return}if(!S.trim()){k("Class is required.");return}if(!C){k("Faculty is required to select class.");return}const Q={...p,name:x,subjects:v.split(",").map(K=>K.trim()).filter(K=>K!==""),class:S,facultyId:C};try{await o(Q),h(),E(new Set([])),n(null)}catch(K){console.error("Error updating section data:",K),k(K.message||"Failed to update section.")}},B=Q=>{R(Q),T(!0)},Y=()=>{T(!1),R(null)},ae=async()=>{if(L)try{await l(L.$id),T(!1),R(null),E(new Set([])),n(null)}catch(Q){console.error("Error deleting section data:",Q),alert(`Error deleting section: ${Q.message||"Unknown error"}`),T(!1),R(null)}},ce=Q=>{let K=new Set;if(Q&&(typeof Q=="string"?K.add(Q):Q instanceof Set&&(K=Q)),E(K),K.size>0){const ne=e.find(te=>K.has(te.$id));n(ne||null)}else n(null),E(new Set([]))},oe=m.useCallback(()=>{E(new Set([]))},[]);return m.useEffect(()=>{r&&r(oe)},[r,oe]),t||a?i.jsx("div",{className:" h-52 flex items-center justify-center",children:i.jsx(ct,{size:"lg",label:"Loading Data..."})}):i.jsxs("div",{className:"mt-4 flow-root md:px-0 lg:px-8",children:[i.jsx("div",{className:" -my-2 overflow-x-auto  lg:-mx-8",children:i.jsx("div",{className:"inline-block min-w-full pt-2 align-middle",children:i.jsxs(ah,{isHeaderSticky:!0,isCompact:!0,"aria-label":"Section Table",selectionMode:"single",selectedKeys:P,onSelectionChange:ce,color:"secondary",className:"min-w-full divide-y divide-gray-300",children:[i.jsxs(ih,{children:[i.jsx(wn,{children:"Name"},"name"),i.jsx(wn,{children:"Class"},"class"),i.jsx(wn,{children:"Subjects"},"subjects"),i.jsx(wn,{align:"center",children:"Actions"},"actions")]}),i.jsx(oh,{children:e.length>0?e.map(Q=>i.jsxs(Ic,{children:[i.jsx(Xt,{children:Q.name}),i.jsx(Xt,{children:Q.class}),i.jsx(Xt,{children:Q.subjects.length}),i.jsxs(Xt,{className:"flex justify-center gap-2",children:[i.jsx(Vs,{content:"Edit",showArrow:!0,color:"warning",placement:"top",className:"bg-warning-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>U(Q),"aria-label":"Edit Section",children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",showArrow:!0,color:"danger",placement:"top",className:"bg-danger-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>B(Q),"aria-label":"Delete Section",children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})})]})]},Q.$id)):i.jsxs(Ic,{children:[i.jsx(Xt,{className:"text-center",children:i.jsx(i.Fragment,{})}),i.jsxs(Xt,{className:" text-gray-500 p-5 text-center text-medium",children:[" ","No Data Found"]}),i.jsx(Xt,{className:"text-center",children:i.jsx(i.Fragment,{})}),i.jsx(Xt,{className:"text-center",children:i.jsx(i.Fragment,{})})]})})]})})}),i.jsx(vl,{isOpen:F,onClose:Y,onConfirm:ae,title:"Confirm Delete",content:L?`Are you sure you want to delete section: ${L.name}?`:""}),i.jsxs(We,{isOpen:d,onClose:h,position:"right",size:"md",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Section"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[M&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline",children:M}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Cr,{label:"Faculty",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:C,onSelectionChange:Q=>{$(Q?Q.toString():""),N(""),k(null),z([])},items:O,onInputChange:Q=>{const K=s.filter(ne=>ne.name.toLowerCase().includes(Q.toLowerCase())).map(ne=>({key:ne.$id,label:ne.name}));_(K)},children:Q=>i.jsx(bn,{children:Q.label},Q.key)}),i.jsx(Cr,{label:"Class",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:S,onSelectionChange:Q=>{N(Q?Q.toString():""),k(null)},disabled:!C,items:W,onInputChange:Q=>{var te;const ne=(C?((te=s.find(X=>X.$id===C))==null?void 0:te.classes)??[]:[]).filter(X=>X.toLowerCase().includes(Q.toLowerCase())).map(X=>({key:X,label:X}));z(ne)},children:Q=>i.jsx(bn,{children:Q.label},Q.key)}),i.jsx(Ve,{id:"section-name",type:"text",color:"secondary",label:"Name",variant:"underlined",value:x,className:"font-medium",isRequired:!0,onChange:Q=>{y(Q.target.value),k(null)},errorMessage:M&&!x?"Section Name is required":"",isInvalid:!!(M&&!x)}),i.jsx(Ve,{id:"section-subjects",type:"text",color:"secondary",label:"Subjects (comma-separated)",variant:"underlined",value:v,className:"font-medium",isRequired:!0,onChange:Q=>{j(Q.target.value),k(null)},errorMessage:M&&!v?"Subjects are required":"",isInvalid:!!(M&&!v)})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:h,children:"Close"}),i.jsx(Se,{color:"success",onPress:H,className:"text-white font-medium",children:"Save"})]})]})]})},_6=({isMobile:e,onSectionSelect:t,sectionData:n,isLoading:r})=>{const{addSectionData:s,fetchSectionData:a}=wl(),{facultyData:o,fetchFacultyData:l,isFacultyLoading:c}=Hs(),[u,d]=m.useState(""),f=K=>{d(K)},[h,p]=m.useState(""),{isOpen:b,onOpen:x,onClose:y}=Ei(),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(""),[P,E]=m.useState(""),[M,k]=m.useState(null),[A,I]=m.useState(null),[L,R]=m.useState(""),[F,T]=m.useState(""),[O,_]=m.useState([]),[W,z]=m.useState([]),[U,H]=m.useState([]),[B,Y]=m.useState([]);m.useEffect(()=>{l()},[l]),m.useEffect(()=>{_(o.map(K=>({key:K.$id,label:K.name}))),H(o.map(K=>({key:K.$id,label:K.name})))},[o]),m.useEffect(()=>{var K,ne;z(L?(((K=o.find(te=>te.$id===L))==null?void 0:K.classes)??[]).map(te=>({key:te,label:te})):[]),Y(P?(((ne=o.find(te=>te.$id===P))==null?void 0:ne.classes)??[]).map(te=>({key:te,label:te})):[])},[L,P,o]);const ae=()=>{x()},ce=()=>{a()},oe=async()=>{if(k(null),!v.trim()){k("Section Name is required.");return}if(!S.trim()){k("Subjects are required.");return}if(!C.trim()){k("Class is required.");return}if(!P){k("Faculty is required to select class.");return}const K=S.split(",").map(te=>te.trim()).filter(te=>te!==""),ne={name:v,subjects:K,class:C,facultyId:P,id:Math.random().toString(36).substring(2,15)};try{await s(ne),y(),j(""),N(""),$(""),E("")}catch(te){console.error("Error adding section data:",te),k(te.message||"Failed to add section.")}},Q=m.useMemo(()=>{let K=n;return u&&(K=K.filter(ne=>ne.name.toLowerCase().includes(u.toLowerCase()))),L&&(K=K.filter(ne=>ne.facultyId===L)),F&&(K=K.filter(ne=>ne.class===F)),K},[n,u,L,F]);return i.jsxs("div",{className:" md:w-full w-full md:p-2 ",children:[h&&i.jsx(Dd,{message:h}),i.jsxs("div",{className:"top",children:[i.jsxs("div",{className:"flex justify-between items-center gap-4 mt-1 mx-3 md:px-0",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:ae,color:"orange","aria-label":"Add Section"}),i.jsx(Bn,{placeholder:"Search sections...",value:u,onValueChange:f}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:ce,"aria-label":"Refresh Section List"})]}),i.jsxs("div",{className:"filter flex pt-3 px-3 gap-3 justify-center",children:[i.jsx(Cr,{placeholder:"Faculty",className:" max-w-[15rem]",variant:"faded",selectedKey:L,onSelectionChange:K=>{var ne;R(K?K.toString():""),T(""),z(K?(((ne=o.find(te=>te.$id===K))==null?void 0:ne.classes)??[]).map(te=>({key:te,label:te})):[])},items:O,onInputChange:K=>{const ne=o.filter(te=>te.name.toLowerCase().includes(K.toLowerCase())).map(te=>({key:te.$id,label:te.name}));_(ne)},children:K=>i.jsx(bn,{children:K.label},K.key)}),i.jsx(Cr,{placeholder:"Class",className:" max-w-[15rem]",variant:"faded",selectedKey:F,onSelectionChange:K=>{T(K?K.toString():"")},disabled:!L,items:W,onInputChange:K=>{var X;const te=(L?((X=o.find(xe=>xe.$id===L))==null?void 0:X.classes)??[]:[]).filter(xe=>xe.toLowerCase().includes(K.toLowerCase())).map(xe=>({key:xe,label:xe}));z(te)},children:K=>i.jsx(bn,{children:K.label},K.key)})]})]}),i.jsx($Se,{sectionData:Q,isLoading:r,onSectionSelect:t,onClearSelection:K=>I(()=>K),facultyData:o,isFacultyLoading:c}),i.jsxs(We,{isOpen:b,onClose:y,position:"right",size:"md",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Add New Section"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-2 px-4",children:[M&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline",children:M}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Cr,{label:"Faculty",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:P,onSelectionChange:K=>{E(K?K.toString():""),$(""),k(null),Y([])},errorMessage:M&&!P?"Faculty is required":"",isInvalid:!!(M&&!P),items:U,onInputChange:K=>{const ne=o.filter(te=>te.name.toLowerCase().includes(K.toLowerCase())).map(te=>({key:te.$id,label:te.name}));H(ne)},children:K=>i.jsx(bn,{children:K.label},K.key)}),i.jsx(Cr,{label:"Class",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:C,onSelectionChange:K=>{$(K?K.toString():""),k(null)},disabled:!P,errorMessage:M&&!C?"Class is required":"",isInvalid:!!(M&&!C),items:B,onInputChange:K=>{var X;const te=(P?((X=o.find(xe=>xe.$id===P))==null?void 0:X.classes)??[]:[]).filter(xe=>xe.toLowerCase().includes(K.toLowerCase())).map(xe=>({key:xe,label:xe}));Y(te)},children:K=>i.jsx(bn,{children:K.label},K.key)}),i.jsx(Ve,{id:"add-section-name",type:"text",label:"Section Name",variant:"underlined",value:v,isRequired:!0,color:"secondary",className:"font-medium",onChange:K=>{j(K.target.value),k(null)},errorMessage:M&&!v?"Section Name is required":"",isInvalid:!!(M&&!v)}),i.jsx(Ve,{id:"add-section-subjects",type:"text",variant:"underlined",label:"Subjects (comma-separated)",value:S,isRequired:!0,color:"secondary",className:"font-medium",onChange:K=>{N(K.target.value),k(null)},errorMessage:M&&!S?"Subjects are required":"",isInvalid:!!(M&&!S)})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:y,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:oe,className:" text-white font-medium",children:"Save"})]})]})]})},F6=({section:e,onBack:t})=>{var s;const{facultyData:n}=Hs();if(!e)return null;const r=e.facultyId?(s=n.find(a=>a.$id===e.facultyId))==null?void 0:s.name:"N/A";return i.jsxs("div",{className:" px-6 pt-3 rounded-md flex flex-col h-full",children:[t&&i.jsx("div",{className:"mb-6",children:i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",children:"Back to List"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1 border-b pb-2",children:e.name}),i.jsxs("h3",{className:"text-lg text-gray-700 mb-4 italic",children:["Class: ",e.class," ",r?`(Faculty: ${r})`:""]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("strong",{className:"block font-medium text-gray-700 mb-2",children:"Subjects:"}),i.jsx("ul",{className:"list-disc list-inside pl-5",children:e.subjects.map((a,o)=>i.jsx("li",{className:"text-gray-900",children:a},o))})]})})]})},iH=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{sectionData:o,fetchSectionData:l,isLoading:c}=wl();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const f=()=>{t(window.innerWidth<768)};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]);const u=f=>{r(f),a(e?!!f:!1)},d=()=>{a(!1),r(null)};return i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(F6,{section:n,onBack:d})})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl  overflow-hidden",children:i.jsx(_6,{isMobile:e,onSectionSelect:u,sectionData:o,isLoading:c})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(_6,{isMobile:e,onSectionSelect:u,sectionData:o,isLoading:c})})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(F6,{section:n}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a section to view details."})})})})]})})},Wm=()=>et.getState().dbId,ESe="https://back.soraddynamics.com",O0=Gt((e,t)=>({parentData:[],isLoading:!1,error:null,fetchParentData:async()=>{e({isLoading:!0,error:null});try{const n=Wm,r="coll-parent";if(!n||!r)throw new Error("Parent Store: DB/Collection ID missing.");const a=(await le.listDocuments(n,r,[J.limit(5e3)])).documents;e({parentData:a,isLoading:!1})}catch(n){console.error("Parent Store: Error fetching parent data:",n),e({error:n.message||"Failed to fetch parents",isLoading:!1})}},addParentData:async(n,r)=>{e({isLoading:!0,error:null});try{const s=Wm,a="coll-parent";if(!s||!a)throw new Error("Parent Store: DB/Collection ID missing.");const o={...n,id:r,students:[]},c=await le.createDocument(s,a,dn.unique(),o);return e(u=>({parentData:[...u.parentData,c],isLoading:!1})),c}catch(s){return console.error("Parent Store: Error adding parent data:",s),e({error:s.message||"Failed to add parent document",isLoading:!1}),null}},updateParentData:async(n,r)=>{e({error:null});try{const s=Wm,a="coll-parent";if(!s||!a)throw new Error("Parent Store: DB/Collection ID missing.");const l=await le.getDocument(s,a,n),c=Array.isArray(l.students)?l.students:[];if(c.includes(r))return console.warn(`Parent Store: Student ${r} already in parent ${n}'s list.`),t().parentData.find(h=>h.$id===n)||null;const u=[...c,r],f=await le.updateDocument(s,a,n,{students:u});return e(h=>({parentData:h.parentData.map(p=>p.$id===n?f:p)})),f}catch(s){return console.error(`Parent Store: Error updating parent ${n} students array:`,s),e({error:s.message||"Failed to update parent students array"}),null}},updateParentDetails:async(n,r)=>{e({error:null});try{const s=Wm,a="coll-parent";if(!s||!a)throw new Error("Parent Store: DB/Collection ID missing.");if(Object.keys(r).length===0)return console.warn("Parent Store: updateParentDetails called with empty data."),t().parentData.find(c=>c.$id===n)||null;const l=await le.updateDocument(s,a,n,r);return e(c=>({parentData:c.parentData.map(u=>u.$id===n?l:u)})),l}catch(s){throw console.error(`Parent Store: Error updating parent details for ${n}:`,s),e({error:s.message||"Failed to update parent details"}),s}},handleParentOnStudentDelete:async(n,r)=>{e({error:null});const s=Wm,a="coll-parent";if(!s)return console.error("Parent Store Error: Missing DB/Collection ID configuration."),e({error:"Server configuration error (Parent Store)."}),!1;try{const l=await le.getDocument(s,a,n),c=l.id,u=Array.isArray(l.students)?l.students:[];if(!u.includes(r))return console.warn(`Parent Store: Parent ${n} list does not contain student ${r}. Assuming handled.`),!0;if(u.length===1){if(await le.deleteDocument(s,a,n),c){const d=await fetch(`${ESe}/api/users/delete/${c}`,{method:"DELETE"});if(!d.ok){const f=await d.json().catch(()=>({}));console.warn(`Parent Store: Backend failed to delete parent user ${c}: ${f.message||"Unknown"}`)}}else console.warn(`Parent Store: Cannot delete Parent User for ${n}, User ID missing.`);e(d=>({parentData:d.parentData.filter(f=>f.$id!==n)}))}else{const d=u.filter(p=>p!==r),h=await le.updateDocument(s,a,n,{students:d});e(p=>({parentData:p.parentData.map(b=>b.$id===n?h:b)}))}return!0}catch(o){console.error(`Parent Store: Error handling parent logic (Parent: ${n}, Student: ${r}):`,o);let l="Failed to handle parent update/deletion.";return o.code===404?(l=`Parent document ${n} not found.`,console.warn(l),e(c=>({parentData:c.parentData.filter(u=>u.$id!==n)})),!0):(o.message&&(l=o.message),e({error:l}),!1)}}})),ASe="https://back.soraddynamics.com",PSe=()=>et.getState().dbId,gx=PSe,Gc=Gt((e,t)=>({studentData:[],isLoading:!1,error:null,fetchStudentData:async()=>{e({isLoading:!0,error:null});try{const n=gx,r="coll-student";if(!n||!r)throw new Error("Student Store: DB/Collection ID missing.");const a=(await le.listDocuments(n,r,[J.limit(5e3)])).documents;e({studentData:a,isLoading:!1})}catch(n){e({error:n.message||"Failed to fetch students",isLoading:!1})}},addStudentData:async(n,r)=>{e({isLoading:!0,error:null});try{const s=gx,a="coll-student";if(!s||!a)throw new Error("Student Store: DB/Collection ID missing.");const o={...n,id:r},c=await le.createDocument(s,a,dn.unique(),o);return e(u=>({studentData:[...u.studentData,c],isLoading:!1})),c}catch(s){return console.error("Student Store: Error adding student data:",s),e({error:s.message||"Failed to add student document",isLoading:!1}),null}},updateStudentData:async(n,r)=>{e({error:null});try{const s=gx,a="coll-student";if(!s||!a)throw new Error("Student Store: DB/Collection ID missing.");if(Object.keys(r).length===0)return console.warn("Student Store: updateStudentData called with empty data."),t().studentData.find(c=>c.$id===n)||null;const l=await le.updateDocument(s,a,n,r);return e(c=>({studentData:c.studentData.map(u=>u.$id===n?l:u)})),l}catch(s){throw console.error(`Student Store: Error updating student document ${n}:`,s),e({error:s.message||"Failed to update student details"}),s}},deleteStudentData:async n=>{e({error:null});const r=gx,s="coll-student";if(!r){const c="Student Store Error: Missing DB/Collection ID configuration.";throw console.error(c),e({error:c}),new Error(c)}let a=null,o=null;const l=t().studentData.find(c=>c.$id===n);try{const c=l??await le.getDocument(r,s,n);if(a=c.id,o=c.parentId,!a||!o)throw new Error(`Student document ${n} data is incomplete.`);if(!await O0.getState().handleParentOnStudentDelete(o,n))throw new Error(`Student Store: Parent store failed to handle parent ${o}.`);await le.deleteDocument(r,s,n);const d=await fetch(`${ASe}/api/users/delete/${a}`,{method:"DELETE"});if(!d.ok){const f=await d.json().catch(()=>({}))}e(f=>({studentData:f.studentData.filter(h=>h.$id!==n)}))}catch(c){console.error(`Student Store: Error during deletion process for student ${n}:`,c);let u=`Failed to delete student ${n}.`;throw c.code===404?(u=`Student document ${n} not found.`,console.warn(u),e(d=>({studentData:d.studentData.filter(f=>f.$id!==n)}))):c.message&&(u=c.message),e({error:u}),new Error(u)}}})),M$=({columns:e,data:t,getRowKey:n,isLoading:r=!1,emptyContent:s="No data available.",renderCell:a,selectionMode:o="none",selectedKeys:l=new Set,onSelectionChange:c,maxHeight:u,className:d="",tableClassName:f="min-w-full border-collapse text-gray-800",headerClassName:h="bg-gray-100 border-b-2 border-gray-300",bodyClassName:p="bg-white",rowClassName:b,cellClassName:x="px-4 py-2 text-sm text-gray-700 whitespace-nowrap",headerCellClassName:y="px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",onRowClick:v})=>{const j=m.useCallback($=>{if(v&&v($),o==="none"||!c)return;const P=n($),E=new Set(l);o==="single"?(E.clear(),E.add(P)):E.has(P)?E.delete(P):E.add(P),c(E)},[v,o,l,c,n]),S=$=>$==="center"?"text-center":$==="right"?"text-right":"text-left",N=m.useMemo(()=>i.jsxs("table",{className:`${f} w-full`,children:[i.jsx("thead",{className:`sticky top-0 z-10 ${h}`,children:i.jsx("tr",{children:e.map($=>i.jsx("th",{className:`${y} ${S($.align)} ${$.headerClassName||""}`,style:{minWidth:$.minWidth},children:$.label},$.key))})}),i.jsx("tbody",{className:p,children:r?i.jsx("tr",{children:i.jsx("td",{colSpan:e.length,className:"h-40 text-center",children:i.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-500",children:[i.jsx(ct,{size:"md"}),i.jsx("span",{children:"Loading data..."})]})})}):t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:e.length,className:"h-40 text-center text-gray-500",children:s})}):t.map($=>{const P=n($),E=l.has(P),M=typeof b=="function"?b($,E):b;return i.jsx("tr",{onClick:()=>j($),className:`cursor-pointer transition-colors duration-200 borde border-gray-300
                ${E?"bg-blue-100":"hover:bg-gray-200"}
                ${M||""}`,children:e.map(k=>i.jsx("td",{className:`${x} ${S(k.align)} ${k.cellClassName||""}`,style:{minWidth:k.minWidth},children:a($,k.key)},`${P}-${k.key}`))},P)})})]}),[e,t,n,r,s,a,o,l,f,h,p,b,x,y,j,S]),C=!!u;return i.jsx("div",{className:`overflow-hidden ${d}`,children:C?i.jsx($t,{style:{maxHeight:u},className:"relative",children:N}):i.jsx("div",{className:"overflow-x-auto",children:N})})},DSe=[{key:"name",label:"Name"},{key:"class",label:"Class"},{key:"section",label:"Section"},{key:"parentName",label:"Parent Name"},{key:"actions",label:"Actions",align:"center"}],kSe=({studentData:e,isLoading:t,onStudentSelect:n,onClearSelection:r,facultyData:s,parentData:a})=>{const{sectionData:o,fetchSectionData:l}=wl(),c=10,{updateStudentData:u,fetchStudentData:d,deleteStudentData:f}=Gc(),{updateParentDetails:h,fetchParentData:p}=O0(),{isOpen:b,onOpen:x,onClose:y}=Ei(),[v,j]=m.useState(null),[S,N]=m.useState(null),[C,$]=m.useState(""),[P,E]=m.useState(""),[M,k]=m.useState(""),[A,I]=m.useState(""),[L,R]=m.useState(""),[F,T]=m.useState(""),[O,_]=m.useState(""),[W,z]=m.useState(null),[U,H]=m.useState(!1),[B,Y]=m.useState(new Set([])),[ae,ce]=m.useState(null),[oe,Q]=m.useState(!1),[K,ne]=m.useState(!1),[te,X]=m.useState([]),[xe,$e]=m.useState([]),[Ne,Le]=m.useState([]);m.useEffect(()=>{l()},[l]),m.useEffect(()=>{X(s.map(ie=>({key:ie.$id,label:ie.name})))},[s]),m.useEffect(()=>{var ie,he;$e(F?((he=(ie=s.find(ke=>ke.$id===F))==null?void 0:ie.classes)==null?void 0:he.map(ke=>({key:ke,label:ke})))??[]:[])},[F,s]),m.useEffect(()=>{Le(o.filter(ie=>ie.facultyId===F&&ie.class===M).map(ie=>({key:ie.$id,label:ie.name})))},[F,M,o]);const we=m.useCallback(ie=>{var ke,Be;if(K)return;j(ie),$(ie.name),k(ie.class),I(ie.section||""),T(ie.facultyId),z(null),H(!1);const he=a.find(qe=>qe.$id===ie.parentId);he?(N(he),E(he.name??""),R(he.email??""),_(he.contact?he.contact.join(", "):"")):(console.warn(`Parent with ID ${ie.parentId} not found for student ${ie.name}`),N(null),E(""),R(""),_("")),$e(ie.facultyId?((Be=(ke=s.find(qe=>qe.$id===ie.facultyId))==null?void 0:ke.classes)==null?void 0:Be.map(qe=>({key:qe,label:qe})))??[]:[]),Le(o.filter(qe=>qe.facultyId===ie.facultyId&&qe.class===ie.class).map(qe=>({key:qe.$id,label:qe.name}))),x()},[s,a,x,K,o]),fe=m.useCallback(async()=>{if(v){if(z(null),H(!0),!C.trim()||!F||!M.trim()){z("Student Name, Faculty, and Class are required."),H(!1);return}if(S&&(!P.trim()||!L.trim()||!/\S+@\S+\.\S+/.test(L)||!O.trim())){z("Parent Name, valid Email, and Contact are required."),H(!1);return}try{if(S){const qe={name:P.trim(),email:L.trim(),contact:O.split(",").map(Et=>Et.trim()).filter(Boolean)};await h(S.$id,qe)}const ie=o.find(qe=>qe.$id===A),he=ie?ie.name:"",ke={name:C.trim(),class:M.trim(),facultyId:F,section:he},Be=await u(v.$id,ke);Ke.success(`Student '${(Be==null?void 0:Be.name)||C}' updated successfully!`),y(),Y(new Set([])),n(null)}catch(ie){console.error("Error during edit save process:",ie);const he=ie.message||"An unexpected error occurred during save.";z(he),Ke.error(`Save Failed: ${he}`)}finally{H(!1)}}},[v,S,C,P,M,A,L,F,O,h,u,y,n,o]),me=m.useCallback(ie=>{K||b||(ce(ie),Q(!0))},[K,b]),G=m.useCallback(()=>{Q(!1),ce(null)},[]),re=m.useCallback(async()=>{if(!ae||K)return;const ie=ae.$id,he=ae.name;ne(!0),Q(!1);const ke=Ke.loading(`Deleting student ${he}...`);try{await f(ie),Ke.success(`Student ${he} deleted successfully.`,{id:ke}),d(),p(),Y(new Set([])),n(null)}catch(Be){Ke.error(`Error deleting ${he}: ${Be.message||"Unknown error"}`,{id:ke})}finally{ne(!1),ce(null)}},[ae,K,f,d,p,n]),ue=m.useCallback(ie=>{if(Y(ie),ie.size===1){const he=Array.from(ie)[0],ke=e.find(Be=>Be.$id===he);n(ke||null)}else n(null)},[e,n]),ge=m.useCallback(()=>{Y(new Set([])),n(null)},[n]);m.useEffect(()=>{r&&r(ge)},[r,ge]);const ye=m.useCallback((ie,he)=>{const ke=ie[he];switch(he){case"name":return i.jsx("span",{className:"font-medium text-gray-900",children:ie.name});case"class":return ie.class||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"section":return ie.section||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"parentName":const Be=a.find(qe=>qe.$id===ie.parentId);return Be?i.jsx(Vs,{content:Be.email||"No email",placement:"top-start",showArrow:!0,children:i.jsx("span",{children:Be.name||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"})})}):i.jsx("span",{className:"text-gray-400 italic",children:"Not Found"});case"actions":return i.jsxs("div",{className:"flex justify-center gap-1 items-center relative",children:[i.jsx(Vs,{content:"Edit",color:"warning",className:"text-white",showArrow:!0,children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>we(ie),isDisabled:K||oe&&(ae==null?void 0:ae.$id)===ie.$id,children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",color:"danger",className:"text-white",showArrow:!0,children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger","aria-label":`Delete student ${ie.name}`,onPress:()=>me(ie),isDisabled:K||b||oe&&(ae==null?void 0:ae.$id)===ie.$id,children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})}),(ae==null?void 0:ae.$id)===ie.$id&&i.jsx(vl,{isOpen:oe,onClose:G,onConfirm:re,title:i.jsxs("span",{className:"text-red-700 flex items-center gap-2",children:[i.jsx(cs,{className:"h-5 w-5"}),"Confirm Deletion"]}),content:i.jsxs(i.Fragment,{children:[" ","Are you sure to delete student: ",i.jsx("br",{})," ",i.jsx("strong",{className:"font-semibold",children:ae==null?void 0:ae.name}),"? ",i.jsx("br",{})," ",K&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Deleting...",className:"my-2"})," ",i.jsx("span",{className:"text-sm text-red-600 block mt-3",children:"This cannot be undone and may delete the parent record if this is their only student."})," "]})})]});default:return ke??i.jsx("span",{className:"text-gray-400 italic",children:"N/A"})}},[a,we,me,oe,ae,G,re,K,b]),je=e.slice(0,c);return i.jsxs("div",{className:"mt-4",children:[i.jsx(M$,{columns:DSe,data:je,getRowKey:ie=>ie.$id,isLoading:t,emptyContent:t?"Loading...":"No students found.",renderCell:ye,selectionMode:"single",selectedKeys:B,onSelectionChange:ue,maxHeight:"70vh",className:"border border-gray-200 rounded-lg shadow-sm overflow-hidden",tableClassName:"min-w-full divide-y divide-gray-300",headerClassName:"bg-gray-50 sticky top-0 z-10",rowClassName:(ie,he)=>`transition-colors duration-150 ${he?"bg-secondary-100":"hover:bg-gray-50"}`}),i.jsxs(We,{isOpen:b,onClose:y,position:"right",size:"lg",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Student Details"}),i.jsxs(We.Body,{children:[U&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Saving...",className:"absolute top-0 left-0 w-full z-50"}),i.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[W&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative mb-2 text-sm flex items-center gap-2",role:"alert",children:[i.jsx(cs,{className:"h-5 w-5 text-red-700 flex-shrink-0"}),i.jsx("span",{children:W})]}),i.jsx(Ve,{id:"parent-name-edit",type:"text",color:"secondary",label:"Parent Name",variant:"underlined",value:P,className:"font-medium",size:"sm",isRequired:!0,isDisabled:!S||U,onChange:ie=>{E(ie.target.value),z(null)},isInvalid:!!(W&&S&&!P.trim()),errorMessage:W&&S&&!P.trim()?"Parent Name required":"",description:S?"":"No parent linked."}),i.jsx(Ve,{id:"student-email-edit",type:"email",color:"secondary",label:"Parent Email",variant:"underlined",value:L,className:"font-medium",size:"sm",isRequired:!0,isDisabled:!0,onChange:ie=>{R(ie.target.value),z(null)},isInvalid:!!(W&&S&&(!L.trim()||!/\S+@\S+\.\S+/.test(L))),errorMessage:W&&S&&(!L.trim()||!/\S+@\S+\.\S+/.test(L))?"Valid Parent Email required":""}),i.jsx(Ve,{id:"parent-contact-edit",type:"text",color:"secondary",label:"Parent Contact No.",variant:"underlined",value:O,className:"font-medium",size:"sm",isRequired:!0,isDisabled:!S||U,onChange:ie=>{_(ie.target.value),z(null)},isInvalid:!!(W&&S&&!O.trim()),errorMessage:W&&S&&!O.trim()?"Parent Contact required":"",placeholder:"Comma-separated if multiple"}),i.jsx(Cr,{fullWidth:!0,label:"Select Faculty",variant:"underlined",color:"secondary",size:"sm",className:"font-medium",isRequired:!0,selectedKey:F,onSelectionChange:ie=>{const he=ie?ie.toString():"";T(he),k(""),I(""),z(null)},errorMessage:W&&!F?"Faculty required":"",isInvalid:!!(W&&!F),items:te,"aria-label":"Select Faculty",allowsCustomValue:!1,isDisabled:U,placeholder:"Choose a faculty",children:ie=>i.jsx(bn,{children:ie.label},ie.key)}),i.jsx(Cr,{fullWidth:!0,label:"Select Class",variant:"underlined",color:"secondary",size:"sm",className:"font-medium",isRequired:!0,selectedKey:M,onSelectionChange:ie=>{k(ie?ie.toString():""),z(null)},isDisabled:!F||U,errorMessage:W&&!M?"Class required":"",isInvalid:!!(W&&!M),items:xe,"aria-label":"Select Class",allowsCustomValue:!1,placeholder:"Choose a class",children:ie=>i.jsx(bn,{children:ie.label},ie.key)}),i.jsx(Cr,{fullWidth:!0,label:"Select Section",variant:"underlined",color:"secondary",size:"sm",className:"font-medium",selectedKey:A,onSelectionChange:ie=>{I(ie?ie.toString():""),z(null)},isDisabled:!F||!M||U,errorMessage:W&&!A?"Section required":"",isInvalid:!!(W&&!A),items:Ne,"aria-label":"Select Section",allowsCustomValue:!1,placeholder:"Choose a section",children:ie=>i.jsx(bn,{children:ie.label},ie.key)}),i.jsx(Ve,{fullWidth:!0,id:"student-name-edit",type:"text",color:"secondary",label:"Student Name",variant:"underlined",value:C,className:"font-medium",size:"sm",isRequired:!0,onChange:ie=>{$(ie.target.value),z(null)},isInvalid:!!(W&&!C.trim()),errorMessage:W&&!C.trim()?"Student Name required":"",isDisabled:U})]})]}),i.jsxs(We.Footer,{children:[i.jsxs(Se,{color:"danger",variant:"light",onPress:y,disabled:U,children:[" ","Cancel"," "]}),i.jsxs(Se,{color:"success",onPress:fe,className:"text-white font-medium",isLoading:U,isDisabled:U,children:[" ",U?"Saving...":"Save Changes"," "]})]})]})]})};var Qy={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Qy.exports;(function(e,t){(function(){var n,r="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,p=4,b=1,x=2,y=1,v=2,j=4,S=8,N=16,C=32,$=64,P=128,E=256,M=512,k=30,A="...",I=800,L=16,R=1,F=2,T=3,O=1/0,_=9007199254740991,W=17976931348623157e292,z=NaN,U=4294967295,H=U-1,B=U>>>1,Y=[["ary",P],["bind",y],["bindKey",v],["curry",S],["curryRight",N],["flip",M],["partial",C],["partialRight",$],["rearg",E]],ae="[object Arguments]",ce="[object Array]",oe="[object AsyncFunction]",Q="[object Boolean]",K="[object Date]",ne="[object DOMException]",te="[object Error]",X="[object Function]",xe="[object GeneratorFunction]",$e="[object Map]",Ne="[object Number]",Le="[object Null]",we="[object Object]",fe="[object Promise]",me="[object Proxy]",G="[object RegExp]",re="[object Set]",ue="[object String]",ge="[object Symbol]",ye="[object Undefined]",je="[object WeakMap]",ie="[object WeakSet]",he="[object ArrayBuffer]",ke="[object DataView]",Be="[object Float32Array]",qe="[object Float64Array]",Et="[object Int8Array]",ln="[object Int16Array]",Ht="[object Int32Array]",vt="[object Uint8Array]",Re="[object Uint8ClampedArray]",Ue="[object Uint16Array]",it="[object Uint32Array]",ot=/\b__p \+= '';/g,Je=/\b(__p \+=) '' \+/g,lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,Vn=/[&<>"']/g,Yn=RegExp(Ot.source),tn=RegExp(Vn.source),ur=/<%-([\s\S]+?)%>/g,po=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ti=/^\w*$/,su=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ki=/[\\^$.*+?()[\]{}|]/g,au=RegExp(ki.source),go=/^\s+/,iu=/\s/,St=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ni=/\{\n\/\* \[wrapped with (.+)\] \*/,hm=/,? & /,mm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pm=/[()=,{}\[\]\/\s]/,Ct=/\\(\\)?/g,bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sb=/\w*$/,E2=/^[-+]0x[0-9a-f]+$/i,A2=/^0b[01]+$/i,tt=/^\[object .+?Constructor\]$/,ks=/^0o[0-7]+$/i,gm=/^(?:0|[1-9]\d*)$/,El=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rd=/($^)/,ZQ=/['\n\r\u2028\u2029\\]/g,ab="\\ud800-\\udfff",JQ="\\u0300-\\u036f",QQ="\\ufe20-\\ufe2f",eee="\\u20d0-\\u20ff",GA=JQ+QQ+eee,YA="\\u2700-\\u27bf",XA="a-z\\xdf-\\xf6\\xf8-\\xff",tee="\\xac\\xb1\\xd7\\xf7",nee="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ree="\\u2000-\\u206f",see=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ZA="A-Z\\xc0-\\xd6\\xd8-\\xde",JA="\\ufe0e\\ufe0f",QA=tee+nee+ree+see,P2="['’]",aee="["+ab+"]",eP="["+QA+"]",ib="["+GA+"]",tP="\\d+",iee="["+YA+"]",nP="["+XA+"]",rP="[^"+ab+QA+tP+YA+XA+ZA+"]",D2="\\ud83c[\\udffb-\\udfff]",oee="(?:"+ib+"|"+D2+")",sP="[^"+ab+"]",k2="(?:\\ud83c[\\udde6-\\uddff]){2}",I2="[\\ud800-\\udbff][\\udc00-\\udfff]",Bd="["+ZA+"]",aP="\\u200d",iP="(?:"+nP+"|"+rP+")",lee="(?:"+Bd+"|"+rP+")",oP="(?:"+P2+"(?:d|ll|m|re|s|t|ve))?",lP="(?:"+P2+"(?:D|LL|M|RE|S|T|VE))?",cP=oee+"?",uP="["+JA+"]?",cee="(?:"+aP+"(?:"+[sP,k2,I2].join("|")+")"+uP+cP+")*",uee="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dee="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dP=uP+cP+cee,fee="(?:"+[iee,k2,I2].join("|")+")"+dP,hee="(?:"+[sP+ib+"?",ib,k2,I2,aee].join("|")+")",mee=RegExp(P2,"g"),pee=RegExp(ib,"g"),T2=RegExp(D2+"(?="+D2+")|"+hee+dP,"g"),gee=RegExp([Bd+"?"+nP+"+"+oP+"(?="+[eP,Bd,"$"].join("|")+")",lee+"+"+lP+"(?="+[eP,Bd+iP,"$"].join("|")+")",Bd+"?"+iP+"+"+oP,Bd+"+"+lP,dee,uee,tP,fee].join("|"),"g"),bee=RegExp("["+aP+ab+GA+JA+"]"),xee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yee=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vee=-1,On={};On[Be]=On[qe]=On[Et]=On[ln]=On[Ht]=On[vt]=On[Re]=On[Ue]=On[it]=!0,On[ae]=On[ce]=On[he]=On[Q]=On[ke]=On[K]=On[te]=On[X]=On[$e]=On[Ne]=On[we]=On[G]=On[re]=On[ue]=On[je]=!1;var Nn={};Nn[ae]=Nn[ce]=Nn[he]=Nn[ke]=Nn[Q]=Nn[K]=Nn[Be]=Nn[qe]=Nn[Et]=Nn[ln]=Nn[Ht]=Nn[$e]=Nn[Ne]=Nn[we]=Nn[G]=Nn[re]=Nn[ue]=Nn[ge]=Nn[vt]=Nn[Re]=Nn[Ue]=Nn[it]=!0,Nn[te]=Nn[X]=Nn[je]=!1;var wee={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},See={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jee={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nee=parseFloat,$ee=parseInt,fP=typeof la=="object"&&la&&la.Object===Object&&la,Eee=typeof self=="object"&&self&&self.Object===Object&&self,_r=fP||Eee||Function("return this")(),M2=t&&!t.nodeType&&t,ou=M2&&!0&&e&&!e.nodeType&&e,hP=ou&&ou.exports===M2,O2=hP&&fP.process,Sa=function(){try{var be=ou&&ou.require&&ou.require("util").types;return be||O2&&O2.binding&&O2.binding("util")}catch{}}(),mP=Sa&&Sa.isArrayBuffer,pP=Sa&&Sa.isDate,gP=Sa&&Sa.isMap,bP=Sa&&Sa.isRegExp,xP=Sa&&Sa.isSet,yP=Sa&&Sa.isTypedArray;function Xs(be,Ie,Ce){switch(Ce.length){case 0:return be.call(Ie);case 1:return be.call(Ie,Ce[0]);case 2:return be.call(Ie,Ce[0],Ce[1]);case 3:return be.call(Ie,Ce[0],Ce[1],Ce[2])}return be.apply(Ie,Ce)}function Aee(be,Ie,Ce,Qe){for(var Nt=-1,nn=be==null?0:be.length;++Nt<nn;){var yr=be[Nt];Ie(Qe,yr,Ce(yr),be)}return Qe}function ja(be,Ie){for(var Ce=-1,Qe=be==null?0:be.length;++Ce<Qe&&Ie(be[Ce],Ce,be)!==!1;);return be}function Pee(be,Ie){for(var Ce=be==null?0:be.length;Ce--&&Ie(be[Ce],Ce,be)!==!1;);return be}function vP(be,Ie){for(var Ce=-1,Qe=be==null?0:be.length;++Ce<Qe;)if(!Ie(be[Ce],Ce,be))return!1;return!0}function Al(be,Ie){for(var Ce=-1,Qe=be==null?0:be.length,Nt=0,nn=[];++Ce<Qe;){var yr=be[Ce];Ie(yr,Ce,be)&&(nn[Nt++]=yr)}return nn}function ob(be,Ie){var Ce=be==null?0:be.length;return!!Ce&&zd(be,Ie,0)>-1}function L2(be,Ie,Ce){for(var Qe=-1,Nt=be==null?0:be.length;++Qe<Nt;)if(Ce(Ie,be[Qe]))return!0;return!1}function Wn(be,Ie){for(var Ce=-1,Qe=be==null?0:be.length,Nt=Array(Qe);++Ce<Qe;)Nt[Ce]=Ie(be[Ce],Ce,be);return Nt}function Pl(be,Ie){for(var Ce=-1,Qe=Ie.length,Nt=be.length;++Ce<Qe;)be[Nt+Ce]=Ie[Ce];return be}function _2(be,Ie,Ce,Qe){var Nt=-1,nn=be==null?0:be.length;for(Qe&&nn&&(Ce=be[++Nt]);++Nt<nn;)Ce=Ie(Ce,be[Nt],Nt,be);return Ce}function Dee(be,Ie,Ce,Qe){var Nt=be==null?0:be.length;for(Qe&&Nt&&(Ce=be[--Nt]);Nt--;)Ce=Ie(Ce,be[Nt],Nt,be);return Ce}function F2(be,Ie){for(var Ce=-1,Qe=be==null?0:be.length;++Ce<Qe;)if(Ie(be[Ce],Ce,be))return!0;return!1}var kee=R2("length");function Iee(be){return be.split("")}function Tee(be){return be.match(mm)||[]}function wP(be,Ie,Ce){var Qe;return Ce(be,function(Nt,nn,yr){if(Ie(Nt,nn,yr))return Qe=nn,!1}),Qe}function lb(be,Ie,Ce,Qe){for(var Nt=be.length,nn=Ce+(Qe?1:-1);Qe?nn--:++nn<Nt;)if(Ie(be[nn],nn,be))return nn;return-1}function zd(be,Ie,Ce){return Ie===Ie?Kee(be,Ie,Ce):lb(be,SP,Ce)}function Mee(be,Ie,Ce,Qe){for(var Nt=Ce-1,nn=be.length;++Nt<nn;)if(Qe(be[Nt],Ie))return Nt;return-1}function SP(be){return be!==be}function jP(be,Ie){var Ce=be==null?0:be.length;return Ce?z2(be,Ie)/Ce:z}function R2(be){return function(Ie){return Ie==null?n:Ie[be]}}function B2(be){return function(Ie){return be==null?n:be[Ie]}}function CP(be,Ie,Ce,Qe,Nt){return Nt(be,function(nn,yr,yn){Ce=Qe?(Qe=!1,nn):Ie(Ce,nn,yr,yn)}),Ce}function Oee(be,Ie){var Ce=be.length;for(be.sort(Ie);Ce--;)be[Ce]=be[Ce].value;return be}function z2(be,Ie){for(var Ce,Qe=-1,Nt=be.length;++Qe<Nt;){var nn=Ie(be[Qe]);nn!==n&&(Ce=Ce===n?nn:Ce+nn)}return Ce}function V2(be,Ie){for(var Ce=-1,Qe=Array(be);++Ce<be;)Qe[Ce]=Ie(Ce);return Qe}function Lee(be,Ie){return Wn(Ie,function(Ce){return[Ce,be[Ce]]})}function NP(be){return be&&be.slice(0,PP(be)+1).replace(go,"")}function Zs(be){return function(Ie){return be(Ie)}}function W2(be,Ie){return Wn(Ie,function(Ce){return be[Ce]})}function bm(be,Ie){return be.has(Ie)}function $P(be,Ie){for(var Ce=-1,Qe=be.length;++Ce<Qe&&zd(Ie,be[Ce],0)>-1;);return Ce}function EP(be,Ie){for(var Ce=be.length;Ce--&&zd(Ie,be[Ce],0)>-1;);return Ce}function _ee(be,Ie){for(var Ce=be.length,Qe=0;Ce--;)be[Ce]===Ie&&++Qe;return Qe}var Fee=B2(wee),Ree=B2(See);function Bee(be){return"\\"+Cee[be]}function zee(be,Ie){return be==null?n:be[Ie]}function Vd(be){return bee.test(be)}function Vee(be){return xee.test(be)}function Wee(be){for(var Ie,Ce=[];!(Ie=be.next()).done;)Ce.push(Ie.value);return Ce}function U2(be){var Ie=-1,Ce=Array(be.size);return be.forEach(function(Qe,Nt){Ce[++Ie]=[Nt,Qe]}),Ce}function AP(be,Ie){return function(Ce){return be(Ie(Ce))}}function Dl(be,Ie){for(var Ce=-1,Qe=be.length,Nt=0,nn=[];++Ce<Qe;){var yr=be[Ce];(yr===Ie||yr===d)&&(be[Ce]=d,nn[Nt++]=Ce)}return nn}function cb(be){var Ie=-1,Ce=Array(be.size);return be.forEach(function(Qe){Ce[++Ie]=Qe}),Ce}function Uee(be){var Ie=-1,Ce=Array(be.size);return be.forEach(function(Qe){Ce[++Ie]=[Qe,Qe]}),Ce}function Kee(be,Ie,Ce){for(var Qe=Ce-1,Nt=be.length;++Qe<Nt;)if(be[Qe]===Ie)return Qe;return-1}function Hee(be,Ie,Ce){for(var Qe=Ce+1;Qe--;)if(be[Qe]===Ie)return Qe;return Qe}function Wd(be){return Vd(be)?Gee(be):kee(be)}function ri(be){return Vd(be)?Yee(be):Iee(be)}function PP(be){for(var Ie=be.length;Ie--&&iu.test(be.charAt(Ie)););return Ie}var qee=B2(jee);function Gee(be){for(var Ie=T2.lastIndex=0;T2.test(be);)++Ie;return Ie}function Yee(be){return be.match(T2)||[]}function Xee(be){return be.match(gee)||[]}var Zee=function be(Ie){Ie=Ie==null?_r:Ud.defaults(_r.Object(),Ie,Ud.pick(_r,yee));var Ce=Ie.Array,Qe=Ie.Date,Nt=Ie.Error,nn=Ie.Function,yr=Ie.Math,yn=Ie.Object,K2=Ie.RegExp,Jee=Ie.String,Ca=Ie.TypeError,ub=Ce.prototype,Qee=nn.prototype,Kd=yn.prototype,db=Ie["__core-js_shared__"],fb=Qee.toString,cn=Kd.hasOwnProperty,ete=0,DP=function(){var g=/[^.]+$/.exec(db&&db.keys&&db.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),hb=Kd.toString,tte=fb.call(yn),nte=_r._,rte=K2("^"+fb.call(cn).replace(ki,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mb=hP?Ie.Buffer:n,kl=Ie.Symbol,pb=Ie.Uint8Array,kP=mb?mb.allocUnsafe:n,gb=AP(yn.getPrototypeOf,yn),IP=yn.create,TP=Kd.propertyIsEnumerable,bb=ub.splice,MP=kl?kl.isConcatSpreadable:n,xm=kl?kl.iterator:n,lu=kl?kl.toStringTag:n,xb=function(){try{var g=hu(yn,"defineProperty");return g({},"",{}),g}catch{}}(),ste=Ie.clearTimeout!==_r.clearTimeout&&Ie.clearTimeout,ate=Qe&&Qe.now!==_r.Date.now&&Qe.now,ite=Ie.setTimeout!==_r.setTimeout&&Ie.setTimeout,yb=yr.ceil,vb=yr.floor,H2=yn.getOwnPropertySymbols,ote=mb?mb.isBuffer:n,OP=Ie.isFinite,lte=ub.join,cte=AP(yn.keys,yn),vr=yr.max,qr=yr.min,ute=Qe.now,dte=Ie.parseInt,LP=yr.random,fte=ub.reverse,q2=hu(Ie,"DataView"),ym=hu(Ie,"Map"),G2=hu(Ie,"Promise"),Hd=hu(Ie,"Set"),vm=hu(Ie,"WeakMap"),wm=hu(yn,"create"),wb=vm&&new vm,qd={},hte=mu(q2),mte=mu(ym),pte=mu(G2),gte=mu(Hd),bte=mu(vm),Sb=kl?kl.prototype:n,Sm=Sb?Sb.valueOf:n,_P=Sb?Sb.toString:n;function ee(g){if(Xn(g)&&!Pt(g)&&!(g instanceof Wt)){if(g instanceof Na)return g;if(cn.call(g,"__wrapped__"))return FD(g)}return new Na(g)}var Gd=function(){function g(){}return function(w){if(!qn(w))return{};if(IP)return IP(w);g.prototype=w;var D=new g;return g.prototype=n,D}}();function jb(){}function Na(g,w){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}ee.templateSettings={escape:ur,evaluate:po,interpolate:At,variable:"",imports:{_:ee}},ee.prototype=jb.prototype,ee.prototype.constructor=ee,Na.prototype=Gd(jb.prototype),Na.prototype.constructor=Na;function Wt(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function xte(){var g=new Wt(this.__wrapped__);return g.__actions__=Is(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Is(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Is(this.__views__),g}function yte(){if(this.__filtered__){var g=new Wt(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function vte(){var g=this.__wrapped__.value(),w=this.__dir__,D=Pt(g),V=w<0,q=D?g.length:0,se=Ine(0,q,this.__views__),de=se.start,pe=se.end,ve=pe-de,Oe=V?pe:de-1,_e=this.__iteratees__,Fe=_e.length,Xe=0,at=qr(ve,this.__takeCount__);if(!D||!V&&q==ve&&at==ve)return oD(g,this.__actions__);var pt=[];e:for(;ve--&&Xe<at;){Oe+=w;for(var Lt=-1,gt=g[Oe];++Lt<Fe;){var Bt=_e[Lt],qt=Bt.iteratee,ea=Bt.type,hs=qt(gt);if(ea==F)gt=hs;else if(!hs){if(ea==R)continue e;break e}}pt[Xe++]=gt}return pt}Wt.prototype=Gd(jb.prototype),Wt.prototype.constructor=Wt;function cu(g){var w=-1,D=g==null?0:g.length;for(this.clear();++w<D;){var V=g[w];this.set(V[0],V[1])}}function wte(){this.__data__=wm?wm(null):{},this.size=0}function Ste(g){var w=this.has(g)&&delete this.__data__[g];return this.size-=w?1:0,w}function jte(g){var w=this.__data__;if(wm){var D=w[g];return D===c?n:D}return cn.call(w,g)?w[g]:n}function Cte(g){var w=this.__data__;return wm?w[g]!==n:cn.call(w,g)}function Nte(g,w){var D=this.__data__;return this.size+=this.has(g)?0:1,D[g]=wm&&w===n?c:w,this}cu.prototype.clear=wte,cu.prototype.delete=Ste,cu.prototype.get=jte,cu.prototype.has=Cte,cu.prototype.set=Nte;function xo(g){var w=-1,D=g==null?0:g.length;for(this.clear();++w<D;){var V=g[w];this.set(V[0],V[1])}}function $te(){this.__data__=[],this.size=0}function Ete(g){var w=this.__data__,D=Cb(w,g);if(D<0)return!1;var V=w.length-1;return D==V?w.pop():bb.call(w,D,1),--this.size,!0}function Ate(g){var w=this.__data__,D=Cb(w,g);return D<0?n:w[D][1]}function Pte(g){return Cb(this.__data__,g)>-1}function Dte(g,w){var D=this.__data__,V=Cb(D,g);return V<0?(++this.size,D.push([g,w])):D[V][1]=w,this}xo.prototype.clear=$te,xo.prototype.delete=Ete,xo.prototype.get=Ate,xo.prototype.has=Pte,xo.prototype.set=Dte;function yo(g){var w=-1,D=g==null?0:g.length;for(this.clear();++w<D;){var V=g[w];this.set(V[0],V[1])}}function kte(){this.size=0,this.__data__={hash:new cu,map:new(ym||xo),string:new cu}}function Ite(g){var w=Lb(this,g).delete(g);return this.size-=w?1:0,w}function Tte(g){return Lb(this,g).get(g)}function Mte(g){return Lb(this,g).has(g)}function Ote(g,w){var D=Lb(this,g),V=D.size;return D.set(g,w),this.size+=D.size==V?0:1,this}yo.prototype.clear=kte,yo.prototype.delete=Ite,yo.prototype.get=Tte,yo.prototype.has=Mte,yo.prototype.set=Ote;function uu(g){var w=-1,D=g==null?0:g.length;for(this.__data__=new yo;++w<D;)this.add(g[w])}function Lte(g){return this.__data__.set(g,c),this}function _te(g){return this.__data__.has(g)}uu.prototype.add=uu.prototype.push=Lte,uu.prototype.has=_te;function si(g){var w=this.__data__=new xo(g);this.size=w.size}function Fte(){this.__data__=new xo,this.size=0}function Rte(g){var w=this.__data__,D=w.delete(g);return this.size=w.size,D}function Bte(g){return this.__data__.get(g)}function zte(g){return this.__data__.has(g)}function Vte(g,w){var D=this.__data__;if(D instanceof xo){var V=D.__data__;if(!ym||V.length<s-1)return V.push([g,w]),this.size=++D.size,this;D=this.__data__=new yo(V)}return D.set(g,w),this.size=D.size,this}si.prototype.clear=Fte,si.prototype.delete=Rte,si.prototype.get=Bte,si.prototype.has=zte,si.prototype.set=Vte;function FP(g,w){var D=Pt(g),V=!D&&pu(g),q=!D&&!V&&Ll(g),se=!D&&!V&&!q&&Jd(g),de=D||V||q||se,pe=de?V2(g.length,Jee):[],ve=pe.length;for(var Oe in g)(w||cn.call(g,Oe))&&!(de&&(Oe=="length"||q&&(Oe=="offset"||Oe=="parent")||se&&(Oe=="buffer"||Oe=="byteLength"||Oe=="byteOffset")||jo(Oe,ve)))&&pe.push(Oe);return pe}function RP(g){var w=g.length;return w?g[aS(0,w-1)]:n}function Wte(g,w){return _b(Is(g),du(w,0,g.length))}function Ute(g){return _b(Is(g))}function Y2(g,w,D){(D!==n&&!ai(g[w],D)||D===n&&!(w in g))&&vo(g,w,D)}function jm(g,w,D){var V=g[w];(!(cn.call(g,w)&&ai(V,D))||D===n&&!(w in g))&&vo(g,w,D)}function Cb(g,w){for(var D=g.length;D--;)if(ai(g[D][0],w))return D;return-1}function Kte(g,w,D,V){return Il(g,function(q,se,de){w(V,q,D(q),de)}),V}function BP(g,w){return g&&Ti(w,Er(w),g)}function Hte(g,w){return g&&Ti(w,Ms(w),g)}function vo(g,w,D){w=="__proto__"&&xb?xb(g,w,{configurable:!0,enumerable:!0,value:D,writable:!0}):g[w]=D}function X2(g,w){for(var D=-1,V=w.length,q=Ce(V),se=g==null;++D<V;)q[D]=se?n:DS(g,w[D]);return q}function du(g,w,D){return g===g&&(D!==n&&(g=g<=D?g:D),w!==n&&(g=g>=w?g:w)),g}function $a(g,w,D,V,q,se){var de,pe=w&f,ve=w&h,Oe=w&p;if(D&&(de=q?D(g,V,q,se):D(g)),de!==n)return de;if(!qn(g))return g;var _e=Pt(g);if(_e){if(de=Mne(g),!pe)return Is(g,de)}else{var Fe=Gr(g),Xe=Fe==X||Fe==xe;if(Ll(g))return uD(g,pe);if(Fe==we||Fe==ae||Xe&&!q){if(de=ve||Xe?{}:PD(g),!pe)return ve?jne(g,Hte(de,g)):Sne(g,BP(de,g))}else{if(!Nn[Fe])return q?g:{};de=One(g,Fe,pe)}}se||(se=new si);var at=se.get(g);if(at)return at;se.set(g,de),sk(g)?g.forEach(function(gt){de.add($a(gt,w,D,gt,g,se))}):nk(g)&&g.forEach(function(gt,Bt){de.set(Bt,$a(gt,w,D,Bt,g,se))});var pt=Oe?ve?gS:pS:ve?Ms:Er,Lt=_e?n:pt(g);return ja(Lt||g,function(gt,Bt){Lt&&(Bt=gt,gt=g[Bt]),jm(de,Bt,$a(gt,w,D,Bt,g,se))}),de}function qte(g){var w=Er(g);return function(D){return zP(D,g,w)}}function zP(g,w,D){var V=D.length;if(g==null)return!V;for(g=yn(g);V--;){var q=D[V],se=w[q],de=g[q];if(de===n&&!(q in g)||!se(de))return!1}return!0}function VP(g,w,D){if(typeof g!="function")throw new Ca(o);return Dm(function(){g.apply(n,D)},w)}function Cm(g,w,D,V){var q=-1,se=ob,de=!0,pe=g.length,ve=[],Oe=w.length;if(!pe)return ve;D&&(w=Wn(w,Zs(D))),V?(se=L2,de=!1):w.length>=s&&(se=bm,de=!1,w=new uu(w));e:for(;++q<pe;){var _e=g[q],Fe=D==null?_e:D(_e);if(_e=V||_e!==0?_e:0,de&&Fe===Fe){for(var Xe=Oe;Xe--;)if(w[Xe]===Fe)continue e;ve.push(_e)}else se(w,Fe,V)||ve.push(_e)}return ve}var Il=pD(Ii),WP=pD(J2,!0);function Gte(g,w){var D=!0;return Il(g,function(V,q,se){return D=!!w(V,q,se),D}),D}function Nb(g,w,D){for(var V=-1,q=g.length;++V<q;){var se=g[V],de=w(se);if(de!=null&&(pe===n?de===de&&!Qs(de):D(de,pe)))var pe=de,ve=se}return ve}function Yte(g,w,D,V){var q=g.length;for(D=It(D),D<0&&(D=-D>q?0:q+D),V=V===n||V>q?q:It(V),V<0&&(V+=q),V=D>V?0:ik(V);D<V;)g[D++]=w;return g}function UP(g,w){var D=[];return Il(g,function(V,q,se){w(V,q,se)&&D.push(V)}),D}function Fr(g,w,D,V,q){var se=-1,de=g.length;for(D||(D=_ne),q||(q=[]);++se<de;){var pe=g[se];w>0&&D(pe)?w>1?Fr(pe,w-1,D,V,q):Pl(q,pe):V||(q[q.length]=pe)}return q}var Z2=gD(),KP=gD(!0);function Ii(g,w){return g&&Z2(g,w,Er)}function J2(g,w){return g&&KP(g,w,Er)}function $b(g,w){return Al(w,function(D){return Co(g[D])})}function fu(g,w){w=Ml(w,g);for(var D=0,V=w.length;g!=null&&D<V;)g=g[Mi(w[D++])];return D&&D==V?g:n}function HP(g,w,D){var V=w(g);return Pt(g)?V:Pl(V,D(g))}function ds(g){return g==null?g===n?ye:Le:lu&&lu in yn(g)?kne(g):Une(g)}function Q2(g,w){return g>w}function Xte(g,w){return g!=null&&cn.call(g,w)}function Zte(g,w){return g!=null&&w in yn(g)}function Jte(g,w,D){return g>=qr(w,D)&&g<vr(w,D)}function eS(g,w,D){for(var V=D?L2:ob,q=g[0].length,se=g.length,de=se,pe=Ce(se),ve=1/0,Oe=[];de--;){var _e=g[de];de&&w&&(_e=Wn(_e,Zs(w))),ve=qr(_e.length,ve),pe[de]=!D&&(w||q>=120&&_e.length>=120)?new uu(de&&_e):n}_e=g[0];var Fe=-1,Xe=pe[0];e:for(;++Fe<q&&Oe.length<ve;){var at=_e[Fe],pt=w?w(at):at;if(at=D||at!==0?at:0,!(Xe?bm(Xe,pt):V(Oe,pt,D))){for(de=se;--de;){var Lt=pe[de];if(!(Lt?bm(Lt,pt):V(g[de],pt,D)))continue e}Xe&&Xe.push(pt),Oe.push(at)}}return Oe}function Qte(g,w,D,V){return Ii(g,function(q,se,de){w(V,D(q),se,de)}),V}function Nm(g,w,D){w=Ml(w,g),g=TD(g,w);var V=g==null?g:g[Mi(Aa(w))];return V==null?n:Xs(V,g,D)}function qP(g){return Xn(g)&&ds(g)==ae}function ene(g){return Xn(g)&&ds(g)==he}function tne(g){return Xn(g)&&ds(g)==K}function $m(g,w,D,V,q){return g===w?!0:g==null||w==null||!Xn(g)&&!Xn(w)?g!==g&&w!==w:nne(g,w,D,V,$m,q)}function nne(g,w,D,V,q,se){var de=Pt(g),pe=Pt(w),ve=de?ce:Gr(g),Oe=pe?ce:Gr(w);ve=ve==ae?we:ve,Oe=Oe==ae?we:Oe;var _e=ve==we,Fe=Oe==we,Xe=ve==Oe;if(Xe&&Ll(g)){if(!Ll(w))return!1;de=!0,_e=!1}if(Xe&&!_e)return se||(se=new si),de||Jd(g)?$D(g,w,D,V,q,se):Pne(g,w,ve,D,V,q,se);if(!(D&b)){var at=_e&&cn.call(g,"__wrapped__"),pt=Fe&&cn.call(w,"__wrapped__");if(at||pt){var Lt=at?g.value():g,gt=pt?w.value():w;return se||(se=new si),q(Lt,gt,D,V,se)}}return Xe?(se||(se=new si),Dne(g,w,D,V,q,se)):!1}function rne(g){return Xn(g)&&Gr(g)==$e}function tS(g,w,D,V){var q=D.length,se=q,de=!V;if(g==null)return!se;for(g=yn(g);q--;){var pe=D[q];if(de&&pe[2]?pe[1]!==g[pe[0]]:!(pe[0]in g))return!1}for(;++q<se;){pe=D[q];var ve=pe[0],Oe=g[ve],_e=pe[1];if(de&&pe[2]){if(Oe===n&&!(ve in g))return!1}else{var Fe=new si;if(V)var Xe=V(Oe,_e,ve,g,w,Fe);if(!(Xe===n?$m(_e,Oe,b|x,V,Fe):Xe))return!1}}return!0}function GP(g){if(!qn(g)||Rne(g))return!1;var w=Co(g)?rte:tt;return w.test(mu(g))}function sne(g){return Xn(g)&&ds(g)==G}function ane(g){return Xn(g)&&Gr(g)==re}function ine(g){return Xn(g)&&Wb(g.length)&&!!On[ds(g)]}function YP(g){return typeof g=="function"?g:g==null?Os:typeof g=="object"?Pt(g)?JP(g[0],g[1]):ZP(g):bk(g)}function nS(g){if(!Pm(g))return cte(g);var w=[];for(var D in yn(g))cn.call(g,D)&&D!="constructor"&&w.push(D);return w}function one(g){if(!qn(g))return Wne(g);var w=Pm(g),D=[];for(var V in g)V=="constructor"&&(w||!cn.call(g,V))||D.push(V);return D}function rS(g,w){return g<w}function XP(g,w){var D=-1,V=Ts(g)?Ce(g.length):[];return Il(g,function(q,se,de){V[++D]=w(q,se,de)}),V}function ZP(g){var w=xS(g);return w.length==1&&w[0][2]?kD(w[0][0],w[0][1]):function(D){return D===g||tS(D,g,w)}}function JP(g,w){return vS(g)&&DD(w)?kD(Mi(g),w):function(D){var V=DS(D,g);return V===n&&V===w?kS(D,g):$m(w,V,b|x)}}function Eb(g,w,D,V,q){g!==w&&Z2(w,function(se,de){if(q||(q=new si),qn(se))lne(g,w,de,D,Eb,V,q);else{var pe=V?V(SS(g,de),se,de+"",g,w,q):n;pe===n&&(pe=se),Y2(g,de,pe)}},Ms)}function lne(g,w,D,V,q,se,de){var pe=SS(g,D),ve=SS(w,D),Oe=de.get(ve);if(Oe){Y2(g,D,Oe);return}var _e=se?se(pe,ve,D+"",g,w,de):n,Fe=_e===n;if(Fe){var Xe=Pt(ve),at=!Xe&&Ll(ve),pt=!Xe&&!at&&Jd(ve);_e=ve,Xe||at||pt?Pt(pe)?_e=pe:nr(pe)?_e=Is(pe):at?(Fe=!1,_e=uD(ve,!0)):pt?(Fe=!1,_e=dD(ve,!0)):_e=[]:km(ve)||pu(ve)?(_e=pe,pu(pe)?_e=ok(pe):(!qn(pe)||Co(pe))&&(_e=PD(ve))):Fe=!1}Fe&&(de.set(ve,_e),q(_e,ve,V,se,de),de.delete(ve)),Y2(g,D,_e)}function QP(g,w){var D=g.length;if(D)return w+=w<0?D:0,jo(w,D)?g[w]:n}function eD(g,w,D){w.length?w=Wn(w,function(se){return Pt(se)?function(de){return fu(de,se.length===1?se[0]:se)}:se}):w=[Os];var V=-1;w=Wn(w,Zs(ht()));var q=XP(g,function(se,de,pe){var ve=Wn(w,function(Oe){return Oe(se)});return{criteria:ve,index:++V,value:se}});return Oee(q,function(se,de){return wne(se,de,D)})}function cne(g,w){return tD(g,w,function(D,V){return kS(g,V)})}function tD(g,w,D){for(var V=-1,q=w.length,se={};++V<q;){var de=w[V],pe=fu(g,de);D(pe,de)&&Em(se,Ml(de,g),pe)}return se}function une(g){return function(w){return fu(w,g)}}function sS(g,w,D,V){var q=V?Mee:zd,se=-1,de=w.length,pe=g;for(g===w&&(w=Is(w)),D&&(pe=Wn(g,Zs(D)));++se<de;)for(var ve=0,Oe=w[se],_e=D?D(Oe):Oe;(ve=q(pe,_e,ve,V))>-1;)pe!==g&&bb.call(pe,ve,1),bb.call(g,ve,1);return g}function nD(g,w){for(var D=g?w.length:0,V=D-1;D--;){var q=w[D];if(D==V||q!==se){var se=q;jo(q)?bb.call(g,q,1):lS(g,q)}}return g}function aS(g,w){return g+vb(LP()*(w-g+1))}function dne(g,w,D,V){for(var q=-1,se=vr(yb((w-g)/(D||1)),0),de=Ce(se);se--;)de[V?se:++q]=g,g+=D;return de}function iS(g,w){var D="";if(!g||w<1||w>_)return D;do w%2&&(D+=g),w=vb(w/2),w&&(g+=g);while(w);return D}function Rt(g,w){return jS(ID(g,w,Os),g+"")}function fne(g){return RP(Qd(g))}function hne(g,w){var D=Qd(g);return _b(D,du(w,0,D.length))}function Em(g,w,D,V){if(!qn(g))return g;w=Ml(w,g);for(var q=-1,se=w.length,de=se-1,pe=g;pe!=null&&++q<se;){var ve=Mi(w[q]),Oe=D;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return g;if(q!=de){var _e=pe[ve];Oe=V?V(_e,ve,pe):n,Oe===n&&(Oe=qn(_e)?_e:jo(w[q+1])?[]:{})}jm(pe,ve,Oe),pe=pe[ve]}return g}var rD=wb?function(g,w){return wb.set(g,w),g}:Os,mne=xb?function(g,w){return xb(g,"toString",{configurable:!0,enumerable:!1,value:TS(w),writable:!0})}:Os;function pne(g){return _b(Qd(g))}function Ea(g,w,D){var V=-1,q=g.length;w<0&&(w=-w>q?0:q+w),D=D>q?q:D,D<0&&(D+=q),q=w>D?0:D-w>>>0,w>>>=0;for(var se=Ce(q);++V<q;)se[V]=g[V+w];return se}function gne(g,w){var D;return Il(g,function(V,q,se){return D=w(V,q,se),!D}),!!D}function Ab(g,w,D){var V=0,q=g==null?V:g.length;if(typeof w=="number"&&w===w&&q<=B){for(;V<q;){var se=V+q>>>1,de=g[se];de!==null&&!Qs(de)&&(D?de<=w:de<w)?V=se+1:q=se}return q}return oS(g,w,Os,D)}function oS(g,w,D,V){var q=0,se=g==null?0:g.length;if(se===0)return 0;w=D(w);for(var de=w!==w,pe=w===null,ve=Qs(w),Oe=w===n;q<se;){var _e=vb((q+se)/2),Fe=D(g[_e]),Xe=Fe!==n,at=Fe===null,pt=Fe===Fe,Lt=Qs(Fe);if(de)var gt=V||pt;else Oe?gt=pt&&(V||Xe):pe?gt=pt&&Xe&&(V||!at):ve?gt=pt&&Xe&&!at&&(V||!Lt):at||Lt?gt=!1:gt=V?Fe<=w:Fe<w;gt?q=_e+1:se=_e}return qr(se,H)}function sD(g,w){for(var D=-1,V=g.length,q=0,se=[];++D<V;){var de=g[D],pe=w?w(de):de;if(!D||!ai(pe,ve)){var ve=pe;se[q++]=de===0?0:de}}return se}function aD(g){return typeof g=="number"?g:Qs(g)?z:+g}function Js(g){if(typeof g=="string")return g;if(Pt(g))return Wn(g,Js)+"";if(Qs(g))return _P?_P.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}function Tl(g,w,D){var V=-1,q=ob,se=g.length,de=!0,pe=[],ve=pe;if(D)de=!1,q=L2;else if(se>=s){var Oe=w?null:Ene(g);if(Oe)return cb(Oe);de=!1,q=bm,ve=new uu}else ve=w?[]:pe;e:for(;++V<se;){var _e=g[V],Fe=w?w(_e):_e;if(_e=D||_e!==0?_e:0,de&&Fe===Fe){for(var Xe=ve.length;Xe--;)if(ve[Xe]===Fe)continue e;w&&ve.push(Fe),pe.push(_e)}else q(ve,Fe,D)||(ve!==pe&&ve.push(Fe),pe.push(_e))}return pe}function lS(g,w){return w=Ml(w,g),g=TD(g,w),g==null||delete g[Mi(Aa(w))]}function iD(g,w,D,V){return Em(g,w,D(fu(g,w)),V)}function Pb(g,w,D,V){for(var q=g.length,se=V?q:-1;(V?se--:++se<q)&&w(g[se],se,g););return D?Ea(g,V?0:se,V?se+1:q):Ea(g,V?se+1:0,V?q:se)}function oD(g,w){var D=g;return D instanceof Wt&&(D=D.value()),_2(w,function(V,q){return q.func.apply(q.thisArg,Pl([V],q.args))},D)}function cS(g,w,D){var V=g.length;if(V<2)return V?Tl(g[0]):[];for(var q=-1,se=Ce(V);++q<V;)for(var de=g[q],pe=-1;++pe<V;)pe!=q&&(se[q]=Cm(se[q]||de,g[pe],w,D));return Tl(Fr(se,1),w,D)}function lD(g,w,D){for(var V=-1,q=g.length,se=w.length,de={};++V<q;){var pe=V<se?w[V]:n;D(de,g[V],pe)}return de}function uS(g){return nr(g)?g:[]}function dS(g){return typeof g=="function"?g:Os}function Ml(g,w){return Pt(g)?g:vS(g,w)?[g]:_D(sn(g))}var bne=Rt;function Ol(g,w,D){var V=g.length;return D=D===n?V:D,!w&&D>=V?g:Ea(g,w,D)}var cD=ste||function(g){return _r.clearTimeout(g)};function uD(g,w){if(w)return g.slice();var D=g.length,V=kP?kP(D):new g.constructor(D);return g.copy(V),V}function fS(g){var w=new g.constructor(g.byteLength);return new pb(w).set(new pb(g)),w}function xne(g,w){var D=w?fS(g.buffer):g.buffer;return new g.constructor(D,g.byteOffset,g.byteLength)}function yne(g){var w=new g.constructor(g.source,sb.exec(g));return w.lastIndex=g.lastIndex,w}function vne(g){return Sm?yn(Sm.call(g)):{}}function dD(g,w){var D=w?fS(g.buffer):g.buffer;return new g.constructor(D,g.byteOffset,g.length)}function fD(g,w){if(g!==w){var D=g!==n,V=g===null,q=g===g,se=Qs(g),de=w!==n,pe=w===null,ve=w===w,Oe=Qs(w);if(!pe&&!Oe&&!se&&g>w||se&&de&&ve&&!pe&&!Oe||V&&de&&ve||!D&&ve||!q)return 1;if(!V&&!se&&!Oe&&g<w||Oe&&D&&q&&!V&&!se||pe&&D&&q||!de&&q||!ve)return-1}return 0}function wne(g,w,D){for(var V=-1,q=g.criteria,se=w.criteria,de=q.length,pe=D.length;++V<de;){var ve=fD(q[V],se[V]);if(ve){if(V>=pe)return ve;var Oe=D[V];return ve*(Oe=="desc"?-1:1)}}return g.index-w.index}function hD(g,w,D,V){for(var q=-1,se=g.length,de=D.length,pe=-1,ve=w.length,Oe=vr(se-de,0),_e=Ce(ve+Oe),Fe=!V;++pe<ve;)_e[pe]=w[pe];for(;++q<de;)(Fe||q<se)&&(_e[D[q]]=g[q]);for(;Oe--;)_e[pe++]=g[q++];return _e}function mD(g,w,D,V){for(var q=-1,se=g.length,de=-1,pe=D.length,ve=-1,Oe=w.length,_e=vr(se-pe,0),Fe=Ce(_e+Oe),Xe=!V;++q<_e;)Fe[q]=g[q];for(var at=q;++ve<Oe;)Fe[at+ve]=w[ve];for(;++de<pe;)(Xe||q<se)&&(Fe[at+D[de]]=g[q++]);return Fe}function Is(g,w){var D=-1,V=g.length;for(w||(w=Ce(V));++D<V;)w[D]=g[D];return w}function Ti(g,w,D,V){var q=!D;D||(D={});for(var se=-1,de=w.length;++se<de;){var pe=w[se],ve=V?V(D[pe],g[pe],pe,D,g):n;ve===n&&(ve=g[pe]),q?vo(D,pe,ve):jm(D,pe,ve)}return D}function Sne(g,w){return Ti(g,yS(g),w)}function jne(g,w){return Ti(g,ED(g),w)}function Db(g,w){return function(D,V){var q=Pt(D)?Aee:Kte,se=w?w():{};return q(D,g,ht(V,2),se)}}function Yd(g){return Rt(function(w,D){var V=-1,q=D.length,se=q>1?D[q-1]:n,de=q>2?D[2]:n;for(se=g.length>3&&typeof se=="function"?(q--,se):n,de&&fs(D[0],D[1],de)&&(se=q<3?n:se,q=1),w=yn(w);++V<q;){var pe=D[V];pe&&g(w,pe,V,se)}return w})}function pD(g,w){return function(D,V){if(D==null)return D;if(!Ts(D))return g(D,V);for(var q=D.length,se=w?q:-1,de=yn(D);(w?se--:++se<q)&&V(de[se],se,de)!==!1;);return D}}function gD(g){return function(w,D,V){for(var q=-1,se=yn(w),de=V(w),pe=de.length;pe--;){var ve=de[g?pe:++q];if(D(se[ve],ve,se)===!1)break}return w}}function Cne(g,w,D){var V=w&y,q=Am(g);function se(){var de=this&&this!==_r&&this instanceof se?q:g;return de.apply(V?D:this,arguments)}return se}function bD(g){return function(w){w=sn(w);var D=Vd(w)?ri(w):n,V=D?D[0]:w.charAt(0),q=D?Ol(D,1).join(""):w.slice(1);return V[g]()+q}}function Xd(g){return function(w){return _2(pk(mk(w).replace(mee,"")),g,"")}}function Am(g){return function(){var w=arguments;switch(w.length){case 0:return new g;case 1:return new g(w[0]);case 2:return new g(w[0],w[1]);case 3:return new g(w[0],w[1],w[2]);case 4:return new g(w[0],w[1],w[2],w[3]);case 5:return new g(w[0],w[1],w[2],w[3],w[4]);case 6:return new g(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new g(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var D=Gd(g.prototype),V=g.apply(D,w);return qn(V)?V:D}}function Nne(g,w,D){var V=Am(g);function q(){for(var se=arguments.length,de=Ce(se),pe=se,ve=Zd(q);pe--;)de[pe]=arguments[pe];var Oe=se<3&&de[0]!==ve&&de[se-1]!==ve?[]:Dl(de,ve);if(se-=Oe.length,se<D)return SD(g,w,kb,q.placeholder,n,de,Oe,n,n,D-se);var _e=this&&this!==_r&&this instanceof q?V:g;return Xs(_e,this,de)}return q}function xD(g){return function(w,D,V){var q=yn(w);if(!Ts(w)){var se=ht(D,3);w=Er(w),D=function(pe){return se(q[pe],pe,q)}}var de=g(w,D,V);return de>-1?q[se?w[de]:de]:n}}function yD(g){return So(function(w){var D=w.length,V=D,q=Na.prototype.thru;for(g&&w.reverse();V--;){var se=w[V];if(typeof se!="function")throw new Ca(o);if(q&&!de&&Ob(se)=="wrapper")var de=new Na([],!0)}for(V=de?V:D;++V<D;){se=w[V];var pe=Ob(se),ve=pe=="wrapper"?bS(se):n;ve&&wS(ve[0])&&ve[1]==(P|S|C|E)&&!ve[4].length&&ve[9]==1?de=de[Ob(ve[0])].apply(de,ve[3]):de=se.length==1&&wS(se)?de[pe]():de.thru(se)}return function(){var Oe=arguments,_e=Oe[0];if(de&&Oe.length==1&&Pt(_e))return de.plant(_e).value();for(var Fe=0,Xe=D?w[Fe].apply(this,Oe):_e;++Fe<D;)Xe=w[Fe].call(this,Xe);return Xe}})}function kb(g,w,D,V,q,se,de,pe,ve,Oe){var _e=w&P,Fe=w&y,Xe=w&v,at=w&(S|N),pt=w&M,Lt=Xe?n:Am(g);function gt(){for(var Bt=arguments.length,qt=Ce(Bt),ea=Bt;ea--;)qt[ea]=arguments[ea];if(at)var hs=Zd(gt),ta=_ee(qt,hs);if(V&&(qt=hD(qt,V,q,at)),se&&(qt=mD(qt,se,de,at)),Bt-=ta,at&&Bt<Oe){var rr=Dl(qt,hs);return SD(g,w,kb,gt.placeholder,D,qt,rr,pe,ve,Oe-Bt)}var ii=Fe?D:this,$o=Xe?ii[g]:g;return Bt=qt.length,pe?qt=Kne(qt,pe):pt&&Bt>1&&qt.reverse(),_e&&ve<Bt&&(qt.length=ve),this&&this!==_r&&this instanceof gt&&($o=Lt||Am($o)),$o.apply(ii,qt)}return gt}function vD(g,w){return function(D,V){return Qte(D,g,w(V),{})}}function Ib(g,w){return function(D,V){var q;if(D===n&&V===n)return w;if(D!==n&&(q=D),V!==n){if(q===n)return V;typeof D=="string"||typeof V=="string"?(D=Js(D),V=Js(V)):(D=aD(D),V=aD(V)),q=g(D,V)}return q}}function hS(g){return So(function(w){return w=Wn(w,Zs(ht())),Rt(function(D){var V=this;return g(w,function(q){return Xs(q,V,D)})})})}function Tb(g,w){w=w===n?" ":Js(w);var D=w.length;if(D<2)return D?iS(w,g):w;var V=iS(w,yb(g/Wd(w)));return Vd(w)?Ol(ri(V),0,g).join(""):V.slice(0,g)}function $ne(g,w,D,V){var q=w&y,se=Am(g);function de(){for(var pe=-1,ve=arguments.length,Oe=-1,_e=V.length,Fe=Ce(_e+ve),Xe=this&&this!==_r&&this instanceof de?se:g;++Oe<_e;)Fe[Oe]=V[Oe];for(;ve--;)Fe[Oe++]=arguments[++pe];return Xs(Xe,q?D:this,Fe)}return de}function wD(g){return function(w,D,V){return V&&typeof V!="number"&&fs(w,D,V)&&(D=V=n),w=No(w),D===n?(D=w,w=0):D=No(D),V=V===n?w<D?1:-1:No(V),dne(w,D,V,g)}}function Mb(g){return function(w,D){return typeof w=="string"&&typeof D=="string"||(w=Pa(w),D=Pa(D)),g(w,D)}}function SD(g,w,D,V,q,se,de,pe,ve,Oe){var _e=w&S,Fe=_e?de:n,Xe=_e?n:de,at=_e?se:n,pt=_e?n:se;w|=_e?C:$,w&=~(_e?$:C),w&j||(w&=-4);var Lt=[g,w,q,at,Fe,pt,Xe,pe,ve,Oe],gt=D.apply(n,Lt);return wS(g)&&MD(gt,Lt),gt.placeholder=V,OD(gt,g,w)}function mS(g){var w=yr[g];return function(D,V){if(D=Pa(D),V=V==null?0:qr(It(V),292),V&&OP(D)){var q=(sn(D)+"e").split("e"),se=w(q[0]+"e"+(+q[1]+V));return q=(sn(se)+"e").split("e"),+(q[0]+"e"+(+q[1]-V))}return w(D)}}var Ene=Hd&&1/cb(new Hd([,-0]))[1]==O?function(g){return new Hd(g)}:LS;function jD(g){return function(w){var D=Gr(w);return D==$e?U2(w):D==re?Uee(w):Lee(w,g(w))}}function wo(g,w,D,V,q,se,de,pe){var ve=w&v;if(!ve&&typeof g!="function")throw new Ca(o);var Oe=V?V.length:0;if(Oe||(w&=-97,V=q=n),de=de===n?de:vr(It(de),0),pe=pe===n?pe:It(pe),Oe-=q?q.length:0,w&$){var _e=V,Fe=q;V=q=n}var Xe=ve?n:bS(g),at=[g,w,D,V,q,_e,Fe,se,de,pe];if(Xe&&Vne(at,Xe),g=at[0],w=at[1],D=at[2],V=at[3],q=at[4],pe=at[9]=at[9]===n?ve?0:g.length:vr(at[9]-Oe,0),!pe&&w&(S|N)&&(w&=-25),!w||w==y)var pt=Cne(g,w,D);else w==S||w==N?pt=Nne(g,w,pe):(w==C||w==(y|C))&&!q.length?pt=$ne(g,w,D,V):pt=kb.apply(n,at);var Lt=Xe?rD:MD;return OD(Lt(pt,at),g,w)}function CD(g,w,D,V){return g===n||ai(g,Kd[D])&&!cn.call(V,D)?w:g}function ND(g,w,D,V,q,se){return qn(g)&&qn(w)&&(se.set(w,g),Eb(g,w,n,ND,se),se.delete(w)),g}function Ane(g){return km(g)?n:g}function $D(g,w,D,V,q,se){var de=D&b,pe=g.length,ve=w.length;if(pe!=ve&&!(de&&ve>pe))return!1;var Oe=se.get(g),_e=se.get(w);if(Oe&&_e)return Oe==w&&_e==g;var Fe=-1,Xe=!0,at=D&x?new uu:n;for(se.set(g,w),se.set(w,g);++Fe<pe;){var pt=g[Fe],Lt=w[Fe];if(V)var gt=de?V(Lt,pt,Fe,w,g,se):V(pt,Lt,Fe,g,w,se);if(gt!==n){if(gt)continue;Xe=!1;break}if(at){if(!F2(w,function(Bt,qt){if(!bm(at,qt)&&(pt===Bt||q(pt,Bt,D,V,se)))return at.push(qt)})){Xe=!1;break}}else if(!(pt===Lt||q(pt,Lt,D,V,se))){Xe=!1;break}}return se.delete(g),se.delete(w),Xe}function Pne(g,w,D,V,q,se,de){switch(D){case ke:if(g.byteLength!=w.byteLength||g.byteOffset!=w.byteOffset)return!1;g=g.buffer,w=w.buffer;case he:return!(g.byteLength!=w.byteLength||!se(new pb(g),new pb(w)));case Q:case K:case Ne:return ai(+g,+w);case te:return g.name==w.name&&g.message==w.message;case G:case ue:return g==w+"";case $e:var pe=U2;case re:var ve=V&b;if(pe||(pe=cb),g.size!=w.size&&!ve)return!1;var Oe=de.get(g);if(Oe)return Oe==w;V|=x,de.set(g,w);var _e=$D(pe(g),pe(w),V,q,se,de);return de.delete(g),_e;case ge:if(Sm)return Sm.call(g)==Sm.call(w)}return!1}function Dne(g,w,D,V,q,se){var de=D&b,pe=pS(g),ve=pe.length,Oe=pS(w),_e=Oe.length;if(ve!=_e&&!de)return!1;for(var Fe=ve;Fe--;){var Xe=pe[Fe];if(!(de?Xe in w:cn.call(w,Xe)))return!1}var at=se.get(g),pt=se.get(w);if(at&&pt)return at==w&&pt==g;var Lt=!0;se.set(g,w),se.set(w,g);for(var gt=de;++Fe<ve;){Xe=pe[Fe];var Bt=g[Xe],qt=w[Xe];if(V)var ea=de?V(qt,Bt,Xe,w,g,se):V(Bt,qt,Xe,g,w,se);if(!(ea===n?Bt===qt||q(Bt,qt,D,V,se):ea)){Lt=!1;break}gt||(gt=Xe=="constructor")}if(Lt&&!gt){var hs=g.constructor,ta=w.constructor;hs!=ta&&"constructor"in g&&"constructor"in w&&!(typeof hs=="function"&&hs instanceof hs&&typeof ta=="function"&&ta instanceof ta)&&(Lt=!1)}return se.delete(g),se.delete(w),Lt}function So(g){return jS(ID(g,n,zD),g+"")}function pS(g){return HP(g,Er,yS)}function gS(g){return HP(g,Ms,ED)}var bS=wb?function(g){return wb.get(g)}:LS;function Ob(g){for(var w=g.name+"",D=qd[w],V=cn.call(qd,w)?D.length:0;V--;){var q=D[V],se=q.func;if(se==null||se==g)return q.name}return w}function Zd(g){var w=cn.call(ee,"placeholder")?ee:g;return w.placeholder}function ht(){var g=ee.iteratee||MS;return g=g===MS?YP:g,arguments.length?g(arguments[0],arguments[1]):g}function Lb(g,w){var D=g.__data__;return Fne(w)?D[typeof w=="string"?"string":"hash"]:D.map}function xS(g){for(var w=Er(g),D=w.length;D--;){var V=w[D],q=g[V];w[D]=[V,q,DD(q)]}return w}function hu(g,w){var D=zee(g,w);return GP(D)?D:n}function kne(g){var w=cn.call(g,lu),D=g[lu];try{g[lu]=n;var V=!0}catch{}var q=hb.call(g);return V&&(w?g[lu]=D:delete g[lu]),q}var yS=H2?function(g){return g==null?[]:(g=yn(g),Al(H2(g),function(w){return TP.call(g,w)}))}:_S,ED=H2?function(g){for(var w=[];g;)Pl(w,yS(g)),g=gb(g);return w}:_S,Gr=ds;(q2&&Gr(new q2(new ArrayBuffer(1)))!=ke||ym&&Gr(new ym)!=$e||G2&&Gr(G2.resolve())!=fe||Hd&&Gr(new Hd)!=re||vm&&Gr(new vm)!=je)&&(Gr=function(g){var w=ds(g),D=w==we?g.constructor:n,V=D?mu(D):"";if(V)switch(V){case hte:return ke;case mte:return $e;case pte:return fe;case gte:return re;case bte:return je}return w});function Ine(g,w,D){for(var V=-1,q=D.length;++V<q;){var se=D[V],de=se.size;switch(se.type){case"drop":g+=de;break;case"dropRight":w-=de;break;case"take":w=qr(w,g+de);break;case"takeRight":g=vr(g,w-de);break}}return{start:g,end:w}}function Tne(g){var w=g.match(ni);return w?w[1].split(hm):[]}function AD(g,w,D){w=Ml(w,g);for(var V=-1,q=w.length,se=!1;++V<q;){var de=Mi(w[V]);if(!(se=g!=null&&D(g,de)))break;g=g[de]}return se||++V!=q?se:(q=g==null?0:g.length,!!q&&Wb(q)&&jo(de,q)&&(Pt(g)||pu(g)))}function Mne(g){var w=g.length,D=new g.constructor(w);return w&&typeof g[0]=="string"&&cn.call(g,"index")&&(D.index=g.index,D.input=g.input),D}function PD(g){return typeof g.constructor=="function"&&!Pm(g)?Gd(gb(g)):{}}function One(g,w,D){var V=g.constructor;switch(w){case he:return fS(g);case Q:case K:return new V(+g);case ke:return xne(g,D);case Be:case qe:case Et:case ln:case Ht:case vt:case Re:case Ue:case it:return dD(g,D);case $e:return new V;case Ne:case ue:return new V(g);case G:return yne(g);case re:return new V;case ge:return vne(g)}}function Lne(g,w){var D=w.length;if(!D)return g;var V=D-1;return w[V]=(D>1?"& ":"")+w[V],w=w.join(D>2?", ":" "),g.replace(St,`{
/* [wrapped with `+w+`] */
`)}function _ne(g){return Pt(g)||pu(g)||!!(MP&&g&&g[MP])}function jo(g,w){var D=typeof g;return w=w??_,!!w&&(D=="number"||D!="symbol"&&gm.test(g))&&g>-1&&g%1==0&&g<w}function fs(g,w,D){if(!qn(D))return!1;var V=typeof w;return(V=="number"?Ts(D)&&jo(w,D.length):V=="string"&&w in D)?ai(D[w],g):!1}function vS(g,w){if(Pt(g))return!1;var D=typeof g;return D=="number"||D=="symbol"||D=="boolean"||g==null||Qs(g)?!0:ti.test(g)||!Yt.test(g)||w!=null&&g in yn(w)}function Fne(g){var w=typeof g;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?g!=="__proto__":g===null}function wS(g){var w=Ob(g),D=ee[w];if(typeof D!="function"||!(w in Wt.prototype))return!1;if(g===D)return!0;var V=bS(D);return!!V&&g===V[0]}function Rne(g){return!!DP&&DP in g}var Bne=db?Co:FS;function Pm(g){var w=g&&g.constructor,D=typeof w=="function"&&w.prototype||Kd;return g===D}function DD(g){return g===g&&!qn(g)}function kD(g,w){return function(D){return D==null?!1:D[g]===w&&(w!==n||g in yn(D))}}function zne(g){var w=zb(g,function(V){return D.size===u&&D.clear(),V}),D=w.cache;return w}function Vne(g,w){var D=g[1],V=w[1],q=D|V,se=q<(y|v|P),de=V==P&&D==S||V==P&&D==E&&g[7].length<=w[8]||V==(P|E)&&w[7].length<=w[8]&&D==S;if(!(se||de))return g;V&y&&(g[2]=w[2],q|=D&y?0:j);var pe=w[3];if(pe){var ve=g[3];g[3]=ve?hD(ve,pe,w[4]):pe,g[4]=ve?Dl(g[3],d):w[4]}return pe=w[5],pe&&(ve=g[5],g[5]=ve?mD(ve,pe,w[6]):pe,g[6]=ve?Dl(g[5],d):w[6]),pe=w[7],pe&&(g[7]=pe),V&P&&(g[8]=g[8]==null?w[8]:qr(g[8],w[8])),g[9]==null&&(g[9]=w[9]),g[0]=w[0],g[1]=q,g}function Wne(g){var w=[];if(g!=null)for(var D in yn(g))w.push(D);return w}function Une(g){return hb.call(g)}function ID(g,w,D){return w=vr(w===n?g.length-1:w,0),function(){for(var V=arguments,q=-1,se=vr(V.length-w,0),de=Ce(se);++q<se;)de[q]=V[w+q];q=-1;for(var pe=Ce(w+1);++q<w;)pe[q]=V[q];return pe[w]=D(de),Xs(g,this,pe)}}function TD(g,w){return w.length<2?g:fu(g,Ea(w,0,-1))}function Kne(g,w){for(var D=g.length,V=qr(w.length,D),q=Is(g);V--;){var se=w[V];g[V]=jo(se,D)?q[se]:n}return g}function SS(g,w){if(!(w==="constructor"&&typeof g[w]=="function")&&w!="__proto__")return g[w]}var MD=LD(rD),Dm=ite||function(g,w){return _r.setTimeout(g,w)},jS=LD(mne);function OD(g,w,D){var V=w+"";return jS(g,Lne(V,Hne(Tne(V),D)))}function LD(g){var w=0,D=0;return function(){var V=ute(),q=L-(V-D);if(D=V,q>0){if(++w>=I)return arguments[0]}else w=0;return g.apply(n,arguments)}}function _b(g,w){var D=-1,V=g.length,q=V-1;for(w=w===n?V:w;++D<w;){var se=aS(D,q),de=g[se];g[se]=g[D],g[D]=de}return g.length=w,g}var _D=zne(function(g){var w=[];return g.charCodeAt(0)===46&&w.push(""),g.replace(su,function(D,V,q,se){w.push(q?se.replace(Ct,"$1"):V||D)}),w});function Mi(g){if(typeof g=="string"||Qs(g))return g;var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}function mu(g){if(g!=null){try{return fb.call(g)}catch{}try{return g+""}catch{}}return""}function Hne(g,w){return ja(Y,function(D){var V="_."+D[0];w&D[1]&&!ob(g,V)&&g.push(V)}),g.sort()}function FD(g){if(g instanceof Wt)return g.clone();var w=new Na(g.__wrapped__,g.__chain__);return w.__actions__=Is(g.__actions__),w.__index__=g.__index__,w.__values__=g.__values__,w}function qne(g,w,D){(D?fs(g,w,D):w===n)?w=1:w=vr(It(w),0);var V=g==null?0:g.length;if(!V||w<1)return[];for(var q=0,se=0,de=Ce(yb(V/w));q<V;)de[se++]=Ea(g,q,q+=w);return de}function Gne(g){for(var w=-1,D=g==null?0:g.length,V=0,q=[];++w<D;){var se=g[w];se&&(q[V++]=se)}return q}function Yne(){var g=arguments.length;if(!g)return[];for(var w=Ce(g-1),D=arguments[0],V=g;V--;)w[V-1]=arguments[V];return Pl(Pt(D)?Is(D):[D],Fr(w,1))}var Xne=Rt(function(g,w){return nr(g)?Cm(g,Fr(w,1,nr,!0)):[]}),Zne=Rt(function(g,w){var D=Aa(w);return nr(D)&&(D=n),nr(g)?Cm(g,Fr(w,1,nr,!0),ht(D,2)):[]}),Jne=Rt(function(g,w){var D=Aa(w);return nr(D)&&(D=n),nr(g)?Cm(g,Fr(w,1,nr,!0),n,D):[]});function Qne(g,w,D){var V=g==null?0:g.length;return V?(w=D||w===n?1:It(w),Ea(g,w<0?0:w,V)):[]}function ere(g,w,D){var V=g==null?0:g.length;return V?(w=D||w===n?1:It(w),w=V-w,Ea(g,0,w<0?0:w)):[]}function tre(g,w){return g&&g.length?Pb(g,ht(w,3),!0,!0):[]}function nre(g,w){return g&&g.length?Pb(g,ht(w,3),!0):[]}function rre(g,w,D,V){var q=g==null?0:g.length;return q?(D&&typeof D!="number"&&fs(g,w,D)&&(D=0,V=q),Yte(g,w,D,V)):[]}function RD(g,w,D){var V=g==null?0:g.length;if(!V)return-1;var q=D==null?0:It(D);return q<0&&(q=vr(V+q,0)),lb(g,ht(w,3),q)}function BD(g,w,D){var V=g==null?0:g.length;if(!V)return-1;var q=V-1;return D!==n&&(q=It(D),q=D<0?vr(V+q,0):qr(q,V-1)),lb(g,ht(w,3),q,!0)}function zD(g){var w=g==null?0:g.length;return w?Fr(g,1):[]}function sre(g){var w=g==null?0:g.length;return w?Fr(g,O):[]}function are(g,w){var D=g==null?0:g.length;return D?(w=w===n?1:It(w),Fr(g,w)):[]}function ire(g){for(var w=-1,D=g==null?0:g.length,V={};++w<D;){var q=g[w];V[q[0]]=q[1]}return V}function VD(g){return g&&g.length?g[0]:n}function ore(g,w,D){var V=g==null?0:g.length;if(!V)return-1;var q=D==null?0:It(D);return q<0&&(q=vr(V+q,0)),zd(g,w,q)}function lre(g){var w=g==null?0:g.length;return w?Ea(g,0,-1):[]}var cre=Rt(function(g){var w=Wn(g,uS);return w.length&&w[0]===g[0]?eS(w):[]}),ure=Rt(function(g){var w=Aa(g),D=Wn(g,uS);return w===Aa(D)?w=n:D.pop(),D.length&&D[0]===g[0]?eS(D,ht(w,2)):[]}),dre=Rt(function(g){var w=Aa(g),D=Wn(g,uS);return w=typeof w=="function"?w:n,w&&D.pop(),D.length&&D[0]===g[0]?eS(D,n,w):[]});function fre(g,w){return g==null?"":lte.call(g,w)}function Aa(g){var w=g==null?0:g.length;return w?g[w-1]:n}function hre(g,w,D){var V=g==null?0:g.length;if(!V)return-1;var q=V;return D!==n&&(q=It(D),q=q<0?vr(V+q,0):qr(q,V-1)),w===w?Hee(g,w,q):lb(g,SP,q,!0)}function mre(g,w){return g&&g.length?QP(g,It(w)):n}var pre=Rt(WD);function WD(g,w){return g&&g.length&&w&&w.length?sS(g,w):g}function gre(g,w,D){return g&&g.length&&w&&w.length?sS(g,w,ht(D,2)):g}function bre(g,w,D){return g&&g.length&&w&&w.length?sS(g,w,n,D):g}var xre=So(function(g,w){var D=g==null?0:g.length,V=X2(g,w);return nD(g,Wn(w,function(q){return jo(q,D)?+q:q}).sort(fD)),V});function yre(g,w){var D=[];if(!(g&&g.length))return D;var V=-1,q=[],se=g.length;for(w=ht(w,3);++V<se;){var de=g[V];w(de,V,g)&&(D.push(de),q.push(V))}return nD(g,q),D}function CS(g){return g==null?g:fte.call(g)}function vre(g,w,D){var V=g==null?0:g.length;return V?(D&&typeof D!="number"&&fs(g,w,D)?(w=0,D=V):(w=w==null?0:It(w),D=D===n?V:It(D)),Ea(g,w,D)):[]}function wre(g,w){return Ab(g,w)}function Sre(g,w,D){return oS(g,w,ht(D,2))}function jre(g,w){var D=g==null?0:g.length;if(D){var V=Ab(g,w);if(V<D&&ai(g[V],w))return V}return-1}function Cre(g,w){return Ab(g,w,!0)}function Nre(g,w,D){return oS(g,w,ht(D,2),!0)}function $re(g,w){var D=g==null?0:g.length;if(D){var V=Ab(g,w,!0)-1;if(ai(g[V],w))return V}return-1}function Ere(g){return g&&g.length?sD(g):[]}function Are(g,w){return g&&g.length?sD(g,ht(w,2)):[]}function Pre(g){var w=g==null?0:g.length;return w?Ea(g,1,w):[]}function Dre(g,w,D){return g&&g.length?(w=D||w===n?1:It(w),Ea(g,0,w<0?0:w)):[]}function kre(g,w,D){var V=g==null?0:g.length;return V?(w=D||w===n?1:It(w),w=V-w,Ea(g,w<0?0:w,V)):[]}function Ire(g,w){return g&&g.length?Pb(g,ht(w,3),!1,!0):[]}function Tre(g,w){return g&&g.length?Pb(g,ht(w,3)):[]}var Mre=Rt(function(g){return Tl(Fr(g,1,nr,!0))}),Ore=Rt(function(g){var w=Aa(g);return nr(w)&&(w=n),Tl(Fr(g,1,nr,!0),ht(w,2))}),Lre=Rt(function(g){var w=Aa(g);return w=typeof w=="function"?w:n,Tl(Fr(g,1,nr,!0),n,w)});function _re(g){return g&&g.length?Tl(g):[]}function Fre(g,w){return g&&g.length?Tl(g,ht(w,2)):[]}function Rre(g,w){return w=typeof w=="function"?w:n,g&&g.length?Tl(g,n,w):[]}function NS(g){if(!(g&&g.length))return[];var w=0;return g=Al(g,function(D){if(nr(D))return w=vr(D.length,w),!0}),V2(w,function(D){return Wn(g,R2(D))})}function UD(g,w){if(!(g&&g.length))return[];var D=NS(g);return w==null?D:Wn(D,function(V){return Xs(w,n,V)})}var Bre=Rt(function(g,w){return nr(g)?Cm(g,w):[]}),zre=Rt(function(g){return cS(Al(g,nr))}),Vre=Rt(function(g){var w=Aa(g);return nr(w)&&(w=n),cS(Al(g,nr),ht(w,2))}),Wre=Rt(function(g){var w=Aa(g);return w=typeof w=="function"?w:n,cS(Al(g,nr),n,w)}),Ure=Rt(NS);function Kre(g,w){return lD(g||[],w||[],jm)}function Hre(g,w){return lD(g||[],w||[],Em)}var qre=Rt(function(g){var w=g.length,D=w>1?g[w-1]:n;return D=typeof D=="function"?(g.pop(),D):n,UD(g,D)});function KD(g){var w=ee(g);return w.__chain__=!0,w}function Gre(g,w){return w(g),g}function Fb(g,w){return w(g)}var Yre=So(function(g){var w=g.length,D=w?g[0]:0,V=this.__wrapped__,q=function(se){return X2(se,g)};return w>1||this.__actions__.length||!(V instanceof Wt)||!jo(D)?this.thru(q):(V=V.slice(D,+D+(w?1:0)),V.__actions__.push({func:Fb,args:[q],thisArg:n}),new Na(V,this.__chain__).thru(function(se){return w&&!se.length&&se.push(n),se}))});function Xre(){return KD(this)}function Zre(){return new Na(this.value(),this.__chain__)}function Jre(){this.__values__===n&&(this.__values__=ak(this.value()));var g=this.__index__>=this.__values__.length,w=g?n:this.__values__[this.__index__++];return{done:g,value:w}}function Qre(){return this}function ese(g){for(var w,D=this;D instanceof jb;){var V=FD(D);V.__index__=0,V.__values__=n,w?q.__wrapped__=V:w=V;var q=V;D=D.__wrapped__}return q.__wrapped__=g,w}function tse(){var g=this.__wrapped__;if(g instanceof Wt){var w=g;return this.__actions__.length&&(w=new Wt(this)),w=w.reverse(),w.__actions__.push({func:Fb,args:[CS],thisArg:n}),new Na(w,this.__chain__)}return this.thru(CS)}function nse(){return oD(this.__wrapped__,this.__actions__)}var rse=Db(function(g,w,D){cn.call(g,D)?++g[D]:vo(g,D,1)});function sse(g,w,D){var V=Pt(g)?vP:Gte;return D&&fs(g,w,D)&&(w=n),V(g,ht(w,3))}function ase(g,w){var D=Pt(g)?Al:UP;return D(g,ht(w,3))}var ise=xD(RD),ose=xD(BD);function lse(g,w){return Fr(Rb(g,w),1)}function cse(g,w){return Fr(Rb(g,w),O)}function use(g,w,D){return D=D===n?1:It(D),Fr(Rb(g,w),D)}function HD(g,w){var D=Pt(g)?ja:Il;return D(g,ht(w,3))}function qD(g,w){var D=Pt(g)?Pee:WP;return D(g,ht(w,3))}var dse=Db(function(g,w,D){cn.call(g,D)?g[D].push(w):vo(g,D,[w])});function fse(g,w,D,V){g=Ts(g)?g:Qd(g),D=D&&!V?It(D):0;var q=g.length;return D<0&&(D=vr(q+D,0)),Ub(g)?D<=q&&g.indexOf(w,D)>-1:!!q&&zd(g,w,D)>-1}var hse=Rt(function(g,w,D){var V=-1,q=typeof w=="function",se=Ts(g)?Ce(g.length):[];return Il(g,function(de){se[++V]=q?Xs(w,de,D):Nm(de,w,D)}),se}),mse=Db(function(g,w,D){vo(g,D,w)});function Rb(g,w){var D=Pt(g)?Wn:XP;return D(g,ht(w,3))}function pse(g,w,D,V){return g==null?[]:(Pt(w)||(w=w==null?[]:[w]),D=V?n:D,Pt(D)||(D=D==null?[]:[D]),eD(g,w,D))}var gse=Db(function(g,w,D){g[D?0:1].push(w)},function(){return[[],[]]});function bse(g,w,D){var V=Pt(g)?_2:CP,q=arguments.length<3;return V(g,ht(w,4),D,q,Il)}function xse(g,w,D){var V=Pt(g)?Dee:CP,q=arguments.length<3;return V(g,ht(w,4),D,q,WP)}function yse(g,w){var D=Pt(g)?Al:UP;return D(g,Vb(ht(w,3)))}function vse(g){var w=Pt(g)?RP:fne;return w(g)}function wse(g,w,D){(D?fs(g,w,D):w===n)?w=1:w=It(w);var V=Pt(g)?Wte:hne;return V(g,w)}function Sse(g){var w=Pt(g)?Ute:pne;return w(g)}function jse(g){if(g==null)return 0;if(Ts(g))return Ub(g)?Wd(g):g.length;var w=Gr(g);return w==$e||w==re?g.size:nS(g).length}function Cse(g,w,D){var V=Pt(g)?F2:gne;return D&&fs(g,w,D)&&(w=n),V(g,ht(w,3))}var Nse=Rt(function(g,w){if(g==null)return[];var D=w.length;return D>1&&fs(g,w[0],w[1])?w=[]:D>2&&fs(w[0],w[1],w[2])&&(w=[w[0]]),eD(g,Fr(w,1),[])}),Bb=ate||function(){return _r.Date.now()};function $se(g,w){if(typeof w!="function")throw new Ca(o);return g=It(g),function(){if(--g<1)return w.apply(this,arguments)}}function GD(g,w,D){return w=D?n:w,w=g&&w==null?g.length:w,wo(g,P,n,n,n,n,w)}function YD(g,w){var D;if(typeof w!="function")throw new Ca(o);return g=It(g),function(){return--g>0&&(D=w.apply(this,arguments)),g<=1&&(w=n),D}}var $S=Rt(function(g,w,D){var V=y;if(D.length){var q=Dl(D,Zd($S));V|=C}return wo(g,V,w,D,q)}),XD=Rt(function(g,w,D){var V=y|v;if(D.length){var q=Dl(D,Zd(XD));V|=C}return wo(w,V,g,D,q)});function ZD(g,w,D){w=D?n:w;var V=wo(g,S,n,n,n,n,n,w);return V.placeholder=ZD.placeholder,V}function JD(g,w,D){w=D?n:w;var V=wo(g,N,n,n,n,n,n,w);return V.placeholder=JD.placeholder,V}function QD(g,w,D){var V,q,se,de,pe,ve,Oe=0,_e=!1,Fe=!1,Xe=!0;if(typeof g!="function")throw new Ca(o);w=Pa(w)||0,qn(D)&&(_e=!!D.leading,Fe="maxWait"in D,se=Fe?vr(Pa(D.maxWait)||0,w):se,Xe="trailing"in D?!!D.trailing:Xe);function at(rr){var ii=V,$o=q;return V=q=n,Oe=rr,de=g.apply($o,ii),de}function pt(rr){return Oe=rr,pe=Dm(Bt,w),_e?at(rr):de}function Lt(rr){var ii=rr-ve,$o=rr-Oe,xk=w-ii;return Fe?qr(xk,se-$o):xk}function gt(rr){var ii=rr-ve,$o=rr-Oe;return ve===n||ii>=w||ii<0||Fe&&$o>=se}function Bt(){var rr=Bb();if(gt(rr))return qt(rr);pe=Dm(Bt,Lt(rr))}function qt(rr){return pe=n,Xe&&V?at(rr):(V=q=n,de)}function ea(){pe!==n&&cD(pe),Oe=0,V=ve=q=pe=n}function hs(){return pe===n?de:qt(Bb())}function ta(){var rr=Bb(),ii=gt(rr);if(V=arguments,q=this,ve=rr,ii){if(pe===n)return pt(ve);if(Fe)return cD(pe),pe=Dm(Bt,w),at(ve)}return pe===n&&(pe=Dm(Bt,w)),de}return ta.cancel=ea,ta.flush=hs,ta}var Ese=Rt(function(g,w){return VP(g,1,w)}),Ase=Rt(function(g,w,D){return VP(g,Pa(w)||0,D)});function Pse(g){return wo(g,M)}function zb(g,w){if(typeof g!="function"||w!=null&&typeof w!="function")throw new Ca(o);var D=function(){var V=arguments,q=w?w.apply(this,V):V[0],se=D.cache;if(se.has(q))return se.get(q);var de=g.apply(this,V);return D.cache=se.set(q,de)||se,de};return D.cache=new(zb.Cache||yo),D}zb.Cache=yo;function Vb(g){if(typeof g!="function")throw new Ca(o);return function(){var w=arguments;switch(w.length){case 0:return!g.call(this);case 1:return!g.call(this,w[0]);case 2:return!g.call(this,w[0],w[1]);case 3:return!g.call(this,w[0],w[1],w[2])}return!g.apply(this,w)}}function Dse(g){return YD(2,g)}var kse=bne(function(g,w){w=w.length==1&&Pt(w[0])?Wn(w[0],Zs(ht())):Wn(Fr(w,1),Zs(ht()));var D=w.length;return Rt(function(V){for(var q=-1,se=qr(V.length,D);++q<se;)V[q]=w[q].call(this,V[q]);return Xs(g,this,V)})}),ES=Rt(function(g,w){var D=Dl(w,Zd(ES));return wo(g,C,n,w,D)}),ek=Rt(function(g,w){var D=Dl(w,Zd(ek));return wo(g,$,n,w,D)}),Ise=So(function(g,w){return wo(g,E,n,n,n,w)});function Tse(g,w){if(typeof g!="function")throw new Ca(o);return w=w===n?w:It(w),Rt(g,w)}function Mse(g,w){if(typeof g!="function")throw new Ca(o);return w=w==null?0:vr(It(w),0),Rt(function(D){var V=D[w],q=Ol(D,0,w);return V&&Pl(q,V),Xs(g,this,q)})}function Ose(g,w,D){var V=!0,q=!0;if(typeof g!="function")throw new Ca(o);return qn(D)&&(V="leading"in D?!!D.leading:V,q="trailing"in D?!!D.trailing:q),QD(g,w,{leading:V,maxWait:w,trailing:q})}function Lse(g){return GD(g,1)}function _se(g,w){return ES(dS(w),g)}function Fse(){if(!arguments.length)return[];var g=arguments[0];return Pt(g)?g:[g]}function Rse(g){return $a(g,p)}function Bse(g,w){return w=typeof w=="function"?w:n,$a(g,p,w)}function zse(g){return $a(g,f|p)}function Vse(g,w){return w=typeof w=="function"?w:n,$a(g,f|p,w)}function Wse(g,w){return w==null||zP(g,w,Er(w))}function ai(g,w){return g===w||g!==g&&w!==w}var Use=Mb(Q2),Kse=Mb(function(g,w){return g>=w}),pu=qP(function(){return arguments}())?qP:function(g){return Xn(g)&&cn.call(g,"callee")&&!TP.call(g,"callee")},Pt=Ce.isArray,Hse=mP?Zs(mP):ene;function Ts(g){return g!=null&&Wb(g.length)&&!Co(g)}function nr(g){return Xn(g)&&Ts(g)}function qse(g){return g===!0||g===!1||Xn(g)&&ds(g)==Q}var Ll=ote||FS,Gse=pP?Zs(pP):tne;function Yse(g){return Xn(g)&&g.nodeType===1&&!km(g)}function Xse(g){if(g==null)return!0;if(Ts(g)&&(Pt(g)||typeof g=="string"||typeof g.splice=="function"||Ll(g)||Jd(g)||pu(g)))return!g.length;var w=Gr(g);if(w==$e||w==re)return!g.size;if(Pm(g))return!nS(g).length;for(var D in g)if(cn.call(g,D))return!1;return!0}function Zse(g,w){return $m(g,w)}function Jse(g,w,D){D=typeof D=="function"?D:n;var V=D?D(g,w):n;return V===n?$m(g,w,n,D):!!V}function AS(g){if(!Xn(g))return!1;var w=ds(g);return w==te||w==ne||typeof g.message=="string"&&typeof g.name=="string"&&!km(g)}function Qse(g){return typeof g=="number"&&OP(g)}function Co(g){if(!qn(g))return!1;var w=ds(g);return w==X||w==xe||w==oe||w==me}function tk(g){return typeof g=="number"&&g==It(g)}function Wb(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=_}function qn(g){var w=typeof g;return g!=null&&(w=="object"||w=="function")}function Xn(g){return g!=null&&typeof g=="object"}var nk=gP?Zs(gP):rne;function eae(g,w){return g===w||tS(g,w,xS(w))}function tae(g,w,D){return D=typeof D=="function"?D:n,tS(g,w,xS(w),D)}function nae(g){return rk(g)&&g!=+g}function rae(g){if(Bne(g))throw new Nt(a);return GP(g)}function sae(g){return g===null}function aae(g){return g==null}function rk(g){return typeof g=="number"||Xn(g)&&ds(g)==Ne}function km(g){if(!Xn(g)||ds(g)!=we)return!1;var w=gb(g);if(w===null)return!0;var D=cn.call(w,"constructor")&&w.constructor;return typeof D=="function"&&D instanceof D&&fb.call(D)==tte}var PS=bP?Zs(bP):sne;function iae(g){return tk(g)&&g>=-9007199254740991&&g<=_}var sk=xP?Zs(xP):ane;function Ub(g){return typeof g=="string"||!Pt(g)&&Xn(g)&&ds(g)==ue}function Qs(g){return typeof g=="symbol"||Xn(g)&&ds(g)==ge}var Jd=yP?Zs(yP):ine;function oae(g){return g===n}function lae(g){return Xn(g)&&Gr(g)==je}function cae(g){return Xn(g)&&ds(g)==ie}var uae=Mb(rS),dae=Mb(function(g,w){return g<=w});function ak(g){if(!g)return[];if(Ts(g))return Ub(g)?ri(g):Is(g);if(xm&&g[xm])return Wee(g[xm]());var w=Gr(g),D=w==$e?U2:w==re?cb:Qd;return D(g)}function No(g){if(!g)return g===0?g:0;if(g=Pa(g),g===O||g===-1/0){var w=g<0?-1:1;return w*W}return g===g?g:0}function It(g){var w=No(g),D=w%1;return w===w?D?w-D:w:0}function ik(g){return g?du(It(g),0,U):0}function Pa(g){if(typeof g=="number")return g;if(Qs(g))return z;if(qn(g)){var w=typeof g.valueOf=="function"?g.valueOf():g;g=qn(w)?w+"":w}if(typeof g!="string")return g===0?g:+g;g=NP(g);var D=A2.test(g);return D||ks.test(g)?$ee(g.slice(2),D?2:8):E2.test(g)?z:+g}function ok(g){return Ti(g,Ms(g))}function fae(g){return g?du(It(g),-9007199254740991,_):g===0?g:0}function sn(g){return g==null?"":Js(g)}var hae=Yd(function(g,w){if(Pm(w)||Ts(w)){Ti(w,Er(w),g);return}for(var D in w)cn.call(w,D)&&jm(g,D,w[D])}),lk=Yd(function(g,w){Ti(w,Ms(w),g)}),Kb=Yd(function(g,w,D,V){Ti(w,Ms(w),g,V)}),mae=Yd(function(g,w,D,V){Ti(w,Er(w),g,V)}),pae=So(X2);function gae(g,w){var D=Gd(g);return w==null?D:BP(D,w)}var bae=Rt(function(g,w){g=yn(g);var D=-1,V=w.length,q=V>2?w[2]:n;for(q&&fs(w[0],w[1],q)&&(V=1);++D<V;)for(var se=w[D],de=Ms(se),pe=-1,ve=de.length;++pe<ve;){var Oe=de[pe],_e=g[Oe];(_e===n||ai(_e,Kd[Oe])&&!cn.call(g,Oe))&&(g[Oe]=se[Oe])}return g}),xae=Rt(function(g){return g.push(n,ND),Xs(ck,n,g)});function yae(g,w){return wP(g,ht(w,3),Ii)}function vae(g,w){return wP(g,ht(w,3),J2)}function wae(g,w){return g==null?g:Z2(g,ht(w,3),Ms)}function Sae(g,w){return g==null?g:KP(g,ht(w,3),Ms)}function jae(g,w){return g&&Ii(g,ht(w,3))}function Cae(g,w){return g&&J2(g,ht(w,3))}function Nae(g){return g==null?[]:$b(g,Er(g))}function $ae(g){return g==null?[]:$b(g,Ms(g))}function DS(g,w,D){var V=g==null?n:fu(g,w);return V===n?D:V}function Eae(g,w){return g!=null&&AD(g,w,Xte)}function kS(g,w){return g!=null&&AD(g,w,Zte)}var Aae=vD(function(g,w,D){w!=null&&typeof w.toString!="function"&&(w=hb.call(w)),g[w]=D},TS(Os)),Pae=vD(function(g,w,D){w!=null&&typeof w.toString!="function"&&(w=hb.call(w)),cn.call(g,w)?g[w].push(D):g[w]=[D]},ht),Dae=Rt(Nm);function Er(g){return Ts(g)?FP(g):nS(g)}function Ms(g){return Ts(g)?FP(g,!0):one(g)}function kae(g,w){var D={};return w=ht(w,3),Ii(g,function(V,q,se){vo(D,w(V,q,se),V)}),D}function Iae(g,w){var D={};return w=ht(w,3),Ii(g,function(V,q,se){vo(D,q,w(V,q,se))}),D}var Tae=Yd(function(g,w,D){Eb(g,w,D)}),ck=Yd(function(g,w,D,V){Eb(g,w,D,V)}),Mae=So(function(g,w){var D={};if(g==null)return D;var V=!1;w=Wn(w,function(se){return se=Ml(se,g),V||(V=se.length>1),se}),Ti(g,gS(g),D),V&&(D=$a(D,f|h|p,Ane));for(var q=w.length;q--;)lS(D,w[q]);return D});function Oae(g,w){return uk(g,Vb(ht(w)))}var Lae=So(function(g,w){return g==null?{}:cne(g,w)});function uk(g,w){if(g==null)return{};var D=Wn(gS(g),function(V){return[V]});return w=ht(w),tD(g,D,function(V,q){return w(V,q[0])})}function _ae(g,w,D){w=Ml(w,g);var V=-1,q=w.length;for(q||(q=1,g=n);++V<q;){var se=g==null?n:g[Mi(w[V])];se===n&&(V=q,se=D),g=Co(se)?se.call(g):se}return g}function Fae(g,w,D){return g==null?g:Em(g,w,D)}function Rae(g,w,D,V){return V=typeof V=="function"?V:n,g==null?g:Em(g,w,D,V)}var dk=jD(Er),fk=jD(Ms);function Bae(g,w,D){var V=Pt(g),q=V||Ll(g)||Jd(g);if(w=ht(w,4),D==null){var se=g&&g.constructor;q?D=V?new se:[]:qn(g)?D=Co(se)?Gd(gb(g)):{}:D={}}return(q?ja:Ii)(g,function(de,pe,ve){return w(D,de,pe,ve)}),D}function zae(g,w){return g==null?!0:lS(g,w)}function Vae(g,w,D){return g==null?g:iD(g,w,dS(D))}function Wae(g,w,D,V){return V=typeof V=="function"?V:n,g==null?g:iD(g,w,dS(D),V)}function Qd(g){return g==null?[]:W2(g,Er(g))}function Uae(g){return g==null?[]:W2(g,Ms(g))}function Kae(g,w,D){return D===n&&(D=w,w=n),D!==n&&(D=Pa(D),D=D===D?D:0),w!==n&&(w=Pa(w),w=w===w?w:0),du(Pa(g),w,D)}function Hae(g,w,D){return w=No(w),D===n?(D=w,w=0):D=No(D),g=Pa(g),Jte(g,w,D)}function qae(g,w,D){if(D&&typeof D!="boolean"&&fs(g,w,D)&&(w=D=n),D===n&&(typeof w=="boolean"?(D=w,w=n):typeof g=="boolean"&&(D=g,g=n)),g===n&&w===n?(g=0,w=1):(g=No(g),w===n?(w=g,g=0):w=No(w)),g>w){var V=g;g=w,w=V}if(D||g%1||w%1){var q=LP();return qr(g+q*(w-g+Nee("1e-"+((q+"").length-1))),w)}return aS(g,w)}var Gae=Xd(function(g,w,D){return w=w.toLowerCase(),g+(D?hk(w):w)});function hk(g){return IS(sn(g).toLowerCase())}function mk(g){return g=sn(g),g&&g.replace(El,Fee).replace(pee,"")}function Yae(g,w,D){g=sn(g),w=Js(w);var V=g.length;D=D===n?V:du(It(D),0,V);var q=D;return D-=w.length,D>=0&&g.slice(D,q)==w}function Xae(g){return g=sn(g),g&&tn.test(g)?g.replace(Vn,Ree):g}function Zae(g){return g=sn(g),g&&au.test(g)?g.replace(ki,"\\$&"):g}var Jae=Xd(function(g,w,D){return g+(D?"-":"")+w.toLowerCase()}),Qae=Xd(function(g,w,D){return g+(D?" ":"")+w.toLowerCase()}),eie=bD("toLowerCase");function tie(g,w,D){g=sn(g),w=It(w);var V=w?Wd(g):0;if(!w||V>=w)return g;var q=(w-V)/2;return Tb(vb(q),D)+g+Tb(yb(q),D)}function nie(g,w,D){g=sn(g),w=It(w);var V=w?Wd(g):0;return w&&V<w?g+Tb(w-V,D):g}function rie(g,w,D){g=sn(g),w=It(w);var V=w?Wd(g):0;return w&&V<w?Tb(w-V,D)+g:g}function sie(g,w,D){return D||w==null?w=0:w&&(w=+w),dte(sn(g).replace(go,""),w||0)}function aie(g,w,D){return(D?fs(g,w,D):w===n)?w=1:w=It(w),iS(sn(g),w)}function iie(){var g=arguments,w=sn(g[0]);return g.length<3?w:w.replace(g[1],g[2])}var oie=Xd(function(g,w,D){return g+(D?"_":"")+w.toLowerCase()});function lie(g,w,D){return D&&typeof D!="number"&&fs(g,w,D)&&(w=D=n),D=D===n?U:D>>>0,D?(g=sn(g),g&&(typeof w=="string"||w!=null&&!PS(w))&&(w=Js(w),!w&&Vd(g))?Ol(ri(g),0,D):g.split(w,D)):[]}var cie=Xd(function(g,w,D){return g+(D?" ":"")+IS(w)});function uie(g,w,D){return g=sn(g),D=D==null?0:du(It(D),0,g.length),w=Js(w),g.slice(D,D+w.length)==w}function die(g,w,D){var V=ee.templateSettings;D&&fs(g,w,D)&&(w=n),g=sn(g),w=Kb({},w,V,CD);var q=Kb({},w.imports,V.imports,CD),se=Er(q),de=W2(q,se),pe,ve,Oe=0,_e=w.interpolate||Rd,Fe="__p += '",Xe=K2((w.escape||Rd).source+"|"+_e.source+"|"+(_e===At?bo:Rd).source+"|"+(w.evaluate||Rd).source+"|$","g"),at="//# sourceURL="+(cn.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vee+"]")+`
`;g.replace(Xe,function(gt,Bt,qt,ea,hs,ta){return qt||(qt=ea),Fe+=g.slice(Oe,ta).replace(ZQ,Bee),Bt&&(pe=!0,Fe+=`' +
__e(`+Bt+`) +
'`),hs&&(ve=!0,Fe+=`';
`+hs+`;
__p += '`),qt&&(Fe+=`' +
((__t = (`+qt+`)) == null ? '' : __t) +
'`),Oe=ta+gt.length,gt}),Fe+=`';
`;var pt=cn.call(w,"variable")&&w.variable;if(!pt)Fe=`with (obj) {
`+Fe+`
}
`;else if(pm.test(pt))throw new Nt(l);Fe=(ve?Fe.replace(ot,""):Fe).replace(Je,"$1").replace(lt,"$1;"),Fe="function("+(pt||"obj")+`) {
`+(pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var Lt=gk(function(){return nn(se,at+"return "+Fe).apply(n,de)});if(Lt.source=Fe,AS(Lt))throw Lt;return Lt}function fie(g){return sn(g).toLowerCase()}function hie(g){return sn(g).toUpperCase()}function mie(g,w,D){if(g=sn(g),g&&(D||w===n))return NP(g);if(!g||!(w=Js(w)))return g;var V=ri(g),q=ri(w),se=$P(V,q),de=EP(V,q)+1;return Ol(V,se,de).join("")}function pie(g,w,D){if(g=sn(g),g&&(D||w===n))return g.slice(0,PP(g)+1);if(!g||!(w=Js(w)))return g;var V=ri(g),q=EP(V,ri(w))+1;return Ol(V,0,q).join("")}function gie(g,w,D){if(g=sn(g),g&&(D||w===n))return g.replace(go,"");if(!g||!(w=Js(w)))return g;var V=ri(g),q=$P(V,ri(w));return Ol(V,q).join("")}function bie(g,w){var D=k,V=A;if(qn(w)){var q="separator"in w?w.separator:q;D="length"in w?It(w.length):D,V="omission"in w?Js(w.omission):V}g=sn(g);var se=g.length;if(Vd(g)){var de=ri(g);se=de.length}if(D>=se)return g;var pe=D-Wd(V);if(pe<1)return V;var ve=de?Ol(de,0,pe).join(""):g.slice(0,pe);if(q===n)return ve+V;if(de&&(pe+=ve.length-pe),PS(q)){if(g.slice(pe).search(q)){var Oe,_e=ve;for(q.global||(q=K2(q.source,sn(sb.exec(q))+"g")),q.lastIndex=0;Oe=q.exec(_e);)var Fe=Oe.index;ve=ve.slice(0,Fe===n?pe:Fe)}}else if(g.indexOf(Js(q),pe)!=pe){var Xe=ve.lastIndexOf(q);Xe>-1&&(ve=ve.slice(0,Xe))}return ve+V}function xie(g){return g=sn(g),g&&Yn.test(g)?g.replace(Ot,qee):g}var yie=Xd(function(g,w,D){return g+(D?" ":"")+w.toUpperCase()}),IS=bD("toUpperCase");function pk(g,w,D){return g=sn(g),w=D?n:w,w===n?Vee(g)?Xee(g):Tee(g):g.match(w)||[]}var gk=Rt(function(g,w){try{return Xs(g,n,w)}catch(D){return AS(D)?D:new Nt(D)}}),vie=So(function(g,w){return ja(w,function(D){D=Mi(D),vo(g,D,$S(g[D],g))}),g});function wie(g){var w=g==null?0:g.length,D=ht();return g=w?Wn(g,function(V){if(typeof V[1]!="function")throw new Ca(o);return[D(V[0]),V[1]]}):[],Rt(function(V){for(var q=-1;++q<w;){var se=g[q];if(Xs(se[0],this,V))return Xs(se[1],this,V)}})}function Sie(g){return qte($a(g,f))}function TS(g){return function(){return g}}function jie(g,w){return g==null||g!==g?w:g}var Cie=yD(),Nie=yD(!0);function Os(g){return g}function MS(g){return YP(typeof g=="function"?g:$a(g,f))}function $ie(g){return ZP($a(g,f))}function Eie(g,w){return JP(g,$a(w,f))}var Aie=Rt(function(g,w){return function(D){return Nm(D,g,w)}}),Pie=Rt(function(g,w){return function(D){return Nm(g,D,w)}});function OS(g,w,D){var V=Er(w),q=$b(w,V);D==null&&!(qn(w)&&(q.length||!V.length))&&(D=w,w=g,g=this,q=$b(w,Er(w)));var se=!(qn(D)&&"chain"in D)||!!D.chain,de=Co(g);return ja(q,function(pe){var ve=w[pe];g[pe]=ve,de&&(g.prototype[pe]=function(){var Oe=this.__chain__;if(se||Oe){var _e=g(this.__wrapped__),Fe=_e.__actions__=Is(this.__actions__);return Fe.push({func:ve,args:arguments,thisArg:g}),_e.__chain__=Oe,_e}return ve.apply(g,Pl([this.value()],arguments))})}),g}function Die(){return _r._===this&&(_r._=nte),this}function LS(){}function kie(g){return g=It(g),Rt(function(w){return QP(w,g)})}var Iie=hS(Wn),Tie=hS(vP),Mie=hS(F2);function bk(g){return vS(g)?R2(Mi(g)):une(g)}function Oie(g){return function(w){return g==null?n:fu(g,w)}}var Lie=wD(),_ie=wD(!0);function _S(){return[]}function FS(){return!1}function Fie(){return{}}function Rie(){return""}function Bie(){return!0}function zie(g,w){if(g=It(g),g<1||g>_)return[];var D=U,V=qr(g,U);w=ht(w),g-=U;for(var q=V2(V,w);++D<g;)w(D);return q}function Vie(g){return Pt(g)?Wn(g,Mi):Qs(g)?[g]:Is(_D(sn(g)))}function Wie(g){var w=++ete;return sn(g)+w}var Uie=Ib(function(g,w){return g+w},0),Kie=mS("ceil"),Hie=Ib(function(g,w){return g/w},1),qie=mS("floor");function Gie(g){return g&&g.length?Nb(g,Os,Q2):n}function Yie(g,w){return g&&g.length?Nb(g,ht(w,2),Q2):n}function Xie(g){return jP(g,Os)}function Zie(g,w){return jP(g,ht(w,2))}function Jie(g){return g&&g.length?Nb(g,Os,rS):n}function Qie(g,w){return g&&g.length?Nb(g,ht(w,2),rS):n}var eoe=Ib(function(g,w){return g*w},1),toe=mS("round"),noe=Ib(function(g,w){return g-w},0);function roe(g){return g&&g.length?z2(g,Os):0}function soe(g,w){return g&&g.length?z2(g,ht(w,2)):0}return ee.after=$se,ee.ary=GD,ee.assign=hae,ee.assignIn=lk,ee.assignInWith=Kb,ee.assignWith=mae,ee.at=pae,ee.before=YD,ee.bind=$S,ee.bindAll=vie,ee.bindKey=XD,ee.castArray=Fse,ee.chain=KD,ee.chunk=qne,ee.compact=Gne,ee.concat=Yne,ee.cond=wie,ee.conforms=Sie,ee.constant=TS,ee.countBy=rse,ee.create=gae,ee.curry=ZD,ee.curryRight=JD,ee.debounce=QD,ee.defaults=bae,ee.defaultsDeep=xae,ee.defer=Ese,ee.delay=Ase,ee.difference=Xne,ee.differenceBy=Zne,ee.differenceWith=Jne,ee.drop=Qne,ee.dropRight=ere,ee.dropRightWhile=tre,ee.dropWhile=nre,ee.fill=rre,ee.filter=ase,ee.flatMap=lse,ee.flatMapDeep=cse,ee.flatMapDepth=use,ee.flatten=zD,ee.flattenDeep=sre,ee.flattenDepth=are,ee.flip=Pse,ee.flow=Cie,ee.flowRight=Nie,ee.fromPairs=ire,ee.functions=Nae,ee.functionsIn=$ae,ee.groupBy=dse,ee.initial=lre,ee.intersection=cre,ee.intersectionBy=ure,ee.intersectionWith=dre,ee.invert=Aae,ee.invertBy=Pae,ee.invokeMap=hse,ee.iteratee=MS,ee.keyBy=mse,ee.keys=Er,ee.keysIn=Ms,ee.map=Rb,ee.mapKeys=kae,ee.mapValues=Iae,ee.matches=$ie,ee.matchesProperty=Eie,ee.memoize=zb,ee.merge=Tae,ee.mergeWith=ck,ee.method=Aie,ee.methodOf=Pie,ee.mixin=OS,ee.negate=Vb,ee.nthArg=kie,ee.omit=Mae,ee.omitBy=Oae,ee.once=Dse,ee.orderBy=pse,ee.over=Iie,ee.overArgs=kse,ee.overEvery=Tie,ee.overSome=Mie,ee.partial=ES,ee.partialRight=ek,ee.partition=gse,ee.pick=Lae,ee.pickBy=uk,ee.property=bk,ee.propertyOf=Oie,ee.pull=pre,ee.pullAll=WD,ee.pullAllBy=gre,ee.pullAllWith=bre,ee.pullAt=xre,ee.range=Lie,ee.rangeRight=_ie,ee.rearg=Ise,ee.reject=yse,ee.remove=yre,ee.rest=Tse,ee.reverse=CS,ee.sampleSize=wse,ee.set=Fae,ee.setWith=Rae,ee.shuffle=Sse,ee.slice=vre,ee.sortBy=Nse,ee.sortedUniq=Ere,ee.sortedUniqBy=Are,ee.split=lie,ee.spread=Mse,ee.tail=Pre,ee.take=Dre,ee.takeRight=kre,ee.takeRightWhile=Ire,ee.takeWhile=Tre,ee.tap=Gre,ee.throttle=Ose,ee.thru=Fb,ee.toArray=ak,ee.toPairs=dk,ee.toPairsIn=fk,ee.toPath=Vie,ee.toPlainObject=ok,ee.transform=Bae,ee.unary=Lse,ee.union=Mre,ee.unionBy=Ore,ee.unionWith=Lre,ee.uniq=_re,ee.uniqBy=Fre,ee.uniqWith=Rre,ee.unset=zae,ee.unzip=NS,ee.unzipWith=UD,ee.update=Vae,ee.updateWith=Wae,ee.values=Qd,ee.valuesIn=Uae,ee.without=Bre,ee.words=pk,ee.wrap=_se,ee.xor=zre,ee.xorBy=Vre,ee.xorWith=Wre,ee.zip=Ure,ee.zipObject=Kre,ee.zipObjectDeep=Hre,ee.zipWith=qre,ee.entries=dk,ee.entriesIn=fk,ee.extend=lk,ee.extendWith=Kb,OS(ee,ee),ee.add=Uie,ee.attempt=gk,ee.camelCase=Gae,ee.capitalize=hk,ee.ceil=Kie,ee.clamp=Kae,ee.clone=Rse,ee.cloneDeep=zse,ee.cloneDeepWith=Vse,ee.cloneWith=Bse,ee.conformsTo=Wse,ee.deburr=mk,ee.defaultTo=jie,ee.divide=Hie,ee.endsWith=Yae,ee.eq=ai,ee.escape=Xae,ee.escapeRegExp=Zae,ee.every=sse,ee.find=ise,ee.findIndex=RD,ee.findKey=yae,ee.findLast=ose,ee.findLastIndex=BD,ee.findLastKey=vae,ee.floor=qie,ee.forEach=HD,ee.forEachRight=qD,ee.forIn=wae,ee.forInRight=Sae,ee.forOwn=jae,ee.forOwnRight=Cae,ee.get=DS,ee.gt=Use,ee.gte=Kse,ee.has=Eae,ee.hasIn=kS,ee.head=VD,ee.identity=Os,ee.includes=fse,ee.indexOf=ore,ee.inRange=Hae,ee.invoke=Dae,ee.isArguments=pu,ee.isArray=Pt,ee.isArrayBuffer=Hse,ee.isArrayLike=Ts,ee.isArrayLikeObject=nr,ee.isBoolean=qse,ee.isBuffer=Ll,ee.isDate=Gse,ee.isElement=Yse,ee.isEmpty=Xse,ee.isEqual=Zse,ee.isEqualWith=Jse,ee.isError=AS,ee.isFinite=Qse,ee.isFunction=Co,ee.isInteger=tk,ee.isLength=Wb,ee.isMap=nk,ee.isMatch=eae,ee.isMatchWith=tae,ee.isNaN=nae,ee.isNative=rae,ee.isNil=aae,ee.isNull=sae,ee.isNumber=rk,ee.isObject=qn,ee.isObjectLike=Xn,ee.isPlainObject=km,ee.isRegExp=PS,ee.isSafeInteger=iae,ee.isSet=sk,ee.isString=Ub,ee.isSymbol=Qs,ee.isTypedArray=Jd,ee.isUndefined=oae,ee.isWeakMap=lae,ee.isWeakSet=cae,ee.join=fre,ee.kebabCase=Jae,ee.last=Aa,ee.lastIndexOf=hre,ee.lowerCase=Qae,ee.lowerFirst=eie,ee.lt=uae,ee.lte=dae,ee.max=Gie,ee.maxBy=Yie,ee.mean=Xie,ee.meanBy=Zie,ee.min=Jie,ee.minBy=Qie,ee.stubArray=_S,ee.stubFalse=FS,ee.stubObject=Fie,ee.stubString=Rie,ee.stubTrue=Bie,ee.multiply=eoe,ee.nth=mre,ee.noConflict=Die,ee.noop=LS,ee.now=Bb,ee.pad=tie,ee.padEnd=nie,ee.padStart=rie,ee.parseInt=sie,ee.random=qae,ee.reduce=bse,ee.reduceRight=xse,ee.repeat=aie,ee.replace=iie,ee.result=_ae,ee.round=toe,ee.runInContext=be,ee.sample=vse,ee.size=jse,ee.snakeCase=oie,ee.some=Cse,ee.sortedIndex=wre,ee.sortedIndexBy=Sre,ee.sortedIndexOf=jre,ee.sortedLastIndex=Cre,ee.sortedLastIndexBy=Nre,ee.sortedLastIndexOf=$re,ee.startCase=cie,ee.startsWith=uie,ee.subtract=noe,ee.sum=roe,ee.sumBy=soe,ee.template=die,ee.times=zie,ee.toFinite=No,ee.toInteger=It,ee.toLength=ik,ee.toLower=fie,ee.toNumber=Pa,ee.toSafeInteger=fae,ee.toString=sn,ee.toUpper=hie,ee.trim=mie,ee.trimEnd=pie,ee.trimStart=gie,ee.truncate=bie,ee.unescape=xie,ee.uniqueId=Wie,ee.upperCase=yie,ee.upperFirst=IS,ee.each=HD,ee.eachRight=qD,ee.first=VD,OS(ee,function(){var g={};return Ii(ee,function(w,D){cn.call(ee.prototype,D)||(g[D]=w)}),g}(),{chain:!1}),ee.VERSION=r,ja(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){ee[g].placeholder=ee}),ja(["drop","take"],function(g,w){Wt.prototype[g]=function(D){D=D===n?1:vr(It(D),0);var V=this.__filtered__&&!w?new Wt(this):this.clone();return V.__filtered__?V.__takeCount__=qr(D,V.__takeCount__):V.__views__.push({size:qr(D,U),type:g+(V.__dir__<0?"Right":"")}),V},Wt.prototype[g+"Right"]=function(D){return this.reverse()[g](D).reverse()}}),ja(["filter","map","takeWhile"],function(g,w){var D=w+1,V=D==R||D==T;Wt.prototype[g]=function(q){var se=this.clone();return se.__iteratees__.push({iteratee:ht(q,3),type:D}),se.__filtered__=se.__filtered__||V,se}}),ja(["head","last"],function(g,w){var D="take"+(w?"Right":"");Wt.prototype[g]=function(){return this[D](1).value()[0]}}),ja(["initial","tail"],function(g,w){var D="drop"+(w?"":"Right");Wt.prototype[g]=function(){return this.__filtered__?new Wt(this):this[D](1)}}),Wt.prototype.compact=function(){return this.filter(Os)},Wt.prototype.find=function(g){return this.filter(g).head()},Wt.prototype.findLast=function(g){return this.reverse().find(g)},Wt.prototype.invokeMap=Rt(function(g,w){return typeof g=="function"?new Wt(this):this.map(function(D){return Nm(D,g,w)})}),Wt.prototype.reject=function(g){return this.filter(Vb(ht(g)))},Wt.prototype.slice=function(g,w){g=It(g);var D=this;return D.__filtered__&&(g>0||w<0)?new Wt(D):(g<0?D=D.takeRight(-g):g&&(D=D.drop(g)),w!==n&&(w=It(w),D=w<0?D.dropRight(-w):D.take(w-g)),D)},Wt.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},Wt.prototype.toArray=function(){return this.take(U)},Ii(Wt.prototype,function(g,w){var D=/^(?:filter|find|map|reject)|While$/.test(w),V=/^(?:head|last)$/.test(w),q=ee[V?"take"+(w=="last"?"Right":""):w],se=V||/^find/.test(w);q&&(ee.prototype[w]=function(){var de=this.__wrapped__,pe=V?[1]:arguments,ve=de instanceof Wt,Oe=pe[0],_e=ve||Pt(de),Fe=function(Bt){var qt=q.apply(ee,Pl([Bt],pe));return V&&Xe?qt[0]:qt};_e&&D&&typeof Oe=="function"&&Oe.length!=1&&(ve=_e=!1);var Xe=this.__chain__,at=!!this.__actions__.length,pt=se&&!Xe,Lt=ve&&!at;if(!se&&_e){de=Lt?de:new Wt(this);var gt=g.apply(de,pe);return gt.__actions__.push({func:Fb,args:[Fe],thisArg:n}),new Na(gt,Xe)}return pt&&Lt?g.apply(this,pe):(gt=this.thru(Fe),pt?V?gt.value()[0]:gt.value():gt)})}),ja(["pop","push","shift","sort","splice","unshift"],function(g){var w=ub[g],D=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",V=/^(?:pop|shift)$/.test(g);ee.prototype[g]=function(){var q=arguments;if(V&&!this.__chain__){var se=this.value();return w.apply(Pt(se)?se:[],q)}return this[D](function(de){return w.apply(Pt(de)?de:[],q)})}}),Ii(Wt.prototype,function(g,w){var D=ee[w];if(D){var V=D.name+"";cn.call(qd,V)||(qd[V]=[]),qd[V].push({name:w,func:D})}}),qd[kb(n,v).name]=[{name:"wrapper",func:n}],Wt.prototype.clone=xte,Wt.prototype.reverse=yte,Wt.prototype.value=vte,ee.prototype.at=Yre,ee.prototype.chain=Xre,ee.prototype.commit=Zre,ee.prototype.next=Jre,ee.prototype.plant=ese,ee.prototype.reverse=tse,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=nse,ee.prototype.first=ee.prototype.head,xm&&(ee.prototype[xm]=Qre),ee},Ud=Zee();ou?((ou.exports=Ud)._=Ud,M2._=Ud):_r._=Ud}).call(la)})(Qy,Qy.exports);var ISe=Qy.exports;const TSe=rn(ISe),{debounce:MSe}=TSe,OSe="https://back.soraddynamics.com",Um=[{value:"name",label:"Name"},{value:"class",label:"Class"},{value:"section",label:"Section"},{value:"parentName",label:"Parent Name"}],R6=({isMobile:e,onStudentSelect:t,isLoading:n})=>{const{studentData:r,fetchStudentData:s,addStudentData:a}=Gc(),{facultyData:o,fetchFacultyData:l}=Hs(),{sectionData:c,fetchSectionData:u}=wl(),{parentData:d,fetchParentData:f,addParentData:h,updateParentData:p}=O0(),{domain:b}=et(),[x,y]=m.useState(""),[v,j]=m.useState(null),{isOpen:S,onOpen:N,onClose:C}=Ei(),[$,P]=m.useState(""),[E,M]=m.useState(""),[k,A]=m.useState(""),[I,L]=m.useState(""),[R,F]=m.useState(""),[T,O]=m.useState(""),[_,W]=m.useState(""),[z,U]=m.useState(!1),[H,B]=m.useState(""),[Y,ae]=m.useState(""),[ce,oe]=m.useState(!1),Q=m.useRef(null),[K,ne]=m.useState(null),[te,X]=m.useState(!1),[xe,$e]=m.useState(null),[Ne,Le]=m.useState(Um[0].value),[we,fe]=m.useState([]),[me,G]=m.useState([]),[re,ue]=m.useState([]),[ge,ye]=m.useState([]);m.useEffect(()=>{Promise.all([l(),u(),f(),s()]).catch(Re=>{console.error("Error during initial data fetch:",Re),j("Failed to load initial data. Please refresh.")})},[l,u,f,s]),m.useEffect(()=>{fe(o.map(Re=>({key:Re.$id,label:Re.name})))},[o]),m.useEffect(()=>{var Re;G(_?(((Re=o.find(Ue=>Ue.$id===_))==null?void 0:Re.classes)??[]).map(Ue=>({key:Ue,label:Ue})):[])},[_,o]),m.useEffect(()=>{if(S&&_&&k){const Re=c.filter(Ue=>Ue.facultyId===_&&Ue.class===k).map(Ue=>({key:Ue.$id,label:Ue.name}));ue(Re)}else ue([])},[S,c,_,k]),m.useEffect(()=>{const Re=Ue=>{Q.current&&!Q.current.contains(Ue.target)&&oe(!1)};return document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[]);const je=m.useCallback(MSe(Re=>{const Ue=Re.trim();if(!Ue){ye([]),oe(!1);return}const it=Ue.toLowerCase(),Je=d.filter(lt=>lt.name.toLowerCase().includes(it)||lt.email.toLowerCase().includes(it)).map(lt=>({key:lt.$id,label:`${lt.name} (${lt.email})`}));ye(Je.slice(0,5)),oe(!0)},300),[d]),ie=Re=>{const Ue=Re.target.value;ae(Ue),ne(null),B(""),Ue.trim()===""?(ye([]),oe(!1)):je(Ue)},he=()=>{Y.trim()&&!ce?je(Y.trim()):Y.trim()||oe(!1)},ke=Re=>{B(Re.key),ae(Re.label),oe(!1),ye([]),ne(null)},Be=Re=>{y(Re)},qe=()=>{P(""),M(""),A(""),L(""),F(""),O(""),W(""),U(!1),B(""),ae(""),oe(!1),ye([]),ne(null),X(!1),N()},Et=()=>{j(null);const Re=Promise.all([s(),f(),l(),u()]);Ke.promise(Re,{loading:"Refreshing data...",success:"Data refreshed!",error:Ue=>(console.error("Refresh Error:",Ue),j("Failed to refresh data."),"Failed to refresh data.")})},ln=async()=>{if(ne(null),X(!0),!b){ne("School domain is not configured. Cannot create student. Please re-login or contact support."),X(!1),Ke.error("School domain missing. Action aborted.");return}if(!$.trim()){ne("Student Name is required."),X(!1);return}if(!_){ne("Faculty is required."),X(!1);return}if(!k.trim()){ne("Class is required."),X(!1);return}let Re=null;if(z){if(!H){ne("Please select an existing parent."),X(!1);return}if(Re=H,!d.find(it=>it.$id===Re)){ne("Selected parent data not found. Please refresh and try again."),X(!1);return}}else{if(!E.trim()){ne("Parent Name is required."),X(!1);return}if(!R.trim()||!/\S+@\S+\.\S+/.test(R)){ne("Valid Parent Email is required."),X(!1);return}if(!T.trim()){ne("Contact No. is required."),X(!1);return}if(d.find(it=>it.email.toLowerCase()===R.toLowerCase())){ne(`Parent with email ${R} already exists. Use 'Existing Parent' option or choose a different email.`),X(!1);return}}try{let Ue;if(z){const At=d.find(Yt=>Yt.$id===H);if(!At)throw new Error("Could not find the selected parent's details. Please re-select.");Ue={isExistingParent:!0,studentName:$,parentEmail:At.email,parentName:At.name,domain:b}}else Ue={isExistingParent:!1,studentName:$,parentName:E,parentEmail:R,domain:b};const it=await fetch(`${OSe}/api/users/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ue)}),ot=await it.json();if(!it.ok)throw new Error(ot.message||`User creation failed: ${it.status}`);const{studentUserId:Je,parentUserId:lt,studentEmail:Ot}=ot;if(!Je)throw new Error("Backend did not return student user ID.");let Vn=Re;if(!z){if(!lt)throw new Error("Backend did not return parent user ID for new parent.");const At={id:lt,name:E,email:R,contact:T.split(",").map(ti=>ti.trim()).filter(Boolean)},Yt=await h(At,lt);if(!Yt)throw new Error("Failed to save new parent document to database.");Vn=Yt.$id}if(!Vn)throw new Error("Parent document ID could not be determined.");let Yn="";if(I){const At=c.find(Yt=>Yt.$id===I);At?Yn=At.name:console.warn(`Could not find section name for ID: ${I}. Saving empty section name.`)}const ur=await a({id:Je,name:$,class:k,facultyId:_,section:Yn,parentId:Vn,stdEmail:Ot},Je);if(!ur)throw new Error("Failed to save student document to database.");await p(Vn,ur.$id)||(console.error(`Failed to update parent document ${Vn} with new student ${ur.$id}. Manual check needed.`),Ke.error("Student created, but failed to link to parent record.")),Ke.success("Student and associated user(s) created successfully!"),C()}catch(Ue){console.error("Error during save process:",Ue),ne(Ue.message||"An unexpected error occurred during save."),Ke.error(`Save Failed: ${Ue.message}`)}finally{X(!1)}},Ht=Re=>{const Ue=Re.target.checked;U(Ue),ne(null),Ue?(M(""),F(""),O("")):(B(""),ae(""),oe(!1),ye([]))},vt=m.useMemo(()=>{const Ue=r||[];if(x){const it=x.toLowerCase();return Ue.filter(ot=>{var Ot;const Je=((Ot=d.find(Vn=>Vn.$id===ot.parentId))==null?void 0:Ot.name)||"",lt=ot.section;switch(Ne){case"name":return(ot.name||"").toLowerCase().includes(it);case"class":return(ot.class||"").toLowerCase().includes(it);case"section":return(lt||"").toLowerCase().includes(it);case"parentName":return Je.toLowerCase().includes(it);default:return(ot.name||"").toLowerCase().includes(it)}})}else return[...Ue].sort((ot,Je)=>{try{const lt=ot.$createdAt?new Date(ot.$createdAt).getTime():0,Ot=Je.$createdAt?new Date(Je.$createdAt).getTime():0;return isNaN(Ot)?-1:isNaN(lt)?1:Ot-lt}catch(lt){return console.error("Error parsing date for sorting student data:",lt,ot,Je),0}}).slice(0,10)},[r,x,Ne,d]);return i.jsxs("div",{className:"md:w-full w-full md:p-2",children:[i.jsx(ia,{position:"top-right"}),v&&i.jsx(Dd,{message:v}),i.jsx("div",{className:"top overflow-x-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#CBD5E1 transparent"},children:i.jsxs("div",{className:"min-w-[370px] mt-1 mx-3 md:px-0 mb-1",children:[i.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-2",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:qe,color:"orange","aria-label":"Add New Student"}),i.jsx(Tc,{placeholder:"Search By",className:"max-w-[9rem] flex-shrink-0",variant:"faded",size:"md",selectedKeys:new Set([Ne]),onSelectionChange:Re=>{const Ue=Array.from(Re)[0];Le(Ue?Ue.toString():Um[0].value)},"aria-label":"Select search field",children:Um.map(Re=>i.jsx(bn,{children:Re.label},Re.value))}),i.jsx(Bn,{placeholder:"Search students...",value:x,onValueChange:Be}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:Et,"aria-label":"Refresh Student List"})]}),i.jsxs("div",{className:"sm:hidden flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:qe,color:"orange","aria-label":"Add New Student"}),i.jsx("div",{className:"flex-grow flex justify-center",children:i.jsx(Tc,{placeholder:"Search By",className:"w-40",variant:"faded",size:"md",selectedKeys:new Set([Ne]),onSelectionChange:Re=>{const Ue=Array.from(Re)[0];Le(Ue?Ue.toString():Um[0].value)},"aria-label":"Select search field",children:Um.map(Re=>i.jsx(bn,{children:Re.label},Re.value))})}),i.jsx("div",{className:"w-8 flex-shrink-0"})]}),i.jsxs("div",{className:"flex justify-between items-center gap-6",children:[i.jsx("div",{className:"flex-grow",children:i.jsx(Bn,{placeholder:"Search students...",value:x,onValueChange:Be})}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:Et,"aria-label":"Refresh Student List"})]})]})]})}),n&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Loading initial data...",className:"w-full my-2"}),i.jsx(kSe,{studentData:vt,isLoading:n||te,onStudentSelect:t,onClearSelection:Re=>$e(()=>Re),facultyData:o,parentData:d}),i.jsxs(We,{isOpen:S,onClose:C,position:"right",size:"lg",nonDismissable:te,children:[i.jsx(We.Header,{showCloseButton:!te,children:"Add New Student"}),i.jsxs(We.Body,{children:[te&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Saving...",className:"absolute top-0 left-0 w-full z-50"}),i.jsxs("div",{className:`flex flex-col gap-3 px-4 ${te?"opacity-50 pointer-events-none":""}`,children:[K&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative mb-2 text-sm flex items-center",role:"alert",children:[i.jsx(cs,{className:"h-5 w-5 text-red-700 inline mr-2 flex-shrink-0"}),i.jsx("span",{children:K})]}),i.jsx(sl,{isSelected:z,onChange:Ht,size:"md",children:"Existing Parent?"}),z?i.jsxs("div",{className:"relative",ref:Q,children:[i.jsx(Ve,{label:"Search Existing Parent",value:Y,onChange:ie,onFocus:he,variant:"underlined",size:"sm",color:"secondary",className:"font-medium max-w-full",isRequired:z,isInvalid:!!(K&&z&&!H),errorMessage:K&&z&&!H?"Please select parent":"",description:H?"Parent selected.":"Type to search by name or email.",autoComplete:"off"}),ce&&i.jsx("ul",{className:"absolute top-full mt-1 w-full bg-content1 border border-divider shadow-lg rounded-md max-h-60 overflow-y-auto z-50 list-none p-0",role:"listbox",children:ge.length>0?ge.map(Re=>i.jsx("li",{onClick:()=>ke(Re),className:"px-3 py-2 hover:bg-default-100 cursor-pointer text-sm text-foreground",role:"option","aria-selected":H===Re.key,tabIndex:-1,children:Re.label},Re.key)):Y.trim()!==""?i.jsx("li",{className:"px-3 py-2 text-sm text-foreground-500 italic",children:"No matches found"}):null})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ve,{fullWidth:!0,id:"add-parent-name",type:"text",label:"Parent Name",variant:"underlined",value:E,isRequired:!z,color:"secondary",size:"sm",className:"font-medium",onChange:Re=>{M(Re.target.value),ne(null)},isInvalid:!!(K&&!z&&!E.trim()),errorMessage:K&&!z&&!E.trim()?"Required":""}),i.jsx(Ve,{fullWidth:!0,id:"add-parent-email",type:"email",variant:"underlined",label:"Parent Email",value:R,isRequired:!z,color:"secondary",size:"sm",className:"font-medium",onChange:Re=>{F(Re.target.value),ne(null)},isInvalid:!!(K&&!z&&(!R.trim()||!/\S+@\S+\.\S+/.test(R))),errorMessage:K&&!z&&(!R.trim()||!/\S+@\S+\.\S+/.test(R))?"Valid email required":""}),i.jsx(Ve,{fullWidth:!0,id:"add-parent-contact",type:"text",variant:"underlined",label:"Contact No.s (comma separated)",value:T,isRequired:!z,color:"secondary",size:"sm",className:"font-medium",onChange:Re=>{O(Re.target.value),ne(null)},isInvalid:!!(K&&!z&&!T.trim()),errorMessage:K&&!z&&!T.trim()?"Required":""})]}),i.jsx(Cr,{fullWidth:!0,label:"Faculty",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:_,onSelectionChange:Re=>{W(Re?Re.toString():""),A(""),L(""),ne(null),G([]),ue([])},errorMessage:K&&!_?"Faculty required":"",isInvalid:!!(K&&!_),items:we,onInputChange:Re=>{const Ue=o.filter(it=>it.name.toLowerCase().includes(Re.toLowerCase())).map(it=>({key:it.$id,label:it.name}));fe(Ue.length>0?Ue:o.map(it=>({key:it.$id,label:it.name})))},"aria-label":"Select Faculty",allowsCustomValue:!1,children:Re=>i.jsx(bn,{children:Re.label},Re.key)}),i.jsx(Cr,{fullWidth:!0,label:"Class",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:k,onSelectionChange:Re=>{A(Re?Re.toString():""),L(""),ne(null),ue([])},isDisabled:!_,errorMessage:K&&!k?"Class required":"",isInvalid:!!(K&&!k),items:me,onInputChange:Re=>{var ot;const Ue=_?((ot=o.find(Je=>Je.$id===_))==null?void 0:ot.classes)??[]:[],it=Ue.filter(Je=>Je.toLowerCase().includes(Re.toLowerCase())).map(Je=>({key:Je,label:Je}));G(it.length>0?it:Ue.map(Je=>({key:Je,label:Je})))},"aria-label":"Select Class",allowsCustomValue:!1,children:Re=>i.jsx(bn,{children:Re.label},Re.key)}),i.jsx(Cr,{fullWidth:!0,label:"Section",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",selectedKey:I,onSelectionChange:Re=>{L(Re?Re.toString():""),ne(null)},isDisabled:!_||!k,items:re,onInputChange:Re=>{const Ue=c.filter(ot=>ot.facultyId===_&&ot.class===k),it=Ue.filter(ot=>ot.name.toLowerCase().includes(Re.toLowerCase())).map(ot=>({key:ot.$id,label:ot.name}));ue(it.length>0?it:Ue.map(ot=>({key:ot.$id,label:ot.name})))},"aria-label":"Select Section",allowsCustomValue:!1,children:Re=>i.jsx(bn,{children:Re.label},Re.key)}),i.jsx(Ve,{fullWidth:!0,id:"add-student-name",type:"text",label:"Student Name",variant:"underlined",value:$,isRequired:!0,color:"secondary",size:"sm",className:"font-medium",onChange:Re=>{P(Re.target.value),ne(null)},isInvalid:!!(K&&!$.trim()),errorMessage:K&&!$.trim()?"Student Name required":""})]})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:C,disabled:te,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:ln,className:"text-white font-medium",isLoading:te,isDisabled:te,children:te?"Saving...":"Save Student"})]})]})]})},B6=({student:e,onBack:t})=>{var u;const{facultyData:n}=Hs(),{sectionData:r}=wl(),{parentData:s,fetchParentData:a}=O0(),[o,l]=m.useState(null);if(m.useEffect(()=>{e!=null&&e.parentId?(async()=>{await a();const f=s.find(h=>h.$id===e.parentId);l(f||null)})():l(null)},[e,s,a]),!e)return null;const c=e.facultyId?(u=n.find(d=>d.$id===e.facultyId))==null?void 0:u.name:"N/A";return e.section&&r.find(d=>d.name===e.section&&d.facultyId===e.facultyId&&d.class===e.class),i.jsxs("div",{className:" px-6 pt-3 rounded-md flex flex-col h-full",children:[t&&i.jsx("div",{className:"mb-6",children:i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",children:"Back to List"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1 border-b-2 pb-2",children:e.name}),i.jsxs("h3",{className:"text-lg text-gray-700 mb-4 italic",children:["Class: ",e.class,", Section: ",e.section," ",c?`(Faculty: ${c})`:""]}),i.jsxs("div",{className:"grid grid-cols-1  gap-6",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"block font-medium text-gray-700 mb-2",children:"Student Info:"}),i.jsxs("p",{className:"text-gray-900",children:["Name: ",e.name]}),i.jsxs("p",{className:"text-gray-900",children:["Email: ",e.stdEmail]})," ",i.jsxs("p",{className:"text-gray-900",children:["Class: ",e.class]}),i.jsxs("p",{className:"text-gray-900",children:["Section: ",e.section]}),c&&i.jsxs("p",{className:"text-gray-900",children:["Faculty: ",c]})]}),i.jsx("hr",{className:" border-1"}),i.jsxs("div",{children:[i.jsx("strong",{className:"block font-medium text-gray-700 mb-2",children:"Parent Details:"}),i.jsxs("p",{className:"text-gray-900",children:["Name: ",(o==null?void 0:o.name)||"N/A"]}),i.jsxs("p",{className:"text-gray-900",children:["Email: ",(o==null?void 0:o.email)||"N/A"]}),i.jsx("strong",{className:"block font-medium text-gray-700 mt-2 mb-2",children:"Parent Contact:"}),i.jsx("ul",{className:"list-disc list-inside pl-5",children:o!=null&&o.contact&&Array.isArray(o.contact)?o.contact.map((d,f)=>i.jsx("li",{className:"text-gray-900",children:d},f)):i.jsx("li",{className:"text-gray-900",children:"N/A"})})]})]})]})},oH=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{studentData:o,fetchStudentData:l,isLoading:c}=Gc();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const f=()=>{t(window.innerWidth<768)};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]);const u=f=>{r(f),a(e?!!f:!1)},d=()=>{a(!1),r(null)};return i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(B6,{student:n,onBack:d})})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl  overflow-hidden",children:i.jsx(R6,{isMobile:e,onStudentSelect:u,studentData:o,isLoading:c})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(R6,{isMobile:e,onStudentSelect:u,studentData:o,isLoading:c})})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(B6,{student:n}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a student to view details."})})})})]})})},LSe=[{key:"name",label:"Name"},{key:"faculty",label:"Faculty"},{key:"class",label:"Class"},{key:"section",label:"Section"},{key:"actions",label:"Actions",align:"center"}],_Se=({studentData:e,isLoading:t,onClearSelection:n,facultyData:r,sectionData:s,onStudentSelect:a})=>{const{updateStudentData:l}=Gc(),{fetchFacultyData:c}=Hs(),{fetchSectionData:u}=wl(),{isOpen:d,onOpen:f,onClose:h}=Ei(),[p,b]=m.useState(null),[x,y]=m.useState(""),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(null),[P,E]=m.useState(!1),[M,k]=m.useState(new Set([])),[A,I]=m.useState([]),[L,R]=m.useState([]),[F,T]=m.useState([]);m.useEffect(()=>{I(r.map(B=>({key:B.$id,label:B.name})))},[r]),m.useEffect(()=>{var B,Y;R(S?((Y=(B=r.find(ae=>ae.$id===S))==null?void 0:B.classes)==null?void 0:Y.map(ae=>({key:ae,label:ae})))??[]:[])},[S,r]),m.useEffect(()=>{T(S&&x?s.filter(B=>B.facultyId===S&&B.class===x).map(B=>({key:B.name,label:B.name})):[])},[S,x,s]);const O=m.useCallback(B=>{var Y,ae;b(B),y(B.class),j(B.section||""),N(B.facultyId),$(null),E(!1),R(B.facultyId?((ae=(Y=r.find(ce=>ce.$id===B.facultyId))==null?void 0:Y.classes)==null?void 0:ae.map(ce=>({key:ce,label:ce})))??[]:[]),T(B.facultyId&&B.class?s.filter(ce=>ce.facultyId===B.facultyId&&ce.class===B.class).map(ce=>({key:ce.name,label:ce.name})):[]),f()},[r,s,f]),_=m.useCallback(async()=>{if(!p)return;if($(null),!S||!x.trim()||!v.trim()){$("Faculty, Class, and Section are required."),E(!1);return}E(!0);const B={class:x.trim(),section:v.trim(),facultyId:S};try{await l(p.$id,B),h(),k(new Set([])),a(null)}catch(Y){console.error("Error updating student data:",Y);const ae=Y.message||"Failed to update student.";$(ae)}finally{E(!1)}},[p,x,v,S,l,h,a]),W=m.useCallback(B=>{if(k(B),B.size===1){const Y=Array.from(B)[0],ae=e.find(ce=>ce.$id===String(Y));a(ae||null)}else a(null),B.size>1&&k(new Set([]))},[e,a]),z=m.useCallback(()=>{k(new Set([])),a(null)},[a]);m.useEffect(()=>{n&&n(z)},[n,z]);const U=m.useCallback((B,Y)=>{var ce;const ae=String(Y);switch(ae){case"name":return i.jsx("span",{className:"font-medium text-gray-900",children:B.name});case"faculty":return((ce=r.find(K=>K.$id===B.facultyId))==null?void 0:ce.name)||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"class":return B.class||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"section":return B.section||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"actions":return i.jsxs("div",{className:"flex justify-center gap-1 items-center relative",children:[" ",i.jsx(Vs,{content:"Edit Class/Section",color:"warning",className:"text-white",showArrow:!0,children:i.jsxs(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>O(B),isDisabled:P,children:[i.jsx(qc,{className:"h-4 w-4 text-orange-500"})," "]})})]});default:const Q=B[ae];return Q!=null?String(Q):i.jsx("span",{className:"text-gray-400 italic",children:"N/A"})}},[r,O,P]),H=e.slice(0,10);return t&&!H.length?i.jsx("div",{className:" h-52 flex items-center justify-center",children:i.jsx(ct,{size:"lg",label:"Loading Data..."})}):i.jsxs("div",{className:"mt-4 flow-root ",children:[i.jsx(M$,{columns:LSe,data:H,getRowKey:B=>B.$id,isLoading:t,emptyContent:t?"Loading...":"No students found.",renderCell:U,selectionMode:"single",selectedKeys:M,onSelectionChange:W,maxHeight:"70vh",className:"border border-gray-200 rounded-lg shadow-sm overflow-hidden",tableClassName:"min-w-full divide-y divide-gray-300",headerClassName:"bg-gray-50 sticky top-0 z-10",rowClassName:(B,Y)=>`transition-colors duration-150 ${Y?"bg-secondary-100":"hover:bg-gray-50"}`}),i.jsxs(We,{isOpen:d,onClose:h,position:"right",size:"lg",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Class & Section"}),i.jsxs(We.Body,{children:[P&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Saving...",className:"absolute top-0 left-0 w-full z-50 rounded-t-lg"}),i.jsxs("div",{className:"flex flex-col gap-3 px-4",children:[C&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative mb-2 text-sm flex items-center gap-2",role:"alert",children:[i.jsx(cs,{className:"h-5 w-5 text-red-700 flex-shrink-0"}),i.jsx("span",{children:C})]}),i.jsxs("p",{className:"font-semibold text-gray-700",children:["Student Name: ",i.jsx("span",{className:"font-normal text-black",children:p==null?void 0:p.name})]}),i.jsx(Cr,{label:"Faculty",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:S,isDisabled:P,onSelectionChange:B=>{const Y=B?String(B):"";N(Y),y(""),j(""),T([]),$(null)},errorMessage:C&&!S?"Faculty is required":"",isInvalid:!!(C&&!S),items:A,"aria-label":"Select Faculty",allowsCustomValue:!1,placeholder:"Choose a faculty",onInputChange:B=>{const Y=r.filter(ae=>ae.name.toLowerCase().includes(B.toLowerCase())).map(ae=>({key:ae.$id,label:ae.name}));I(Y.length>0?Y:r.map(ae=>({key:ae.$id,label:ae.name})))},children:B=>i.jsx(bn,{children:B.label},B.key)}),i.jsx(Cr,{label:"Class",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:x,isDisabled:!S||P,onSelectionChange:B=>{const Y=B?String(B):"";y(Y),j(""),T([]),$(null)},errorMessage:C&&!x?"Class is required":"",isInvalid:!!(C&&!x),items:L,"aria-label":"Select Class",allowsCustomValue:!1,placeholder:"Choose a class",onInputChange:B=>{var ce;const Y=S?((ce=r.find(oe=>oe.$id===S))==null?void 0:ce.classes)??[]:[],ae=Y.filter(oe=>oe.toLowerCase().includes(B.toLowerCase())).map(oe=>({key:oe,label:oe}));R(ae.length>0?ae:Y.map(oe=>({key:oe,label:oe})))},children:B=>i.jsx(bn,{children:B.label},B.key)}),i.jsx(Cr,{label:"Section",color:"secondary",variant:"underlined",size:"sm",className:"font-medium",isRequired:!0,selectedKey:v,isDisabled:!x||!S||P,onSelectionChange:B=>{j(B?String(B):""),$(null)},errorMessage:C&&!v?"Section is required":"",isInvalid:!!(C&&!v),items:F,"aria-label":"Select Section",allowsCustomValue:!1,placeholder:"Choose a section",onInputChange:B=>{const Y=S&&x?s.filter(ce=>ce.facultyId===S&&ce.class===x).map(ce=>ce.name):[],ae=Y.filter(ce=>ce.toLowerCase().includes(B.toLowerCase())).map(ce=>({key:ce,label:ce}));T(ae.length>0?ae:Y.map(ce=>({key:ce,label:ce})))},children:B=>i.jsx(bn,{children:B.label},B.key)})]})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:h,disabled:P,children:"Cancel"}),i.jsxs(Se,{color:"success",onPress:_,className:"text-white font-medium",isLoading:P,disabled:P||!S||!x||!v,children:[" ",P?"Saving...":"Save Changes"," "]})]})]})]})},z6=({isMobile:e,studentData:t,isLoading:n,onStudentSelect:r})=>{const{fetchStudentData:s}=Gc(),{facultyData:a,fetchFacultyData:o}=Hs(),{sectionData:l,fetchSectionData:c}=wl(),[u,d]=m.useState(""),f=P=>{d(P)},[h,p]=m.useState(""),[b,x]=m.useState(null),[y,v]=m.useState("name"),j=m.useMemo(()=>[{value:"name",label:"Name"},{value:"class",label:"Class"},{value:"section",label:"Section"},{value:"faculty",label:"Faculty"}],[]),[S,N]=m.useState(j[0].value);m.useEffect(()=>{Promise.all([o(),c()])},[o,c]);const C=()=>{s()},$=m.useMemo(()=>{let P=t;if(u){const E=u.toLowerCase();P=P.filter(M=>{var A;const k=((A=a.find(I=>I.$id===M.facultyId))==null?void 0:A.name)||"";switch(S){case"name":return M.name.toLowerCase().includes(E);case"class":return M.class.toLowerCase().includes(E);case"section":return M.section.toLowerCase().includes(E);case"faculty":return k.toLowerCase().includes(E);default:return M.name.toLowerCase().includes(E)}})}return P},[t,u,S,a]);return i.jsxs("div",{className:" md:w-full w-full md:p-2 ",children:[h&&i.jsx(Dd,{message:h}),i.jsx("div",{className:"top",children:i.jsxs("div",{className:"flex justify-between items-center gap-4 mt-1 mx-3 md:px-0",children:[i.jsx(Tc,{placeholder:"Search By",className:"max-w-[9rem]",variant:"faded",size:"md",selectedKeys:new Set([S]),onSelectionChange:P=>{const E=Array.from(P)[0];N(E?E.toString():"")},children:j.map(P=>i.jsx(bn,{children:P.label},P.value))}),i.jsx(Bn,{placeholder:"Search students...",value:u,onValueChange:f}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:C,"aria-label":"Refresh Student List"})]})}),i.jsx(_Se,{studentData:$,isLoading:n,onClearSelection:P=>x(()=>P),facultyData:a,sectionData:l,onStudentSelect:r})]})},V6=({student:e,onBack:t,isMobile:n})=>{var a;const{facultyData:r}=Hs();if(!e)return null;const s=e.facultyId?(a=r.find(o=>o.$id===e.facultyId))==null?void 0:a.name:"N/A";return i.jsxs("div",{className:" px-6 pt-3 rounded-md flex flex-col h-full",children:[n&&t&&i.jsx("div",{className:"mb-6",children:i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",children:"Back to List"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1 border-b-2 pb-2",children:e.name}),i.jsxs("h3",{className:"text-lg text-gray-700 mb-4 italic",children:["Class: ",e.class,", Section: ",e.section," ",s?`(Faculty: ${s})`:""]}),i.jsx("div",{className:"grid grid-cols-1  gap-6",children:i.jsxs("div",{children:[i.jsx("strong",{className:"block font-medium text-gray-700 mb-2",children:"Student Info:"}),i.jsxs("p",{className:"text-gray-900",children:["Name: ",e.name]}),i.jsxs("p",{className:"text-gray-900",children:["Email: ",e.stdEmail]}),i.jsxs("p",{className:"text-gray-900",children:["Class: ",e.class]}),i.jsxs("p",{className:"text-gray-900",children:["Section: ",e.section]}),s&&i.jsxs("p",{className:"text-gray-900",children:["Faculty: ",s]})]})})]})},lH=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{studentData:o,fetchStudentData:l,isLoading:c}=Gc();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const f=()=>{t(window.innerWidth<768)};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[]);const u=f=>{r(f),a(e?!!f:!1)},d=()=>{a(!1),r(null)};return i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsxs($t,{options:{suppressScrollX:!0},children:[i.jsx(V6,{student:n,onBack:d,isMobile:e})," "]})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl  overflow-hidden",children:i.jsx(z6,{isMobile:e,onStudentSelect:u,studentData:o,isLoading:c})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(z6,{isMobile:e,onStudentSelect:u,studentData:o,isLoading:c})})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(V6,{student:n,isMobile:e}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a student to view details."})})})})]})})};function FSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const RSe=m.forwardRef(FSe);function BSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const cH=m.forwardRef(BSe);function zSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const O$=m.forwardRef(zSe);function VSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const L$=m.forwardRef(VSe);function WSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const USe=m.forwardRef(WSe);function KSe({title:e,titleId:t,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const HSe=m.forwardRef(KSe);var G3;(function(e){e.INVALID_DAY="Day is invalid.",e.INVALID_YEAR="Year is invalid.",e.INVALID_MONTH="Month is invalid.",e.BS_DATE_OUT_OF_RANGE="BS Date out of range",e.AD_DATE_OUT_OF_RANGE="AD Date out of range",e.DATE_FORMAT_INVALID="Date format is invalid",e.DATE_GREATER_THAN_TODAY="Date cannot be greater then today"})(G3||(G3={}));const bc=G3,Pe=[];Pe[1978]=[1978,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1979]=[1979,31,31,32,32,31,30,30,29,30,29,30,30];Pe[1980]=[1980,31,32,31,32,31,30,30,30,29,29,30,31];Pe[1981]=[1981,31,31,31,32,31,31,29,30,30,29,30,30];Pe[1982]=[1982,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1983]=[1983,31,31,32,32,31,30,30,29,30,29,30,30];Pe[1984]=[1984,31,32,31,32,31,30,30,30,29,29,30,31];Pe[1985]=[1985,31,31,31,32,31,31,29,30,30,29,30,30];Pe[1986]=[1986,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1987]=[1987,31,32,31,32,31,30,30,29,30,29,30,30];Pe[1988]=[1988,31,32,31,32,31,30,30,30,29,29,30,31];Pe[1989]=[1989,31,31,31,32,31,31,30,29,30,29,30,30];Pe[1990]=[1990,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1991]=[1991,31,32,31,32,31,30,30,29,30,29,30,30];Pe[1992]=[1992,31,32,31,32,31,30,30,30,29,30,29,31];Pe[1993]=[1993,31,31,31,32,31,31,30,29,30,29,30,30];Pe[1994]=[1994,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1995]=[1995,31,32,31,32,31,30,30,30,29,29,30,30];Pe[1996]=[1996,31,32,31,32,31,30,30,30,29,30,29,31];Pe[1997]=[1997,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1998]=[1998,31,31,32,31,31,31,30,29,30,29,30,30];Pe[1999]=[1999,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2e3]=[2e3,30,32,31,32,31,30,30,30,29,30,29,31];Pe[2001]=[2001,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2002]=[2002,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2003]=[2003,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2004]=[2004,30,32,31,32,31,30,30,30,29,30,29,31];Pe[2005]=[2005,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2006]=[2006,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2007]=[2007,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2008]=[2008,31,31,31,32,31,31,29,30,30,29,29,31];Pe[2009]=[2009,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2010]=[2010,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2011]=[2011,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2012]=[2012,31,31,31,32,31,31,29,30,30,29,30,30];Pe[2013]=[2013,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2014]=[2014,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2015]=[2015,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2016]=[2016,31,31,31,32,31,31,29,30,30,29,30,30];Pe[2017]=[2017,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2018]=[2018,31,32,31,32,31,30,30,29,30,29,30,30];Pe[2019]=[2019,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2020]=[2020,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2021]=[2021,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2022]=[2022,31,32,31,32,31,30,30,30,29,29,30,30];Pe[2023]=[2023,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2024]=[2024,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2025]=[2025,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2026]=[2026,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2027]=[2027,30,32,31,32,31,30,30,30,29,30,29,31];Pe[2028]=[2028,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2029]=[2029,31,31,32,31,32,30,30,29,30,29,30,30];Pe[2030]=[2030,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2031]=[2031,30,32,31,32,31,30,30,30,29,30,29,31];Pe[2032]=[2032,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2033]=[2033,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2034]=[2034,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2035]=[2035,30,32,31,32,31,31,29,30,30,29,29,31];Pe[2036]=[2036,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2037]=[2037,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2038]=[2038,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2039]=[2039,31,31,31,32,31,31,29,30,30,29,30,30];Pe[2040]=[2040,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2041]=[2041,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2042]=[2042,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2043]=[2043,31,31,31,32,31,31,29,30,30,29,30,30];Pe[2044]=[2044,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2045]=[2045,31,32,31,32,31,30,30,29,30,29,30,30];Pe[2046]=[2046,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2047]=[2047,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2048]=[2048,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2049]=[2049,31,32,31,32,31,30,30,30,29,29,30,30];Pe[2050]=[2050,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2051]=[2051,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2052]=[2052,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2053]=[2053,31,32,31,32,31,30,30,30,29,29,30,30];Pe[2054]=[2054,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2055]=[2055,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2056]=[2056,31,31,32,31,32,30,30,29,30,29,30,30];Pe[2057]=[2057,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2058]=[2058,30,32,31,32,31,30,30,30,29,30,29,31];Pe[2059]=[2059,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2060]=[2060,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2061]=[2061,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2062]=[2062,30,32,31,32,31,31,29,30,29,30,29,31];Pe[2063]=[2063,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2064]=[2064,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2065]=[2065,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2066]=[2066,31,31,31,32,31,31,29,30,30,29,29,31];Pe[2067]=[2067,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2068]=[2068,31,31,32,32,31,30,30,29,30,29,30,30];Pe[2069]=[2069,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2070]=[2070,31,31,31,32,31,31,29,30,30,29,30,30];Pe[2071]=[2071,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2072]=[2072,31,32,31,32,31,30,30,29,30,29,30,30];Pe[2073]=[2073,31,32,31,32,31,30,30,30,29,29,30,31];Pe[2074]=[2074,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2075]=[2075,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2076]=[2076,31,32,31,32,31,30,30,30,29,29,30,30];Pe[2077]=[2077,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2078]=[2078,31,31,31,32,31,31,30,29,30,29,30,30];Pe[2079]=[2079,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2080]=[2080,31,32,31,32,31,30,30,30,29,29,30,30];Pe[2081]=[2081,31,32,31,32,31,30,30,30,29,30,29,31];Pe[2082]=[2082,31,31,32,31,31,31,30,29,30,29,30,30];Pe[2083]=[2083,31,31,32,31,31,30,30,30,29,30,30,30];Pe[2084]=[2084,31,31,32,31,31,30,30,30,29,30,30,30];Pe[2085]=[2085,31,32,31,32,30,31,30,30,29,30,30,30];Pe[2086]=[2086,30,32,31,32,31,30,30,30,29,30,30,30];Pe[2087]=[2087,31,31,32,31,31,31,30,30,29,30,30,30];Pe[2088]=[2088,30,31,32,32,30,31,30,30,29,30,30,30];Pe[2089]=[2089,30,32,31,32,31,30,30,30,29,30,30,30];Pe[2090]=[2090,30,32,31,32,31,30,30,30,29,30,30,30];Pe[2091]=[2091,31,31,32,31,31,31,30,30,29,30,30,30];Pe[2092]=[2092,30,31,32,32,31,30,30,30,29,30,30,30];Pe[2093]=[2093,30,32,31,32,31,30,30,30,29,30,30,30];Pe[2094]=[2094,31,31,32,31,31,30,30,30,29,30,30,30];Pe[2095]=[2095,31,31,32,31,31,31,30,29,30,30,30,30];Pe[2096]=[2096,30,31,32,32,31,30,30,29,30,29,30,30];Pe[2097]=[2097,31,32,31,32,31,30,30,30,29,30,30,30];Pe[2098]=[2098,31,31,32,31,31,31,29,30,29,30,29,31];Pe[2099]=[2099,31,32,31,32,31,30,30,30,29,29,30,31];const Vr={MAX_DAY:32,MIN_DAY:1,MAX_MONTH:12,MIN_MONTH:1,YEAR_LENGTH:4,MAX_YEAR_AD:2040,MAX_MONTH_AD:31,MIN_YEAR_BS:1978,MAX_YEAR_BS:2099},uH="1921-04-13",Q1=(e,t,n)=>`${e}-${("0"+t).slice(-2)}-${("0"+n).slice(-2)}`,dH=e=>{const t=e.split("-");if(t.length!==3)throw new Error(bc.DATE_FORMAT_INVALID);return t.map(Number)};function fH(e){const[t,n,r]=dH(e);if(r>Vr.MAX_DAY||r<Vr.MIN_DAY||!r)throw new Error(bc.INVALID_DAY);if(n>Vr.MAX_MONTH||n<Vr.MIN_MONTH||!n)throw new Error(bc.INVALID_MONTH);if(!t||t.toString().length!==Vr.YEAR_LENGTH)throw new Error(bc.INVALID_YEAR);return{year:t,month:n,day:r}}function qSe(e){const{year:t,month:n,day:r}=fH(e);if(t>Vr.MAX_YEAR_AD)throw new Error(bc.AD_DATE_OUT_OF_RANGE);if(n>Vr.MAX_MONTH_AD)throw new Error(bc.INVALID_MONTH);return Q1(t,n,r)}function GSe(e){const{year:t,month:n,day:r}=fH(e);if(t<Vr.MIN_YEAR_BS||t>Vr.MAX_YEAR_BS)throw new Error(bc.BS_DATE_OUT_OF_RANGE);if(r>Pe[t][n])throw new Error(`No ${r} day exits in this month.`);return Q1(t,n,r)}function YSe(e,t=!0){let n=0,r=0,s=0,a=0,o=!1;for(let l=Vr.MIN_YEAR_BS;l<=Vr.MAX_YEAR_BS&&!o;l++)for(let c=Vr.MIN_MONTH;c<=Vr.MAX_MONTH;c++)if(a+=Pe[l][c],e-a<0){s=e-a+Pe[l][c]+1,o=!0,n=l,r=c;break}return t?Q1(n,r,s):{currentYear:n,currentMonth:r,currentDay:s}}function _$(e){e=qSe(e);const t=new Date(uH),n=new Date(e),r=Math.floor((n.getTime()-t.getTime())/864e5);if(r<0)throw new Error(bc.AD_DATE_OUT_OF_RANGE);return YSe(r)}function XSe(e,t){const n=new Date(e);n.setDate(n.getDate()+t);const r=n.getFullYear(),s=n.getMonth()+1,a=n.getDate();return Q1(r,s,a)}function F$(e){e=GSe(e);const[t,n,r]=dH(e);let s=0;for(let a=Vr.MIN_YEAR_BS;a<=t;a++)if(a===t){for(let o=Vr.MIN_MONTH;o<n;o++)s+=Pe[a][o];s+=r-1}else for(let o=Vr.MIN_MONTH;o<=Vr.MAX_MONTH;o++)s+=Pe[a][o];return XSe(uH,s)}const ZSe=()=>et.getState().dbId,JSe=ZSe,QSe=JSe,eje="coll-calendar",tje=({onEventSaved:e})=>{const[t,n]=m.useState(!1),[r,s]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,b]=m.useState(!1),x=()=>n(!0),y=()=>{n(!1),s(""),o(""),c(""),d(!1),b(!1),h(!1)},v=S=>{if(!S||!S.trim())return null;try{if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(S))throw new Error("Input does not match YYYY-MM-DD format.");return F$(S)}catch(N){return console.error(`Error converting BS date "${S}" to AD:`,N.message),null}},j=async()=>{h(!0);let S="";if(r.trim()?a.trim()||(S="'Date From' is required."):S="Event Name is required.",S){Ke.error(S),h(!1);return}const N=v(a);let C=null;if(!N){Ke.error("Invalid 'Date From' format. Please use YYYY-MM-DD."),h(!1);return}let $;if(p)$=[N];else{if(!l.trim()){Ke.error("'Date To' is required for date range events."),h(!1);return}if(C=v(l),!C){Ke.error("Invalid 'Date To' format. Please use YYYY-MM-DD."),h(!1);return}try{if(new Date(N)>new Date(C)){Ke.error("'Date From' cannot be after 'Date To'."),h(!1);return}}catch{}$=[N,C]}const P={name:r.trim(),dates:$,holiday:u};try{await le.createDocument(QSe,eje,dn.unique(),P),Ke.success("Calendar event saved successfully!"),y(),e()}catch(E){console.error("Appwrite error",E),Ke.error(`Failed to save event: ${E.message}`)}finally{h(!1)}};return i.jsxs("div",{className:"px-2 sm:px-0 mt-1 ",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:x,color:"orange","aria-label":"Add Event"}),i.jsxs(We,{isOpen:t,onClose:y,children:[i.jsx(We.Header,{children:i.jsx("h1",{className:"text-xl font-semibold",children:"Add New Event"})}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(Ve,{isRequired:!0,type:"text",label:"Name",value:r,onChange:S=>s(S.target.value),className:"font-medium",variant:"underlined",color:"secondary"}),i.jsx(Ve,{isRequired:!0,type:"text",label:"Date From (BS YYYY-MM-DD)",value:a,onChange:S=>o(S.target.value),variant:"underlined",color:"secondary",className:"font-medium"}),!p&&i.jsx(Ve,{isRequired:!0,type:"text",label:"Date To (BS YYYY-MM-DD)",value:l,onChange:S=>c(S.target.value),variant:"underlined",color:"secondary",className:"mb-1 font-medium"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-2",children:[" ",i.jsx(sl,{isSelected:u,onChange:S=>d(S.target.checked),children:"Holiday"}),i.jsx(sl,{isSelected:p,onChange:S=>{b(S.target.checked),S.target.checked&&c("")},children:"Single Day Event"})]})]})}),i.jsxs(We.Footer,{className:"px-10 mb-1",children:[" ",i.jsx(Se,{color:"danger",variant:"light",onPress:y,disabled:f,children:"Cancel"}),i.jsx(Se,{color:"success",className:"text-white font-medium",onPress:j,isLoading:f,children:"Save"})]})]})]})},nje=["बैशाख","जेठ","असार","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],rje=["आइतवार","सोमवार","मंगलवार","बुधवार","बिहीवार","शुक्रवार","शनिवार"],W6=({currentMonthData:e,bsMonthName:t,bsYear:n,gregorianInfo:r,availableYears:s,currentBsYear:a,currentBsMonth:o,onYearChange:l,onMonthChange:c,onPrevMonth:u,onNextMonth:d,canGoPrev:f,canGoNext:h,calendarData:p,todayString:b,calendarEvents:x,onEventSaved:y})=>{const v=($,P)=>{if(!$||!P||P.length===0||!P[0])return!1;try{const E=new Date($);E.setHours(0,0,0,0);const M=new Date(P[0]);M.setHours(0,0,0,0);let k;P.length>1&&P[1]?k=new Date(P[1]):k=new Date(P[0]),k.setHours(0,0,0,0);const A=E.getTime(),I=M.getTime(),L=k.getTime();return I>L?(console.warn("isDateInEventRange - Event has start date after end date:",P),!1):A>=I&&A<=L}catch(E){return console.error("Error comparing dates in isDateInEventRange:",E,{dateToCheck:$,eventDates:P}),!1}},j=()=>{var F;if(!e||!e.days||e.days.length===0)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No day data to display."});const{days:$}=e,P=(F=$[0])==null?void 0:F.dayOfWeek;let E=P&&P>=1&&P<=7?P-1:0;const k=[...Array(E).fill(null),...$],I=(7-k.length%7)%7,L=Array(I).fill(null),R=[...k,...L];return i.jsx("div",{className:" bg-white rounded-b shadow-md font-sans",children:i.jsxs("table",{className:" table-fixed border-collapse w-full ",children:[" ",i.jsx("thead",{children:i.jsx("tr",{className:"bg--100",children:rje.map(T=>i.jsx("th",{className:"bg-blue-500 text-white p-2 text-center text-sm sm:text-base font-normal border border-blue-400",children:T},T))})}),i.jsx("tbody",{children:Array.from({length:Math.ceil(R.length/7)}).map((T,O)=>i.jsx("tr",{className:"text-center",children:R.slice(O*7,O*7+7).map((_,W)=>{var Q;if(!_)return i.jsx("td",{className:"border border-gray-200 h-20 sm:h-[5.5rem] w-[14.28%] bg-gray-50",children:i.jsx("div",{className:"h-full"})},`${O}-${W}-empty`);const z=_.en===b,U=_.dayOfWeek===7;let H,B=!1;if(_.en){const K=x.find(ne=>v(_.en,ne.dates));K&&(B=!!K.holiday,H=B?"bg-red-200":"bg-blue-200")}const Y=z?"border-2 border-orange-400 relative":"border border-gray-200",ae=U?"text-red-600":"",ce=H||"bg-white",oe=z?"text-orange-600 font-bold":ae||"text-gray-800";return i.jsx("td",{className:`${Y} ${ce} h-20 sm:h-[5.5rem] w-[14.28%] align-top p-1 transition-colors duration-150`,children:i.jsxs("div",{className:"flex flex-col h-full text-left text-xs sm:text-sm",children:[i.jsx("div",{className:`${ae} text-right text-gray-500 pr-1 truncate`,children:_.tithi||""}),i.jsx("div",{className:"flex-grow flex items-center justify-center",children:i.jsx("span",{className:`text-lg sm:text-2xl ${oe}`,children:_.day})}),i.jsx("div",{className:`${ae} text-right font-medium text-blue-700 mb-1 pr-1`,children:((Q=_.en)==null?void 0:Q.split("/")[2])||""})]})},`${O}-${W}-${_.day}`)})},O))})]})})},S="block w-full appearance-none rounded-md border-0 py-1.5 sm:py-2 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm sm:text-base sm:leading-6 disabled:bg-gray-100 disabled:cursor-not-allowed",N="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",C="h-5 w-5 text-gray-400";return i.jsxs("div",{className:"w-full sm:px-0  ",children:[" ",i.jsxs("div",{className:"flex gap-2 sm:gap-16 justify-center mb-4 py-3 rounded-t-md bg-gray-100",children:[" ",i.jsx(tje,{onEventSaved:y}),i.jsxs("div",{className:"flex gap-4 justify-center items-center",children:[i.jsx(Se,{onClick:u,disabled:!f,"aria-label":"Previous Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(O$,{className:" font- h-6 w-6","aria-hidden":"true"})}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"year-select",value:a??"",onChange:l,className:S,"aria-label":"Select Year",disabled:!a||!s.length,children:s.map($=>i.jsx("option",{value:$,children:$},$))}),i.jsx("div",{className:N,children:i.jsx("svg",{className:C,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"month-select",value:o??"",onChange:c,className:S,"aria-label":"Select Month",disabled:!o||!a||!p,children:nje.map(($,P)=>{var k;const E=P+1,M=((k=p==null?void 0:p[a??""])==null?void 0:k.some(A=>A.month===E))??!1;return i.jsxs("option",{value:E,disabled:!M,className:M?"":"text-gray-400 italic",children:[$," ",!M&&a?" (N/A)":""]},E)})}),i.jsx("div",{className:N,children:i.jsx("svg",{className:C,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsx(Se,{onClick:d,disabled:!h,"aria-label":"Next Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(L$,{className:" font- h-6 w-6","aria-hidden":"true"})})]})]}),i.jsxs("div",{className:"flex-col text-white p-0 sm:p-3 flex justify-between items-center rounded-t-md -mt-4 relative pt-4",children:[" ",i.jsxs("div",{className:"bg-orange-500 rounded-t-md w-full p-3 flex justify-between items-center",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:`${t} ${n}`}),i.jsx("span",{className:"text-xs sm:text-sm",children:r})]}),j()]})]})},sje=()=>et.getState().dbId,aje=sje,U6=aje,K6="coll-calendar",H6=({bsMonthName:e,calendarEvents:t,onDataChange:n})=>{const[r,s]=m.useState(!1),[a,o]=m.useState(null),[l,c]=m.useState({name:"",dateFromBs:"",dateToBs:"",isHoliday:!1,isSingleDateEvent:!1}),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,b]=m.useState(null),[x,y]=m.useState(!1),v=A=>{if(!A)return"";try{let I=A;if(A.includes("/")){const L=A.split("/");I=`${L[0]}-${String(L[1]).padStart(2,"0")}-${String(L[2]).padStart(2,"0")}`}return _$(I)}catch(I){return console.error(`Error converting AD "${A}" to BS:`,I),Ke.error(`Could not convert date ${A} to BS format.`),""}},j=A=>{if(!A||!A.trim())return null;try{if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(A))throw new Error("Invalid BS date format. Use YYYY-MM-DD.");return F$(A)}catch(I){return console.error(`Error converting BS "${A}" to AD:`,I),Ke.error(I.message||`Invalid BS date: ${A}. Use YYYY-MM-DD.`),null}},S=A=>{if(!A)return"Invalid Date";try{const[I,L,R]=A.split("-"),F=["बैशाख","जेठ","असार","श्रा","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],T=parseInt(L)-1;return T<0||T>=F.length?"Invalid Month":`${F[T]} ${parseInt(R)}, ${I} BS`}catch(I){return console.error("Error formatting BS display date:",A,I),"Format Error"}},N=A=>{var F,T,O,_;o(A);const I=v((F=A.dates)==null?void 0:F[0]),L=((T=A.dates)==null?void 0:T.length)===1||!((O=A.dates)!=null&&O[1]),R=L?"":v((_=A.dates)==null?void 0:_[1]);c({name:A.name||"",dateFromBs:I,dateToBs:R,isHoliday:A.holiday||!1,isSingleDateEvent:L}),s(!0)},C=()=>{s(!1),o(null)},$=m.useCallback(A=>{const{name:I,value:L,type:R}=A.target;if(R==="checkbox"){const F=A.target.checked;c(T=>({...T,[I]:F})),I==="isSingleDateEvent"&&F&&c(T=>({...T,dateToBs:""}))}else c(F=>({...F,[I]:L}))},[]),P=async()=>{if(!a)return;if(d(!0),!l.name.trim()){Ke.error("Event Name cannot be empty."),d(!1);return}const A=j(l.dateFromBs);if(!A){d(!1);return}let I;if(l.isSingleDateEvent)I=[A];else{if(!l.dateToBs.trim()){Ke.error("'Date To' is required for date range events."),d(!1);return}const R=j(l.dateToBs);if(!R){d(!1);return}if(new Date(A)>new Date(R)){Ke.error("'Date From' cannot be after 'Date To'."),d(!1);return}I=[A,R]}const L={name:l.name.trim(),dates:I,holiday:l.isHoliday};try{await le.updateDocument(U6,K6,a.$id,L),Ke.success("Event updated successfully!"),C(),n()}catch(R){console.error("Error updating event:",R),Ke.error(`Failed to update event: ${R.message}`)}finally{d(!1)}},E=A=>{b(A),h(!0)},M=()=>{h(!1),b(null),y(!1)},k=async()=>{if(p){y(!0);try{await le.deleteDocument(U6,K6,p),Ke.success("Event deleted successfully!"),M(),n()}catch(A){console.error("Error deleting event:",A),Ke.error(`Failed to delete event: ${A.message}`),y(!1)}}};return!t||t.length===0?i.jsxs("div",{className:"p-6 rounded-md flex flex-col h-full text-gray-600 text-center items-center justify-center",children:["No events listed for ",e,"."]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"px-4 sm:px-6 pt-3 rounded-md flex flex-col h-full",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4 border-b-2 pb-2",children:["Events in ",e]}),i.jsx("div",{className:"flex flex-col gap-4 sm:gap-6 overflow-y-auto flex-grow",children:t.map((A,I)=>{var W,z,U;const L=(W=A.dates)==null?void 0:W[0],R=((z=A.dates)==null?void 0:z.length)>1?A.dates[1]:L,F=A.name,T=S(v(L)),O=S(v(R)),_=T===O||!((U=A.dates)!=null&&U[1])?T:`${T} - ${O}`;return i.jsxs("div",{className:"relative group",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("strong",{className:"block font-medium text-gray-800 mb-1 text-lg flex-grow",children:[F," ",A.holiday&&i.jsx("span",{className:"text-xs text-red-600 font-normal ml-1",children:"(Holiday)"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(Vs,{content:"Edit",showArrow:!0,color:"warning",placement:"top",className:"bg-warning-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>N(A),"aria-label":"Edit Event",children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",showArrow:!0,color:"danger",placement:"top",className:"bg-danger-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>E(A.$id),"aria-label":"Delete Event",children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})})]})]}),i.jsx("ul",{className:"pl-0 space-y-1",children:i.jsxs("li",{className:"text-gray-700 text-sm sm:text-base",children:["Date (BS): ",_]})}),I<t.length-1&&i.jsx("hr",{className:"my-4 sm:my-6 border-gray-200"})]},A.$id)})})]}),i.jsxs(We,{isOpen:r,onClose:C,children:[i.jsx(We.Header,{children:i.jsx("h1",{className:"text-xl font-semibold",children:"Edit Event"})}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(Ve,{isRequired:!0,type:"text",label:"Name",name:"name",value:l.name,onChange:$,className:"font-medium",variant:"underlined",color:"secondary"}),i.jsx(Ve,{isRequired:!0,type:"text",label:"Date From (BS YYYY-MM-DD)",name:"dateFromBs",value:l.dateFromBs,onChange:$,className:"font-medium",variant:"underlined",color:"secondary"}),!l.isSingleDateEvent&&i.jsx(Ve,{isRequired:!0,type:"text",label:"Date To (BS YYYY-MM-DD)",name:"dateToBs",value:l.dateToBs,onChange:$,className:"font-medium",variant:"underlined",color:"secondary"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 ",children:[i.jsx(sl,{name:"isHoliday",isSelected:l.isHoliday,onChange:$,children:"Holiday"}),i.jsx(sl,{name:"isSingleDateEvent",isSelected:l.isSingleDateEvent,onChange:$,children:"Single Day Event"})]})]})}),i.jsxs(We.Footer,{className:"px-10 mb-1",children:[" ",i.jsx(Se,{color:"default",variant:"light",onPress:C,disabled:u,children:"Cancel"}),i.jsx(Se,{color:"success",className:"text-white font-medium",onPress:P,isLoading:u,children:"Save"})]})]}),i.jsx(vl,{isOpen:f,onClose:M,onConfirm:k,title:"Confirm Deletion",content:"Are you sure you want to permanently delete this event? This action cannot be undone.",isConfirmLoading:x})]})},ije=()=>et.getState().dbId,oje=ije,lje="https://back.soraddynamics.com",cje=oje,uje="coll-calendar",dje=["बैशाख","जेठ","असार","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],fje=e=>dje[e-1]||"Unknown",hje=(e=[])=>{var r,s;if(!e||e.length===0)return"";const t=e[0],n=e[e.length-1];if(!(t!=null&&t.en)||!(n!=null&&n.en))return"AD Info Unavailable";try{const a=t.en.split("/"),o=n.en.split("/"),l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2])).toLocaleString("en-US",{month:"short"}),c=new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2])).toLocaleString("en-US",{month:"short"}),u=a[0],d=o[0];return u===d?l===c?`${l} ${u}`:`${l}/${c} ${u}`:`${l} ${u} / ${c} ${d}`}catch(a){console.error("Error formatting Gregorian info:",t.en,n.en,a);const o=((r=t.en)==null?void 0:r.split("/"))??[],l=((s=n.en)==null?void 0:s.split("/"))??[];return o.length>=2&&l.length>=2?`AD: ${o[1]}/${o[0]} - ${l[1]}/${l[0]}`:"AD Info Error"}},mje=(e,t)=>{var r;if(!e||!t)return null;let n=null;try{const s=new Date(t);s.setHours(0,0,0,0),n=s.getTime()}catch{return console.error("Could not parse input gregorianDateString in findNepaliDateForGregorian:",t),null}if(n===null)return null;for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];for(const o of a)if((r=o.days)==null?void 0:r.find(c=>{if(!c.en)return!1;try{const u=new Date(c.en);return u.setHours(0,0,0,0),u.getTime()===n}catch{return!1}}))return{year:s,month:o.month}}return null},hH=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[s,a]=m.useState(null),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,p]=m.useState(window.innerWidth<1020),[b,x]=m.useState([]),y=m.useCallback(async()=>{try{const T=await le.listDocuments(cje,uje,[J.limit(150)]);x(T.documents)}catch(T){console.error("Error fetching calendar events from Appwrite:",T),f(`Failed to fetch calendar events. Please try refreshing. Details: ${T.message}`)}},[]);m.useEffect(()=>{(async()=>{var O,_;u(!0),f(null);try{const W=`${lje}/api/calendar`,z=await fetch(W);if(!z.ok){let B=`HTTP error! Status: ${z.status}`;try{const Y=await z.json();B+=` - ${Y.message||"No backend message."}`}catch{B+=` - ${z.statusText}`}throw new Error(B)}const U=await z.json();t(U);const H=Object.keys(U||{}).sort((B,Y)=>parseInt(B)-parseInt(Y));if(l(H),H.length>0){const B=new Date,Y=`${B.getFullYear()}/${B.getMonth()+1}/${B.getDate()}`,ae=mje(U,Y);let ce,oe;if(ae&&H.includes(ae.year))ce=ae.year,oe=ae.month;else{console.warn(`Today's Gregorian date (${Y}) not found in calendar data or year missing. Falling back to latest available year/month.`),ce=H[H.length-1];const Q=U[ce]||[];if(Q.length>0)oe=Q[0].month;else{f("Could not determine an initial month for the calendar. The latest year has no months."),console.error("Fallback year has no month data:",ce),u(!1);return}}r(ce),a(oe)}else f("No calendar years found in the data."),console.error("Calendar data fetched but contained no years.");await y()}catch(W){console.error("Error during initial data fetch:",W);let z="Failed to load calendar data.";W instanceof Error&&(z+=` Details: ${W.message}`),(O=W.message)!=null&&O.toLowerCase().includes("failed to fetch")?z+=" Is the backend server running or accessible?":(_=W.message)!=null&&_.toLowerCase().includes("http error")?z+=" Problem communicating with the backend.":W instanceof SyntaxError&&(z+=" Received invalid data format from the backend."),f(z)}finally{u(!1)}})()},[y]),m.useEffect(()=>{const T=()=>p(window.innerWidth<1020);return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const v=m.useMemo(()=>{var T;if(!(!e||!n||s===null))return(T=e==null?void 0:e[n])==null?void 0:T.find(O=>O.month===s)},[e,n,s]),{canGoPrev:j,canGoNext:S}=m.useMemo(()=>{if(!e||!n||s===null)return{canGoPrev:!1,canGoNext:!1};const T=O=>{var z;let _=O==="prev"?s-1:s+1,W=n;return _<1?(_=12,W=(parseInt(n,10)-1).toString()):_>12&&(_=1,W=(parseInt(n,10)+1).toString()),((z=e[W])==null?void 0:z.some(U=>U.month===_))??!1};return{canGoPrev:T("prev"),canGoNext:T("next")}},[e,n,s]),N=m.useMemo(()=>s!==null?fje(s):"...",[s]),C=m.useMemo(()=>hje(v==null?void 0:v.days),[v]),$=m.useMemo(()=>{if(!b||!(v!=null&&v.days))return[];const T=v.days;return b.filter(O=>{var _,W;if(!O||!O.$id||!O.dates||!Array.isArray(O.dates)||O.dates.length===0||!O.dates[0])return!1;try{const z=new Date(O.dates[0]);z.setHours(0,0,0,0);let U;O.dates.length>1&&O.dates[1]?U=new Date(O.dates[1]):U=new Date(O.dates[0]),U.setHours(0,0,0,0);const H=(_=T[0])==null?void 0:_.en,B=(W=T[T.length-1])==null?void 0:W.en;if(H&&B)try{const Y=new Date(H);Y.setHours(0,0,0,0);const ae=new Date(B);if(ae.setHours(0,0,0,0),U.getTime()<Y.getTime()||z.getTime()>ae.getTime())return!1}catch(Y){console.warn("Error during month range pre-check",Y)}for(const Y of T)if(Y.en)try{const ae=new Date(Y.en);if(ae.setHours(0,0,0,0),ae.getTime()>=z.getTime()&&ae.getTime()<=U.getTime())return!0}catch(ae){console.error(`FilteredEvents: Error parsing or normalizing day date string: "${Y.en}"`,ae)}return!1}catch(z){return console.error(`FilteredEvents: Error parsing event date for event ${O.$id}:`,O.dates,z),!1}})},[b,v]),P=m.useCallback(T=>{const O=T.target.value;if(r(O),s===null)return;const _=(e==null?void 0:e[O])||[];if(!_.some(W=>W.month===s)){const W=_.length>0?_[0].month:null;a(W)}},[e,s]),E=m.useCallback(T=>{const O=parseInt(T.target.value,10);a(O)},[]),M=m.useCallback(()=>{var _;if(!e||!n||s===null)return;let T=s-1,O=n;T<1&&(T=12,O=(parseInt(n,10)-1).toString()),(_=e==null?void 0:e[O])!=null&&_.some(W=>W.month===T)?(r(O),a(T)):console.warn("Cannot go to previous month (data missing):",O,T)},[s,n,e]),k=m.useCallback(()=>{var _;if(!e||!n||s===null)return;let T=s+1,O=n;T>12&&(T=1,O=(parseInt(n,10)+1).toString()),(_=e==null?void 0:e[O])!=null&&_.some(W=>W.month===T)?(r(O),a(T)):console.warn("Cannot go to next month (data missing):",O,T)},[s,n,e]);if(c)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("div",{className:"text-xl animate-pulse",children:i.jsx(ct,{color:"primary",size:"lg",label:"Loading Calendar..."})})});if(d)return i.jsx("div",{className:"flex justify-center items-center h-screen p-4",children:i.jsxs("div",{className:"p-6 text-red-700 bg-red-100 border border-red-400 rounded max-w-lg text-center whitespace-pre-wrap shadow-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Error Loading Calendar"}),i.jsx("p",{children:d}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})});if(!e||o.length===0||!n||s===null)return console.error("Render condition failed: Missing calendarData, years, current year, or current month.",{calendarData:e,availableYears:o,currentBsYear:n,currentBsMonth:s}),i.jsx("div",{className:"flex justify-center items-center h-screen p-4",children:i.jsxs("div",{className:"p-6 text-yellow-800 bg-yellow-100 border border-yellow-400 rounded max-w-lg text-center whitespace-pre-wrap shadow-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Calendar Data Unavailable"}),i.jsx("p",{children:"Could not display the calendar. Required data might be missing or incomplete."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Refresh Page"})]})});const A=new Date,I=`${A.getFullYear()}/${A.getMonth()+1}/${A.getDate()}`,L={currentMonthData:v,bsMonthName:N,bsYear:n,gregorianInfo:C,availableYears:o,currentBsYear:n,currentBsMonth:s,onYearChange:P,onMonthChange:E,onPrevMonth:M,onNextMonth:k,canGoPrev:j,canGoNext:S,calendarData:e,todayString:I,calendarEvents:b,onEventSaved:y},R={bsMonthName:N,calendarEvents:$,onDataChange:y},F=()=>i.jsx("div",{className:"text-center p-6 sm:p-10 bg-yellow-100 border border-yellow-400 rounded shadow-md w-full mt-4",children:`No calendar data available for ${N} ${n}. Please select another month or year.`});return i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex flex-1 w-full h-full ",children:h?i.jsxs("div",{className:" bg-gray-100 flex-1 rounded-lg sm:p-3",children:[" ",i.jsx($t,{children:i.jsxs("div",{className:"flex-1 rounded-lg overflow-y-auto",children:[" ",i.jsx(W6,{...L}),i.jsxs("div",{className:"mt-5",children:[" ",v?i.jsx(H6,{...R}):i.jsx(F,{})]})]})})]}):i.jsxs("div",{className:"flex w-full gap-4 p-3",children:[" ",i.jsxs("div",{className:"flex flex-col items-center bg-gray-100 rounded-lg shadow-md overflow-hidden max-w-[60%]",children:[" ",i.jsx(W6,{...L})]}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg shadow-md overflow-y-auto p-4",children:v?i.jsx(H6,{...R}):i.jsx(F,{})})]})})})},q6=({notifications:e,isLoading:t,error:n,selectedNotificationId:r,onSelectNotification:s,onRefresh:a,onAdd:o})=>{const[l,c]=m.useState(""),u=m.useMemo(()=>{if(!l.trim())return e;const f=l.toLowerCase();return e.filter(h=>h.title.toLowerCase().includes(f)||h.msg.toLowerCase().includes(f)||h.sender&&h.sender.toLowerCase().includes(f))},[e,l]),d=f=>{try{return new Date(f).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}};return i.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl shadow-md overflow-hidden border border-gray-200",children:[i.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between gap-3 f bg-gray-50",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:o,color:"orange","aria-label":"Add Faculty"}),i.jsx("div",{className:"",children:i.jsx(Ve,{placeholder:"Search title, message...",startContent:i.jsx(il,{className:"w-5 h-5 m text-gray-400"}),value:l,size:"md",variant:"bordered",onValueChange:c,className:" max-w-3xl"})}),i.jsx(Se,{isIconOnly:!0,variant:"light",onPress:a,disabled:t,"aria-label":"Refresh Notifications",className:"",children:i.jsx(wi,{className:`w-5 h-5 ${t?"animate-spin text-blue-600":"text-gray-500"}`})})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[" ",i.jsxs($t,{options:{suppressScrollX:!0},className:"h-full",children:[t&&i.jsx("div",{className:"p-6 text-center text-gray-500",children:i.jsx(ct,{color:"primary",size:"lg",label:"Loading Notifications..."})}),n&&i.jsxs("div",{className:"p-6 text-center text-red-600",children:["Error: ",n]}),!t&&!n&&u.length===0&&i.jsx("div",{className:"p-6 text-center text-gray-500 italic",children:l?"No notifications match your search.":"No notifications found."}),!t&&!n&&u.length>0&&i.jsx("ul",{className:"divide-y divide-gray-100",children:u.map(f=>i.jsxs("li",{onClick:()=>s(f),className:`block p-3 cursor-pointer transition-colors duration-150 ease-in-out ${f.$id===r?"bg-blue-100 hover:bg-blue-200":"hover:bg-gray-50"}`,role:"button",tabIndex:0,onKeyDown:h=>(h.key==="Enter"||h.key===" ")&&s(f),children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("h4",{className:"font-semibold text-sm text-gray-800 truncate pr-1",children:f.title||"Untitled Notification"}),i.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 whitespace-nowrap",children:d(f.date)})]}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:[" ",f.msg]})]},f.$id))})]})]})," "]})},G6=({notification:e,isMobile:t,onGoBack:n})=>{const r=(a,o=!0)=>{try{const l={year:"numeric",month:"long",day:"numeric"};return o&&(l.hour="2-digit",l.minute="2-digit"),new Date(a).toLocaleString(void 0,l)}catch{return"Invalid Date"}},s=a=>{const[o,l]=a.split(":");switch(o){case"id":return i.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:["User ID: ",l]},a);case"role":return i.jsxs("span",{className:"inline-block bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:["Role: ",l]},a);case"class":return i.jsxs("span",{className:"inline-block bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:["Class: ",l]},a);case"faculty":return i.jsxs("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:["Faculty: ",l]},a);case"section":return i.jsxs("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:["Section: ",l]},a);default:return i.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:a},a)}};return e?i.jsxs("div",{className:"flex flex-col h-full bg-gray-50 rounded-xl shadow-md overflow-hidden",children:[t&&i.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center gap-2 bg-white sticky top-0 z-10",children:[i.jsx(Se,{isIconOnly:!0,variant:"light",onPress:n,"aria-label":"Go Back",children:i.jsx(Hc,{className:"w-5 h-5"})}),i.jsx("h3",{className:"text-base font-semibold text-gray-800 truncate",children:"Notification Details"})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},className:"h-full",children:i.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[!t&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2 mb-4",children:"Notification Details"}),i.jsx("h4",{className:"text-xl font-bold text-gray-800",children:e.title}),i.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 bg-white p-3 rounded border border-gray-200",children:[i.jsxs("p",{className:"font-semibold mb-2 flex items-center gap-1",children:[i.jsx(Ks,{className:"w-5 h-5 text-blue-600"})," Message:"]}),e.msg]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-gray-200",children:[i.jsx(ls,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Sender:"})," ",e.sender||"System"]})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-gray-200",children:[i.jsx(ma,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Sent:"})," ",r(e.date)]})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-gray-200",children:[i.jsx(er,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Valid Until:"})," ",r(e.valid)]})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-gray-200",children:[i.jsx(D$,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),i.jsx("span",{className:`${new Date(e.valid)>=new Date?"text-green-700 font-semibold":"text-red-700"}`,children:new Date(e.valid)>=new Date?"Currently Valid":"Expired"})]})]}),i.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[i.jsxs("p",{className:"font-semibold mb-2 flex items-center gap-1 text-sm text-gray-600",children:[i.jsx(lh,{className:"w-5 h-5 text-purple-600"})," Targeted To:"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.to.length>0?e.to.map(s):i.jsx("span",{className:"text-xs text-gray-500 italic",children:"No specific target (potentially broadcast or error)."})})]})]})})})]}):null},pje=()=>et.getState().dbId,gje=pje,bx=gje,Y6="coll-notify",bje="coll-faculty",xje="coll-section",yje=e=>{if(!e||!e.trim())return null;try{if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(e))throw new Error("Input must be YYYY-MM-DD.");return F$(e)}catch(t){return console.error(`BS to AD conversion error for "${e}":`,t.message),Ge.error(`Invalid BS Date: ${t.message}`),null}},xx="block w-full px-3 py-2 text-base text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",yx="block text-sm font-medium text-gray-700 mb-1",vje=({isOpen:e,onClose:t,onSaveSuccess:n})=>{const[r,s]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,b]=m.useState(""),[x,y]=m.useState(""),[v,j]=m.useState([]),[S,N]=m.useState([]),[C,$]=m.useState(!1),[P,E]=m.useState(!1),[M,k]=m.useState(!1),[A,I]=m.useState(null);m.useEffect(()=>{(async()=>{if(!(A||!e))try{const W=await ut.get();I(W.$id)}catch(W){console.error("Failed to get sender ID:",W),Ge.error("Could not identify sender.")}})()},[e,A]),m.useEffect(()=>{if(!e)return;const _=async()=>{$(!0),j([]);try{if(!W||!z)throw Error("Faculty Config missing");const H=await le.listDocuments(z,W,[U.limit(200),U.orderAsc("name")]);j(H.documents)}catch(H){console.error("Faculty fetch failed:",H),Ge.error(H.message||"Could not load faculties.")}finally{$(!1)}},W=bje,z=bx,U=J;_()},[e]),m.useEffect(()=>{if(l!=="student"||!u||!f){N([]),b("");return}if(!e)return;const _=async()=>{var H;E(!0),N([]),b("");try{if(!W||!z)throw Error("Section Config missing");const B=[U.limit(100),U.equal("facultyId",u),U.equal("class",f),U.orderAsc("name")],Y=await le.listDocuments(z,W,B);N(Y.documents)}catch(B){(H=B.message)!=null&&H.includes("Attribute not found")?(console.error("Section Fetch Error: Schema mismatch.",B),Ge.error("Error loading sections: Check schema ('class'/'facultyId').")):(console.error("Section fetch failed:",B),Ge.error(`Could not load sections: ${B.message||"Unknown error"}`)),N([])}finally{E(!1)}},W=xje,z=bx,U=J;_()},[e,l,u,f]),m.useEffect(()=>{e||(s(""),o(""),c(""),d(""),h(""),b(""),y(""),k(!1))},[e]);const L=m.useMemo(()=>{if(!u)return[];const _=v.find(W=>W.$id===u);return Array.isArray(_==null?void 0:_.classes)?_.classes:[]},[u,v]),R=m.useCallback(async()=>{if(!r.trim())return Ge.error("Title is required.");if(!a.trim())return Ge.error("Message is required.");if(!x.trim())return Ge.error("Valid Until date (BS) is required.");if(!l)return Ge.error("Target Role is required.");if(!A)return Ge.error("Cannot save: Sender unknown.");const _=yje(x);if(_){k(!0);try{const W=[`role:${l}`];if(l==="student"&&(u&&W.push(`faculty:${u}`),f&&W.push(`class:${f}`),p&&W.push(`section:${p}`)),!bx||!Y6)throw new Error("DB/Notify Config missing.");const z=new Date,U=z.getFullYear(),H=String(z.getMonth()+1).padStart(2,"0"),B=String(z.getDate()).padStart(2,"0"),Y=`${U}-${H}-${B}`,ae={title:r.trim(),msg:a.trim(),to:W,valid:_,sender:A,date:Y};await le.createDocument(bx,Y6,QN.unique(),ae),Ge.success("Notification created!"),n(),t()}catch(W){console.error("Save failed:",W),Ge.error(`Save failed: ${W.message||"Unknown error"}`)}finally{k(!1)}}},[r,a,l,u,f,p,x,A,t,n]),F=_=>{c(_.target.value),d(""),h(""),b("")},T=_=>{d(_.target.value),h(""),b("")},O=_=>{h(_.target.value),b("")};return i.jsxs(We,{isOpen:e,onClose:t,position:"right",size:"lg",children:[i.jsx(We.Header,{showCloseButton:!0,children:" Add New Notification "}),i.jsx(We.Body,{children:i.jsxs("form",{className:"space-y-4 md:space-y-5",onSubmit:_=>_.preventDefault(),children:[i.jsx(Ve,{label:"Title",placeholder:"Enter notification title",value:r,onValueChange:s,isRequired:!0,disabled:M,maxLength:150}),i.jsx(Ss,{label:"Message",placeholder:"Enter notification message content...",value:a,onValueChange:o,isRequired:!0,minRows:4,disabled:M}),i.jsxs("div",{className:"border-t pt-4 space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Target Audience"}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"role-select",className:yx,children:[" Target Role ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{id:"role-select",value:l,onChange:F,className:xx,disabled:M,required:!0,children:[i.jsx("option",{value:"",disabled:!0,children:" -- Select a Role -- "}),i.jsx("option",{value:"student",children:"Student"}),i.jsx("option",{value:"parent",children:"Parent"}),i.jsx("option",{value:"faculty",children:"Faculty"}),i.jsx("option",{value:"admin",children:"Admin"})]})]}),l==="student"&&i.jsxs("div",{className:"pl-4 ml-1 border-l-2 border-blue-400 space-y-4 mt-3 pb-1",children:[i.jsx("p",{className:"text-xs text-gray-600 italic",children:"Optional: Refine student target"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"faculty-select",className:yx,children:" Target Faculty "}),i.jsxs("select",{id:"faculty-select",value:u,onChange:T,className:xx,disabled:M||C,children:[i.jsx("option",{value:"",children:" -- All Faculties -- "}),v.map(_=>i.jsxs("option",{value:_.$id,children:[" ",_.name," "]},_.$id))]}),C&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading faculties..."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"class-select",className:yx,children:" Target Class "}),i.jsxs("select",{id:"class-select",value:f,onChange:O,className:xx,disabled:M||C||!u,children:[i.jsx("option",{value:"",children:" -- All Classes -- "}),L.map(_=>i.jsxs("option",{value:_,children:[" ",_," "]},_))]}),!u&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a faculty to see classes."}),u&&L.length===0&&!C&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No classes listed for selected faculty."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"section-select",className:yx,children:" Target Section "}),i.jsxs("select",{id:"section-select",value:p,onChange:_=>b(_.target.value),className:xx,disabled:M||P||!f,children:[i.jsx("option",{value:"",children:" -- All Sections -- "}),S.map(_=>i.jsxs("option",{value:_.$id,children:[" ",_.name," "]},_.$id))]}),P&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading sections..."}),!f&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a class to load sections."}),f&&S.length===0&&!P&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No sections found for selected class/faculty."})]})]})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsx(Ve,{type:"text",label:i.jsxs(i.Fragment,{children:["Valid Until (BS Date) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),placeholder:"YYYY-MM-DD",value:x,onValueChange:y,isRequired:!0,disabled:M,pattern:"\\d{4}-\\d{1,2}-\\d{1,2}",maxLength:10})})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{variant:"light",onPress:t,disabled:M,children:" Cancel "}),i.jsx(Se,{color:"primary",onPress:R,isLoading:M,disabled:M||!A,children:M?"Saving...":"Create Notification"})]})]})},wje=()=>et.getState().dbId,Sje=wje,jje=Sje,Cje="coll-notify",mH=()=>{const[e,t]=m.useState(window.innerWidth<768),[n,r]=m.useState([]),[s,a]=m.useState(null),[o,l]=m.useState(!0),[c,u]=m.useState(null),[d,f]=m.useState(!1);m.useEffect(()=>{const S=()=>t(window.innerWidth<768);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const h=m.useCallback(async(S=!0)=>{S&&l(!0),u(null);try{const C=(await le.listDocuments(jje,Cje,[J.orderDesc("$createdAt")])).documents;r(C)}catch(N){console.error("Failed to fetch notifications:",N),u(N.message||"Failed to load notifications."),Ge.error("Could not fetch notifications.")}finally{S&&l(!1)}},[]);m.useEffect(()=>{h(!0)},[h]);const p=S=>{a(S)},b=()=>{a(null)},x=()=>{h(!0)},y=()=>{f(!0)},v=()=>{f(!1)},j=()=>{h(!1)};return i.jsxs("div",{className:"flex flex-col flex-1 w-full h-full",children:[i.jsx("div",{className:`flex flex-1 w-full h-full ${e?"":"gap-3 md:gap-4"}`,children:e?i.jsx("div",{className:"w-full h-full",children:s?i.jsx(G6,{notification:s,isMobile:!0,onGoBack:b}):i.jsx(q6,{notifications:n,isLoading:o,error:c,selectedNotificationId:(s==null?void 0:s.$id)??null,onSelectNotification:p,onRefresh:x,onAdd:y})}):i.jsxs(i.Fragment,{children:[" ",i.jsx("div",{className:"w-1/3 lg:w-2/5 xl:w-1/3 h-full",children:i.jsx(q6,{notifications:n,isLoading:o,error:c,selectedNotificationId:(s==null?void 0:s.$id)??null,onSelectNotification:p,onRefresh:x,onAdd:y})}),i.jsx("div",{className:"flex-1 h-full",children:s?i.jsx(G6,{notification:s,isMobile:!1,onGoBack:()=>{}}):i.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100 rounded-xl shadow-md p-6",children:i.jsx("p",{className:"text-gray-500 text-lg italic",children:"Select a notification from the list to view details."})})})]})}),i.jsx(vje,{isOpen:d,onClose:v,onSaveSuccess:j})]})},wj=20,Km=Gt((e,t)=>({currentUserEmail:null,currentUserRole:"admin",teacherDetails:null,teacherAssignedSectionIds:[],teacherAssignedSectionsData:[],allStudents:[],rawLeaveRequests:[],processedAndFilteredLeaves:[],displayableLeaveRequests:[],totalProcessedLeavesCount:0,currentlyDisplayedCount:0,modifiedLeaves:new Map,isLoading:!0,isFetchingMore:!1,error:null,filters:{facultyId:null,class:null,section:null,searchText:""},faculties:[],sections:[],classes:[],setLoading:n=>e({isLoading:n}),setError:n=>e({error:n,isLoading:!1}),setInitialData:({students:n,allFacultiesFromDB:r,allSectionsFromDB:s,userEmail:a,teacherDoc:o,assignedSectionIdsForTeacher:l,assignedSectionsDataForTeacher:c})=>{const u=o?"teacher":"admin";let d,f,h;if(u==="teacher"){f=c,h=[...new Set(c.map(x=>x.class))].filter(Boolean).sort();const b=new Set(c.map(x=>x.facultyId));d=r.filter(x=>b.has(x.$id)),d.length===0&&r.length>0&&(d=r)}else d=r,f=s,h=[...new Set(n.map(b=>b.class).concat(s.map(b=>b.class)))].filter(Boolean).sort();e({allStudents:n,faculties:d,sections:f,classes:h,currentUserEmail:a,currentUserRole:u,teacherDetails:o,teacherAssignedSectionIds:l,teacherAssignedSectionsData:c,isLoading:!1,error:null,filters:{facultyId:null,class:null,section:null,searchText:""}}),t().initializeAllLeaveData()},initializeAllLeaveData:()=>{const{allStudents:n}=t(),r=[];n.forEach(s=>{s.leave.forEach(a=>{try{const l={...JSON.parse(a),studentId:s.$id,studentName:s.name,studentClass:s.class,studentFacultyId:s.facultyId,studentSection:s.section};r.push(l)}catch(o){console.error("Failed to parse leave data:",a,o)}})}),r.sort((s,a)=>{const o=new Date(s.periodType==="today"?s.date||0:s.fromDate||0).getTime();return new Date(a.periodType==="today"?a.date||0:a.fromDate||0).getTime()-o}),e({rawLeaveRequests:r}),t().applyFiltersAndPrepareDisplay()},applyFiltersAndPrepareDisplay:()=>{const{rawLeaveRequests:n,filters:r}=t();let s=[...n];if(r.facultyId&&(s=s.filter(a=>a.studentFacultyId===r.facultyId)),r.class&&(s=s.filter(a=>a.studentClass===r.class)),r.section&&(s=s.filter(a=>a.studentSection===r.section)),r.searchText){const a=r.searchText.toLowerCase();s=s.filter(o=>o.title.toLowerCase().includes(a)||o.reason.toLowerCase().includes(a)||o.studentName.toLowerCase().includes(a))}e({processedAndFilteredLeaves:s,totalProcessedLeavesCount:s.length,currentlyDisplayedCount:Math.min(s.length,wj),displayableLeaveRequests:s.slice(0,Math.min(s.length,wj))})},setFilter:(n,r)=>{e(s=>{const a={...s.filters,[n]:r};if(n==="class")if(r===null)a.section=null;else{const o=s.filters.section;if(o){const l=s.sections.find(c=>c.$id===o);(!l||l.class!==r)&&(a.section=null)}}return{filters:a}}),t().applyFiltersAndPrepareDisplay()},loadMoreLeaves:()=>{const{processedAndFilteredLeaves:n,currentlyDisplayedCount:r,totalProcessedLeavesCount:s,isFetchingMore:a}=t();if(r>=s||a)return;e({isFetchingMore:!0});const o=Math.min(r+wj,s);e(l=>({displayableLeaveRequests:l.processedAndFilteredLeaves.slice(0,o),currentlyDisplayedCount:o,isFetchingMore:!1}))},updateLeaveStatus:(n,r,s,a)=>{e(o=>{var f;const l=o.rawLeaveRequests.find(h=>h.leaveId===n&&h.studentId===r);if(!l)return console.warn("Leave not found in raw requests for update:",n,r),o;const c=new Map(o.modifiedLeaves);let u=c.get(n);if(u?u.status=s:u={...l,originalStatus:l.status,status:s},s==="rejected"){const h=o.currentUserRole==="teacher"?((f=o.teacherDetails)==null?void 0:f.name)||"Class Teacher":"Admin";u.rejectionReason=a||`Rejected by ${h}`,u.rejectedAt=new Date().toISOString()}else s==="approved"&&(delete u.rejectionReason,delete u.rejectedAt);c.set(n,u);const d=o.displayableLeaveRequests.map(h=>h.leaveId===n?{...h,...u}:h);return{modifiedLeaves:c,displayableLeaveRequests:d}})},getLeaveById:n=>{const r=t().modifiedLeaves.get(n);if(r)return r;let s=t().displayableLeaveRequests.find(a=>a.leaveId===n);return s||t().rawLeaveRequests.find(a=>a.leaveId===n)},resetModifications:()=>{const{modifiedLeaves:n}=t();n.size!==0&&(e({modifiedLeaves:new Map}),t().applyFiltersAndPrepareDisplay())},clearModifications:()=>{e({modifiedLeaves:new Map})},hasPendingChanges:()=>t().modifiedLeaves.size>0})),Nje=()=>et.getState().dbId,$je=Nje,ew=$je,Eje=async()=>{let e=[],t=0;const n=100;let r;try{do r=await le.listDocuments(ew,on,[J.limit(n),J.offset(t)]),e=e.concat(r.documents),t+=n;while(r.documents.length>=n);return e}catch(s){throw console.error("Error fetching students:",s),s}},Aje=async()=>{try{return(await le.listDocuments(ew,tr,[J.limit(100)])).documents}catch(e){throw console.error("Error fetching faculties:",e),e}},Pje=async()=>{try{return(await le.listDocuments(ew,Qt,[J.limit(200)])).documents}catch(e){throw console.error("Error fetching sections:",e),e}},Dje=async(e,t)=>{try{return await le.updateDocument(ew,on,e,{leave:t})}catch(n){throw console.error(`Error updating leave data for student ${e}:`,n),n}},kje=()=>et.getState().dbId,X6=kje,Yi=async e=>{if(!X6)throw console.error("Database ID or Notifications Collection ID is not configured."),new Error("Notification service is not properly configured.");try{return await le.createDocument(X6,ioe,dn.unique(),{...e})}catch(t){throw console.error("[NotificationService] Error creating notification:",t),t}},xc=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]},pH=({leave:e,onApprove:t,onReject:n,isModified:r,originalStatus:s})=>{const a=l=>l==="approved"?"text-green-600 bg-green-100":l==="rejected"?"text-red-600 bg-red-100":l==="pending"?"text-yellow-600 bg-yellow-100":l==="validated"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100",o=e.periodType==="today"?e.date:`${e.fromDate} to ${e.toDate}`;return i.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-4 mb-4 border border-gray-200 hover:shadow-xl transition-shadow duration-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.title}),i.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${a(e.status)}`,children:[e.status.toUpperCase(),r&&s&&e.status!==s&&i.jsxs("span",{className:"text-xs italic ml-1",children:["(was ",s,")"]})]})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"Student:"})," ",e.studentName," (",e.studentClass," - ",e.studentSection,")"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"Reason:"})," ",e.reason]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[i.jsx("strong",{children:"Dates:"})," ",o]}),i.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Applied: ",new Date(e.appliedAt).toLocaleString()]}),e.status==="rejected"&&e.rejectionReason&&i.jsxs("p",{className:"text-sm text-red-500 bg-red-50 p-2 rounded mt-2",children:[i.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[e.status!=="approved"&&i.jsx(st,{icon:i.jsx(J1,{className:"h-5 w-5"}),onClick:t,color:"green",isIconOnly:!1,buttonText:"Approve"}),e.status!=="rejected"&&i.jsx(st,{icon:i.jsx(T$,{className:"h-5 w-5"}),onClick:n,color:"red",isIconOnly:!1,buttonText:"Reject"})]})]})},Ije=()=>{let e=document.getElementById("popover-portal-root");return e||(e=document.createElement("div"),e.setAttribute("id","popover-portal-root"),document.body.appendChild(e)),e},wg=({isOpen:e,onClose:t,onConfirm:n,title:r,content:s,className:a="",isConfirmLoading:o=!1})=>{if(m.useEffect(()=>{const c=u=>{u.key==="Escape"&&e&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),!e)return null;const l=i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:t,children:i.jsxs("div",{className:`bg-white/90 rounded-lg shadow-xl w-full max-w-md p-5 md:p-6 relative overflow-hidden ${a}`,onClick:c=>c.stopPropagation(),children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[typeof r=="string"&&r.toLowerCase().includes("delete")&&i.jsx(cs,{className:"h-5 w-5 text-red-500 inline"}),r]}),i.jsx("div",{className:"mb-5 text-medium text-gray-600",children:s}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-4",children:[i.jsx(Se,{color:"default",variant:"flat",size:"md",onPress:t,className:"text-gray-700 w-full sm:w-auto",isDisabled:o,children:"Cancel"}),i.jsx(Se,{color:"danger",size:"md",onPress:n,className:"w-full sm:w-auto text-white font-medium",isLoading:o,isDisabled:o,children:o?"Confirming...":"Confirm"})]})]})});return c0.createPortal(l,Ije())},dt=({label:e,placeholder:t="Select an option",options:n,value:r,onChange:s,className:a="",size:o="md",disabled:l=!1,allowClear:c=!0})=>{const[u,d]=m.useState(!1),f=m.useRef(null),h=n.find(N=>String(N.id)===String(r)),p=o==="sm"?"text-sm leading-5 py-1.5 px-3":"text-sm leading-6 py-2 px-3";m.useEffect(()=>{const N=C=>{f.current&&!f.current.contains(C.target)&&d(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const b=N=>{s(N),d(!1)},x=N=>{N.stopPropagation(),l||(s(null),d(!1))},y=()=>{l||d(!u)};return i.jsxs("div",{className:`relative ${a}`,ref:f,children:[e&&i.jsx("label",{htmlFor:e.replace(/\s+/g,"-").toLowerCase(),className:"block text-sm font-medium text-gray-700 mb-1",children:e}),i.jsxs("button",{type:"button",id:e?e.replace(/\s+/g,"-").toLowerCase():void 0,onClick:y,disabled:l,className:`w-full max-w-[250px] flex items-center justify-between rounded-md border bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed ${p} ${h?"text-gray-900":"text-gray-400"} border-gray-300`,"aria-haspopup":"listbox","aria-expanded":u,children:[i.jsx("span",{className:"truncate",children:h?h.name:t}),i.jsxs("div",{className:"flex items-center",children:[c&&r&&!l&&i.jsx(HSe,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 mr-1.5",onClick:x,"aria-hidden":"true",title:"Clear selection"}),i.jsx(cH,{className:`h-5 w-5 text-gray-400 transform transition-transform ${u?"rotate-180":""}`})]})]}),u&&i.jsxs("ul",{className:"absolute z-[9999999999999999] mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",role:"listbox",children:[t&&c&&i.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white ${r?"text-gray-900 font-normal":"bg-indigo-50 text-indigo-700 font-semibold"}`,onClick:()=>b(null),role:"option","aria-selected":!r,children:i.jsx("span",{className:`block truncate ${r?"font-normal":"font-semibold"}`,children:t})}),n.map(N=>i.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white ${String(r)===String(N.id)?"bg-indigo-50 text-indigo-700 font-semibold":"text-gray-900 font-normal"}`,onClick:()=>b(String(N.id)),role:"option","aria-selected":String(r)===String(N.id),children:i.jsx("span",{className:`block truncate ${String(r)===String(N.id)?"font-semibold":"font-normal"}`,children:N.name})},N.id)),n.length===0&&(!t||!c)&&i.jsx("li",{className:"cursor-default select-none relative py-2 px-4 text-gray-700",children:"No options"})]})]})},gH=()=>{var ae,ce;const{displayableLeaveRequests:e,totalProcessedLeavesCount:t,currentlyDisplayedCount:n,modifiedLeaves:r,isLoading:s,isFetchingMore:a,error:o,filters:l,faculties:c,sections:u,classes:d,setLoading:f,setError:h,initializeAllLeaveData:p,setFilter:b,updateLeaveStatus:x,resetModifications:y,clearModifications:v,hasPendingChanges:j,getLeaveById:S,loadMoreLeaves:N}=Km(),[C,$]=m.useState(!1),[P,E]=m.useState({leaveId:"",studentId:"",isOpen:!1}),[M,k]=m.useState(""),[A,I]=m.useState(!1),L=m.useRef(null),R=m.useCallback(oe=>{s||a||(L.current&&L.current.disconnect(),L.current=new IntersectionObserver(Q=>{Q[0].isIntersecting&&n<t&&N()}),oe&&L.current.observe(oe))},[s,a,N,n,t]),F=m.useCallback(async(oe=!1)=>{const Q=!Km.getState().allStudents.length&&!oe;Q?f(!0):oe&&I(!0),h(null);try{const[K,ne,te]=await Promise.all([Eje(),Aje(),Pje()]),X=await Jo();Km.getState().setInitialData({students:K,allFacultiesFromDB:ne,allSectionsFromDB:te,userEmail:X,teacherDoc:null,assignedSectionIdsForTeacher:[],assignedSectionsDataForTeacher:[]})}catch(K){console.error("Error fetching data for Admin page:",K),h("Failed to load admin data. Please try again.")}finally{Q&&f(!1),oe&&I(!1)}},[f,h]);m.useEffect(()=>{F()},[F]);const T=()=>{if(j()){if(!window.confirm("You have unsaved changes. Are you sure you want to refresh and discard them?"))return;y()}F(!0)},O=(oe,Q)=>{x(oe,Q,"approved")},_=(oe,Q)=>{E({leaveId:oe,studentId:Q,isOpen:!0});const K=S(oe);k((K==null?void 0:K.rejectionReason)||"")},W=()=>{if(P.leaveId){if(!M.trim()){alert("Rejection reason cannot be empty.");return}x(P.leaveId,P.studentId,"rejected",M),E({leaveId:"",studentId:"",isOpen:!1}),k("")}},z=async()=>{if($(!1),r.size===0){alert("No changes to apply.");return}I(!0),h(null);let oe=0,Q=0;const K=new Map,ne=[],te=await Jo();if(!te){console.error("[AdminApplyChanges] Could not get logged-in user email for notification sender."),h("Could not identify current user for sending notifications. Please try again."),I(!1);return}const X=te,xe="Admin",$e=xc(),Ne=Km.getState().allStudents;for(const fe of r.values()){let me=K.get(fe.studentId);if(!me){const re=Ne.find(ue=>ue.$id===fe.studentId);if(re){const ue=JSON.parse(JSON.stringify(re));me={doc:ue,newLeaveArray:[...ue.leave]},K.set(fe.studentId,me)}else{console.error(`[AdminApplyChanges] Student ${fe.studentId} not found for leave ${fe.leaveId}`),Q++;continue}}const G=me.newLeaveArray.findIndex(re=>{try{return JSON.parse(re).leaveId===fe.leaveId}catch{return!1}});if(G!==-1)try{const re=JSON.parse(me.newLeaveArray[G]);re.status=fe.status,fe.status==="rejected"?(re.rejectionReason=fe.rejectionReason,re.rejectedAt=fe.rejectedAt||new Date().toISOString(),re.rejectedBy=xe,delete re.approvedAt,delete re.approvedBy):fe.status==="approved"?(delete re.rejectionReason,delete re.rejectedAt,delete re.rejectedBy,re.approvedAt=fe.approvedAt||new Date().toISOString(),re.approvedBy=xe):(delete re.rejectionReason,delete re.rejectedAt,delete re.rejectedBy,delete re.approvedAt,delete re.approvedBy),me.newLeaveArray[G]=JSON.stringify(re);const ue=`Leave application ${fe.status}`,ge=`Your leave request for "${fe.title}" (${fe.periodType==="today"?fe.date:`${fe.fromDate} to ${fe.toDate}`}) has been ${fe.status} by Admin.`+(fe.status==="rejected"&&fe.rejectionReason?` Reason: ${fe.rejectionReason}`:""),ye=fe.studentId;ne.push({title:ue,msg:ge,to:[ye],valid:$e,sender:X})}catch(re){console.error("[AdminApplyChanges] Error processing leave for update:",fe.leaveId,re),Q++}else console.warn(`[AdminApplyChanges] Leave ${fe.leaveId} not found in student ${fe.studentId}'s leave array for update.`)}const Le=Array.from(K.entries()).map(async([fe,{newLeaveArray:me}])=>{try{await Dje(fe,me),oe++}catch(G){console.error(`[AdminApplyChanges] Failed to update student ${fe}`,G),Q++}});await Promise.all(Le);const we=ne.map(fe=>Yi(fe).catch(me=>{console.error(`[AdminApplyChanges] Failed to send notification for title "${fe.title}" to "${fe.to.join(", ")}":`,me)}));await Promise.all(we),Q>0?h(`Applied ${oe} changes with ${Q} errors during student data update. Check console.`):oe>0?alert(`Successfully applied ${oe} changes. Notifications processed.`):alert("No changes were applied. This might indicate an issue or no actual modifications were made."),v(),await F(!0),I(!1)},U=m.useMemo(()=>{const oe={};return e.forEach(Q=>{const K=Q.periodType==="today"?Q.date:Q.fromDate;if(!K){console.warn("Leave object missing date/fromDate:",Q);return}oe[K]||(oe[K]=[]),oe[K].push(Q)}),Object.entries(oe).sort(([Q],[K])=>Q?!K||Q>K?-1:Q<K?1:0:1)},[e]),H=m.useMemo(()=>c.map(oe=>({id:oe.$id,name:oe.name})),[c]),B=m.useMemo(()=>d.map(oe=>({id:oe,name:oe})),[d]),Y=m.useMemo(()=>u.filter(oe=>!l.class||oe.class===l.class).map(oe=>({id:oe.$id,name:`${oe.name} (Class ${oe.class})`})),[u,l.class]);return s&&e.length===0&&!o?i.jsx("div",{className:"p-6 text-center text-lg font-semibold text-gray-700",children:"Loading leave requests..."}):o&&!A?i.jsxs("div",{className:"p-6 text-center text-red-600",children:[i.jsxs("p",{className:"text-lg mb-2",children:["Error: ",o]}),i.jsx(Se,{color:"danger",variant:"ghost",onPress:()=>F(!0),children:"Retry Loading Data"})]}):i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"p-4 md:p-6 bg-gray-100 min-h-screen pb-24",children:[" ",i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Leave Approval Dashboard (Admin)"}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:T,color:"blue",isIconOnly:!0,buttonText:"Refresh Data",disabled:A||s})]}),i.jsxs("div",{className:"mb-6 p-4 items-end bg-white shadow-md rounded-lg grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[i.jsx(Bn,{placeholder:"Search leave title, reason, student...",value:l.searchText,onValueChange:oe=>b("searchText",oe),className:"w-full",inputClassName:"text-sm"}),i.jsx(dt,{label:"Filter by Faculty",placeholder:"All Faculties",options:H,value:l.facultyId,onChange:oe=>b("facultyId",oe),className:"w-full",size:"md"}),i.jsx(dt,{label:"Filter by Class",placeholder:"All Classes",options:B,value:l.class,onChange:oe=>b("class",oe),className:"w-full",size:"md"}),i.jsx(dt,{label:"Filter by Section",placeholder:"All Sections",options:Y,value:l.section,onChange:oe=>b("section",oe),className:"w-full",size:"md",isDisabled:Y.length===0})]}),s&&e.length>0&&!A&&i.jsx("div",{className:"text-center p-4 text-gray-600",children:"Applying filters or loading initial view..."}),U.length===0&&!s&&!a&&i.jsxs("div",{className:"text-center text-gray-500 py-10 bg-white shadow rounded-lg",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-20 h-20 mx-auto mb-4 text-gray-400",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.125 0 1.131.094 1.976 1.057 1.976 2.192V7.5m0 4.5h.008m-1.008 0H7.5a2.25 2.25 0 0 0-2.25 2.25v.75c0 1.108.892 2.006 1.996 2.006H12c1.104 0 1.996-.898 1.996-2.006v-.75a2.25 2.25 0 0 0-2.25-2.25H7.5m8.25-4.5h.008M12 10.5h.008m-3.75 0h.008m0 0h.008m2.742 0H12m4.5 0h.008m-1.008 0H12a2.25 2.25 0 0 0-2.25 2.25v.75M7.5 10.5h.008M12 7.5h.008m2.242 0H12m0 0h.008M12 7.5a2.25 2.25 0 0 0-2.25 2.25v.75"})}),i.jsx("p",{className:"text-xl",children:"No leave requests found."}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or check back later."}),Km.getState().allStudents.length>0&&e.length===0&&i.jsx("p",{className:"text-sm mt-2 text-orange-600",children:"Students found, but no leave applications match current filters or exist."})]}),U.map(([oe,Q])=>i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4 pb-2 border-b-2 border-indigo-600",children:oe||"Unspecified Date"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Q.map(K=>{const ne=r.get(K.leaveId),te=ne||K;return i.jsx(pH,{leave:te,onApprove:()=>O(te.leaveId,te.studentId),onReject:()=>_(te.leaveId,te.studentId),isModified:!!ne,originalStatus:(ne==null?void 0:ne.originalStatus)||K.status},te.leaveId+"-"+(ne?"mod-":"")+te.status)})})]},oe||"unknown-date")),n<t&&!a&&!s&&i.jsx("div",{ref:R,className:"flex justify-center py-8",children:i.jsxs(Se,{variant:"ghost",color:"primary",onPress:N,isLoading:a,children:["Load More (",t-n," remaining)"]})}),a&&i.jsx("div",{className:"text-center py-8 text-gray-600 font-semibold",children:"Loading more requests..."}),j()&&i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm p-4 border-t border-gray-300 shadow-lg flex flex-col sm:flex-row justify-center sm:justify-end gap-3 z-30",children:[i.jsxs(Se,{color:"default",variant:"bordered",onPress:()=>{y()},startContent:i.jsx(ya,{className:"h-5 w-5"}),isDisabled:A,className:"w-full sm:w-auto",children:["Cancel Changes (",r.size,")"]}),i.jsx(Se,{color:"primary",variant:"solid",onPress:()=>$(!0),startContent:i.jsx(E$,{className:"h-5 w-5"}),isLoading:A,isDisabled:A,className:"w-full sm:w-auto",children:A?"Applying...":`Apply ${r.size} Changes`})]}),i.jsx(wg,{isOpen:C,onClose:()=>$(!1),onConfirm:z,title:"Confirm Changes",content:`Are you sure you want to apply ${r.size} change(s) to leave statuses? This will update student records and send notifications.`,isConfirmLoading:A}),i.jsx(wg,{isOpen:P.isOpen,onClose:()=>E({...P,isOpen:!1}),onConfirm:W,title:"Rejection Reason",content:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Provide reason for rejecting leave for student ",i.jsx("span",{className:"font-semibold",children:(ae=S(P.leaveId))==null?void 0:ae.studentName}),' regarding "',i.jsx("span",{className:"font-semibold",children:(ce=S(P.leaveId))==null?void 0:ce.title}),'".']}),i.jsx(Ve,{label:"Rejection Reason",placeholder:"Enter reason (e.g., insufficient details)",value:M,onValueChange:k,fullWidth:!0,autoFocus:!0,isRequired:!0,className:"mt-1"})]}),isConfirmLoading:!1})]})})},Tje=()=>et.getState().dbId,li=Tje,qu=Gt((e,t)=>({faculties:[],selectedFacultyId:null,classesForFaculty:[],selectedClass:null,sectionsForClass:[],selectedSectionId:null,studentSearchTerm:"",students:[],selectedStudent:null,reviews:[],isLoadingFilters:!0,isLoadingStudents:!1,isLoadingReviews:!1,isDrawerOpen:!1,drawerMode:"add",reviewToEdit:null,isSubmittingReview:!1,isDeletePopoverOpen:!1,reviewToDelete:null,isDeletingReview:!1,filterError:null,studentError:null,reviewError:null,submitReviewError:null,adminEmail:null,actions:{initializeAdminPage:async()=>{e({isLoadingFilters:!0,filterError:null});try{const n=await ut.get();e({adminEmail:n.email});const r=await le.listDocuments(li,tr,[J.orderAsc("name")]);e({faculties:r.documents,isLoadingFilters:!1})}catch(n){console.error("Error initializing admin page:",n),e({isLoadingFilters:!1,filterError:"Failed to load initial filter data."})}},selectFaculty:async n=>{if(e({selectedFacultyId:n,selectedClass:null,classesForFaculty:[],selectedSectionId:null,sectionsForClass:[],students:[],selectedStudent:null,reviews:[],isLoadingFilters:!0,filterError:null}),n)try{const r=await le.getDocument(li,tr,n),s=r.classes?[...new Set(r.classes)].sort():[];e({classesForFaculty:s,isLoadingFilters:!1})}catch(r){console.error("Error fetching classes for faculty:",r),e({isLoadingFilters:!1,filterError:"Failed to load classes for selected faculty."})}else e({isLoadingFilters:!1});await t().actions.fetchStudents()},selectClass:async n=>{e({selectedClass:n,selectedSectionId:null,sectionsForClass:[],students:[],selectedStudent:null,reviews:[],isLoadingFilters:!!n,filterError:null});const{selectedFacultyId:r}=t();if(n&&r)try{const s=await le.listDocuments(li,Qt,[J.equal("facultyId",r),J.equal("class",n),J.orderAsc("name")]);e({sectionsForClass:s.documents,isLoadingFilters:!1})}catch{}else e({isLoadingFilters:!1});await t().actions.fetchStudents()},selectSection:async n=>{e({selectedSectionId:n,students:[],selectedStudent:null,reviews:[]}),await t().actions.fetchStudents()},setStudentSearchTerm:n=>{e({studentSearchTerm:n})},fetchStudents:async()=>{const{selectedFacultyId:n,selectedClass:r,selectedSectionId:s,studentSearchTerm:a,sectionsForClass:o}=t(),l=n||r,c=a.trim()!=="";let u;if(s){const f=o.find(h=>h.$id===s);f?u=f.name:console.warn(`Could not find section name for selectedSectionId: ${s}. Section filter might not work correctly.`)}if(!l&&!u&&!c){e({students:[],selectedStudent:null,reviews:[],isLoadingStudents:!1,studentError:null});return}e({isLoadingStudents:!0,studentError:null,selectedStudent:null,reviews:[]});const d=[];n&&d.push(J.equal("facultyId",n)),r&&d.push(J.equal("class",r)),u&&d.push(J.equal("section",u)),c&&d.push(J.search("name",a.trim())),d.push(J.orderAsc("name"));try{const f=await le.listDocuments(li,on,d),h=await Promise.all(f.documents.map(async p=>{let b="N/A",x=p.section;if(p.facultyId)try{const y=await le.listDocuments(li,tr,[J.equal("id",p.facultyId),J.limit(1)]);y.documents.length>0&&(b=y.documents[0].name)}catch{}return{...p,facultyName:b,sectionName:x}}));e({students:h,isLoadingStudents:!1})}catch(f){console.error("Error fetching students:",f),e({isLoadingStudents:!1,studentError:"Failed to load students based on criteria."})}},selectStudent:async n=>{e({selectedStudent:n,reviews:[],reviewError:null}),n&&await t().actions.fetchReviewsForSelectedStudent()},fetchReviewsForSelectedStudent:async()=>{const{selectedStudent:n}=t();if(n){e({isLoadingReviews:!0,reviewError:null});try{const r=await le.listDocuments(li,Vi,[J.equal("studentId",n.$id),J.orderDesc("reviewDate")]),s=await Promise.all(r.documents.map(async a=>{let o="N/A";if(a.teacherId)try{const l=await le.listDocuments(li,Ga,[J.equal("id",a.teacherId),J.limit(1)]);l.documents.length>0&&(o=l.documents[0].name)}catch(l){console.warn(`Failed to fetch teacher ${a.teacherId}`,l)}return{...a,teacherName:o}}));e({reviews:s,isLoadingReviews:!1})}catch(r){console.error("Error fetching reviews:",r),e({isLoadingReviews:!1,reviewError:"Failed to load reviews for the selected student."})}}},openReviewDrawer:(n,r)=>{e({isDrawerOpen:!0,drawerMode:n,reviewToEdit:n==="edit"?r:null,submitReviewError:null})},closeReviewDrawer:()=>{e({isDrawerOpen:!1,reviewToEdit:null,submitReviewError:null})},submitReview:async(n,r)=>{const{selectedStudent:s,drawerMode:a,reviewToEdit:o,adminEmail:l,sectionsForClass:c,selectedClass:u,selectedFacultyId:d}=t();if(!s)return!1;let f;if(s.section&&u&&s.class===u){const b=c.find(x=>x.name===s.section&&x.class===s.class&&x.facultyId===s.facultyId);b&&(f=b.$id)}if(!f&&s.section&&s.class&&s.facultyId)try{const b=await le.listDocuments(li,Qt,[J.equal("name",s.section),J.equal("class",s.class),J.equal("facultyId",s.facultyId),J.limit(1)]);b.documents.length>0?f=b.documents[0].$id:console.warn("Admin submitReview: Could not find matching section document for student's section details.")}catch(b){console.error("Admin submitReview: Error querying for section $id:",b)}if(!f)return e({isSubmittingReview:!1,submitReviewError:"Could not determine the specific section document for this student's review. Please ensure student data is accurate."}),!1;let h;if(a==="add"){if(!r)return e({submitReviewError:"Teacher must be specified for new reviews added by admin."}),!1;h=r}else o&&(h=o.teacherId);if(!h)return e({submitReviewError:"Teacher ID could not be determined for the review."}),!1;e({isSubmittingReview:!0,submitReviewError:null});const p={...n,studentId:s.$id,teacherId:h,sectionId:f};try{let b=null;if(a==="add"?b=await le.createDocument(li,Vi,dn.unique(),p):o&&(b=await le.updateDocument(li,Vi,o.$id,p)),e({isSubmittingReview:!1,isDrawerOpen:!1,reviewToEdit:null}),await t().actions.fetchReviewsForSelectedStudent(),a==="add"&&b&&l)try{const x={title:`New Review Added by Admin for ${s.name}`,msg:`A new performance review for "${n.type}" has been added for ${s.name} by an Administrator. Review Date: ${new Date(n.reviewDate).toLocaleDateString()}.`,to:[`id:${s.id}`],valid:xc(),sender:l};await Yi(x)}catch(x){console.error("Admin: Failed to send notification for new review:",x)}return!0}catch(b){return console.error("Admin: Submit review error:",b),e({isSubmittingReview:!1,submitReviewError:b.message||"Failed to submit review."}),!1}},openDeletePopover:n=>e({isDeletePopoverOpen:!0,reviewToDelete:n}),closeDeletePopover:()=>e({isDeletePopoverOpen:!1,reviewToDelete:null}),confirmDeleteReview:async()=>{const{reviewToDelete:n}=t();if(!n)return!1;e({isDeletingReview:!0});try{return await le.deleteDocument(li,Vi,n.$id),e({isDeletingReview:!1,isDeletePopoverOpen:!1,reviewToDelete:null}),await t().actions.fetchReviewsForSelectedStudent(),!0}catch(r){return console.error("Admin: Delete review error:",r),e({isDeletingReview:!1,reviewError:r.message||"Failed to delete review."}),!1}},clearAllErrors:()=>e({filterError:null,studentError:null,reviewError:null,submitReviewError:null})}})),Np=[{id:"hygiene",name:"Hygiene"},{id:"discipline",name:"Discipline"},{id:"academic_performance",name:"Academic Performance"},{id:"class_participation",name:"Class Participation"},{id:"behavior",name:"Behavior"},{id:"responsibility",name:"Responsibility"},{id:"social_skills",name:"Social Skills"},{id:"homework_completion",name:"Homework Completion"},{id:"punctuality",name:"Punctuality"},{id:"other",name:"Other"}],bH=[{id:"excellent",name:"Excellent"},{id:"very_good",name:"Very Good"},{id:"good",name:"Good"},{id:"satisfactory",name:"Satisfactory"},{id:"needs_improvement",name:"Needs Improvement"},{id:"unsatisfactory",name:"Unsatisfactory"}],vx=e=>{try{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}catch(t){return console.error("AD to BS Error:",t),""}},Mje=e=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";try{const[t,n,r]=e.split("-").map(Number),a=new Hn(t,n-1,r).toJsDate();return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(t){return console.error("BS to AD Error:",t),""}},Oje=()=>{var N;const{drawerMode:e,reviewToEdit:t,isSubmittingReview:n,submitReviewError:r,actions:s,selectedStudent:a,adminEmail:o}=qu(),[l,c]=m.useState(((N=Np[0])==null?void 0:N.id.toString())||null),[u,d]=m.useState(""),[f,h]=m.useState(null),[p,b]=m.useState(vx(new Date)),[x,y]=m.useState(""),[v,j]=m.useState("");m.useEffect(()=>{var C;y(""),e==="edit"&&t?(c(t.type),d(t.description),h(t.rating||null),b(vx(t.reviewDate)),t.teacherName&&t.teacherName!=="N/A"?j(t.teacherName):t.teacherId&&t.teacherId.toUpperCase()!=="ADMIN"?j(t.teacherId):j("")):(c(((C=Np[0])==null?void 0:C.id.toString())||null),d(""),h(null),b(vx(new Date)),j(""))},[e,t]);const S=async C=>{var M;if(C.preventDefault(),y(""),qu.getState().actions.clearAllErrors(),!l||!u){qu.setState({submitReviewError:"Review Type and Description are required."});return}if(!/^\d{4}-\d{2}-\d{2}$/.test(p)){y("Review Date must be in YYYY-MM-DD BS format.");return}const $=Mje(p);if(!$){y("Invalid BS Date. Please check the year, month, and day.");return}let P;if(e==="add")P=v.trim()||`ADMIN:${o||"UnknownAdmin"}`;else if(t)P=t.teacherId;else{qu.setState({submitReviewError:"Form mode is unclear."});return}await s.submitReview({type:l,description:u,rating:f||void 0,reviewDate:$},P)&&e==="add"&&(c(((M=Np[0])==null?void 0:M.id.toString())||null),d(""),h(null),b(vx(new Date)),j(""))};return i.jsxs("form",{onSubmit:S,className:"space-y-5 p-1",children:[" ",a&&i.jsxs("p",{className:"text-sm text-gray-700 mb-4 pb-2 border-b border-gray-200",children:["Review for: ",i.jsx("span",{className:"font-semibold text-indigo-600",children:a.name})]}),e==="add"&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"reviewedByTeacher",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reviewed By (Optional: Teacher Name or ID)"}),i.jsx(Ve,{id:"reviewedByTeacher",value:v,onValueChange:j,placeholder:"Enter Teacher Name/ID, or leave blank for Admin",disabled:n,className:"w-full"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["If blank, review will be attributed to Administrator (",o,")."]})]}),e==="edit"&&t&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Reviewer"}),i.jsx(Ve,{value:t.teacherName!=="N/A"&&t.teacherName?t.teacherName:t.teacherId,isReadOnly:!0,className:"w-full bg-gray-100"})]}),i.jsx(dt,{label:"Review Type *",options:Np,value:l,onChange:C=>c(C),placeholder:"Select review type",disabled:n}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description_admin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),i.jsx(Ss,{id:"description_admin",value:u,onValueChange:d,placeholder:"Detailed review comments...",rows:5,disabled:n,className:"w-full"})]}),i.jsx(dt,{label:"Overall Rating (Optional)",options:bH,value:f,onChange:C=>h(C),placeholder:"Select rating",allowClear:!0,disabled:n}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"reviewDateInBS_admin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Date (BS - YYYY-MM-DD) *"}),i.jsx(Ve,{id:"reviewDateInBS_admin",type:"text",value:p,onValueChange:C=>{b(C),x&&y("")},placeholder:"e.g., 2081-01-15",disabled:n,isInvalid:!!x,errorMessage:x||void 0,className:"w-full max-w-xs"}),x&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:x})]}),r&&i.jsx("p",{className:"text-sm text-red-600 mt-3 p-2 bg-red-50 rounded-md",children:r}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 mt-4",children:[i.jsx(Se,{type:"button",color:"default",variant:"flat",onPress:s.closeReviewDrawer,disabled:n,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:n,disabled:n,className:"shadow-md",children:e==="add"?"Add Review":"Save Changes"})]})]})},Lje=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return console.warn("formatADtoBSDateString: Invalid AD date input:",e),"Invalid Date";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} BS`}catch(t){return console.error("Error converting AD to BS for display:",t,"Input:",e),e.split("T")[0]+" (AD - Conv. Error)"}};function _je(e,t){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}const xH=()=>{const{faculties:e,selectedFacultyId:t,classesForFaculty:n,selectedClass:r,sectionsForClass:s,selectedSectionId:a,studentSearchTerm:o,students:l,selectedStudent:c,reviews:u,isLoadingFilters:d,isLoadingStudents:f,isLoadingReviews:h,isDrawerOpen:p,drawerMode:b,isDeletePopoverOpen:x,isDeletingReview:y,filterError:v,studentError:j,reviewError:S,actions:N}=qu();m.useEffect(()=>{N.initializeAdminPage()},[N]);const C=m.useMemo(()=>e.map(A=>({id:A.$id,name:A.name})),[e]),$=m.useMemo(()=>n.map(A=>({id:A,name:A})),[n]),P=m.useMemo(()=>s.map(A=>({id:A.$id,name:A.name})),[s]),E=m.useCallback(_je(()=>{const A=qu.getState();A.studentSearchTerm.trim()!==""||A.selectedFacultyId||A.selectedClass||A.selectedSectionId?N.fetchStudents():qu.setState({students:[],selectedStudent:null,reviews:[]})},500),[N]),M=A=>{N.setStudentSearchTerm(A),E()},k=()=>{N.fetchStudents()};return i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br  p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6 sm:space-y-8",children:[i.jsxs("header",{className:"mb-6 sm:mb-8 p-6 bg-white rounded-xl shadow-xl border border-gray-200",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight flex items-center",children:[i.jsx(os,{className:"w-10 h-10 mr-3 text-indigo-600"}),"Administrator Review Management"]}),i.jsx("p",{className:"text-slate-600 mt-2",children:"Oversee and manage all student performance reviews across the institution."})]}),i.jsxs(mt,{className:"shadow-xl border border-gray-200 rounded-xl overflow-hidden",children:[i.jsx(Un,{className:"bg-slate-100 p-4 sm:p-5 border-b border-gray-200",children:i.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Filter Students"})}),i.jsxs(yt,{className:"p-4 sm:p-6 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 items-end",children:[i.jsx(dt,{label:"Faculty",options:C,value:t,onChange:A=>N.selectFaculty(A),placeholder:"All Faculties",disabled:d,allowClear:!0}),i.jsx(dt,{label:"Class",options:$,value:r,onChange:A=>N.selectClass(A),placeholder:t?"All Classes":"Select Faculty First",disabled:d||!t||t&&n.length===0&&!d,allowClear:!0}),i.jsx(dt,{label:"Section",options:P,value:a,onChange:A=>N.selectSection(A),placeholder:r?"All Sections":"Select Class First",disabled:d||!r||r&&s.length===0&&!d,allowClear:!0}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-end pt-2 sm:pt-0 md:col-span-2 lg:col-span-1 lg:justify-self-end",children:[i.jsx(Bn,{placeholder:"Search student name...",value:o,onValueChange:M,className:"flex-grow w-full sm:w-auto"}),i.jsx(Se,{color:"primary",onPress:k,isLoading:f&&(o!==""||!!t||!!r||!!a),startContent:i.jsx(il,{className:"w-5"}),className:"w-full sm:w-auto shadow-md",children:"Search/Filter"})]}),v&&i.jsx("p",{className:"text-sm text-red-500 md:col-span-full",children:v})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[i.jsxs(mt,{className:"lg:col-span-1 shadow-xl border border-gray-200 rounded-xl overflow-hidden",children:[i.jsx(Un,{className:"bg-slate-100 p-4 sm:p-5 border-b border-gray-200",children:i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 flex items-center",children:[i.jsx(lh,{className:"w-6 h-6 mr-2 text-sky-600"})," Students"]})}),i.jsxs(yt,{className:"p-0",children:[f&&i.jsx("div",{className:"p-6 text-center",children:i.jsx(ct,{label:"Loading students..."})}),j&&i.jsx("p",{className:"p-6 text-sm text-red-500 text-center",children:j}),!f&&!j&&l.length===0&&i.jsxs("div",{className:"p-6 text-sm text-gray-500 text-center min-h-[200px] flex flex-col justify-center items-center",children:[i.jsx(il,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"font-medium",children:"No students to display."}),i.jsx("p",{children:"Please use the filters or search bar above to find students."})]}),!f&&!j&&l.length>0&&i.jsx(j$,{hideScrollBar:!0,className:"max-h-[calc(100vh-450px)] sm:max-h-[500px] lg:max-h-[600px] p-2",children:i.jsx(N$,{"aria-label":"Student list",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:c?[c.$id]:[],onSelectionChange:A=>{const I=Array.from(A)[0],L=l.find(R=>R.$id===I);N.selectStudent(L||null)},items:l,children:A=>i.jsx(bn,{textValue:A.name,className:"hover:bg-indigo-50 data-[selected=true]:bg-indigo-100 data-[selected=true]:text-indigo-700 data-[selected=true]:font-semibold",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:A.name}),i.jsxs("span",{className:"text-xs text-gray-500",children:[A.class," - ",A.sectionName]})]})},A.$id)})})]})]}),i.jsxs(mt,{className:"lg:col-span-2 shadow-xl border border-gray-200 rounded-xl overflow-hidden",children:[i.jsxs(Un,{className:"bg-slate-100 p-4 sm:p-5 border-b border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 flex items-center",children:[i.jsx(Mc,{className:"w-6 h-6 mr-2 text-blue-600"}),"Reviews ",c?`for ${c.name}`:"(Select a Student)"]}),c&&i.jsx(Se,{color:"primary",variant:"solid",startContent:i.jsx(Pd,{className:"w-5 h-5"}),onPress:()=>N.openReviewDrawer("add"),className:"w-full sm:w-auto mt-2 sm:mt-0 shadow-md",isDisabled:!c,children:"Add Review"})]}),i.jsxs(yt,{className:"p-4 sm:p-6",children:[!c&&i.jsxs("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg min-h-[300px] flex flex-col justify-center items-center",children:[i.jsx(Gi,{className:"w-16 h-16 mx-auto text-gray-300"}),i.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"Select a Student"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Choose a student from the list to view or manage their reviews."})]}),c&&h&&i.jsx("div",{className:"text-center py-10",children:i.jsx(ct,{label:"Loading reviews..."})}),c&&S&&i.jsx("p",{className:"p-6 text-sm text-red-500 text-center",children:S}),c&&!h&&!S&&u.length===0&&i.jsxs("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg min-h-[300px] flex flex-col justify-center items-center",children:[i.jsx(Mc,{className:"w-16 h-16 mx-auto text-gray-300"}),i.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"No Reviews Found"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["No reviews yet for ",c.name,"."]})]}),c&&!h&&!S&&u.length>0&&i.jsx("div",{className:"space-y-4 sm:space-y-5",children:u.map(A=>{var I,L;return i.jsxs(mt,{shadow:"md",className:"bg-white border border-gray-200 rounded-lg",children:[i.jsxs(Un,{className:"p-3 sm:p-4 flex justify-between items-start gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-md sm:text-lg text-slate-800",children:((I=Np.find(R=>R.id===A.type))==null?void 0:I.name)||A.type}),i.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Date: ",i.jsx("span",{className:"font-medium",children:Lje(A.reviewDate)})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["By: ",i.jsx("span",{className:"font-medium",children:A.teacherName||A.teacherId})]}),A.rating&&i.jsxs("p",{className:"text-xs text-slate-500 capitalize",children:["Rating: ",i.jsx("span",{className:"font-medium text-indigo-600",children:((L=bH.find(R=>R.id===A.rating))==null?void 0:L.name)||A.rating})]})]}),i.jsxs("div",{className:"flex space-x-1.5 sm:space-x-2 flex-shrink-0",children:[i.jsx(st,{icon:i.jsx(ao,{className:"w-4 h-4"}),onClick:()=>N.openReviewDrawer("edit",A),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"w-4 h-4"}),onClick:()=>N.openDeletePopover(A),color:"red",isIconOnly:!0})]})]}),i.jsx(Ed,{}),i.jsx(yt,{className:"p-3 sm:p-4",children:i.jsx("p",{className:"text-slate-700 text-sm leading-relaxed whitespace-pre-wrap",children:A.description})})]},A.$id)})})]})]})]})]}),i.jsxs(We,{isOpen:p,onClose:N.closeReviewDrawer,size:"lg",position:"right",children:[i.jsx(We.Header,{children:b==="add"?`Add New Review for ${(c==null?void 0:c.name)||"Student"}`:`Edit Review for ${(c==null?void 0:c.name)||"Student"}`}),i.jsx(We.Body,{children:(c||b==="add")&&i.jsx(Oje,{})})]}),i.jsx(vl,{isOpen:x,onClose:N.closeDeletePopover,onConfirm:N.confirmDeleteReview,title:"Confirm Deletion",content:"Are you sure you want to permanently delete this review? This action cannot be undone.",isConfirmLoading:y})]})})},Fje="https://back.soraddynamics.com",wx="coll-teacher",Hm=`${Fje}/api/users/auth`,Rje=()=>(console.warn("SECURITY WARNING: Using insecure temporary password generation!"),`TempPass_${Math.random().toString(36).slice(-8)}`),R$=Gt((e,t)=>({teacherData:[],isLoading:!1,isFetching:!1,error:null,fetchTeachersData:async()=>{const n=et.getState().dbId;if(!n){const r=`Appwrite configuration missing: ${n?"":"Database ID"}.`;console.error("[fetchTeachersData]",r),e({isFetching:!1,error:r});return}e({isFetching:!0,error:null});try{const s=(await le.listDocuments(n,wx)).documents;e({teacherData:s,isFetching:!1})}catch(r){console.error("Error fetching teachers data:",r);const s=r.message||"Failed to fetch teachers data";e({error:s,isFetching:!1})}},updateTeacherData:async n=>{const r=et.getState().dbId;if(!r){const s=`Appwrite configuration missing for update: ${r?"":"Database ID"}.`;throw console.error("[updateTeacherData]",s),e({isLoading:!1,error:s}),new Error(s)}e({isLoading:!0,error:null});try{const s={name:n.name,subject:n.subject,level:n.level,qualification:n.qualification,email:n.email},o=await le.updateDocument(r,wx,n.$id,s);e(l=>({teacherData:l.teacherData.map(c=>c.$id===o.$id?{...c,...o}:c),isLoading:!1}))}catch(s){console.error("Error updating teacher document:",s);const a=s.message||"Failed to update teacher document";throw e({error:a,isLoading:!1}),s}},deleteTeacherData:async n=>{const r=et.getState().dbId;if(!r){const a=`Config missing for teacher deletion: ${r?"":"Database ID, "}.`.replace(/, $/,".");throw console.error("[deleteTeacherData]",a),e({isLoading:!1,error:a}),new Error(a)}e({isLoading:!0,error:null});let s=null;try{const a=t().teacherData.find(o=>o.$id===n);if(a?(s=a.authUserId,s||(s=a.id,s===a.$id&&(s=null)),s||console.warn(`[deleteTeacherData] authUserId (or custom 'id' attribute for auth) is missing or empty on teacher object for doc ID: ${n}. Teacher object:`,a)):console.warn(`[deleteTeacherData] Teacher document ${n} not found in local state. Cannot get authUserId directly.`),s){const o=`${Hm}/${s}`;try{const l=await fetch(o,{method:"DELETE"}),c=await l.text();let u;try{u=JSON.parse(c)}catch(d){if(console.error("[deleteTeacherData] Failed to parse backend JSON response for auth delete:",d),!l.ok)throw new Error(`Auth user deletion failed with status ${l.status}. Response: ${c}`);u={success:!1,message:"Invalid JSON response from backend"}}(!l.ok||!u.success)&&console.warn(`[deleteTeacherData] Backend failed to delete auth user ${s}. Message: ${u.message||`HTTP ${l.status}`}. Full response:`,u)}catch(l){console.warn(`[deleteTeacherData] Network or other error during auth user deletion for ${s}:`,l)}}await le.deleteDocument(r,wx,n),e(o=>({teacherData:o.teacherData.filter(l=>l.$id!==n),isLoading:!1}))}catch(a){console.error("[deleteTeacherData] Error during overall teacher deletion process:",a);const o=a.message||"Failed to delete teacher";throw e({error:o,isLoading:!1}),a}},addTeacherData:async n=>{const r=et.getState().dbId;if(!r||!Hm){let o=[];r||o.push("Appwrite Database ID (from schoolStore)"),Hm||o.push("AUTH_API_URL");const l=`Configuration missing for adding teacher: ${o.join(", ")}.`;return console.error("[addTeacherData]",l),e({isLoading:!1,error:l}),null}e({isLoading:!0,error:null});let s=null;const a=pR();try{const o=Rje(),l={email:n.email,password:o,name:n.name,labels:["teacher"],domain:a},c=await fetch(`${Hm}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),u=await c.text();let d;try{d=JSON.parse(u)}catch(b){throw console.error("[addTeacherData] Failed to parse signup JSON response:",b,"Response text:",u),new Error(`Auth user creation failed: Invalid JSON response from server. Status: ${c.status}`)}if(!c.ok||!d.success||!d.userId)throw new Error(`Auth user creation failed: ${d.message||`HTTP ${c.status}`}`);s=d.userId;const f={id:s,authUserId:s,name:n.name,subject:n.subject,level:n.level,qualification:n.qualification,email:n.email},h=await le.createDocument(r,wx,dn.unique(),f),p={...h,id:h.$id,assignments:h.assignments||[],notes:h.notes||[],salary:h.salary||[]};return e(b=>({teacherData:[...b.teacherData,p],isLoading:!1})),p}catch(o){if(console.error("[addTeacherData] Error during teacher creation process:",o),s&&o.message&&!o.message.startsWith("Auth user creation failed")){console.warn(`[addTeacherData] DB document creation failed after auth user ${s} was created. Attempting rollback of auth user.`);try{const c=await fetch(`${Hm}/user/${s}`,{method:"DELETE"}),u=await c.text();let d;try{d=JSON.parse(u)}catch(f){console.error("[addTeacherData] Failed to parse rollback JSON response:",f,"Response text:",u),d={success:!1,message:`Invalid JSON response during rollback. Status: ${c.status}`}}c.ok&&d.success||console.error(`[addTeacherData] FAILED TO ROLLBACK auth user ${s}: ${d.message||`HTTP ${c.status}`}`)}catch(c){console.error(`[addTeacherData] Network or other error during auth user ${s} rollback:`,c)}}const l=o.message||"Failed to add teacher";return e({error:l,isLoading:!1}),null}}})),Bje=({teacherData:e,isLoading:t,onTeacherSelect:n,onClearSelection:r})=>{const{updateTeacherData:s,deleteTeacherData:a,isLoading:o,error:l}=R$(),{isOpen:c,onOpen:u,onClose:d}=Ei(),[f,h]=m.useState(null),[p,b]=m.useState(""),[x,y]=m.useState(""),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(""),[P,E]=m.useState(""),[M,k]=m.useState(""),[A,I]=m.useState(""),[L,R]=m.useState(""),[F,T]=m.useState(new Set([])),[O,_]=m.useState(null),[W,z]=m.useState(null),[U,H]=m.useState(!1),B=X=>X.split(",").map(xe=>xe.trim()).filter(xe=>xe!==""),Y=X=>X?X.join(", "):"",ae=X=>{h(X),b(X.name),y(Y(X.subject)),j(Y(X.level)),N(X.qualification),$(X.base_salary),E(X.email),k(Y(X.salary)),I(Y(X.assignemnts)),R(Y(X.notes)),_(null),u()},ce=async()=>{if(!f)return;if(_(null),!p.trim()){_("Teacher Name is required.");return}if(!x.trim()){_("Subject(s) are required.");return}if(!v.trim()){_("Level(s) are required.");return}if(!S.trim()){_("Qualification is required.");return}if(!C.trim()||isNaN(parseFloat(C))){_("A valid Base Salary (number) is required.");return}const X={...f,name:p.trim(),subject:B(x),level:B(v),qualification:S.trim(),base_salary:C.trim(),email:P.trim(),salary:B(M),assignemnts:B(A),notes:B(L)};try{await s(X),d(),T(new Set([])),n(null)}catch(xe){_(xe.message||"Failed to update teacher.")}},oe=X=>{z(X),H(!0)},Q=()=>{H(!1),z(null)},K=async()=>{if(W)try{await a(W.$id),H(!1),z(null),T(new Set([])),n(null)}catch(X){alert(`Error deleting teacher: ${X.message||"Unknown error"}`),H(!1),z(null)}},ne=X=>{let xe=new Set;if(X==="all"||X instanceof Set&&(xe=X),T(xe),xe.size>0){const $e=Array.from(xe)[0],Ne=e.find(Le=>Le.$id===$e);n(Ne||null)}else n(null)},te=m.useCallback(()=>{T(new Set([]))},[]);return m.useEffect(()=>{r&&r(te)},[r,te]),t&&e.length===0?i.jsx("div",{className:"h-52 flex items-center justify-center",children:i.jsx(ct,{size:"lg",label:"Loading Teachers..."})}):i.jsxs("div",{className:"mt-4 flow-root md:px-0 lg:px-8",children:[i.jsx("div",{className:"-my-2 overflow-x-auto lg:-mx-8",children:i.jsx("div",{className:"inline-block min-w-full pt-2 align-middle",children:i.jsxs(ah,{isHeaderSticky:!0,isCompact:!0,"aria-label":"Teachers Table",selectionMode:"single",selectedKeys:F,onSelectionChange:ne,color:"secondary",className:"min-w-full divide-y divide-gray-300",children:[i.jsxs(ih,{children:[i.jsx(wn,{children:"Name"},"name"),i.jsx(wn,{children:"Email"},"email"),i.jsx(wn,{children:"Subject(s)"},"subject"),i.jsx(wn,{children:"Qualification"},"qualification"),i.jsx(wn,{align:"center",children:"Actions"},"actions")]}),i.jsx(oh,{items:e,isLoading:t&&!o,loadingContent:i.jsx(ct,{label:"Loading..."}),emptyContent:e.length===0&&!t?i.jsx("div",{className:"text-gray-500 p-5 text-center text-medium",children:"No Teachers Found"}):null,children:X=>i.jsxs(Ic,{children:[i.jsx(Xt,{children:X.name}),i.jsx(Xt,{children:X.email}),i.jsx(Xt,{children:Y(X.subject)}),i.jsx(Xt,{children:X.qualification}),i.jsxs(Xt,{className:"flex justify-center gap-2",children:[i.jsx(Vs,{content:"Edit",showArrow:!0,color:"warning",placement:"top",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>ae(X),"aria-label":"Edit Teacher",children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",showArrow:!0,color:"danger",placement:"top",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>oe(X),"aria-label":"Delete Teacher",children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})})]})]},X.$id)})]})})}),i.jsx(vl,{isOpen:U,onClose:Q,onConfirm:K,title:"Confirm Delete",content:W?`Delete teacher: ${W.name}?`:""}),i.jsxs(We,{isOpen:c,onClose:d,position:"right",size:"md",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Teacher"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[O&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error! "}),i.jsx("span",{className:"block sm:inline",children:O}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>_(null),children:i.jsx(cs,{className:"h-5 w-5 text-red-500 cursor-pointer"})})]}),i.jsx(Ve,{id:"edit-teacher-name",type:"text",label:"Teacher Name",variant:"underlined",value:p,isRequired:!0,color:"secondary",onChange:X=>{b(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-email",type:"email",label:"Email (Display Only)",variant:"underlined",value:P,isDisabled:!0,color:"secondary"}),i.jsx(Ve,{id:"edit-teacher-subjects",type:"text",label:"Subject(s) (comma-separated)",variant:"underlined",value:x,isRequired:!0,color:"secondary",onChange:X=>{y(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-levels",type:"text",label:"Level(s) (comma-separated)",variant:"underlined",value:v,isRequired:!0,color:"secondary",onChange:X=>{j(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-qualification",type:"text",label:"Qualification",variant:"underlined",value:S,isRequired:!0,color:"secondary",onChange:X=>{N(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-base-salary",type:"number",label:"Base Salary",variant:"underlined",value:C,isRequired:!0,color:"secondary",onChange:X=>{$(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-salary-components",type:"text",label:"Salary Components (comma-separated)",variant:"underlined",value:M,color:"secondary",onChange:X=>{k(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-assignemnts",type:"text",label:"Assignments (comma-separated)",variant:"underlined",value:A,color:"secondary",onChange:X=>{I(X.target.value),_(null)}}),i.jsx(Ve,{id:"edit-teacher-notes",type:"text",label:"Notes (comma-separated)",variant:"underlined",value:L,color:"secondary",onChange:X=>{R(X.target.value),_(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:d,disabled:o,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:ce,className:"text-white font-medium",isLoading:o,disabled:o,children:"Save Changes"})]})]})]})},Z6=({isMobile:e,onTeacherSelect:t,teacherData:n,isLoading:r})=>{const{addTeacherData:s,fetchTeachersData:a,error:o,isLoading:l}=R$(),[c,u]=m.useState(""),d=_=>u(_),{isOpen:f,onOpen:h,onClose:p}=Ei(),[b,x]=m.useState(""),[y,v]=m.useState(""),[j,S]=m.useState(""),[N,C]=m.useState(""),[$,P]=m.useState(""),[E,M]=m.useState(null),[k,A]=m.useState(null),I=()=>{x(""),v(""),S(""),C(""),P(""),M(null),h()},L=()=>a(),R=_=>_.split(",").map(W=>W.trim()).filter(W=>W!==""),F=async()=>{if(M(null),!b.trim()){M("Teacher Name is required.");return}if(!$.trim()||!$.includes("@")){M("A valid Email is required.");return}if(!y.trim()){M("Subject(s) are required.");return}if(!j.trim()){M("Level(s) are required.");return}if(!N.trim()){M("Qualification is required.");return}const _={name:b.trim(),subject:R(y),level:R(j),qualification:N.trim(),email:$.trim()};try{await s(_)?p():M(o||"Failed to add teacher. Check console for details.")}catch(W){M(W.message||"An unexpected error occurred.")}},T=c?n.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())||_.email.toLowerCase().includes(c.toLowerCase())||_.qualification.toLowerCase().includes(c.toLowerCase())||_.subject&&_.subject.join(", ").toLowerCase().includes(c.toLowerCase())||_.level&&_.level.join(", ").toLowerCase().includes(c.toLowerCase())):n,O=o||E;return i.jsxs("div",{className:" md:w-full w-full md:p-2 ",children:[O&&!f&&i.jsx(Dd,{message:O}),i.jsxs("div",{className:"flex justify-between items-center gap-4 mt-1 mx-3 md:px-0",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100"}),onClick:I,color:"orange","aria-label":"Add Teacher"}),i.jsx(Bn,{placeholder:"Search teachers...",value:c,onValueChange:d}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100"}),onClick:L,"aria-label":"Refresh Teacher List"})]}),i.jsx(Bje,{teacherData:T,isLoading:r&&!l,onTeacherSelect:t,onClearSelection:_=>A(()=>_)}),i.jsxs(We,{isOpen:f,onClose:p,position:"right",nonDismissable:!0,size:"md",children:[i.jsx(We.Header,{showCloseButton:!0,children:"Add New Teacher"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[E&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error! "}),i.jsx("span",{className:"block sm:inline",children:E}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>M(null),children:i.jsx(cs,{className:"h-5 w-5 text-red-500 cursor-pointer","aria-hidden":"true"})})]}),i.jsx(Ve,{id:"add-teacher-name",type:"text",label:"Teacher Name",variant:"underlined",value:b,isRequired:!0,color:"secondary",onChange:_=>{x(_.target.value),M(null)}}),i.jsx(Ve,{id:"add-teacher-email",type:"email",label:"Email",variant:"underlined",value:$,isRequired:!0,color:"secondary",onChange:_=>{P(_.target.value),M(null)}}),i.jsx(Ve,{id:"add-teacher-subjects",type:"text",label:"Subject(s) (comma-separated)",variant:"underlined",value:y,isRequired:!0,color:"secondary",onChange:_=>{v(_.target.value),M(null)}}),i.jsx(Ve,{id:"add-teacher-levels",type:"text",label:"Level(s) (comma-separated)",variant:"underlined",value:j,isRequired:!0,color:"secondary",onChange:_=>{S(_.target.value),M(null)}}),i.jsx(Ve,{id:"add-teacher-qualification",type:"text",label:"Qualification",variant:"underlined",value:N,isRequired:!0,color:"secondary",onChange:_=>{C(_.target.value),M(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:p,disabled:l,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:F,className:"text-white font-medium",isLoading:l,disabled:l,children:"Save Teacher"})]})]})]})},J6=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"Invalid Date"}},yu=({icon:e,label:t,value:n})=>{let r=i.jsx("span",{className:"text-gray-500 italic",children:"N/A"});return Array.isArray(n)?r=n.length>0?n.join(", "):i.jsx("span",{className:"text-gray-500 italic",children:"N/A"}):n!=null&&n!==""&&(r=String(n)),i.jsxs("div",{className:"flex items-start space-x-2 py-2",children:[e&&i.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-gray-500 mt-0.5",children:e}),i.jsxs("div",{className:"flex-1",children:[i.jsx("dt",{className:"text-sm font-medium text-gray-600",children:t}),i.jsx("dd",{className:"mt-1 text-sm text-gray-900 break-words",children:r})]})]})},Q6=({teacher:e,onBack:t})=>e?i.jsxs("div",{className:"p-4 md:p-6 flex flex-col h-full space-y-6 bg-gray-100 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 leading-tight",children:"Teacher Details"}),t&&i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",size:"sm",children:"Back to List"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-2 border-b border-gray-100 pb-1",children:[i.jsx(ls,{className:"w-6 h-6 inline-block mr-2 align-text-bottom text-primary-500"}),e.name]}),i.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx(yu,{icon:i.jsx(U3,{className:"w-5 h-5"}),label:"Teacher ID (Custom)",value:e.id}),i.jsx(yu,{icon:i.jsx(k0,{className:"w-5 h-5"}),label:"Email",value:e.email}),i.jsx(yu,{icon:i.jsx(Ji,{className:"w-5 h-5"}),label:"Subject(s)",value:e.subject}),i.jsx(yu,{icon:i.jsx(g2e,{className:"w-5 h-5"}),label:"Level(s)",value:e.level}),i.jsx(yu,{icon:i.jsx(so,{className:"w-5 h-5"}),label:"Qualification",value:e.qualification})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h3",{className:"text-base font-medium text-gray-700 mb-2",children:"System Information"}),i.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx(yu,{icon:i.jsx(er,{className:"w-5 h-5"}),label:"Record Created",value:J6(e.$createdAt)}),i.jsx(yu,{icon:i.jsx(ma,{className:"w-5 h-5"}),label:"Record Last Updated",value:J6(e.$updatedAt)})]})]})]}):i.jsx("div",{className:"p-6 flex items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-500 italic",children:"No teacher selected."})}),yH=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{teacherData:o,fetchTeachersData:l,isLoading:c,isFetching:u}=R$();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const h=()=>t(window.innerWidth<768);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const d=h=>{r(h),e&&a(!!h)},f=()=>{a(!1),r(null)};return i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(Q6,{teacher:n,onBack:f})})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx(Z6,{isMobile:e,onTeacherSelect:d,teacherData:o,isLoading:u||c})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(Z6,{isMobile:e,onTeacherSelect:d,teacherData:o,isLoading:u||c})})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(Q6,{teacher:n}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a teacher to view details."})})})})]})})},zje=()=>et.getState().dbId,Sx=zje;let Y3;Y3="coll-teacher";const jx=Gt((e,t)=>({sections:[],allFaculties:[],allTeachers:[],filteredSections:[],facultyOptions:[],classOptions:[],teacherOptions:[],selectedFacultyDocId:null,selectedClass:null,searchTerm:"",isLoading:!1,isUpdating:!1,error:null,fetchInitialData:async()=>{if(Y3==="MISSING_TEACHER_COLLECTION_ID"){e({error:"Teacher Collection ID is not configured. Please check environment variables.",isLoading:!1});return}e({isLoading:!0,error:null});try{const[n,r,s]=await Promise.all([le.listDocuments(Sx,Qt,[J.limit(500)]),le.listDocuments(Sx,tr,[J.limit(100)]),le.listDocuments(Sx,Y3,[J.limit(200)])]),a=r.documents,o=s.documents,l=n.documents,c=new Map(a.map(p=>[p.$id,p.name])),u=new Map(o.map(p=>[p.id,p.name])),d=l.map(p=>({...p,facultyName:c.get(p.facultyId)||"N/A (Faculty Not Found)",classTeacherName:p.class_teacher?u.get(p.class_teacher)||"Unknown Teacher":void 0})),f=a.map(p=>({id:p.$id,name:p.name})),h=o.map(p=>({id:p.id,name:p.name}));e({sections:d,allFaculties:a,allTeachers:o,facultyOptions:f,teacherOptions:h,isLoading:!1}),t()._updateClassOptions(),t()._applyFilters()}catch(n){console.error("Error fetching initial data:",n);let r="Failed to load data. ";n.message?r+=`Details: ${n.message}`:typeof n=="string"&&(r+=n),n.message&&n.message.includes("Collection with ID")&&(r+=" Please verify all VITE_APPWRITE_..._COLLECTION_ID variables in your .env file are correct."),e({error:r,isLoading:!1})}},_updateClassOptions:()=>{const{allFaculties:n,selectedFacultyDocId:r,sections:s}=t();let a=[];if(r){const o=n.find(l=>l.$id===r);if(o&&Array.isArray(o.classes))a=o.classes.sort().map(l=>({id:l,name:l}));else{const l=new Set;s.filter(c=>c.facultyId===r&&c.class).forEach(c=>l.add(c.class)),a=Array.from(l).sort().map(c=>({id:c,name:c}))}}else{const o=new Set;n.forEach(l=>{Array.isArray(l.classes)&&l.classes.forEach(c=>o.add(c))}),o.size===0&&s.forEach(l=>{l.class&&o.add(l.class)}),a=Array.from(o).sort().map(l=>({id:l,name:l}))}e({classOptions:a})},setFacultyFilter:n=>{const r=t().selectedClass;e({selectedFacultyDocId:n,error:null}),t()._updateClassOptions();const s=t().classOptions;r&&!s.find(a=>a.id===r)&&e({selectedClass:null}),t()._applyFilters()},setClassFilter:n=>{e({selectedClass:n,error:null}),t()._applyFilters()},setSearchTerm:n=>{e({searchTerm:n,error:null}),t()._applyFilters()},_applyFilters:()=>{const{sections:n,selectedFacultyDocId:r,selectedClass:s,searchTerm:a}=t();let o=[...n];if(r&&(o=o.filter(l=>l.facultyId===r)),s&&(o=o.filter(l=>l.class===s)),a){const l=a.toLowerCase();o=o.filter(c=>c.name.toLowerCase().includes(l)||c.class.toLowerCase().includes(l)||c.facultyName&&c.facultyName.toLowerCase().includes(l)||c.classTeacherName&&c.classTeacherName.toLowerCase().includes(l)||Array.isArray(c.subjects)&&c.subjects.some(u=>u.toLowerCase().includes(l)))}e({filteredSections:o})},updateClassTeacher:async(n,r)=>{e({isUpdating:!0,error:null});try{await le.updateDocument(Sx,Qt,n,{class_teacher:r});const s=t().sections,a=new Map(t().allTeachers.map(l=>[l.id,l.name])),o=s.map(l=>l.$id===n?{...l,class_teacher:r,classTeacherName:r?a.get(r)||"Unknown Teacher":void 0}:l);return e({sections:o,isUpdating:!1}),t()._applyFilters(),!0}catch(s){console.error("Error updating class teacher:",s);let a="Failed to update class teacher. ";return s.message?a+=`Details: ${s.message}`:typeof s=="string"&&(a+=s),e({error:a,isUpdating:!1}),!1}}})),Vje=({section:e,onChangeTeacher:t})=>{const n=!!e.class_teacher;return i.jsxs("div",{className:`bg-white shadow-lg rounded-lg p-6 border-l-4 ${n?"border-green-500":"border-gray-300"} transition-shadow hover:shadow-xl`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.name}),n&&i.jsx("span",{className:"w-4 h-4 bg-green-500 rounded-full inline-block",title:"Class Teacher Assigned"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(so,{className:"w-5 h-5 mr-2 text-indigo-500"}),i.jsx("strong",{children:"Class:"})," ",e.class]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(U2e,{className:"w-5 h-5 mr-2 text-purple-500"}),i.jsx("strong",{children:"Faculty:"})," ",e.facultyName||"N/A"]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(ls,{className:"w-5 h-5 mr-2 text-blue-500"}),i.jsx("strong",{children:"Class Teacher:"})," ",e.classTeacherName||i.jsx("span",{className:"text-gray-400 italic",children:"Not Assigned"})]}),i.jsxs("p",{className:"flex items-start",children:[i.jsx(Ji,{className:"w-5 h-5 mr-2 text-yellow-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Subjects:"}),e.subjects&&e.subjects.length>0?i.jsx("span",{className:"ml-1",children:e.subjects.join(", ")}):i.jsx("span",{className:"ml-1 text-gray-400 italic",children:"No subjects listed"})]})]})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx(st,{icon:i.jsx(I$,{className:"w-5 h-5"}),onClick:()=>t(e),buttonText:"Change Teacher",isIconOnly:!1,color:"blue"})})]})},vH=()=>{var A;const{fetchInitialData:e,filteredSections:t,sections:n,facultyOptions:r,classOptions:s,teacherOptions:a,selectedFacultyDocId:o,selectedClass:l,searchTerm:c,setFacultyFilter:u,setClassFilter:d,setSearchTerm:f,updateClassTeacher:h,isLoading:p,isUpdating:b,error:x}=jx(),[y,v]=m.useState(!1),[j,S]=m.useState(null),[N,C]=m.useState(null),[$,P]=m.useState(!0);m.useEffect(()=>{e()},[e]);const E=I=>{S(I),C(I.class_teacher||null),v(!0)},M=()=>{v(!1),S(null),C(null)},k=async()=>{if(!j||!j.$id){Ge.error("No section selected for update.");return}await h(j.$id,N)?(Ge.success(`Class teacher ${N?"updated":"unassigned"} successfully for ${j.name}.`),M()):Ge.error(jx.getState().error||"Failed to update class teacher.")};return p&&n.length===0&&!x?i.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-indigo-600"}),i.jsx("p",{className:"ml-4 mt-3 text-lg text-gray-700",children:"Loading sections..."})]}):x&&n.length===0?i.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-50 p-6 text-center",children:[i.jsx(za,{className:"w-16 h-16 text-red-500 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error Loading Data"}),i.jsx("p",{className:"text-gray-600 max-w-md mb-6",children:x}),i.jsx(Se,{color:"primary",onPress:()=>{jx.setState({error:null}),e()},className:"mt-6",children:"Try Again"})]}):i.jsxs("div",{className:"p-4 md:p-6 bg-gray-100 min-h-screen",children:[i.jsx(ia,{position:"top-right",containerClassName:"text-sm"}),i.jsxs("header",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Assign Class Teachers"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"View sections, assign or change class teachers."})]}),i.jsxs("div",{className:"mb-6 p-4 bg-white shadow rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3 md:hidden",children:[" ",i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Filters & Search"}),i.jsxs(Se,{variant:"light",size:"sm",onPress:()=>P(!$),startContent:$?i.jsx(ng,{className:"w-5 h-5"}):i.jsx(h2e,{className:"w-5 h-5"}),children:[$?"Hide":"Show"," Filters"]})]}),i.jsxs("div",{className:`${$?"grid":"hidden md:grid"} grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4 items-end`,children:[i.jsx("div",{children:i.jsx(dt,{label:"Filter by Faculty",options:r,value:o,onChange:u,placeholder:"All Faculties",allowClear:!0,className:"w-full"})}),i.jsx("div",{children:i.jsx(dt,{label:"Filter by Class",options:s,value:l,onChange:d,placeholder:o?"Select Class":"All Classes",allowClear:!0,className:"w-full",disabled:s.length===0&&!!o})}),i.jsxs("div",{className:"md:col-span-1",children:[i.jsx("label",{htmlFor:"search-sections-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Sections"}),i.jsx(Bn,{placeholder:"Name, teacher, subject...",value:c,onValueChange:f,className:"w-full",inputClassName:"max-w-full"})]})]})]}),x&&n.length>0&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(za,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{children:x})]}),i.jsx("button",{onClick:()=>jx.setState({error:null}),className:"text-red-600 hover:text-red-800",children:i.jsx(ng,{className:"w-5 h-5"})})]}),p&&t.length===0&&n.length>0&&i.jsxs("div",{className:"text-center py-10 bg-white shadow rounded-lg mt-5",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500 text-md",children:"Applying filters..."})]}),!p&&t.length===0&&(c||l||o)&&n.length>0&&i.jsxs("div",{className:"text-center py-10 bg-white shadow rounded-lg mt-5",children:[i.jsx(il,{className:"mx-auto h-20 w-20 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Sections Found"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No sections match your current filter or search criteria. Try adjusting them."})]}),!p&&t.length===0&&!c&&!l&&!o&&n.length>0&&i.jsxs("div",{className:"text-center py-10 bg-white shadow rounded-lg mt-5",children:[i.jsx(Ks,{className:"mx-auto h-20 w-20 text-blue-400"}),i.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Sections Available"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There are currently no sections in the system to display."})]}),t.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:t.map(I=>i.jsx(Vje,{section:I,onChangeTeacher:E},I.$id))}),i.jsxs(We,{isOpen:y,onClose:M,title:`Assign Teacher: ${(j==null?void 0:j.name)||"Section"}`,position:"right",size:"md",children:[i.jsxs(We.Body,{className:"flex flex-col space-y-6 pt-6",children:[j&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-0.5",children:"Section Details:"}),i.jsx("p",{className:"font-medium text-gray-800",children:j.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Class: ",j.class," • Faculty: ",j.facultyName]})]}),i.jsx("div",{className:"flex-grow",children:i.jsx(dt,{label:"Select Class Teacher",options:a,value:N,onChange:I=>C(I),placeholder:"Choose a teacher or Unassign",allowClear:!0,className:"w-full"})}),N&&i.jsxs("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded-md border border-blue-200",children:["Selected Teacher: ",i.jsx("span",{className:"font-semibold",children:((A=a.find(I=>String(I.id)===String(N)))==null?void 0:A.name)||"N/A"})]}),!N&&j.class_teacher&&i.jsxs("p",{className:"text-sm text-yellow-700 bg-yellow-50 p-3 rounded-md border border-yellow-300",children:[i.jsx(za,{className:"h-5 w-5 inline mr-1.5 -mt-0.5 text-yellow-500"}),"The current class teacher (",j.classTeacherName,") will be unassigned."]}),!N&&!j.class_teacher&&i.jsx("p",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-md border border-gray-200",children:"No class teacher is currently assigned."})]}),!j&&i.jsx("p",{className:"text-gray-500",children:"Loading section details..."})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{variant:"flat",color:"default",onPress:M,disabled:b,children:"Cancel"}),i.jsx(Se,{color:"primary",onPress:k,isLoading:b,disabled:b||!j,children:b?"Saving...":"Save Changes"})]})]})]})},Wje=()=>et.getState().dbId,of=Wje,Uje=(e,t)=>[...new Set(e.map(n=>n[t]).filter(Boolean))].sort(),B$=Gt((e,t)=>({lessonPlans:[],isLoadingLessonPlans:!1,selectedLessonPlan:null,studentReviewsForSelectedPlan:[],isLoadingStudentReviews:!1,allTeachers:[],allFaculties:[],allSections:[],allClasses:[],allSubjects:[],isLoadingFilterData:!1,currentFilters:{facultyId:null,class:null,sectionId:null,subject:null,teacherId:null,status:null,isPublic:null,searchText:null},error:null,fetchFilterData:async()=>{e({isLoadingFilterData:!0});try{const[n,r,s]=await Promise.all([le.listDocuments(of,Ga,[J.limit(500),J.orderAsc("name")]),le.listDocuments(of,tr,[J.limit(100),J.orderAsc("name")]),le.listDocuments(of,Qt,[J.limit(1e3)])]),a=r.documents,o=s.documents,l=new Set;a.forEach(d=>{var f;return(f=d.classes)==null?void 0:f.forEach(h=>l.add(h))});const c=new Set;o.forEach(d=>c.add(d.class));const u=[...new Set([...l,...c])].sort();e({allTeachers:n.documents,allFaculties:a,allSections:o,allClasses:u,isLoadingFilterData:!1})}catch(n){console.error("Error fetching filter data:",n),e({error:"Failed to load filter options.",isLoadingFilterData:!1})}},fetchLessonPlans:async()=>{e({isLoadingLessonPlans:!0,error:null});try{const n=[J.orderDesc("$createdAt")],{facultyId:r,class:s,sectionId:a,subject:o,teacherId:l,status:c,isPublic:u,searchText:d}=t().currentFilters;r&&n.push(J.equal("facultyId",r)),s&&n.push(J.equal("class",s)),a&&n.push(J.equal("sectionId",a)),o&&n.push(J.equal("subject",o)),l&&n.push(J.equal("teacherId",l)),c&&n.push(J.equal("status",c)),u!=null&&n.push(J.equal("isPublic",u)),d&&n.push(J.search("title",d));const f=await le.listDocuments(of,Bu,n),h=new Map(t().allTeachers.map(y=>[y.$id,y.name])),p=new Map(t().allFaculties.map(y=>[y.$id,y.name])),b=new Map(t().allSections.map(y=>[y.$id,y.name])),x=f.documents.map(y=>({...y,teacherName:h.get(y.teacherId)||"Unknown Teacher",facultyName:p.get(y.facultyId)||"Unknown Faculty",sectionName:b.get(y.sectionId)||"Unknown Section"}));if(e({lessonPlans:x,isLoadingLessonPlans:!1}),t().allSubjects.length===0||o===null){const y=Uje(x,"subject");e({allSubjects:y})}}catch(n){console.error("Error fetching lesson plans:",n),e({error:"Failed to load lesson plans.",isLoadingLessonPlans:!1})}},selectLessonPlan:n=>{e({selectedLessonPlan:n,studentReviewsForSelectedPlan:[],error:null}),n&&n.$id&&t().fetchStudentReviewsForPlan(n.$id)},fetchStudentReviewsForPlan:async n=>{e({isLoadingStudentReviews:!0});try{const r=await le.listDocuments(of,Ru,[J.equal("lessonPlanId",n),J.orderAsc("$createdAt"),J.limit(100)]),s=r.documents.map(l=>l.studentId);let a=new Map;if(s.length>0){const l=s.map(u=>le.getDocument(of,on,u).catch(()=>null)),c=(await Promise.all(l)).filter(Boolean);a=new Map(c.map(u=>[u.$id,u.name]))}const o=r.documents.map(l=>({...l,studentName:a.get(l.studentId)||"Unknown Student"}));e({studentReviewsForSelectedPlan:o,isLoadingStudentReviews:!1})}catch(r){console.error(`Error fetching student reviews for plan ${n}:`,r),e({error:"Failed to load student reviews.",isLoadingStudentReviews:!1})}},setFilter:(n,r)=>{e(s=>{const a={...s.currentFilters,[n]:r};return n==="facultyId"?(a.class=null,a.sectionId=null):n==="class"&&(a.sectionId=null),{currentFilters:a,error:null}}),t().fetchLessonPlans()},clearFilters:()=>{e({currentFilters:{facultyId:null,class:null,sectionId:null,subject:null,teacherId:null,status:null,isPublic:null,searchText:null},error:null}),t().fetchLessonPlans()},setError:n=>e({error:n})})),Kje=()=>{const{currentFilters:e,setFilter:t,clearFilters:n,allTeachers:r,allFaculties:s,allSections:a,allClasses:o,allSubjects:l,isLoadingFilterData:c,isLoadingLessonPlans:u}=B$(),d=m.useMemo(()=>s.map(j=>({id:j.$id,name:j.name})),[s]),f=m.useMemo(()=>{var j;if(e.facultyId){const S=s.find(N=>N.$id===e.facultyId);return((j=S==null?void 0:S.classes)==null?void 0:j.map(N=>({id:N,name:N})).sort((N,C)=>N.name.localeCompare(C.name)))||[]}return o.map(S=>({id:S,name:S}))},[o,s,e.facultyId]),h=m.useMemo(()=>{let j=a;return e.facultyId&&(j=j.filter(S=>S.facultyId===e.facultyId)),e.class&&(j=j.filter(S=>S.class===e.class)),j.map(S=>({id:S.$id,name:S.name})).sort((S,N)=>S.name.localeCompare(N.name))},[a,e.facultyId,e.class]),p=m.useMemo(()=>l.map(j=>({id:j,name:j})),[l]),b=m.useMemo(()=>r.map(j=>({id:j.$id,name:j.name})),[r]),x=[{id:"planned",name:"Planned"},{id:"completed",name:"Completed"},{id:"partially-completed",name:"Partially Completed"}],y=[{id:"true",name:"Public"},{id:"false",name:"Private"}],v=c||u;return i.jsx("div",{className:"p-4 bg-white rounded-lg shadow-md border border-gray-200 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[i.jsx(dt,{label:"Faculty",options:d,value:e.facultyId,onChange:j=>t("facultyId",j),placeholder:"All Faculties",disabled:v,allowClear:!0}),i.jsx(dt,{label:"Class",options:f,value:e.class,onChange:j=>t("class",j),placeholder:"All Classes",disabled:v||!e.facultyId&&f.length>20,allowClear:!0})," ",i.jsx(dt,{label:"Section",options:h,value:e.sectionId,onChange:j=>t("sectionId",j),placeholder:"All Sections",disabled:v||!e.class&&h.length>20,allowClear:!0}),i.jsx(dt,{label:"Subject",options:p,value:e.subject,onChange:j=>t("subject",j),placeholder:"All Subjects",disabled:v,allowClear:!0}),i.jsx(dt,{label:"Teacher",options:b,value:e.teacherId,onChange:j=>t("teacherId",j),placeholder:"All Teachers",disabled:v,allowClear:!0}),i.jsx(dt,{label:"Status",options:x,value:e.status,onChange:j=>t("status",j),placeholder:"Any Status",disabled:v,allowClear:!0}),i.jsx(dt,{label:"Visibility",options:y,value:e.isPublic===null?null:String(e.isPublic),onChange:j=>t("isPublic",j===null?null:j==="true"),placeholder:"Any Visibility",disabled:v,allowClear:!0}),i.jsx(Bn,{placeholder:"Search by title...",value:e.searchText||"",onValueChange:j=>t("searchText",j),className:"md:col-span-2 lg:col-span-1"}),i.jsx(Se,{color:"default",variant:"ghost",onClick:n,className:"h-10",disabled:v,children:"Clear All Filters"})]})})},Hje={planned:"primary",completed:"success","partially-completed":"warning"},qje=({plan:e,onViewDetails:t})=>i.jsxs("tr",{onClick:()=>t(e),className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[i.jsx("td",{className:"py-3 px-4 text-sm text-gray-700 whitespace-nowrap",children:e.title}),i.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 whitespace-nowrap",children:e.teacherName}),i.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 whitespace-nowrap",children:e.subject}),i.jsxs("td",{className:"py-3 px-4 text-sm text-gray-500 whitespace-nowrap",children:[e.facultyName," / ",e.class," / ",e.sectionName]}),i.jsx("td",{className:"py-3 px-4 text-sm text-gray-500 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(er,{className:"h-4 w-4 mr-1 text-gray-400"}),e.lessonDateBS]})}),i.jsx("td",{className:"py-3 px-4 text-sm text-center",children:e.status&&i.jsx(Jt,{color:Hje[e.status]||"default",size:"sm",variant:"flat",children:e.status.charAt(0).toUpperCase()+e.status.slice(1).replace("-"," ")})}),i.jsx("td",{className:"py-3 px-4 text-sm text-center",children:e.isPublic?i.jsx(rl,{color:"success",variant:"dot",size:"sm",children:"Public"}):i.jsx(rl,{color:"default",variant:"dot",size:"sm",children:"Private"})}),i.jsx("td",{className:"py-3 px-4 text-sm text-gray-500 text-center",children:i.jsx("button",{onClick:n=>{n.stopPropagation(),t(e)},className:"text-indigo-600 hover:text-indigo-800 transition-colors",title:"View Details",children:i.jsx(Gi,{className:"h-5 w-5"})})})]}),yc=({rating:e=0,max:t=5,onRatingChange:n,size:r=28,color:s="#fbbf24",hoverColor:a="#fde68a",readOnly:o=!1})=>{const[l,c]=m.useState(e),[u,d]=m.useState(null);m.useEffect(()=>{c(e)},[e]);const f=y=>{o||!n||(c(y),n(y))},h=y=>{o||d(y)},p=()=>{o||d(null)},b=y=>y?!o&&u!==null?a:s:"none",x=y=>y?!o&&u!==null?"text-amber-200":"text-amber-400":"text-gray-300";return i.jsx("div",{className:`flex space-x-1 ${o?"cursor-default":"cursor-pointer"}`,children:Array.from({length:t},(y,v)=>{const j=v+1,N=j<=(o?l:u!==null?u:l);return i.jsx(xl,{size:r,className:`
              transition-colors duration-150 
              ${!o&&N?"scale-110":""} 
              ${o?"":"active:scale-125"}
              ${x(N)}
            `,onMouseEnter:()=>h(j),onMouseLeave:p,onClick:()=>f(j),style:{fill:b(N)}},v)})})},Gje={},ps=({label:e,value:t,children:n,className:r=""})=>!n&&(t==null||Array.isArray(t)&&t.length===0||String(t).trim()==="")?null:i.jsxs("div",{className:`mb-3 ${r}`,children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:e}),n?i.jsx("div",{className:"text-sm text-gray-800 mt-0.5",children:n}):Array.isArray(t)?i.jsx("ul",{className:"list-disc list-inside pl-1 text-sm text-gray-800",children:t.map((s,a)=>i.jsx("li",{children:s},a))}):i.jsx("p",{className:"text-sm text-gray-800",children:String(t)})]}),Yje=({plan:e,isOpen:t,onClose:n})=>{const{studentReviewsForSelectedPlan:r,isLoadingStudentReviews:s}=B$();return e?i.jsxs(We,{isOpen:t,onClose:n,title:`Lesson Plan Details: ${e.title}`,size:"xl",children:[i.jsxs(We.Body,{className:"space-y-6",children:[i.jsxs("section",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Basic Information"}),i.jsxs("div",{children:[e.status&&i.jsx(Jt,{color:Gje[e.status]||"default",size:"sm",variant:"flat",className:"mr-2",children:e.status.replace("-"," ")}),e.isPublic?i.jsx(rl,{color:"success",variant:"flat",size:"sm",startContent:i.jsx(Gi,{className:"h-4"}),children:"Public"}):i.jsx(rl,{color:"default",variant:"flat",size:"sm",startContent:i.jsx(Zy,{className:"h-4"}),children:"Private"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2",children:[i.jsx(ps,{label:"Title",value:e.title,className:"lg:col-span-2"}),i.jsxs(ps,{label:"Teacher",children:[i.jsx(ls,{className:"h-4 w-4 inline mr-1 text-gray-500"}),e.teacherName]}),i.jsxs(ps,{label:"Subject",children:[i.jsx(Ji,{className:"h-4 w-4 inline mr-1 text-gray-500"}),e.subject]}),i.jsxs(ps,{label:"Faculty",children:[i.jsx(Lwe,{className:"h-4 w-4 inline mr-1 text-gray-500"}),e.facultyName]}),i.jsx(ps,{label:"Class",value:e.class}),i.jsx(ps,{label:"Section",value:e.sectionName}),i.jsxs(ps,{label:"Lesson Date (BS)",children:[i.jsx(er,{className:"h-4 w-4 inline mr-1 text-gray-500"}),e.lessonDateBS]}),i.jsx(ps,{label:"Estimated Periods",value:e.estimatedPeriods}),i.jsx(ps,{label:"Actual Periods Taken",value:e.actualPeriodsTaken}),e.overallClassRating!==void 0&&e.overallClassRating>0&&i.jsx(ps,{label:"Overall Class Rating",children:i.jsx(yc,{rating:e.overallClassRating,max:5,size:18,color:"#22c55e",readOnly:!0})})]}),i.jsx(ps,{label:"Description",value:e.description,className:"mt-3"})]}),i.jsxs("section",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Pedagogical Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-0",children:[i.jsx(ps,{label:"Learning Objectives",value:e.learningObjectives}),i.jsx(ps,{label:"Teaching Materials",value:e.teachingMaterials}),i.jsx(ps,{label:"Assessment Methods",value:e.assessmentMethods})]}),i.jsx(ps,{label:"Teacher's Reflection",value:e.teacherReflection,className:"mt-3 md:col-span-3"})]}),i.jsxs("section",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Student Reviews"}),s&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(ct,{label:"Loading reviews..."})}),!s&&r.length===0&&i.jsxs("div",{className:"flex items-center text-gray-500 bg-gray-50 p-3 rounded-md",children:[i.jsx(Ks,{className:"h-5 w-5 mr-2 text-gray-400"}),"No student reviews recorded for this lesson plan."]}),!s&&r.length>0&&i.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[" ",r.map(a=>i.jsxs("div",{className:"p-3 border rounded-md bg-white shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("p",{className:"font-medium text-gray-700 text-sm",children:a.studentName}),i.jsx(yc,{rating:a.rating,max:5,size:16,readOnly:!0})]}),i.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',a.comment,'"']}),i.jsxs("p",{className:"text-xxs text-gray-400 mt-1",children:["Reviewed by: ",e.teacherName," on ",new Date(a.$createdAt||Date.now()).toLocaleDateString()]})]},a.$id))]})]})]}),i.jsx(We.Footer,{children:i.jsx(Se,{color:"default",variant:"flat",onClick:n,children:"Close"})})]}):null},wH=()=>{const{lessonPlans:e,isLoadingLessonPlans:t,fetchLessonPlans:n,selectedLessonPlan:r,selectLessonPlan:s,fetchFilterData:a,isLoadingFilterData:o,error:l,setError:c}=B$(),[u,d]=m.useState(!1);m.useEffect(()=>{a().then(()=>{n()})},[a,n]),m.useEffect(()=>()=>{c(null)},[c,r]);const f=b=>{s(b),d(!0)},h=()=>{d(!1),s(null)},p=t||o;return i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"p-4 md:p-6 bg-gray-100/50 min-h-screen",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin - Lesson Plan Management"}),i.jsx("p",{className:"text-gray-600",children:"View, filter, and manage all lesson plans."})]}),l&&i.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",role:"alert",children:["Error: ",l," ",i.jsx("button",{onClick:()=>c(null),className:"float-right font-bold",children:"X"})]}),i.jsx(Kje,{}),p&&!e.length&&i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(ct,{label:"Loading lesson plans and filter data...",size:"lg"})}),!p&&e.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-16 bg-white rounded-lg shadow",children:[i.jsx(Ks,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),i.jsx("h3",{className:"text-xl font-medium",children:"No Lesson Plans Found"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or there might be no lesson plans created yet."})]}),!t&&e.length>0&&i.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Title"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Teacher"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Subject"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Class Context"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Date (BS)"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Visibility"}),i.jsx("th",{scope:"col",className:"py-3.5 px-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>i.jsx(qje,{plan:b,onViewDetails:f},b.$id))})]})}),i.jsx(Yje,{plan:r,isOpen:u,onClose:h})]})})},Xje=()=>et.getState().dbId,wr=Xje,Cx=async()=>{try{return(await ut.get()).$id}catch(e){console.error("Error fetching current user:",e);return}},Nx=async e=>({fileId:(await Qn.createFile(hl,dn.unique(),e)).$id,fileName:e.name}),Sj=async e=>{await Qn.deleteFile(hl,e)},X3=(e,t,n,r=75)=>{const s=new URLSearchParams;t&&s.append("width",String(t)),n&&s.append("height",String(n)),r&&s.append("quality",String(r));const a=s.toString();return Qn.getFilePreview(hl,e,t,n,void 0,r)+(a?`&${a}`:"")},Zje=e=>Qn.getFileView(hl,e),Jje=e=>Qn.getFileDownload(hl,e),SH=Gt((e,t)=>({groups:[],photosByGroup:{},faculties:[],selectedFullScreenPhoto:null,isLoadingGroups:!1,isLoadingPhotos:{},isLoadingFaculties:!1,isSubmittingGroup:!1,isDeleting:!1,error:null,clearError:()=>e({error:null}),fetchFaculties:async()=>{e({isLoadingFaculties:!0,error:null});try{const r=(await le.listDocuments(wr,tr,[J.limit(100)])).documents.map(s=>({id:s.$id,name:s.name}));e({faculties:r,isLoadingFaculties:!1})}catch(n){console.error("Error fetching faculties:",n),e({error:"Failed to load faculties.",isLoadingFaculties:!1})}},fetchGalleryGroups:async n=>{e({isLoadingGroups:!0,error:null});try{const r=[J.orderDesc("$createdAt")];n&&r.push(J.search("title",n));const a=(await le.listDocuments(wr,fi,r)).documents.map(o=>({...o,coverPreviewUrl:o.coverImageFileId?X3(o.coverImageFileId,200,150):void 0}));e({groups:a,isLoadingGroups:!1})}catch(r){console.error("Error fetching gallery groups:",r),e({error:"Failed to load gallery groups.",isLoadingGroups:!1})}},fetchPhotosForGroup:async(n,r=!1)=>{var s;if(!r&&((s=t().photosByGroup[n])!=null&&s.length))return t().photosByGroup[n];e(a=>({isLoadingPhotos:{...a.isLoadingPhotos,[n]:!0},error:null}));try{const o=(await le.listDocuments(wr,di,[J.equal("groupId",n),J.orderAsc("$createdAt"),J.limit(500)])).documents.map(l=>({...l,previewUrl:X3(l.fileId,150,150),fullUrl:Zje(l.fileId)}));return e(l=>({photosByGroup:{...l.photosByGroup,[n]:o},isLoadingPhotos:{...l.isLoadingPhotos,[n]:!1}})),o}catch(a){console.error(`Error fetching photos for group ${n}:`,a),e(o=>({error:"Failed to load photos for group.",isLoadingPhotos:{...o.isLoadingPhotos,[n]:!1}}));return}},createGalleryGroup:async(n,r,s)=>{e({isSubmittingGroup:!0,error:null});const a=await Cx();if(!a){e({error:"User not authenticated.",isSubmittingGroup:!1});return}try{const o=await Promise.all(r.map(d=>Nx(d)));let l;s!==void 0&&o[s]?l=o[s].fileId:o.length>0&&(l=o[0].fileId);const c={...n,createdBy:a,updatedBy:a,photoCount:o.length,coverImageFileId:l},u=await le.createDocument(wr,fi,dn.unique(),c);if(o.length>0){const d=o.map((f,h)=>le.createDocument(wr,di,dn.unique(),{groupId:u.$id,fileId:f.fileId,fileName:f.fileName,uploadedBy:a,order:h}));await Promise.all(d)}return e({isSubmittingGroup:!1}),await t().fetchGalleryGroups(),u}catch(o){console.error("Error creating gallery group:",o),e({error:"Failed to create gallery group.",isSubmittingGroup:!1});return}},updateGalleryGroup:async(n,r,s,a,o,l)=>{e({isSubmittingGroup:!0,error:null});const c=await Cx();if(!c){e({error:"User not authenticated.",isSubmittingGroup:!1});return}try{a.length>0&&(await Promise.all(a.map(x=>Sj(x.fileId))),await Promise.all(a.map(x=>le.deleteDocument(wr,di,x.photoId))));const u=s.length>0?await Promise.all(s.map(x=>Nx(x))):[];u.length>0&&await Promise.all(u.map((x,y)=>le.createDocument(wr,di,dn.unique(),{groupId:n,fileId:x.fileId,fileName:x.fileName,uploadedBy:c})));let d=(await le.getDocument(wr,fi,n)).coverImageFileId;if(o){const x=await Nx(o);d=x.fileId,s.some(v=>v.name===o.name&&v.size===o.size)||await le.createDocument(wr,di,dn.unique(),{groupId:n,fileId:x.fileId,fileName:x.fileName,uploadedBy:c})}else if(l)d=l;else if(a.some(x=>x.fileId===d)&&u.length>0)d=u[0].fileId;else if(a.some(x=>x.fileId===d)&&u.length===0){const x=await t().fetchPhotosForGroup(n,!0);d=x&&x.length>0?x[0].fileId:void 0}const h=(await le.listDocuments(wr,di,[J.equal("groupId",n),J.limit(0)])).total,p={...r,updatedBy:c,coverImageFileId:d,photoCount:h},b=await le.updateDocument(wr,fi,n,p);return e({isSubmittingGroup:!1}),await t().fetchGalleryGroups(),await t().fetchPhotosForGroup(n,!0),b}catch(u){console.error("Error updating gallery group:",u),e({error:"Failed to update gallery group.",isSubmittingGroup:!1});return}},deleteGalleryGroup:async n=>{e({isDeleting:!0,error:null});try{const r=await t().fetchPhotosForGroup(n,!0);r&&r.length>0&&await Promise.all(r.map(s=>Sj(s.fileId))),r&&r.length>0&&await Promise.all(r.map(s=>le.deleteDocument(wr,di,s.$id))),await le.deleteDocument(wr,fi,n),e(s=>({groups:s.groups.filter(a=>a.$id!==n),photosByGroup:{...s.photosByGroup,[n]:[]},isDeleting:!1}))}catch(r){console.error("Error deleting gallery group:",r),e({error:"Failed to delete gallery group.",isDeleting:!1})}},addPhotosToGroup:async(n,r)=>{e({isSubmittingGroup:!0,error:null});const s=await Cx();if(!s){e({error:"User not authenticated.",isSubmittingGroup:!1});return}if(r.length===0){e({isSubmittingGroup:!1});return}try{const a=await Promise.all(r.map(c=>Nx(c))),o=a.map((c,u)=>le.createDocument(wr,di,dn.unique(),{groupId:n,fileId:c.fileId,fileName:c.fileName,uploadedBy:s}));await Promise.all(o);const l=await le.getDocument(wr,fi,n);await le.updateDocument(wr,fi,n,{photoCount:l.photoCount+a.length,updatedBy:s}),e({isSubmittingGroup:!1}),await t().fetchPhotosForGroup(n,!0),await t().fetchGalleryGroups()}catch(a){console.error("Error adding photos to group:",a),e({error:"Failed to add photos.",isSubmittingGroup:!1})}},deletePhotoFromGroup:async(n,r,s)=>{e({isDeleting:!0,error:null});const a=await Cx();if(!a){e({error:"User not authenticated.",isDeleting:!1});return}try{await Sj(r),await le.deleteDocument(wr,di,n);const o=await le.getDocument(wr,fi,s);o.photoCount>0&&await le.updateDocument(wr,fi,s,{photoCount:o.photoCount-1,updatedBy:a}),e(l=>({photosByGroup:{...l.photosByGroup,[s]:(l.photosByGroup[s]||[]).filter(c=>c.$id!==n)},isDeleting:!1})),await t().fetchGalleryGroups()}catch(o){console.error("Error deleting photo:",o),e({error:"Failed to delete photo.",isDeleting:!1})}},setFullScreenPhoto:n=>e({selectedFullScreenPhoto:n})})),Qje=({group:e,onEdit:t,onDelete:n,onViewPhotos:r,isDeleting:s})=>i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"relative h-40 bg-gray-200 cursor-pointer",onClick:()=>r(e),children:[e.coverPreviewUrl?i.jsx("img",{src:e.coverPreviewUrl,alt:e.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx(Wo,{className:"w-16 h-16"})}),i.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx("p",{className:"text-white text-lg font-semibold",children:"View Photos"})})]}),i.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1 truncate cursor-pointer hover:text-indigo-600",onClick:()=>r(e),title:e.title,children:e.title}),i.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[e.photoCount||0," photos"]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description})]}),i.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4"}),onClick:()=>t(e),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>n(e.$id,e.title),color:"red",isIconOnly:!0})]})]})]});var L0=e=>e.type==="checkbox",Gu=e=>e instanceof Date,ws=e=>e==null;const jH=e=>typeof e=="object";var lr=e=>!ws(e)&&!Array.isArray(e)&&jH(e)&&!Gu(e),CH=e=>lr(e)&&e.target?L0(e.target)?e.target.checked:e.target.value:e,e5e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NH=(e,t)=>e.has(e5e(t)),t5e=e=>{const t=e.constructor&&e.constructor.prototype;return lr(t)&&t.hasOwnProperty("isPrototypeOf")},z$=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(z$&&(e instanceof Blob||r))&&(n||lr(e)))if(t=n?[]:{},!n&&!t5e(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Rr(e[s]));else return e;return t}var tw=e=>Array.isArray(e)?e.filter(Boolean):[],or=e=>e===void 0,Ze=(e,t,n)=>{if(!t||!lr(e))return n;const r=tw(t.split(/[,[\].]+?/)).reduce((s,a)=>ws(s)?s:s[a],e);return or(r)||r===e?or(e[t])?n:e[t]:r},oa=e=>typeof e=="boolean",V$=e=>/^\w*$/.test(e),$H=e=>tw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),vn=(e,t,n)=>{let r=-1;const s=V$(t)?[t]:$H(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=lr(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ev={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ko={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},n5e=Z.createContext(null),W$=()=>Z.useContext(n5e);var EH=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==gi.all&&(t._proxyFormState[o]=!r||gi.all),n&&(n[o]=!0),e[o]}});return s};const U$=typeof window<"u"?m.useLayoutEffect:m.useEffect;function r5e(e){const t=W$(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=Z.useState(n._formState),c=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return U$(()=>n._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,a]),Z.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Z.useMemo(()=>EH(o,n,c.current,!1),[o,n])}var Ui=e=>typeof e=="string",AH=(e,t,n,r,s)=>Ui(e)?(r&&t.watch.add(e),Ze(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ze(n,a))):(r&&(t.watchAll=!0),n);function s5e(e){const t=W$(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=Z.useRef(s),[c,u]=Z.useState(n._getWatch(r,l.current));return U$(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:d=>!a&&u(AH(r,n._names,d.values||n._formValues,!1,l.current))}),[r,n,a,o]),Z.useEffect(()=>n._removeUnmounted()),c}function a5e(e){const t=W$(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=NH(s._names.array,n),l=s5e({control:s,name:n,defaultValue:Ze(s._formValues,n,Ze(s._defaultValues,n,e.defaultValue)),exact:!0}),c=r5e({control:s,name:n,exact:!0}),u=Z.useRef(e),d=Z.useRef(s.register(n,{...e.rules,value:l,...oa(e.disabled)?{disabled:e.disabled}:{}})),f=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ze(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ze(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ze(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ze(c.errors,n)}}),[c,n]),h=Z.useCallback(y=>d.current.onChange({target:{value:CH(y),name:n},type:ev.CHANGE}),[n]),p=Z.useCallback(()=>d.current.onBlur({target:{value:Ze(s._formValues,n),name:n},type:ev.BLUR}),[n,s._formValues]),b=Z.useCallback(y=>{const v=Ze(s._fields,n);v&&y&&(v._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:j=>y.setCustomValidity(j),reportValidity:()=>y.reportValidity()})},[s._fields,n]),x=Z.useMemo(()=>({name:n,value:l,...oa(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:p,ref:b}),[n,r,c.disabled,h,p,b,l]);return Z.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...u.current.rules,...oa(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(j,S)=>{const N=Ze(s._fields,j);N&&N._f&&(N._f.mount=S)};if(v(n,!0),y){const j=Rr(Ze(s._options.defaultValues,n));vn(s._defaultValues,n,j),or(Ze(s._formValues,n))&&vn(s._formValues,n,j)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):v(n,!1)}},[n,s,o,a]),Z.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Z.useMemo(()=>({field:x,formState:c,fieldState:f}),[x,c,f])}const i5e=e=>e.render(a5e(e));var o5e=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Bp=e=>Array.isArray(e)?e:[e],eM=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Z3=e=>ws(e)||!jH(e);function rc(e,t){if(Z3(e)||Z3(t))return e===t;if(Gu(e)&&Gu(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Gu(a)&&Gu(o)||lr(a)&&lr(o)||Array.isArray(a)&&Array.isArray(o)?!rc(a,o):a!==o)return!1}}return!0}var ys=e=>lr(e)&&!Object.keys(e).length,K$=e=>e.type==="file",bi=e=>typeof e=="function",tv=e=>{if(!z$)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},PH=e=>e.type==="select-multiple",H$=e=>e.type==="radio",l5e=e=>H$(e)||L0(e),jj=e=>tv(e)&&e.isConnected;function c5e(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=or(e)?r++:e[t[r++]];return e}function u5e(e){for(const t in e)if(e.hasOwnProperty(t)&&!or(e[t]))return!1;return!0}function jr(e,t){const n=Array.isArray(t)?t:V$(t)?[t]:$H(t),r=n.length===1?e:c5e(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(lr(r)&&ys(r)||Array.isArray(r)&&u5e(r))&&jr(e,n.slice(0,-1)),e}var DH=e=>{for(const t in e)if(bi(e[t]))return!0;return!1};function nv(e,t={}){const n=Array.isArray(e);if(lr(e)||n)for(const r in e)Array.isArray(e[r])||lr(e[r])&&!DH(e[r])?(t[r]=Array.isArray(e[r])?[]:{},nv(e[r],t[r])):ws(e[r])||(t[r]=!0);return t}function kH(e,t,n){const r=Array.isArray(e);if(lr(e)||r)for(const s in e)Array.isArray(e[s])||lr(e[s])&&!DH(e[s])?or(t)||Z3(n[s])?n[s]=Array.isArray(e[s])?nv(e[s],[]):{...nv(e[s])}:kH(e[s],ws(t)?{}:t[s],n[s]):n[s]=!rc(e[s],t[s]);return n}var qm=(e,t)=>kH(e,t,nv(t));const tM={value:!1,isValid:!1},nM={value:!0,isValid:!0};var IH=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!or(e[0].attributes.value)?or(e[0].value)||e[0].value===""?nM:{value:e[0].value,isValid:!0}:nM:tM}return tM},TH=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>or(e)?e:t?e===""?NaN:e&&+e:n&&Ui(e)?new Date(e):r?r(e):e;const rM={isValid:!1,value:null};var MH=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,rM):rM;function sM(e){const t=e.ref;return K$(t)?t.files:H$(t)?MH(e.refs).value:PH(t)?[...t.selectedOptions].map(({value:n})=>n):L0(t)?IH(e.refs).value:TH(or(t.value)?e.ref.value:t.value,e)}var d5e=(e,t,n,r)=>{const s={};for(const a of e){const o=Ze(t,a);o&&vn(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},rv=e=>e instanceof RegExp,Gm=e=>or(e)?e:rv(e)?e.source:lr(e)?rv(e.value)?e.value.source:e.value:e,aM=e=>({isOnSubmit:!e||e===gi.onSubmit,isOnBlur:e===gi.onBlur,isOnChange:e===gi.onChange,isOnAll:e===gi.all,isOnTouch:e===gi.onTouched});const iM="AsyncFunction";var f5e=e=>!!e&&!!e.validate&&!!(bi(e.validate)&&e.validate.constructor.name===iM||lr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iM)),h5e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),oM=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const zp=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=Ze(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(zp(l,t))break}else if(lr(l)&&zp(l,t))break}}};function lM(e,t,n){const r=Ze(e,n);if(r||V$(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ze(t,a),l=Ze(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var m5e=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return ys(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||gi.all))},p5e=(e,t,n)=>!e||!t||e===t||Bp(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),g5e=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,b5e=(e,t)=>!tw(Ze(e,t)).length&&jr(e,t),x5e=(e,t,n)=>{const r=Bp(Ze(e,n));return vn(r,"root",t[n]),vn(e,n,r),e},my=e=>Ui(e);function cM(e,t,n="validate"){if(my(e)||Array.isArray(e)&&e.every(my)||oa(e)&&!e)return{type:n,message:my(e)?e:"",ref:t}}var lf=e=>lr(e)&&!rv(e)?e:{value:e,message:""},uM=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:b,name:x,valueAsNumber:y,mount:v}=e._f,j=Ze(n,x);if(!v||t.has(x))return{};const S=l?l[0]:o,N=I=>{s&&S.reportValidity&&(S.setCustomValidity(oa(I)?"":I||""),S.reportValidity())},C={},$=H$(o),P=L0(o),E=$||P,M=(y||K$(o))&&or(o.value)&&or(j)||tv(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,k=o5e.bind(null,x,r,C),A=(I,L,R,F=ko.maxLength,T=ko.minLength)=>{const O=I?L:R;C[x]={type:I?F:T,message:O,ref:o,...k(I?F:T,O)}};if(a?!Array.isArray(j)||!j.length:c&&(!E&&(M||ws(j))||oa(j)&&!j||P&&!IH(l).isValid||$&&!MH(l).isValid)){const{value:I,message:L}=my(c)?{value:!!c,message:c}:lf(c);if(I&&(C[x]={type:ko.required,message:L,ref:S,...k(ko.required,L)},!r))return N(L),C}if(!M&&(!ws(f)||!ws(h))){let I,L;const R=lf(h),F=lf(f);if(!ws(j)&&!isNaN(j)){const T=o.valueAsNumber||j&&+j;ws(R.value)||(I=T>R.value),ws(F.value)||(L=T<F.value)}else{const T=o.valueAsDate||new Date(j),O=z=>new Date(new Date().toDateString()+" "+z),_=o.type=="time",W=o.type=="week";Ui(R.value)&&j&&(I=_?O(j)>O(R.value):W?j>R.value:T>new Date(R.value)),Ui(F.value)&&j&&(L=_?O(j)<O(F.value):W?j<F.value:T<new Date(F.value))}if((I||L)&&(A(!!I,R.message,F.message,ko.max,ko.min),!r))return N(C[x].message),C}if((u||d)&&!M&&(Ui(j)||a&&Array.isArray(j))){const I=lf(u),L=lf(d),R=!ws(I.value)&&j.length>+I.value,F=!ws(L.value)&&j.length<+L.value;if((R||F)&&(A(R,I.message,L.message),!r))return N(C[x].message),C}if(p&&!M&&Ui(j)){const{value:I,message:L}=lf(p);if(rv(I)&&!j.match(I)&&(C[x]={type:ko.pattern,message:L,ref:o,...k(ko.pattern,L)},!r))return N(L),C}if(b){if(bi(b)){const I=await b(j,n),L=cM(I,S);if(L&&(C[x]={...L,...k(ko.validate,L.message)},!r))return N(L.message),C}else if(lr(b)){let I={};for(const L in b){if(!ys(I)&&!r)break;const R=cM(await b[L](j,n),S,L);R&&(I={...R,...k(L,R.message)},N(R.message),r&&(C[x]=I))}if(!ys(I)&&(C[x]={ref:S,...I},!r))return C}}return N(!0),C};const y5e={mode:gi.onSubmit,reValidateMode:gi.onChange,shouldFocusError:!0};function v5e(e={}){let t={...y5e,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:bi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=lr(t.defaultValues)||lr(t.values)?Rr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Rr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:eM(),state:eM()},p=t.criteriaMode===gi.all,b=G=>re=>{clearTimeout(u),u=setTimeout(G,re)},x=async G=>{if(!t.disabled&&(d.isValid||f.isValid||G)){const re=t.resolver?ys((await P()).errors):await M(r,!0);re!==n.isValid&&h.state.next({isValid:re})}},y=(G,re)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(l.mount)).forEach(ue=>{ue&&(re?vn(n.validatingFields,ue,re):jr(n.validatingFields,ue))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ys(n.validatingFields)}))},v=(G,re=[],ue,ge,ye=!0,je=!0)=>{if(ge&&ue&&!t.disabled){if(o.action=!0,je&&Array.isArray(Ze(r,G))){const ie=ue(Ze(r,G),ge.argA,ge.argB);ye&&vn(r,G,ie)}if(je&&Array.isArray(Ze(n.errors,G))){const ie=ue(Ze(n.errors,G),ge.argA,ge.argB);ye&&vn(n.errors,G,ie),b5e(n.errors,G)}if((d.touchedFields||f.touchedFields)&&je&&Array.isArray(Ze(n.touchedFields,G))){const ie=ue(Ze(n.touchedFields,G),ge.argA,ge.argB);ye&&vn(n.touchedFields,G,ie)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=qm(s,a)),h.state.next({name:G,isDirty:A(G,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vn(a,G,re)},j=(G,re)=>{vn(n.errors,G,re),h.state.next({errors:n.errors})},S=G=>{n.errors=G,h.state.next({errors:n.errors,isValid:!1})},N=(G,re,ue,ge)=>{const ye=Ze(r,G);if(ye){const je=Ze(a,G,or(ue)?Ze(s,G):ue);or(je)||ge&&ge.defaultChecked||re?vn(a,G,re?je:sM(ye._f)):R(G,je),o.mount&&x()}},C=(G,re,ue,ge,ye)=>{let je=!1,ie=!1;const he={name:G};if(!t.disabled){if(!ue||ge){(d.isDirty||f.isDirty)&&(ie=n.isDirty,n.isDirty=he.isDirty=A(),je=ie!==he.isDirty);const ke=rc(Ze(s,G),re);ie=!!Ze(n.dirtyFields,G),ke?jr(n.dirtyFields,G):vn(n.dirtyFields,G,!0),he.dirtyFields=n.dirtyFields,je=je||(d.dirtyFields||f.dirtyFields)&&ie!==!ke}if(ue){const ke=Ze(n.touchedFields,G);ke||(vn(n.touchedFields,G,ue),he.touchedFields=n.touchedFields,je=je||(d.touchedFields||f.touchedFields)&&ke!==ue)}je&&ye&&h.state.next(he)}return je?he:{}},$=(G,re,ue,ge)=>{const ye=Ze(n.errors,G),je=(d.isValid||f.isValid)&&oa(re)&&n.isValid!==re;if(t.delayError&&ue?(c=b(()=>j(G,ue)),c(t.delayError)):(clearTimeout(u),c=null,ue?vn(n.errors,G,ue):jr(n.errors,G)),(ue?!rc(ye,ue):ye)||!ys(ge)||je){const ie={...ge,...je&&oa(re)?{isValid:re}:{},errors:n.errors,name:G};n={...n,...ie},h.state.next(ie)}},P=async G=>{y(G,!0);const re=await t.resolver(a,t.context,d5e(G||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(G),re},E=async G=>{const{errors:re}=await P(G);if(G)for(const ue of G){const ge=Ze(re,ue);ge?vn(n.errors,ue,ge):jr(n.errors,ue)}else n.errors=re;return re},M=async(G,re,ue={valid:!0})=>{for(const ge in G){const ye=G[ge];if(ye){const{_f:je,...ie}=ye;if(je){const he=l.array.has(je.name),ke=ye._f&&f5e(ye._f);ke&&d.validatingFields&&y([ge],!0);const Be=await uM(ye,l.disabled,a,p,t.shouldUseNativeValidation&&!re,he);if(ke&&d.validatingFields&&y([ge]),Be[je.name]&&(ue.valid=!1,re))break;!re&&(Ze(Be,je.name)?he?x5e(n.errors,Be,je.name):vn(n.errors,je.name,Be[je.name]):jr(n.errors,je.name))}!ys(ie)&&await M(ie,re,ue)}}return ue.valid},k=()=>{for(const G of l.unMount){const re=Ze(r,G);re&&(re._f.refs?re._f.refs.every(ue=>!jj(ue)):!jj(re._f.ref))&&oe(G)}l.unMount=new Set},A=(G,re)=>!t.disabled&&(G&&re&&vn(a,G,re),!rc(z(),s)),I=(G,re,ue)=>AH(G,l,{...o.mount?a:or(re)?s:Ui(G)?{[G]:re}:re},ue,re),L=G=>tw(Ze(o.mount?a:s,G,t.shouldUnregister?Ze(s,G,[]):[])),R=(G,re,ue={})=>{const ge=Ze(r,G);let ye=re;if(ge){const je=ge._f;je&&(!je.disabled&&vn(a,G,TH(re,je)),ye=tv(je.ref)&&ws(re)?"":re,PH(je.ref)?[...je.ref.options].forEach(ie=>ie.selected=ye.includes(ie.value)):je.refs?L0(je.ref)?je.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(ye)?ie.checked=!!ye.find(he=>he===ie.value):ie.checked=ye===ie.value||!!ye)}):je.refs.forEach(ie=>ie.checked=ie.value===ye):K$(je.ref)?je.ref.value="":(je.ref.value=ye,je.ref.type||h.state.next({name:G,values:Rr(a)})))}(ue.shouldDirty||ue.shouldTouch)&&C(G,ye,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&W(G)},F=(G,re,ue)=>{for(const ge in re){if(!re.hasOwnProperty(ge))return;const ye=re[ge],je=`${G}.${ge}`,ie=Ze(r,je);(l.array.has(G)||lr(ye)||ie&&!ie._f)&&!Gu(ye)?F(je,ye,ue):R(je,ye,ue)}},T=(G,re,ue={})=>{const ge=Ze(r,G),ye=l.array.has(G),je=Rr(re);vn(a,G,je),ye?(h.array.next({name:G,values:Rr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ue.shouldDirty&&h.state.next({name:G,dirtyFields:qm(s,a),isDirty:A(G,je)})):ge&&!ge._f&&!ws(je)?F(G,je,ue):R(G,je,ue),oM(G,l)&&h.state.next({...n}),h.state.next({name:o.mount?G:void 0,values:Rr(a)})},O=async G=>{o.mount=!0;const re=G.target;let ue=re.name,ge=!0;const ye=Ze(r,ue),je=ke=>{ge=Number.isNaN(ke)||Gu(ke)&&isNaN(ke.getTime())||rc(ke,Ze(a,ue,ke))},ie=aM(t.mode),he=aM(t.reValidateMode);if(ye){let ke,Be;const qe=re.type?sM(ye._f):CH(G),Et=G.type===ev.BLUR||G.type===ev.FOCUS_OUT,ln=!h5e(ye._f)&&!t.resolver&&!Ze(n.errors,ue)&&!ye._f.deps||g5e(Et,Ze(n.touchedFields,ue),n.isSubmitted,he,ie),Ht=oM(ue,l,Et);vn(a,ue,qe),Et?(ye._f.onBlur&&ye._f.onBlur(G),c&&c(0)):ye._f.onChange&&ye._f.onChange(G);const vt=C(ue,qe,Et),Re=!ys(vt)||Ht;if(!Et&&h.state.next({name:ue,type:G.type,values:Rr(a)}),ln)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Et&&x():Et||x()),Re&&h.state.next({name:ue,...Ht?{}:vt});if(!Et&&Ht&&h.state.next({...n}),t.resolver){const{errors:Ue}=await P([ue]);if(je(qe),ge){const it=lM(n.errors,r,ue),ot=lM(Ue,r,it.name||ue);ke=ot.error,ue=ot.name,Be=ys(Ue)}}else y([ue],!0),ke=(await uM(ye,l.disabled,a,p,t.shouldUseNativeValidation))[ue],y([ue]),je(qe),ge&&(ke?Be=!1:(d.isValid||f.isValid)&&(Be=await M(r,!0)));ge&&(ye._f.deps&&W(ye._f.deps),$(ue,Be,ke,vt))}},_=(G,re)=>{if(Ze(n.errors,re)&&G.focus)return G.focus(),1},W=async(G,re={})=>{let ue,ge;const ye=Bp(G);if(t.resolver){const je=await E(or(G)?G:ye);ue=ys(je),ge=G?!ye.some(ie=>Ze(je,ie)):ue}else G?(ge=(await Promise.all(ye.map(async je=>{const ie=Ze(r,je);return await M(ie&&ie._f?{[je]:ie}:ie)}))).every(Boolean),!(!ge&&!n.isValid)&&x()):ge=ue=await M(r);return h.state.next({...!Ui(G)||(d.isValid||f.isValid)&&ue!==n.isValid?{}:{name:G},...t.resolver||!G?{isValid:ue}:{},errors:n.errors}),re.shouldFocus&&!ge&&zp(r,_,G?ye:l.mount),ge},z=G=>{const re={...o.mount?a:s};return or(G)?re:Ui(G)?Ze(re,G):G.map(ue=>Ze(re,ue))},U=(G,re)=>({invalid:!!Ze((re||n).errors,G),isDirty:!!Ze((re||n).dirtyFields,G),error:Ze((re||n).errors,G),isValidating:!!Ze(n.validatingFields,G),isTouched:!!Ze((re||n).touchedFields,G)}),H=G=>{G&&Bp(G).forEach(re=>jr(n.errors,re)),h.state.next({errors:G?n.errors:{}})},B=(G,re,ue)=>{const ge=(Ze(r,G,{_f:{}})._f||{}).ref,ye=Ze(n.errors,G)||{},{ref:je,message:ie,type:he,...ke}=ye;vn(n.errors,G,{...ke,...re,ref:ge}),h.state.next({name:G,errors:n.errors,isValid:!1}),ue&&ue.shouldFocus&&ge&&ge.focus&&ge.focus()},Y=(G,re)=>bi(G)?h.state.subscribe({next:ue=>G(I(void 0,re),ue)}):I(G,re,!0),ae=G=>h.state.subscribe({next:re=>{p5e(G.name,re.name,G.exact)&&m5e(re,G.formState||d,we,G.reRenderRoot)&&G.callback({values:{...a},...n,...re})}}).unsubscribe,ce=G=>(o.mount=!0,f={...f,...G.formState},ae({...G,formState:f})),oe=(G,re={})=>{for(const ue of G?Bp(G):l.mount)l.mount.delete(ue),l.array.delete(ue),re.keepValue||(jr(r,ue),jr(a,ue)),!re.keepError&&jr(n.errors,ue),!re.keepDirty&&jr(n.dirtyFields,ue),!re.keepTouched&&jr(n.touchedFields,ue),!re.keepIsValidating&&jr(n.validatingFields,ue),!t.shouldUnregister&&!re.keepDefaultValue&&jr(s,ue);h.state.next({values:Rr(a)}),h.state.next({...n,...re.keepDirty?{isDirty:A()}:{}}),!re.keepIsValid&&x()},Q=({disabled:G,name:re})=>{(oa(G)&&o.mount||G||l.disabled.has(re))&&(G?l.disabled.add(re):l.disabled.delete(re))},K=(G,re={})=>{let ue=Ze(r,G);const ge=oa(re.disabled)||oa(t.disabled);return vn(r,G,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:G}},name:G,mount:!0,...re}}),l.mount.add(G),ue?Q({disabled:oa(re.disabled)?re.disabled:t.disabled,name:G}):N(G,!0,re.value),{...ge?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:Gm(re.min),max:Gm(re.max),minLength:Gm(re.minLength),maxLength:Gm(re.maxLength),pattern:Gm(re.pattern)}:{},name:G,onChange:O,onBlur:O,ref:ye=>{if(ye){K(G,re),ue=Ze(r,G);const je=or(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,ie=l5e(je),he=ue._f.refs||[];if(ie?he.find(ke=>ke===je):je===ue._f.ref)return;vn(r,G,{_f:{...ue._f,...ie?{refs:[...he.filter(jj),je,...Array.isArray(Ze(s,G))?[{}]:[]],ref:{type:je.type,name:G}}:{ref:je}}}),N(G,!1,void 0,je)}else ue=Ze(r,G,{}),ue._f&&(ue._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(NH(l.array,G)&&o.action)&&l.unMount.add(G)}}},ne=()=>t.shouldFocusError&&zp(r,_,l.mount),te=G=>{oa(G)&&(h.state.next({disabled:G}),zp(r,(re,ue)=>{const ge=Ze(r,ue);ge&&(re.disabled=ge._f.disabled||G,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(ye=>{ye.disabled=ge._f.disabled||G}))},0,!1))},X=(G,re)=>async ue=>{let ge;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let ye=Rr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:ie}=await P();n.errors=je,ye=ie}else await M(r);if(l.disabled.size)for(const je of l.disabled)vn(ye,je,void 0);if(jr(n.errors,"root"),ys(n.errors)){h.state.next({errors:{}});try{await G(ye,ue)}catch(je){ge=je}}else re&&await re({...n.errors},ue),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ys(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},xe=(G,re={})=>{Ze(r,G)&&(or(re.defaultValue)?T(G,Rr(Ze(s,G))):(T(G,re.defaultValue),vn(s,G,Rr(re.defaultValue))),re.keepTouched||jr(n.touchedFields,G),re.keepDirty||(jr(n.dirtyFields,G),n.isDirty=re.defaultValue?A(G,Rr(Ze(s,G))):A()),re.keepError||(jr(n.errors,G),d.isValid&&x()),h.state.next({...n}))},$e=(G,re={})=>{const ue=G?Rr(G):s,ge=Rr(ue),ye=ys(G),je=ye?s:ge;if(re.keepDefaultValues||(s=ue),!re.keepValues){if(re.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(qm(s,a))]);for(const he of Array.from(ie))Ze(n.dirtyFields,he)?vn(je,he,Ze(a,he)):T(he,Ze(je,he))}else{if(z$&&or(G))for(const ie of l.mount){const he=Ze(r,ie);if(he&&he._f){const ke=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(tv(ke)){const Be=ke.closest("form");if(Be){Be.reset();break}}}}for(const ie of l.mount)T(ie,Ze(je,ie))}a=Rr(je),h.array.next({values:{...je}}),h.state.next({values:{...je}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!re.keepIsValid||!!re.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!rc(G,s)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:re.keepDirtyValues?re.keepDefaultValues&&a?qm(s,a):n.dirtyFields:re.keepDefaultValues&&G?qm(s,G):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ne=(G,re)=>$e(bi(G)?G(a):G,re),Le=(G,re={})=>{const ue=Ze(r,G),ge=ue&&ue._f;if(ge){const ye=ge.refs?ge.refs[0]:ge.ref;ye.focus&&(ye.focus(),re.shouldSelect&&bi(ye.select)&&ye.select())}},we=G=>{n={...n,...G}},me={control:{register:K,unregister:oe,getFieldState:U,handleSubmit:X,setError:B,_subscribe:ae,_runSchema:P,_getWatch:I,_getDirty:A,_setValid:x,_setFieldArray:v,_setDisabledField:Q,_setErrors:S,_getFieldArray:L,_reset:$e,_resetDefaultValues:()=>bi(t.defaultValues)&&t.defaultValues().then(G=>{Ne(G,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:te,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(G){o=G},get _defaultValues(){return s},get _names(){return l},set _names(G){l=G},get _formState(){return n},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:ce,trigger:W,register:K,handleSubmit:X,watch:Y,setValue:T,getValues:z,reset:Ne,resetField:xe,clearErrors:H,unregister:oe,setError:B,setFocus:Le,getFieldState:U};return{...me,formControl:me}}function w5e(e={}){const t=Z.useRef(void 0),n=Z.useRef(void 0),[r,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:bi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:bi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:v5e(e),formState:r},e.formControl&&e.defaultValues&&!bi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,U$(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Z.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Z.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode),e.errors&&!ys(e.errors)&&a._setErrors(e.errors)},[a,e.errors,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Z.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Z.useEffect(()=>{e.values&&!rc(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),Z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=EH(r,a),t.current}const S5e=({groupToEdit:e,onClose:t})=>{var F;const{faculties:n,fetchFaculties:r,isLoadingFaculties:s,createGalleryGroup:a,updateGalleryGroup:o,fetchPhotosForGroup:l,photosByGroup:c,isSubmittingGroup:u}=SH(),{register:d,handleSubmit:f,control:h,reset:p,watch:b,setValue:x,formState:{errors:y}}=w5e({defaultValues:{title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",visibleTo:(e==null?void 0:e.visibleTo)||Fo}}),[v,j]=m.useState([]),[S,N]=m.useState([]),[C,$]=m.useState(e==null?void 0:e.coverImageFileId),[P,E]=m.useState(null),M=m.useRef(null);m.useEffect(()=>{r()},[r]),m.useEffect(()=>{e?(p({title:e.title,description:e.description||"",visibleTo:e.visibleTo||Fo}),$(e.coverImageFileId),(async()=>{const O=await l(e.$id,!0);if(O){const _=O.map(W=>({id:W.$id,file:new File([],W.fileName,{}),preview:X3(W.fileId,100,100),isNew:!1,existingPhotoId:W.$id,existingFileId:W.fileId}));j(_)}})()):(p({title:"",description:"",visibleTo:Fo}),j([]),$(void 0),E(null))},[e,p,l]);const k=[{id:Fo,name:"All Faculties"},...n.map(T=>({id:T.id,name:T.name}))],A=T=>{if(T.target.files){const O=Array.from(T.target.files).map((_,W)=>({id:`new-${Date.now()}-${W}`,file:_,preview:URL.createObjectURL(_),isNew:!0}));j(_=>[..._,...O]),T.target&&(T.target.value="")}},I=T=>{const O=v.find(_=>_.id===T);O&&(!O.isNew&&O.existingPhotoId&&O.existingFileId&&N(_=>[..._,{photoId:O.existingPhotoId,fileId:O.existingFileId}]),j(_=>_.filter(W=>W.id!==T)),O.isNew&&(P==null?void 0:P.name)===O.file.name&&(P==null?void 0:P.size)===O.file.size?E(null):!O.isNew&&C===O.existingFileId&&$(void 0))},L=T=>{T.isNew?(E(T.file),$(void 0)):T.existingFileId&&($(T.existingFileId),E(null))},R=async T=>{const O=v.filter(W=>W.isNew).map(W=>W.file);if(!e&&O.length===0){Ke.error("Please upload at least one photo for a new group.");return}let _=P||void 0;if(!e&&O.length>0&&!_||e&&P&&(_=P),e)await o(e.$id,{title:T.title,description:T.description,visibleTo:T.visibleTo||Fo},O,S,_,P?void 0:C),Ke.success("Group updated successfully!");else{let W;P?W=O.findIndex(z=>z.name===P.name&&z.size===P.size):O.length>0,await a({title:T.title,description:T.description,visibleTo:T.visibleTo||Fo},O,W),Ke.success("Group created successfully!")}t()};return i.jsxs("form",{onSubmit:f(R),className:"space-y-6 p-1",children:[i.jsx(Ve,{label:"Group Title",...d("title",{required:"Title is required"}),placeholder:"e.g., Annual Sports Day 2024",errorMessage:(F=y.title)==null?void 0:F.message,isInvalid:!!y.title}),i.jsx(Ss,{label:"Description (Optional)",...d("description"),placeholder:"A brief description of the photo group"}),i.jsx(i5e,{name:"visibleTo",control:h,render:({field:T})=>i.jsx(dt,{label:"Visible To",options:k,value:T.value,onChange:O=>T.onChange(O),placeholder:"Select visibility",disabled:s})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photos"}),i.jsx("div",{className:"mt-2 flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(Wo,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2",children:[i.jsx("span",{children:"Upload files"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,onChange:A,accept:"image/*",ref:M})]}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),v.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Uploaded Photos (",v.length,")"]}),i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:v.map(T=>i.jsxs("div",{className:"relative group aspect-square border rounded-md overflow-hidden",children:[i.jsx("img",{src:T.preview,alt:T.file.name,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center space-y-1 p-1",children:[i.jsx(Se,{size:"sm",isIconOnly:!0,variant:"light",className:"text-white hover:text-yellow-400",onPress:()=>L(T),title:"Set as cover",children:T.isNew&&(P==null?void 0:P.name)===T.file.name&&(P==null?void 0:P.size)===T.file.size||!T.isNew&&C===T.existingFileId?i.jsx(H3,{className:"h-5 w-5 text-yellow-400"}):i.jsx(yg,{className:"h-5 w-5"})}),i.jsx(Se,{size:"sm",isIconOnly:!0,color:"danger",variant:"light",className:"text-white hover:text-red-400",onPress:()=>I(T.id),title:"Remove photo",children:i.jsx(xa,{className:"h-5 w-5"})})]}),T.isNew&&(P==null?void 0:P.name)===T.file.name&&(P==null?void 0:P.size)===T.file.size||!T.isNew&&C===T.existingFileId?i.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white p-0.5 rounded-full",children:i.jsx(H3,{className:"h-3 w-3"})}):null]},T.id))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(Se,{type:"button",color:"default",variant:"flat",onPress:t,disabled:u,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:u,disabled:u,children:e?"Save Changes":"Create Group"})]})]})},q$=({photo:e,onView:t,onDelete:n,isDeleting:r,isViewOnly:s=!1})=>{const a=e.previewUrl&&!e.previewUrl.startsWith("/placeholder")?e.previewUrl:"/placeholder-image.png";return i.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg shadow-md bg-gray-200",children:[i.jsx("img",{src:a,alt:e.caption||e.fileName||"Gallery image",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}),i.jsxs("div",{className:`absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-center p-2 space-y-2 ${s?"cursor-pointer":""}`,onClick:s?()=>t(e):void 0,children:[i.jsx(st,{icon:i.jsx(Gi,{className:"h-5 w-5"}),onClick:()=>t(e),color:"blue",buttonText:"View",isIconOnly:s}),!s&&n&&i.jsx(st,{icon:i.jsx(xa,{className:"h-5 w-5"}),onClick:()=>n(e.$id,e.fileId),color:"red",buttonText:"Delete",isIconOnly:!1})]}),e.caption&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:e.caption})]})};var j5e=Object.defineProperty,C5e=(e,t,n)=>t in e?j5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cj=(e,t,n)=>(C5e(e,typeof t!="symbol"?t+"":t,n),n);let N5e=class{constructor(){Cj(this,"current",this.detect()),Cj(this,"handoffState","pending"),Cj(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},nd=new N5e;function nw(e){var t,n;return nd.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function rw(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Sl(){let e=[],t={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),t.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return rw(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Sl();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function G$(){let[e]=m.useState(Sl);return m.useEffect(()=>()=>e.dispose(),[e]),e}let as=(e,t)=>{nd.isServer?m.useEffect(e,t):m.useLayoutEffect(e,t)};function kd(e){let t=m.useRef(e);return as(()=>{t.current=e},[e]),t}let Sn=function(e){let t=kd(e);return Z.useCallback((...n)=>t.current(...n),[t])},$5e=m.createContext(void 0);function E5e(){return m.useContext($5e)}function J3(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ol(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ol),r}var sv=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(sv||{}),uc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(uc||{});function Xa(){let e=P5e();return m.useCallback(t=>A5e({mergeRefs:e,...t}),[e])}function A5e({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:a=!0,name:o,mergeRefs:l}){l=l??D5e;let c=OH(t,e);if(a)return $x(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return $x(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return ol(d?0:1,{0(){return null},1(){return $x({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return $x(c,n,r,o,l)}function $x(e,t={},n,r,s){let{as:a=n,children:o,refName:l="ref",...c}=Nj(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let h=!1,p=[];for(let[b,x]of Object.entries(t))typeof x=="boolean"&&(h=!0),x===!0&&p.push(b.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=p.join(" ");for(let b of p)f[`data-${b}`]=""}}if(a===m.Fragment&&(Object.keys(Pu(c)).length>0||Object.keys(Pu(f)).length>0))if(!m.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Pu(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Pu(c)).concat(Object.keys(Pu(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,p=h==null?void 0:h.className,b=typeof p=="function"?(...v)=>J3(p(...v),c.className):J3(p,c.className),x=b?{className:b}:{},y=OH(d.props,Pu(Nj(c,["ref"])));for(let v in f)v in y&&delete f[v];return m.cloneElement(d,Object.assign({},y,f,u,{ref:s(k5e(d),u.ref)},x))}return m.createElement(a,Object.assign({},Nj(c,["ref"]),a!==m.Fragment&&u,a!==m.Fragment&&f),d)}function P5e(){let e=m.useRef([]),t=m.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function D5e(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function OH(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...a){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...a)}}});return t}function qs(e){var t;return Object.assign(m.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Pu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Nj(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function k5e(e){return Z.version.split(".")[0]>="19"?e.props.ref:e.ref}let I5e="span";var av=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(av||{});function T5e(e,t){var n;let{features:r=1,...s}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Xa()({ourProps:a,theirProps:s,slot:{},defaultTag:I5e,name:"Hidden"})}let Q3=qs(T5e);function LH(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function vc(e){return LH(e)&&"tagName"in e}function ud(e){return vc(e)&&"accessKey"in e}function dc(e){return vc(e)&&"tabIndex"in e}function M5e(e){return vc(e)&&"style"in e}function O5e(e){return ud(e)&&e.nodeName==="IFRAME"}function L5e(e){return ud(e)&&e.nodeName==="INPUT"}let _H=Symbol();function _5e(e,t=!0){return Object.assign(e,{[_H]:t})}function io(...e){let t=m.useRef(e);m.useEffect(()=>{t.current=e},[e]);let n=Sn(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[_H]))?void 0:n}let Y$=m.createContext(null);Y$.displayName="DescriptionContext";function FH(){let e=m.useContext(Y$);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,FH),t}return e}function F5e(){let[e,t]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(n){let r=Sn(a=>(t(o=>[...o,a]),()=>t(o=>{let l=o.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),s=m.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Z.createElement(Y$.Provider,{value:s},n.children)},[t])]}let R5e="p";function B5e(e,t){let n=m.useId(),r=E5e(),{id:s=`headlessui-description-${n}`,...a}=e,o=FH(),l=io(t);as(()=>o.register(s),[s,o.register]);let c=r||!1,u=m.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),d={ref:l,...o.props,id:s};return Xa()({ourProps:d,theirProps:a,slot:u,defaultTag:R5e,name:o.name||"Description"})}let z5e=qs(B5e),V5e=Object.assign(z5e,{});var RH=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(RH||{});let W5e=m.createContext(()=>{});function U5e({value:e,children:t}){return Z.createElement(W5e.Provider,{value:e},t)}let BH=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var K5e=Object.defineProperty,H5e=(e,t,n)=>t in e?K5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q5e=(e,t,n)=>(H5e(e,t+"",n),n),zH=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ia=(e,t,n)=>(zH(e,t,"read from private field"),n?n.call(e):t.get(e)),$j=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},dM=(e,t,n,r)=>(zH(e,t,"write to private field"),t.set(e,n),n),Bi,$p,Ep;let G5e=class{constructor(t){$j(this,Bi,{}),$j(this,$p,new BH(()=>new Set)),$j(this,Ep,new Set),q5e(this,"disposables",Sl()),dM(this,Bi,t)}dispose(){this.disposables.dispose()}get state(){return Ia(this,Bi)}subscribe(t,n){let r={selector:t,callback:n,current:t(Ia(this,Bi))};return Ia(this,Ep).add(r),this.disposables.add(()=>{Ia(this,Ep).delete(r)})}on(t,n){return Ia(this,$p).get(t).add(n),this.disposables.add(()=>{Ia(this,$p).get(t).delete(n)})}send(t){let n=this.reduce(Ia(this,Bi),t);if(n!==Ia(this,Bi)){dM(this,Bi,n);for(let r of Ia(this,Ep)){let s=r.selector(Ia(this,Bi));VH(r.current,s)||(r.current=s,r.callback(s))}for(let r of Ia(this,$p).get(t.type))r(Ia(this,Bi),t)}}};Bi=new WeakMap,$p=new WeakMap,Ep=new WeakMap;function VH(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Ej(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Ej(e.entries(),t.entries()):fM(e)&&fM(t)?Ej(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Ej(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function fM(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Y5e=Object.defineProperty,X5e=(e,t,n)=>t in e?Y5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hM=(e,t,n)=>(X5e(e,typeof t!="symbol"?t+"":t,n),n),Z5e=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Z5e||{});let J5e={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let a=e.stack.slice();return a.splice(s,1),a.push(n),r=a,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},Q5e=class WH extends G5e{constructor(){super(...arguments),hM(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),hM(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new WH({stack:[]})}reduce(t,n){return ol(n.type,J5e,t,n)}};const UH=new BH(()=>Q5e.new());var KH={exports:{}},HH={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=m;function e3e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t3e=typeof Object.is=="function"?Object.is:e3e,n3e=_0.useSyncExternalStore,r3e=_0.useRef,s3e=_0.useEffect,a3e=_0.useMemo,i3e=_0.useDebugValue;HH.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=r3e(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=a3e(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var b=o.value;if(s(b,p))return f=b}return f=p}if(b=f,t3e(d,p))return b;var x=r(p);return s!==void 0&&s(b,x)?(d=p,b):(d=p,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=n3e(e,a[0],a[1]);return s3e(function(){o.hasValue=!0,o.value=l},[l]),i3e(l),l};KH.exports=HH;var o3e=KH.exports;function qH(e,t,n=VH){return o3e.useSyncExternalStoreWithSelector(Sn(r=>e.subscribe(l3e,r)),Sn(()=>e.state),Sn(()=>e.state),Sn(t),n)}function l3e(e){return e}function F0(e,t){let n=m.useId(),r=UH.get(t),[s,a]=qH(r,m.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return as(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?a?s:!0:!1}let eC=new Map,Vp=new Map;function mM(e){var t;let n=(t=Vp.get(e))!=null?t:0;return Vp.set(e,n+1),n!==0?()=>pM(e):(eC.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>pM(e))}function pM(e){var t;let n=(t=Vp.get(e))!=null?t:1;if(n===1?Vp.delete(e):Vp.set(e,n-1),n!==1)return;let r=eC.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,eC.delete(e))}function c3e(e,{allowed:t,disallowed:n}={}){let r=F0(e,"inert-others");as(()=>{var s,a;if(!r)return;let o=Sl();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&o.add(mM(c));let l=(a=t==null?void 0:t())!=null?a:[];for(let c of l){if(!c)continue;let u=nw(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)l.some(h=>f.contains(h))||o.add(mM(f));d=d.parentElement}}return o.dispose},[r,t,n])}function u3e(e,t,n){let r=kd(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});m.useEffect(()=>{if(!e)return;let s=t===null?null:ud(t)?t:t.current;if(!s)return;let a=Sl();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),a.add(()=>o.disconnect())}return()=>a.dispose()},[t,r,e])}let iv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),d3e=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Bo=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Bo||{}),tC=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tC||{}),f3e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(f3e||{});function h3e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(iv)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function m3e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(d3e)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var GH=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(GH||{});function p3e(e,t=0){var n;return e===((n=nw(e))==null?void 0:n.body)?!1:ol(t,{0(){return e.matches(iv)},1(){let r=e;for(;r!==null;){if(r.matches(iv))return!0;r=r.parentElement}return!1}})}var g3e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(g3e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Yo(e){e==null||e.focus({preventScroll:!0})}let b3e=["textarea","input"].join(",");function x3e(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,b3e))!=null?n:!1}function y3e(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),a=t(r);if(s===null||a===null)return 0;let o=s.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wp(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?y3e(e):e:t&64?m3e(e):h3e(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===p:b===p))),r=r??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=o[p],h==null||h.focus(u),d+=l}while(h!==a.activeElement);return t&6&&x3e(h)&&h.select(),2}function YH(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function v3e(){return/Android/gi.test(window.navigator.userAgent)}function gM(){return YH()||v3e()}function Ex(e,t,n,r){let s=kd(n);m.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[e,t,r])}function XH(e,t,n,r){let s=kd(n);m.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[e,t,r])}const bM=30;function w3e(e,t,n){let r=kd(n),s=m.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of d)if(f!==null&&(f.contains(u)||l.composed&&l.composedPath().includes(f)))return;return!p3e(u,GH.Loose)&&u.tabIndex!==-1&&l.preventDefault(),r.current(l,u)},[r,t]),a=m.useRef(null);Ex(e,"pointerdown",l=>{var c,u;gM()||(a.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),Ex(e,"pointerup",l=>{if(gM()||!a.current)return;let c=a.current;return a.current=null,s(l,()=>c)},!0);let o=m.useRef({x:0,y:0});Ex(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),Ex(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=bM||Math.abs(c.y-o.current.y)>=bM))return s(l,()=>dc(l.target)?l.target:null)},!0),XH(e,"blur",l=>s(l,()=>O5e(window.document.activeElement)?window.document.activeElement:null),!0)}function sw(...e){return m.useMemo(()=>nw(...e),[...e])}function ZH(e,t,n,r){let s=kd(n);m.useEffect(()=>{e=e??window;function a(o){s.current(o)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function S3e(e){return m.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function j3e(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let o=t[s].call(n,...a);o&&(n=o,r.forEach(l=>l()))}}}function C3e(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,e-s);n.style(r,"paddingRight",`${a}px`)}}}function N3e(){return YH()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(a=>a()).some(a=>a.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Sl();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(dc(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);dc(d)&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(dc(l.target)&&M5e(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(dc(l.target)){if(L5e(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function $3e(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function E3e(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Yu=j3e(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Sl(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:E3e(n)},s=[N3e(),C3e(),$3e()];s.forEach(({before:a})=>a==null?void 0:a(r)),s.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Yu.subscribe(()=>{let e=Yu.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Yu.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Yu.dispatch("TEARDOWN",n)}});function A3e(e,t,n=()=>({containers:[]})){let r=S3e(Yu),s=t?r.get(t):void 0,a=s?s.count>0:!1;return as(()=>{if(!(!t||!e))return Yu.dispatch("PUSH",t,n),()=>Yu.dispatch("POP",t,n)},[e,t]),a}function P3e(e,t,n=()=>[document.body]){let r=F0(e,"scroll-lock");A3e(r,t,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],n]}})}function D3e(e=0){let[t,n]=m.useState(e),r=m.useCallback(c=>n(c),[t]),s=m.useCallback(c=>n(u=>u|c),[t]),a=m.useCallback(c=>(t&c)===c,[t]),o=m.useCallback(c=>n(u=>u&~c),[n]),l=m.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:a,removeFlag:o,toggleFlag:l}}var k3e={},xM,yM;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xM=process==null?void 0:k3e)==null?void 0:xM.NODE_ENV)==="test"&&typeof((yM=Element==null?void 0:Element.prototype)==null?void 0:yM.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var I3e=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(I3e||{});function T3e(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function M3e(e,t,n,r){let[s,a]=m.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=D3e(e&&s?3:0),u=m.useRef(!1),d=m.useRef(!1),f=G$();return as(()=>{var h;if(e){if(n&&a(!0),!t){n&&l(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),O3e(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var p;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||a(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function O3e(e,{prepare:t,run:n,done:r,inFlight:s}){let a=Sl();return _3e(e,{prepare:t,inFlight:s}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(L3e(e,r))})}),a.dispose}function L3e(e,t){var n,r;let s=Sl();if(!e)return s.dispose;let a=!1;s.add(()=>{a=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||t()}),s.dispose)}function _3e(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function X$(e,t){let n=m.useRef([]),r=Sn(e);m.useEffect(()=>{let s=[...n.current];for(let[a,o]of t.entries())if(n.current[a]!==o){let l=r(t,s);return n.current=t,l}},[r,...t])}let aw=m.createContext(null);aw.displayName="OpenClosedContext";var vi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(vi||{});function iw(){return m.useContext(aw)}function F3e({value:e,children:t}){return Z.createElement(aw.Provider,{value:e},t)}function R3e({children:e}){return Z.createElement(aw.Provider,{value:null},e)}function B3e(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let sc=[];B3e(()=>{function e(t){if(!dc(t.target)||t.target===document.body||sc[0]===t.target)return;let n=t.target;n=n.closest(iv),sc.unshift(n??t.target),sc=sc.filter(r=>r!=null&&r.isConnected),sc.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function JH(e){let t=Sn(e),n=m.useRef(!1);m.useEffect(()=>(n.current=!1,()=>{n.current=!0,rw(()=>{n.current&&t()})}),[t])}function z3e(){let e=typeof document>"u";return"useSyncExternalStore"in yk?(t=>t.useSyncExternalStore)(yk)(()=>()=>{},()=>!1,()=>!e):!1}function R0(){let e=z3e(),[t,n]=m.useState(nd.isHandoffComplete);return t&&nd.isHandoffComplete===!1&&n(!1),m.useEffect(()=>{t!==!0&&n(!0)},[t]),m.useEffect(()=>nd.handoff(),[]),e?!1:t}let QH=m.createContext(!1);function V3e(){return m.useContext(QH)}function vM(e){return Z.createElement(QH.Provider,{value:e.force},e.children)}function W3e(e){let t=V3e(),n=m.useContext(tq),[r,s]=m.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(nd.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return m.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),m.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let eq=m.Fragment,U3e=qs(function(e,t){let{ownerDocument:n=null,...r}=e,s=m.useRef(null),a=io(_5e(p=>{s.current=p}),t),o=sw(s),l=n??o,c=W3e(l),[u]=m.useState(()=>{var p;return nd.isServer?null:(p=l==null?void 0:l.createElement("div"))!=null?p:null}),d=m.useContext(nC),f=R0();as(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),as(()=>{if(u&&d)return d.register(u)},[d,u]),JH(()=>{var p;!c||!u||(LH(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c)))});let h=Xa();return f?!c||!u?null:t4.createPortal(h({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:eq,name:"Portal"}),u):null});function K3e(e,t){let n=io(t),{enabled:r=!0,ownerDocument:s,...a}=e,o=Xa();return r?Z.createElement(U3e,{...a,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:eq,name:"Portal"})}let H3e=m.Fragment,tq=m.createContext(null);function q3e(e,t){let{target:n,...r}=e,s={ref:io(t)},a=Xa();return Z.createElement(tq.Provider,{value:n},a({ourProps:s,theirProps:r,defaultTag:H3e,name:"Popover.Group"}))}let nC=m.createContext(null);function G3e(){let e=m.useContext(nC),t=m.useRef([]),n=Sn(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=Sn(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),s=m.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,m.useMemo(()=>function({children:a}){return Z.createElement(nC.Provider,{value:s},a)},[s])]}let Y3e=qs(K3e),nq=qs(q3e),X3e=Object.assign(Y3e,{Group:nq});function Z3e(e,t=typeof document<"u"?document.defaultView:null,n){let r=F0(e,"escape");ZH(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===RH.Escape&&n(s))})}function J3e(){var e;let[t]=m.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=m.useState((e=t==null?void 0:t.matches)!=null?e:!1);return as(()=>{if(!t)return;function s(a){r(a.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function Q3e({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=sw(n),s=Sn(()=>{var a,o;let l=[];for(let c of e)c!==null&&(vc(c)?l.push(c):"current"in c&&vc(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(a=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&vc(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:s,contains:Sn(a=>s().some(o=>o.contains(a)))}}let rq=m.createContext(null);function wM({children:e,node:t}){let[n,r]=m.useState(null),s=sq(t??n);return Z.createElement(rq.Provider,{value:s},e,s===null&&Z.createElement(Q3,{features:av.Hidden,ref:a=>{var o,l;if(a){for(let c of(l=(o=nw(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&vc(c)&&c!=null&&c.contains(a)){r(c);break}}}}))}function sq(e=null){var t;return(t=m.useContext(rq))!=null?t:e}function Z$(){let e=m.useRef(!1);return as(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ap=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ap||{});function eCe(){let e=m.useRef(0);return XH(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function aq(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)vc(n.current)&&t.add(n.current);return t}let tCe="div";var Lu=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Lu||{});function nCe(e,t){let n=m.useRef(null),r=io(n,t),{initialFocus:s,initialFocusFallback:a,containers:o,features:l=15,...c}=e;R0()||(l=0);let u=sw(n);iCe(l,{ownerDocument:u});let d=oCe(l,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:a});lCe(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=eCe(),h=Sn(j=>{if(!ud(n.current))return;let S=n.current;(N=>N())(()=>{ol(f.current,{[Ap.Forwards]:()=>{Wp(S,Bo.First,{skipElements:[j.relatedTarget,a]})},[Ap.Backwards]:()=>{Wp(S,Bo.Last,{skipElements:[j.relatedTarget,a]})}})})}),p=F0(!!(l&2),"focus-trap#tab-lock"),b=G$(),x=m.useRef(!1),y={ref:r,onKeyDown(j){j.key=="Tab"&&(x.current=!0,b.requestAnimationFrame(()=>{x.current=!1}))},onBlur(j){if(!(l&4))return;let S=aq(o);ud(n.current)&&S.add(n.current);let N=j.relatedTarget;dc(N)&&N.dataset.headlessuiFocusGuard!=="true"&&(iq(S,N)||(x.current?Wp(n.current,ol(f.current,{[Ap.Forwards]:()=>Bo.Next,[Ap.Backwards]:()=>Bo.Previous})|Bo.WrapAround,{relativeTo:j.target}):dc(j.target)&&Yo(j.target)))}},v=Xa();return Z.createElement(Z.Fragment,null,p&&Z.createElement(Q3,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:av.Focusable}),v({ourProps:y,theirProps:c,defaultTag:tCe,name:"FocusTrap"}),p&&Z.createElement(Q3,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:av.Focusable}))}let rCe=qs(nCe),sCe=Object.assign(rCe,{features:Lu});function aCe(e=!0){let t=m.useRef(sc.slice());return X$(([n],[r])=>{r===!0&&n===!1&&rw(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=sc.slice())},[e,sc,t]),Sn(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function iCe(e,{ownerDocument:t}){let n=!!(e&8),r=aCe(n);X$(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Yo(r())},[n]),JH(()=>{n&&Yo(r())})}function oCe(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let a=m.useRef(null),o=F0(!!(e&1),"focus-trap#initial-focus"),l=Z$();return X$(()=>{if(e===0)return;if(!o){s!=null&&s.current&&Yo(s.current);return}let c=n.current;c&&rw(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){a.current=u;return}}else if(c.contains(u)){a.current=u;return}if(r!=null&&r.current)Yo(r.current);else{if(e&16){if(Wp(c,Bo.First|Bo.AutoFocus)!==tC.Error)return}else if(Wp(c,Bo.First)!==tC.Error)return;if(s!=null&&s.current&&(Yo(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[s,o,e]),a}function lCe(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let a=Z$(),o=!!(e&4);ZH(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!a.current)return;let c=aq(r);ud(n.current)&&c.add(n.current);let u=s.current;if(!u)return;let d=l.target;ud(d)?iq(c,d)?(s.current=d,Yo(d)):(l.preventDefault(),l.stopPropagation(),Yo(u)):Yo(s.current)},!0)}function iq(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function oq(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:cq)!==m.Fragment||Z.Children.count(e.children)===1}let ow=m.createContext(null);ow.displayName="TransitionContext";var cCe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(cCe||{});function uCe(){let e=m.useContext(ow);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function dCe(){let e=m.useContext(lw);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let lw=m.createContext(null);lw.displayName="NestingContext";function cw(e){return"children"in e?cw(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function lq(e,t){let n=kd(e),r=m.useRef([]),s=Z$(),a=G$(),o=Sn((p,b=uc.Hidden)=>{let x=r.current.findIndex(({el:y})=>y===p);x!==-1&&(ol(b,{[uc.Unmount](){r.current.splice(x,1)},[uc.Hidden](){r.current[x].state="hidden"}}),a.microTask(()=>{var y;!cw(r)&&s.current&&((y=n.current)==null||y.call(n))}))}),l=Sn(p=>{let b=r.current.find(({el:x})=>x===p);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,uc.Unmount)}),c=m.useRef([]),u=m.useRef(Promise.resolve()),d=m.useRef({enter:[],leave:[]}),f=Sn((p,b,x)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([y])=>y!==p)),t==null||t.chains.current[b].push([p,new Promise(y=>{c.current.push(y)})]),t==null||t.chains.current[b].push([p,new Promise(y=>{Promise.all(d.current[b].map(([v,j])=>j)).then(()=>y())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(b)):x(b)}),h=Sn((p,b,x)=>{Promise.all(d.current[b].splice(0).map(([y,v])=>v)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>x(b))});return m.useMemo(()=>({children:r,register:l,unregister:o,onStart:f,onStop:h,wait:u,chains:d}),[l,o,r,f,h,d,u])}let cq=m.Fragment,uq=sv.RenderStrategy;function fCe(e,t){var n,r;let{transition:s=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:h,leave:p,leaveFrom:b,leaveTo:x,...y}=e,[v,j]=m.useState(null),S=m.useRef(null),N=oq(e),C=io(...N?[S,t,j]:t===null?[]:[t]),$=(n=y.unmount)==null||n?uc.Unmount:uc.Hidden,{show:P,appear:E,initial:M}=uCe(),[k,A]=m.useState(P?"visible":"hidden"),I=dCe(),{register:L,unregister:R}=I;as(()=>L(S),[L,S]),as(()=>{if($===uc.Hidden&&S.current){if(P&&k!=="visible"){A("visible");return}return ol(k,{hidden:()=>R(S),visible:()=>L(S)})}},[k,S,L,R,P,$]);let F=R0();as(()=>{if(N&&F&&k==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,k,F,N]);let T=M&&!E,O=E&&P&&M,_=m.useRef(!1),W=lq(()=>{_.current||(A("hidden"),R(S))},I),z=Sn(oe=>{_.current=!0;let Q=oe?"enter":"leave";W.onStart(S,Q,K=>{K==="enter"?a==null||a():K==="leave"&&(l==null||l())})}),U=Sn(oe=>{let Q=oe?"enter":"leave";_.current=!1,W.onStop(S,Q,K=>{K==="enter"?o==null||o():K==="leave"&&(c==null||c())}),Q==="leave"&&!cw(W)&&(A("hidden"),R(S))});m.useEffect(()=>{N&&s||(z(P),U(P))},[P,N,s]);let H=!(!s||!N||!F||T),[,B]=M3e(H,v,P,{start:z,end:U}),Y=Pu({ref:C,className:((r=J3(y.className,O&&u,O&&d,B.enter&&u,B.enter&&B.closed&&d,B.enter&&!B.closed&&f,B.leave&&p,B.leave&&!B.closed&&b,B.leave&&B.closed&&x,!B.transition&&P&&h))==null?void 0:r.trim())||void 0,...T3e(B)}),ae=0;k==="visible"&&(ae|=vi.Open),k==="hidden"&&(ae|=vi.Closed),P&&k==="hidden"&&(ae|=vi.Opening),!P&&k==="visible"&&(ae|=vi.Closing);let ce=Xa();return Z.createElement(lw.Provider,{value:W},Z.createElement(F3e,{value:ae},ce({ourProps:Y,theirProps:y,defaultTag:cq,features:uq,visible:k==="visible",name:"Transition.Child"})))}function hCe(e,t){let{show:n,appear:r=!1,unmount:s=!0,...a}=e,o=m.useRef(null),l=oq(e),c=io(...l?[o,t]:t===null?[]:[t]);R0();let u=iw();if(n===void 0&&u!==null&&(n=(u&vi.Open)===vi.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=m.useState(n?"visible":"hidden"),h=lq(()=>{n||f("hidden")}),[p,b]=m.useState(!0),x=m.useRef([n]);as(()=>{p!==!1&&x.current[x.current.length-1]!==n&&(x.current.push(n),b(!1))},[x,n]);let y=m.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);as(()=>{n?f("visible"):!cw(h)&&o.current!==null&&f("hidden")},[n,h]);let v={unmount:s},j=Sn(()=>{var C;p&&b(!1),(C=e.beforeEnter)==null||C.call(e)}),S=Sn(()=>{var C;p&&b(!1),(C=e.beforeLeave)==null||C.call(e)}),N=Xa();return Z.createElement(lw.Provider,{value:h},Z.createElement(ow.Provider,{value:y},N({ourProps:{...v,as:m.Fragment,children:Z.createElement(dq,{ref:c,...v,...a,beforeEnter:j,beforeLeave:S})},theirProps:{},defaultTag:m.Fragment,features:uq,visible:d==="visible",name:"Transition"})))}function mCe(e,t){let n=m.useContext(ow)!==null,r=iw()!==null;return Z.createElement(Z.Fragment,null,!n&&r?Z.createElement(rC,{ref:t,...e}):Z.createElement(dq,{ref:t,...e}))}let rC=qs(hCe),dq=qs(fCe),Sg=qs(mCe),Up=Object.assign(rC,{Child:Sg,Root:rC});var pCe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pCe||{}),gCe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(gCe||{});let bCe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},J$=m.createContext(null);J$.displayName="DialogContext";function uw(e){let t=m.useContext(J$);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,uw),n}return t}function xCe(e,t){return ol(t.type,bCe,e,t)}let SM=qs(function(e,t){let n=m.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:a,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,h=m.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=iw();s===void 0&&p!==null&&(s=(p&vi.Open)===vi.Open);let b=m.useRef(null),x=io(b,t),y=sw(b),v=s?0:1,[j,S]=m.useReducer(xCe,{titleId:null,descriptionId:null,panelRef:m.createRef()}),N=Sn(()=>a(!1)),C=Sn(B=>S({type:0,id:B})),$=R0()?v===0:!1,[P,E]=G3e(),M={get current(){var B;return(B=j.panelRef.current)!=null?B:b.current}},k=sq(),{resolveContainers:A}=Q3e({mainTreeNode:k,portals:P,defaultContainers:[M]}),I=p!==null?(p&vi.Closing)===vi.Closing:!1;c3e(u||I?!1:$,{allowed:Sn(()=>{var B,Y;return[(Y=(B=b.current)==null?void 0:B.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:Sn(()=>{var B;return[(B=k==null?void 0:k.closest("body > *:not(#headlessui-portal-root)"))!=null?B:null]})});let L=UH.get(null);as(()=>{if($)return L.actions.push(r),()=>L.actions.pop(r)},[L,r,$]);let R=qH(L,m.useCallback(B=>L.selectors.isTop(B,r),[L,r]));w3e(R,A,B=>{B.preventDefault(),N()}),Z3e(R,y==null?void 0:y.defaultView,B=>{B.preventDefault(),B.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),N()}),P3e(u||I?!1:$,y,A),u3e($,b,N);let[F,T]=F5e(),O=m.useMemo(()=>[{dialogState:v,close:N,setTitleId:C,unmount:d},j],[v,j,N,C,d]),_=m.useMemo(()=>({open:v===0}),[v]),W={ref:x,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":j.titleId,"aria-describedby":F,unmount:d},z=!J3e(),U=Lu.None;$&&!u&&(U|=Lu.RestoreFocus,U|=Lu.TabLock,c&&(U|=Lu.AutoFocus),z&&(U|=Lu.InitialFocus));let H=Xa();return Z.createElement(R3e,null,Z.createElement(vM,{force:!0},Z.createElement(X3e,null,Z.createElement(J$.Provider,{value:O},Z.createElement(nq,{target:b},Z.createElement(vM,{force:!1},Z.createElement(T,{slot:_},Z.createElement(E,null,Z.createElement(sCe,{initialFocus:o,initialFocusFallback:b,containers:A,features:U},Z.createElement(U5e,{value:N},H({ourProps:W,theirProps:f,slot:_,defaultTag:yCe,features:vCe,visible:v===0,name:"Dialog"})))))))))))}),yCe="div",vCe=sv.RenderStrategy|sv.Static;function wCe(e,t){let{transition:n=!1,open:r,...s}=e,a=iw(),o=e.hasOwnProperty("open")||a!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?Z.createElement(wM,null,Z.createElement(Up,{show:r,transition:n,unmount:s.unmount},Z.createElement(SM,{ref:t,...s}))):Z.createElement(wM,null,Z.createElement(SM,{ref:t,open:r,...s}))}let SCe="div";function jCe(e,t){let n=m.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...a}=e,[{dialogState:o,unmount:l},c]=uw("Dialog.Panel"),u=io(t,c.panelRef),d=m.useMemo(()=>({open:o===0}),[o]),f=Sn(y=>{y.stopPropagation()}),h={ref:u,id:r,onClick:f},p=s?Sg:m.Fragment,b=s?{unmount:l}:{},x=Xa();return Z.createElement(p,{...b},x({ourProps:h,theirProps:a,slot:d,defaultTag:SCe,name:"Dialog.Panel"}))}let CCe="div";function NCe(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:a}]=uw("Dialog.Backdrop"),o=m.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},c=n?Sg:m.Fragment,u=n?{unmount:a}:{},d=Xa();return Z.createElement(c,{...u},d({ourProps:l,theirProps:r,slot:o,defaultTag:CCe,name:"Dialog.Backdrop"}))}let $Ce="h2";function ECe(e,t){let n=m.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:a,setTitleId:o}]=uw("Dialog.Title"),l=io(t);m.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=m.useMemo(()=>({open:a===0}),[a]),u={ref:l,id:r};return Xa()({ourProps:u,theirProps:s,slot:c,defaultTag:$Ce,name:"Dialog.Title"})}let ACe=qs(wCe),fq=qs(jCe);qs(NCe);let hq=qs(ECe),py=Object.assign(ACe,{Panel:fq,Title:hq,Description:V5e});const Q$=({photo:e,isOpen:t,onClose:n,onNext:r,onPrev:s,canNext:a,canPrev:o})=>{if(!e)return null;const l=()=>{const c=document.createElement("a");c.href=Jje(e.fileId),c.download=e.fileName||"gallery-image",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return i.jsx(Up,{show:t,as:Z.Fragment,children:i.jsxs(py,{as:"div",className:"relative z-50",onClose:n,children:[i.jsx(Sg,{as:Z.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black/75 backdrop-blur-sm"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:i.jsx(Sg,{as:Z.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsxs(fq,{className:"w-full max-w-4xl transform overflow-hidden rounded-lg bg-neutral-800 p-2 text-left align-middle shadow-xl transition-all",children:[i.jsxs(hq,{as:"h3",className:"text-lg font-medium leading-6 text-gray-100 p-2 flex justify-between items-center",children:[i.jsx("span",{children:e.caption||e.fileName}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"flat",className:"text-white hover:bg-neutral-700",onPress:l,"aria-label":"Download photo",children:i.jsx(E$,{className:"h-5 w-5"})}),i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"flat",className:"text-white hover:bg-neutral-700",onPress:n,"aria-label":"Close full screen view",children:i.jsx(ng,{className:"h-6 w-6"})})]})]}),i.jsxs("div",{className:"mt-2 relative aspect-video flex items-center justify-center",children:[i.jsx("img",{src:e.fullUrl||"",alt:e.caption||e.fileName,className:"max-h-[80vh] max-w-full object-contain"}),s&&o&&i.jsx(Se,{isIconOnly:!0,variant:"flat",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-2 rounded-full",onPress:s,"aria-label":"Previous photo",children:i.jsx(Qwe,{className:"h-8 w-8"})}),r&&a&&i.jsx(Se,{isIconOnly:!0,variant:"flat",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/60 text-white p-2 rounded-full",onPress:r,"aria-label":"Next photo",children:i.jsx(t2e,{className:"h-8 w-8"})})]})]})})})})]})})},PCe=()=>{let e=document.getElementById("popover-portal-root");return e||(e=document.createElement("div"),e.setAttribute("id","popover-portal-root"),document.body.appendChild(e)),e},Qi=({isOpen:e,onClose:t,onConfirm:n,title:r,content:s,className:a="",isConfirmLoading:o=!1})=>{if(m.useEffect(()=>{const c=u=>{u.key==="Escape"&&e&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),!e)return null;const l=i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:t,children:i.jsxs("div",{className:`bg-white/90 rounded-lg shadow-xl w-full max-w-md p-5 md:p-6 relative overflow-hidden ${a}`,onClick:c=>c.stopPropagation(),children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[typeof r=="string"&&r.toLowerCase().includes("delete")&&i.jsx(cs,{className:"h-5 w-5 text-red-500 inline"}),r]}),i.jsx("div",{className:"mb-5 text-medium text-gray-600",children:s}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-4",children:[i.jsx(Se,{color:"default",variant:"flat",size:"md",onPress:t,className:"text-gray-700 w-full sm:w-auto",isDisabled:o,children:"Cancel"}),i.jsx(Se,{color:"danger",size:"md",onPress:n,className:"w-full sm:w-auto",isLoading:o,isDisabled:o,children:o?"Confirming...":"Confirm"})]})]})});return c0.createPortal(l,PCe())},mq=()=>{const{groups:e,photosByGroup:t,selectedFullScreenPhoto:n,isLoadingGroups:r,isLoadingPhotos:s,isDeleting:a,error:o,fetchGalleryGroups:l,fetchPhotosForGroup:c,deleteGalleryGroup:u,deletePhotoFromGroup:d,setFullScreenPhoto:f,clearError:h}=SH(),[p,b]=m.useState(!1),[x,y]=m.useState(null),[v,j]=m.useState(null),[S,N]=m.useState(!1),[C,$]=m.useState(null),[P,E]=m.useState(!1),[M,k]=m.useState(null),[A,I]=m.useState("");m.useEffect(()=>{l(A)},[l,A]),m.useEffect(()=>{o&&(Ke.error(o),h())},[o,h]);const L=()=>{y(null),b(!0)},R=Q=>{y(Q),b(!0)},F=()=>{b(!1),y(null)},T=(Q,K)=>{$({id:Q,title:K}),N(!0)},O=async()=>{C&&(await u(C.id),Ke.success(`Group "${C.title}" deleted.`),N(!1),$(null),(v==null?void 0:v.$id)===C.id&&j(null))},_=(Q,K,ne)=>{k({photoId:Q,fileId:K,groupId:ne}),E(!0)},W=async()=>{M&&(await d(M.photoId,M.fileId,M.groupId),Ke.success("Photo deleted."),E(!1),k(null))},z=Q=>{j(Q),(!t[Q.$id]||t[Q.$id].length===0)&&c(Q.$id)},U=v?t[v.$id]||[]:[],H=n?U.findIndex(Q=>Q.$id===n.$id):-1,B=()=>{H>-1&&H<U.length-1&&f(U[H+1])},Y=()=>{H>0&&f(U[H-1])},ae=m.useCallback(oe(Q=>l(Q),300),[l]),ce=Q=>{I(Q),ae(Q)};function oe(Q,K){let ne=null;return(...te)=>new Promise(X=>{ne&&clearTimeout(ne),ne=setTimeout(()=>X(Q(...te)),K)})}return i.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Photo Gallery Management"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Bn,{placeholder:"Search groups...",value:A,onValueChange:ce,className:"w-full sm:w-64"}),i.jsx(Se,{color:"primary",onPress:L,startContent:i.jsx(ch,{className:"h-5 w-5"}),children:"New Group"})]})]}),r&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading gallery groups..."}),!r&&e.length===0&&!A&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No gallery groups found. Create one to get started!"}),!r&&e.length===0&&A&&i.jsxs("p",{className:"text-center text-gray-500 py-8",children:['No gallery groups found for "',A,'".']}),e.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:e.map(Q=>i.jsx(Qje,{group:Q,onEdit:R,onDelete:T,onViewPhotos:z,isDeleting:a&&(C==null?void 0:C.id)===Q.$id},Q.$id))}),v&&i.jsxs("section",{className:"mt-10 p-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Photos in: ",v.title]}),i.jsx(Se,{variant:"ghost",onPress:()=>j(null),className:"text-sm",children:"Close Group View"})]}),s[v.$id]&&i.jsx("p",{className:"text-center text-gray-500 py-4",children:"Loading photos..."}),!s[v.$id]&&U.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-4",children:"No photos in this group yet."}),!s[v.$id]&&U.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:U.map(Q=>i.jsx(q$,{photo:Q,onView:f,onDelete:(K,ne)=>_(K,ne,v.$id),isDeleting:a&&(M==null?void 0:M.photoId)===Q.$id},Q.$id))})]}),i.jsx(We,{isOpen:p,onClose:F,position:"right",size:"lg",title:x?"Edit Gallery Group":"Add New Gallery Group",children:i.jsx(We.Body,{children:i.jsx(S5e,{groupToEdit:x,onClose:F})})}),i.jsx(Qi,{isOpen:S,onClose:()=>N(!1),onConfirm:O,title:"Delete Gallery Group",content:`Are you sure you want to delete the group "${C==null?void 0:C.title}" and all its photos? This action cannot be undone.`,isConfirmLoading:a}),i.jsx(Qi,{isOpen:P,onClose:()=>E(!1),onConfirm:W,title:"Delete Photo",content:"Are you sure you want to delete this photo? This action cannot be undone.",isConfirmLoading:a}),n&&i.jsx(Q$,{isOpen:!!n,photo:n,onClose:()=>f(null),onNext:H<U.length-1?B:void 0,onPrev:H>0?Y:void 0,canNext:H<U.length-1,canPrev:H>0})]})},DCe=()=>et.getState().dbId,kCe=DCe,ICe="https://back.soraddynamics.com",Oo=kCe,Ax="coll-drivers";Oo||console.error("FATAL ERROR: VITE_APPWRITE_DATABASE_ID is not defined in .env");const Px=`${ICe}/api/users/auth`,TCe=()=>(console.warn("SECURITY WARNING: Using insecure temporary password generation!"),`TempPass_${Math.random().toString(36).slice(-8)}`),eE=Gt((e,t)=>({driverData:[],isLoading:!1,isFetching:!1,error:null,fetchDriversData:async()=>{if(!Oo){e({isFetching:!1,error:"Appwrite Database/Collection ID missing in config."});return}e({isFetching:!0,error:null});try{const r=(await le.listDocuments(Oo,Ax)).documents;e({driverData:r,isFetching:!1})}catch(n){console.error("Error fetching drivers data:",n);const r=n.message||"Failed to fetch drivers data";e({error:r,isFetching:!1})}},updateDriverData:async n=>{if(!Oo)throw e({isLoading:!1,error:"Appwrite Database/Collection ID missing in config."}),new Error("Appwrite Database/Collection ID missing in config.");e({isLoading:!0,error:null});try{const r={driverName:n.driverName,route:n.route,email:n.email},a=await le.updateDocument(Oo,Ax,n.$id,r);e(o=>({driverData:o.driverData.map(l=>l.$id===a.$id?a:l),isLoading:!1}))}catch(r){console.error("Error updating driver document:",r);const s=r.message||"Failed to update driver document";throw e({error:s,isLoading:!1}),r}},deleteDriverData:async n=>{if(!Oo){const s="URL/Database/Collection ID missing in config for deletion.";throw e({isLoading:!1,error:s}),new Error(s)}e({isLoading:!0,error:null});let r=null;try{const s=t().driverData.find(a=>a.$id===n);if(s?r=s.authUserId:console.warn(`Driver document ${n} not found in local state for auth ID lookup.`),r)try{const a=await fetch(`${Px}/${r}`,{method:"DELETE"}),o=await a.json();(!a.ok||!o.success)&&console.warn(`Backend failed to delete auth user ${r}: ${o.message||a.statusText}`)}catch(a){console.warn(`Network or other error deleting auth user ${r} via backend:`,a)}await le.deleteDocument(Oo,Ax,n),e(a=>({driverData:a.driverData.filter(o=>o.$id!==n),isLoading:!1}))}catch(s){console.error("Error during driver deletion process (likely DB delete):",s);const a=s.message||"Failed to delete driver document";throw e({error:a,isLoading:!1}),s}},addDriverData:async n=>{if(!Oo||!Px)return e({isLoading:!1,error:"URL/Database/Collection ID or Auth API URL missing in config for adding driver."}),null;e({isLoading:!0,error:null});let r=null;const s=pR();try{const a=TCe(),o={email:n.email,password:a,name:n.driverName,labels:["driver"],domain:s},l=await fetch(`${Px}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),c=await l.json();if(!l.ok||!c.success||!c.userId)throw new Error(`Auth user creation failed: ${c.message||`HTTP ${l.status}`}`);r=c.userId;const u={driverName:n.driverName,route:n.route,email:n.email,driverId:dn.unique(),authUserId:r},f=await le.createDocument(Oo,Ax,dn.unique(),u);return e(h=>({driverData:[...h.driverData,f],isLoading:!1})),f}catch(a){if(console.error("Error during driver creation process:",a),r&&a.message&&!a.message.includes("Auth user creation failed")){console.warn(`Database document creation failed after auth user ${r} was created. Attempting rollback of auth user.`);try{const l=await fetch(`${Px}/user/${r}`,{method:"DELETE"}),c=await l.json();l.ok&&c.success||console.error(`FAILED TO ROLLBACK auth user ${r}: ${c.message||`HTTP ${l.status}`}`)}catch(l){console.error(`Network or other error during auth user ${r} rollback:`,l)}}const o=a.message||"Failed to add driver";return e({error:o,isLoading:!1}),null}}})),MCe=({driverData:e,isLoading:t,onDriverSelect:n,onClearSelection:r})=>{const{updateDriverData:s,deleteDriverData:a}=eE(),{isOpen:o,onOpen:l,onClose:c}=Ei(),[u,d]=m.useState(null),[f,h]=m.useState(""),[p,b]=m.useState(""),[x,y]=m.useState(""),[v,j]=m.useState(new Set([])),[S,N]=m.useState(null),[C,$]=m.useState(null),[P,E]=m.useState(!1),M=T=>{d(T),h(T.driverName),b(T.route),y(T.email),N(null),l()},k=async()=>{if(!u)return;if(N(null),!f.trim()){N("Driver Name is required.");return}if(!p.trim()){N("Route is required.");return}if(!x.trim()||!x.includes("@")){N("A valid Email is required.");return}const T={...u,driverName:f.trim(),route:p.trim(),email:x.trim()};try{await s(T),c(),j(new Set([])),n(null)}catch(O){console.error("TransportTable: Error updating driver data:",O),N(O.message||"Failed to update driver.")}},A=T=>{$(T),E(!0)},I=()=>{E(!1),$(null)},L=async()=>{if(C)try{await a(C.$id),E(!1),$(null),j(new Set([])),n(null)}catch(T){console.error("TransportTable: Error deleting driver data:",T),alert(`Error deleting driver: ${T.message||"Unknown error"}`),E(!1),$(null)}},R=T=>{let O=new Set;if(T==="all"||T instanceof Set&&(O=T),j(O),O.size>0){const _=Array.from(O)[0],W=e.find(z=>z.$id===_);n(W||null)}else n(null)},F=m.useCallback(()=>{j(new Set([]))},[]);return m.useEffect(()=>{r&&r(F)},[r,F]),t&&e.length===0?i.jsx("div",{className:"h-52 flex items-center justify-center",children:i.jsx(ct,{size:"lg",label:"Loading Drivers..."})}):i.jsxs("div",{className:"mt-4 flow-root md:px-0 lg:px-8",children:[i.jsx("div",{className:"-my-2 overflow-x-auto lg:-mx-8",children:i.jsx("div",{className:"inline-block min-w-full pt-2 align-middle",children:i.jsxs(ah,{isHeaderSticky:!0,isCompact:!0,"aria-label":"Drivers Table",selectionMode:"single",selectedKeys:v,onSelectionChange:R,color:"secondary",className:"min-w-full divide-y divide-gray-300",children:[i.jsxs(ih,{children:[i.jsx(wn,{children:"Name"},"driverName"),i.jsx(wn,{children:"Route"},"route"),i.jsx(wn,{children:"Email"},"email"),i.jsx(wn,{align:"center",children:"Actions"},"actions")]}),i.jsx(oh,{items:e,isLoading:t,loadingContent:i.jsx(ct,{label:"Loading..."}),emptyContent:e.length===0&&!t?i.jsx("div",{className:" text-gray-500 p-5 text-center text-medium",children:" No Data Found"}):null,children:T=>i.jsxs(Ic,{children:[i.jsx(Xt,{children:T.driverName}),i.jsx(Xt,{children:T.route}),i.jsx(Xt,{children:T.email}),i.jsxs(Xt,{className:"flex justify-center gap-2",children:[i.jsx(Vs,{content:"Edit",showArrow:!0,color:"warning",placement:"top",className:"bg-warning-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",onPress:()=>M(T),"aria-label":"Edit Driver",children:i.jsx(qc,{className:"h-4 w-4 text-orange-500"})})}),i.jsx(Vs,{content:"Delete",showArrow:!0,color:"danger",placement:"top",className:"bg-danger-500 text-white rounded-md shadow-md",children:i.jsx(Se,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>A(T),"aria-label":"Delete Driver",children:i.jsx(yl,{className:"h-4 w-4 text-red-500"})})})]})]},T.$id)})]})})}),i.jsx(vl,{isOpen:P,onClose:I,onConfirm:L,title:"Confirm Delete",content:C?`Are you sure you want to delete driver: ${C.driverName}?`:""}),i.jsxs(We,{isOpen:o,onClose:c,position:"right",size:"md",nonDismissable:!0,children:[i.jsx(We.Header,{showCloseButton:!0,children:"Edit Driver"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[S&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsxs("span",{className:"block sm:inline",children:[" ",S]}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Ve,{id:"edit-driver-name",type:"text",color:"secondary",label:"Driver Name",variant:"underlined",value:f,className:"font-medium",isRequired:!0,onChange:T=>{h(T.target.value),N(null)}}),i.jsx(Ve,{id:"edit-driver-route",type:"text",color:"secondary",label:"Route",variant:"underlined",value:p,className:"font-medium",isRequired:!0,onChange:T=>{b(T.target.value),N(null)}}),i.jsx(Ve,{id:"edit-driver-email",type:"email",color:"secondary",label:"Email",variant:"underlined",value:x,className:"font-medium",isRequired:!0,isDisabled:!0,onChange:T=>{y(T.target.value),N(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:c,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:k,className:"text-white font-medium",children:"Save Changes"})]})]})]})},jM=({isMobile:e,onDriverSelect:t,driverData:n,isLoading:r})=>{const{addDriverData:s,fetchDriversData:a,error:o}=eE(),[l,c]=m.useState(""),u=I=>{c(I)},{isOpen:d,onOpen:f,onClose:h}=Ei(),[p,b]=m.useState(""),[x,y]=m.useState(""),[v,j]=m.useState(""),[S,N]=m.useState(null),[C,$]=m.useState(null),P=()=>{b(""),y(""),j(""),N(null),f()},E=()=>{a()},M=async()=>{if(N(null),!p.trim()){N("Driver Name is required.");return}if(!x.trim()){N("Route is required.");return}if(!v.trim()||!v.includes("@")){N("A valid Email is required.");return}const I={driverName:p.trim(),route:x.trim(),email:v.trim()};try{await s(I),h()}catch(L){console.error("Error adding driver data:",L),N(L.message||"Failed to add driver.")}},k=l?n.filter(I=>I.driverName.toLowerCase().includes(l.toLowerCase())||I.route.toLowerCase().includes(l.toLowerCase())||I.email.toLowerCase().includes(l.toLowerCase())):n,A=o||S;return i.jsxs("div",{className:" md:w-full w-full md:p-2 ",children:[A&&!d&&i.jsx(Dd,{message:A})," ",i.jsxs("div",{className:"flex justify-between items-center gap-4 mt-1 mx-3 md:px-0",children:[i.jsx(st,{icon:i.jsx(Oc,{className:"w-4 h-4 text-gray-100 transition duration-200"}),onClick:P,color:"orange","aria-label":"Add Driver"}),i.jsx(Bn,{placeholder:"Search drivers by name, route, email...",value:l,onValueChange:u}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:E,"aria-label":"Refresh Driver List"})]}),i.jsx(MCe,{driverData:k,isLoading:r,onDriverSelect:t,onClearSelection:I=>$(()=>I)}),i.jsxs(We,{isOpen:d,onClose:h,position:"right",nonDismissable:!0,size:"md",children:[i.jsx(We.Header,{showCloseButton:!0,children:"Add New Driver"}),i.jsx(We.Body,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[S&&i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsxs("span",{className:"block sm:inline",children:[" ",S]}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(cs,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.jsx(Ve,{id:"add-driver-name",type:"text",label:"Driver Name",variant:"underlined",value:p,isRequired:!0,color:"secondary",className:"font-medium",onChange:I=>{b(I.target.value),N(null)}}),i.jsx(Ve,{id:"add-driver-route",type:"text",label:"Route",variant:"underlined",value:x,isRequired:!0,color:"secondary",className:"font-medium",onChange:I=>{y(I.target.value),N(null)}}),i.jsx(Ve,{id:"add-driver-email",type:"email",label:"Email",variant:"underlined",value:v,isRequired:!0,color:"secondary",className:"font-medium",onChange:I=>{j(I.target.value),N(null)}})]})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"danger",variant:"light",onPress:h,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:M,className:"text-white font-medium",children:"Save Driver"})]})]})]})},Aj=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"Invalid Date"}},cf=({icon:e,label:t,value:n})=>{const r=n!=null&&n!==""?n:i.jsx("span",{className:"text-gray-500 italic",children:"N/A"});return i.jsxs("div",{className:"flex items-start space-x-2 py-2",children:[e&&i.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-gray-500 mt-0.5",children:e}),i.jsxs("div",{className:"flex-1",children:[i.jsx("dt",{className:"text-sm font-medium text-gray-600",children:t}),i.jsx("dd",{className:"mt-1 text-sm text-gray-900 break-words",children:r})]})]})},CM=({driver:e,onBack:t})=>e?i.jsxs("div",{className:"p-4 md:p-6 flex flex-col h-full space-y-6 bg-gray-100 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 leading-tight",children:"Driver Details"}),t&&i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",size:"sm",children:"Back to List"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2 border-b border-gray-100 pb-1",children:e.driverName}),i.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx(cf,{icon:i.jsx(C2e,{className:"w-5 h-5"}),label:"Route",value:e.route}),i.jsx(cf,{icon:i.jsx(k0,{className:"w-5 h-5"}),label:"Email",value:e.email})]})]}),(e.latitude||e.longitude||e.timestamp)&&i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h3",{className:"text-base font-medium text-gray-700 mb-2",children:"Location Information"}),i.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx(cf,{icon:i.jsx(S2e,{className:"w-5 h-5"}),label:"Last Known Coordinates",value:e.latitude&&e.longitude?`${e.latitude}, ${e.longitude}`:void 0}),i.jsx(cf,{icon:i.jsx(ma,{className:"w-5 h-5"}),label:"Location Timestamp",value:Aj(e.timestamp)})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsx("h3",{className:"text-base font-medium text-gray-700 mb-2",children:"System Information"}),i.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1",children:[i.jsx(cf,{icon:i.jsx(er,{className:"w-5 h-5"}),label:"Record Created",value:Aj(e.$createdAt)}),i.jsx(cf,{icon:i.jsx(ma,{className:"w-5 h-5"}),label:"Record Last Updated",value:Aj(e.$updatedAt)})]})]})]}):i.jsx("div",{className:"p-6 flex items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-500 italic",children:"No driver selected."})}),pq=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState(!1),{driverData:o,fetchDriversData:l,isLoading:c,isTransportLoading:u}=eE();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const h=()=>{t(window.innerWidth<768)};return h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}},[]);const d=h=>{r(h),a(e?!!h:!1)},f=()=>{a(!1),r(null)};return i.jsx("div",{className:"flex flex-1 w-full h-full ",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(CM,{driver:n,onBack:f})})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden",children:i.jsx(jM,{isMobile:e,onDriverSelect:d,driverData:o,isLoading:u})}):i.jsxs("div",{className:"flex w-full gap-3",children:[i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(jM,{isMobile:e,onDriverSelect:d,driverData:o,isLoading:u})})}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:i.jsx($t,{options:{suppressScrollX:!0},children:n?i.jsx(CM,{driver:n}):i.jsx("div",{className:"p-6 rounded-md flex flex-col items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-600 text-lg italic",children:"Select a driver to view details."})})})})]})})},OCe=()=>et.getState().dbId,LCe=OCe,_Ce=({color:e="currentColor",size:t=24,className:n=""})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:e,stroke:"black",strokeWidth:"0.3",viewBox:"0 0 24 24",style:{width:t,height:t},className:n,children:i.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-4.28 0-7.75 3.47-7.75 7.75 0 6.21 7.17 11.27 7.48 11.47a.75.75 0 0 0 .54.03c.31-.1 7.48-5.26 7.48-11.5 0-4.28-3.47-7.75-7.75-7.75Zm0 10.5a2.75 2.75 0 1 1 0-5.5 2.75 2.75 0 0 1 0 5.5Z",clipRule:"evenodd"})});function FCe(e){let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t=t&t;return`hsl(${Math.abs(t)%360}, 70%, 50%)`}const RCe=m.lazy(()=>Cd(()=>import("./MapDisplay-Bnyed6WG.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,13]))),Pj=LCe,Dj="coll-drivers",oo=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[s,a]=m.useState("Initializing..."),[o,l]=m.useState({}),c=m.useRef(!0),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,b]=m.useState(null),[x,y]=m.useState(!0),v=m.useCallback(C=>{l($=>{let P=!1;const E={...$};return C.forEach(M=>{M.id&&!E[M.id]&&(E[M.id]=FCe(M.id),P=!0)}),P?E:$})},[]);m.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]),m.useEffect(()=>{(async()=>{try{const $=await ut.get();h($.email)}catch($){console.error("Failed to get student account:",$),r(`Could not get student identity: ${$.message||"Please ensure you are logged in."}`),a("Error")}})()},[]),m.useEffect(()=>{let C=null;const $=E=>{const M=parseFloat(E.latitude),k=parseFloat(E.longitude);return isNaN(M)||isNaN(k)?(console.warn(`(Student View) Invalid coordinates in DB doc ${E.$id}. Skipping.`),null):{id:E.$id,latitude:M,longitude:k,driverName:E.driverName,timestamp:E.timestamp,route:E.route,email:E.email}};return(async()=>{if(c.current){a("Fetching driver locations..."),r(null);try{const E=await le.listDocuments(Pj,Dj);if(!c.current)return;const M=E.documents.map($).filter(A=>A!==null);t(M),v(M);const k=E.documents.find(A=>A.email===f);k&&b(k.$id),a("Locations loaded. Subscribing..."),C=e4.subscribe(`databases.${Pj}.collections.${Dj}.documents`,A=>{if(!c.current)return;const I=A.payload,L=I.$id,R=A.events[0];let F=null;(R.includes(".create")||R.includes(".update"))&&(F=$(I)),t(T=>{let O=T;if(R.includes(".delete"))O=T.filter(_=>_.id!==L);else if(F){const _=T.findIndex(W=>W.id===L);_>-1?(O=[...T],O[_]=F):O=[...T,F]}return O}),v([F]),I.email===f&&b(I.$id)}),a("Live updates enabled.")}catch(E){console.error("(Student View) Error fetching initial locations or subscribing:",E),c.current&&(r(`Load/Subscribe Error: ${E.message}`),a("Error"))}}})(),()=>{C&&C()}},[Pj,Dj,v,f]);const j=()=>i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-200 animate-pulse",children:i.jsx("p",{className:"text-gray-500",children:"Loading Map..."})}),S=m.useMemo(()=>[...e].sort((C,$)=>(C.driverName||"").localeCompare($.driverName||"")),[e]),N=x?"h-84":"h-24";return i.jsxs("div",{className:"flex flex-col md:flex-row h-full bg-gray-100",children:[i.jsxs("div",{className:`
                w-full md:w-72 lg:w-80  bg-gray-50 border-r border-gray-200 flex-shrink-0 shadow-md md:shadow-none
                transition-height duration-300 ease-in-out overflow-hidden sm:pr-2
                ${N} /* Set the height dynamically */
            `,children:[i.jsxs("div",{className:"p-3 bg-green-100 border border-green-200 shadow-sm mb-4 rounded-md flex items-center justify-between",children:["  ",i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Student View"}),f&&i.jsxs("p",{className:"text-xs text-gray-600 break-words",children:["Student Email: ",f]}),p&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Student Location Id: ",i.jsx("span",{className:"font-mono text-xs",children:p})]}),i.jsxs("p",{className:"text-sm mt-1",children:["Status: ",i.jsx("span",{className:`font-semibold ${n||s.includes("Error")?"text-red-600":s.includes("enabled")?"text-green-600":"text-blue-600"}`,children:s})]}),n&&i.jsxs("p",{className:"text-red-700 bg-red-100 p-2 rounded text-xs mt-2 border border-red-200",children:["Error: ",n]})]}),i.jsx("button",{className:"p-2 rounded-full sm:hidden hover:bg-gray-300 focus:outline-none",onClick:()=>y(!x),"aria-label":x?"Collapse Driver List":"Expand Driver List",children:x?i.jsx(uB,{className:"text-gray-700"}):i.jsx(cB,{className:"text-gray-700"})})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[i.jsx("h3",{className:"text-md font-semibold p-3 bg-gray-100 border-b border-gray-200",children:"Active Drivers"}),S.length===0?i.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No drivers currently available."}):i.jsx("ul",{className:"divide-y divide-gray-200 max-h-[calc(100vh-220px)] overflow-y-auto",children:S.map(C=>i.jsxs("li",{className:"p-3 flex items-center space-x-3 transition-colors duration-150 ease-in-out hover:bg-gray-50 cursor-pointer",onClick:()=>d(C.id),children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(_Ce,{color:o[C.id]||"gray",size:30})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-900 truncate",title:C.driverName,children:C.driverName||`Driver ${C.id.substring(0,6)}`}),C.route&&i.jsxs("p",{className:"text-xs text-gray-500 truncate",title:`Route: ${C.route}`,children:["Route: ",C.route]})]})]},C.id))})]})]}),i.jsx("div",{className:"flex-grow bg-gray-300 relative mt-3",children:i.jsx(m.Suspense,{fallback:i.jsx(j,{}),children:i.jsx(RCe,{locations:e,colors:o,currentDriverId:u??p??void 0,fitBounds:!0})})})]})};function Za(e){return xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 0 0-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},child:[]}]})(e)}function Yc(e){return xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(e)}function Ja(e){return xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M5 20V4h2v7l2.5-1.5L12 11V4h5v7.08c.33-.05.66-.08 1-.08s.67.03 1 .08V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h7.26c-.42-.6-.75-1.28-.97-2H5zm13-7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm-1.25 7.5v-5l4 2.5-4 2.5z"},child:[]}]})(e)}function Xc(e){return xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9.5-2H18v-2h-5.5zm3.86-5.87c.2-.2.2-.51 0-.71l-1.77-1.77c-.2-.2-.51-.2-.71 0L6 11.53V14h2.47l5.89-5.87z"},child:[]}]})(e)}const BCe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let wc=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=BCe[n[e]&63];return t};const zCe=()=>et.getState().dbId,zl=zCe,kj={facultyId:null,classId:null,sectionId:null,desc:[]},gq=Gt((e,t)=>({faculties:[],sections:[],teachers:[],routines:[],facultyOptions:[],classOptionsFilter:[],classOptionsForm:[],sectionOptionsForm:[],subjectOptionsForm:[],teacherOptions:[],filteredRoutines:[],isLoading:!1,isFormLoading:!1,isDrawerOpen:!1,drawerMode:"add",currentRoutineForEdit:null,routineFormData:kj,selectedFacultyFilter:null,selectedClassFilter:null,searchTerm:"",isDeleteDialogOpen:!1,routineToDelete:null,isDeleting:!1,fetchInitialData:async()=>{e({isLoading:!0}),await t().fetchFaculties(),await t().fetchSections(),await t().fetchTeachers(),await t().fetchRoutines(),e({isLoading:!1})},fetchFaculties:async()=>{try{const r=(await le.listDocuments(zl,tr,[J.limit(100)])).documents;e({faculties:r,facultyOptions:r.map(a=>({id:a.$id,name:a.name}))});const s=new Set;r.forEach(a=>a.classes.forEach(o=>s.add(o))),e({classOptionsFilter:Array.from(s).map(a=>({id:a,name:a}))})}catch(n){console.error("Error fetching faculties:",n)}},fetchSections:async()=>{try{const n=await le.listDocuments(zl,Qt,[J.limit(500)]);e({sections:n.documents})}catch(n){console.error("Error fetching sections:",n)}},fetchTeachers:async()=>{try{const r=(await le.listDocuments(zl,Ga,[J.limit(100)])).documents;e({teachers:r,teacherOptions:r.map(s=>({id:s.$id,name:s.name}))})}catch(n){console.error("Error fetching teachers:",n)}},fetchRoutines:async()=>{e({isLoading:!0});try{const n=[J.orderDesc("$createdAt")],s=(await le.listDocuments(zl,ec,n)).documents.map(a=>{const o=a.desc||[];let l=[];try{l=o.map(c=>({...JSON.parse(c),id:wc()}))}catch(c){console.error("Failed to parse 'desc' item string for routine:",a.$id,"Raw desc array from DB:",o,c)}return{...a,faculty:a.faculty,class:a.class,section:a.section,desc:l}});e({routines:s}),t().applyFiltersAndSearch()}catch(n){console.error("Error fetching routines:",n)}finally{e({isLoading:!1})}},_enrichRoutines:n=>{const{faculties:r,sections:s,teachers:a}=t();return n.map(o=>{const l=r.find(u=>u.$id===o.faculty),c=s.find(u=>u.$id===o.section);return{...o,facultyName:(l==null?void 0:l.name)||"N/A",sectionName:(c==null?void 0:c.name)||"N/A",descDisplay:o.desc.map(u=>{if(u.type==="period"){const d=a.find(f=>f.$id===u.teacherId);return{...u,teacherName:(d==null?void 0:d.name)||"N/A"}}return u})}})},applyFiltersAndSearch:()=>{const{routines:n,selectedFacultyFilter:r,selectedClassFilter:s,searchTerm:a}=t();let o=t()._enrichRoutines(n);if(r&&(o=o.filter(l=>l.faculty===r)),s&&(o=o.filter(l=>l.class===s)),a){const l=a.toLowerCase();o=o.filter(c=>{var u,d,f;return((u=c.facultyName)==null?void 0:u.toLowerCase().includes(l))||((d=c.sectionName)==null?void 0:d.toLowerCase().includes(l))||c.class.toLowerCase().includes(l)||((f=c.descDisplay)==null?void 0:f.some(h=>{var p;return h.type==="period"&&(h.subject.toLowerCase().includes(l)||((p=h.teacherName)==null?void 0:p.toLowerCase().includes(l)))||h.type==="break"&&h.name.toLowerCase().includes(l)}))})}e({filteredRoutines:o})},setFacultyFilter:n=>{e({selectedFacultyFilter:n});const{faculties:r}=t();if(n){const s=r.find(a=>a.$id===n);s&&e({classOptionsFilter:s.classes.map(a=>({id:a,name:a})),selectedClassFilter:null})}else{const s=new Set;r.forEach(a=>a.classes.forEach(o=>s.add(o))),e({classOptionsFilter:Array.from(s).map(a=>({id:a,name:a})),selectedClassFilter:null})}t().applyFiltersAndSearch()},setClassFilter:n=>{e({selectedClassFilter:n}),t().applyFiltersAndSearch()},setSearchTerm:n=>{e({searchTerm:n}),t().applyFiltersAndSearch()},openDrawer:(n,r)=>{e({drawerMode:n,isDrawerOpen:!0,currentRoutineForEdit:r||null,subjectOptionsForm:[]}),n==="add"?(e({routineFormData:{...kj,desc:[]}}),t().loadClassesForForm(null),t().loadSectionsForForm(null,null)):n==="edit"&&r&&(e({routineFormData:{facultyId:r.faculty,classId:r.class,sectionId:r.section,desc:JSON.parse(JSON.stringify(r.desc))}}),t().loadClassesForForm(r.faculty),t().loadSectionsForForm(r.faculty,r.class),t().loadSubjectsForForm(r.section))},closeDrawer:()=>e({isDrawerOpen:!1,currentRoutineForEdit:null,routineFormData:kj}),updateFormField:(n,r)=>{e(s=>({routineFormData:{...s.routineFormData,[n]:r}})),n==="facultyId"&&(t().loadClassesForForm(r),e(s=>({routineFormData:{...s.routineFormData,classId:null,sectionId:null,desc:[]},subjectOptionsForm:[]})),t().loadSectionsForForm(r,null)),n==="classId"&&(t().loadSectionsForForm(t().routineFormData.facultyId,r),e(s=>({routineFormData:{...s.routineFormData,sectionId:null,desc:[]},subjectOptionsForm:[]}))),n==="sectionId"&&t().loadSubjectsForForm(r)},loadClassesForForm:n=>{if(!n){e({classOptionsForm:[]});return}const r=t().faculties.find(s=>s.$id===n);e({classOptionsForm:r?r.classes.map(s=>({id:s,name:s})):[]})},loadSectionsForForm:async(n,r)=>{if(!n||!r){e({sectionOptionsForm:[]});return}const s=t().sections,a=t().drawerMode==="add"?new Set(t().routines.map(l=>l.section)):new Set,o=s.filter(l=>l.facultyId===n&&l.class===r).filter(l=>{var c;return t().drawerMode==="edit"&&l.$id===((c=t().currentRoutineForEdit)==null?void 0:c.section)||!a.has(l.$id)}).map(l=>({id:l.$id,name:l.name}));e({sectionOptionsForm:o})},loadSubjectsForForm:n=>{if(!n){e({subjectOptionsForm:[]});return}const r=t().sections.find(s=>s.$id===n);e({subjectOptionsForm:r?r.subjects.map(s=>({id:s,name:s})):[]})},addDescItem:n=>{const r=n==="period"?{id:wc(),type:"period",fromTime:"",toTime:"",subject:"",teacherId:""}:{id:wc(),type:"break",fromTime:"",toTime:"",name:""};e(s=>({routineFormData:{...s.routineFormData,desc:[...s.routineFormData.desc,r]}}))},updateDescItem:(n,r)=>{e(s=>{const a=[...s.routineFormData.desc];return a[n]=r,{routineFormData:{...s.routineFormData,desc:a}}})},removeDescItem:n=>{e(r=>({routineFormData:{...r.routineFormData,desc:r.routineFormData.desc.filter((s,a)=>a!==n)}}))},moveDescItem:(n,r)=>{e(s=>{const a=[...s.routineFormData.desc],o=a[n];return r==="up"&&n>0?(a.splice(n,1),a.splice(n-1,0,o)):r==="down"&&n<a.length-1&&(a.splice(n,1),a.splice(n+1,0,o)),{routineFormData:{...s.routineFormData,desc:a}}})},saveRoutine:async()=>{const{drawerMode:n,routineFormData:r,currentRoutineForEdit:s}=t();if(!r.facultyId||!r.classId||!r.sectionId){alert("Faculty, Class, and Section are required.");return}for(const l of r.desc){if(!l.fromTime||!l.toTime){alert("All periods and breaks must have 'From' and 'To' times.");return}if(l.type==="period"&&(!l.subject||!l.teacherId)){alert("All periods must have a subject and a teacher.");return}if(l.type==="break"&&!l.name){alert("All breaks must have a name.");return}}e({isFormLoading:!0});const a=r.desc.map(l=>{const{id:c,...u}=l,d=JSON.stringify(u);return d.length>1500&&console.warn(`Routine item string for subject/break "${u.subject||u.name}" exceeds 1500 characters:`,d.length,u),d}),o={faculty:r.facultyId,class:r.classId,section:r.sectionId,desc:a};try{if(n==="add"){if((await le.listDocuments(zl,ec,[J.equal("section",r.sectionId)])).total>0){alert("A routine for this section already exists. Please edit the existing one."),e({isFormLoading:!1});return}await le.createDocument(zl,ec,QN.unique(),o)}else n==="edit"&&(s!=null&&s.$id)&&await le.updateDocument(zl,ec,s.$id,o);await t().fetchRoutines(),t().closeDrawer()}catch(l){console.error("Error saving routine:",l),alert("Failed to save routine. See console for details.")}finally{e({isFormLoading:!1})}},openDeleteDialog:n=>e({isDeleteDialogOpen:!0,routineToDelete:n}),closeDeleteDialog:()=>e({isDeleteDialogOpen:!1,routineToDelete:null,isDeleting:!1}),confirmDeleteRoutine:async()=>{const{routineToDelete:n}=t();if(n!=null&&n.$id){e({isDeleting:!0});try{await le.deleteDocument(zl,ec,n.$id),await t().fetchRoutines(),t().closeDeleteDialog()}catch(r){console.error("Error deleting routine:",r),alert("Failed to delete routine. See console for details.")}finally{e({isDeleting:!1})}}}})),VCe=({routine:e,onEdit:t,onDelete:n})=>i.jsxs(mt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsxs(Un,{className:"flex justify-between items-center p-4 bg-gray-50",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:e.sectionName}),i.jsxs("p",{className:"text text-gray-500",children:[e.facultyName," - Class ",e.class]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(st,{icon:i.jsx(qc,{className:"h-5 w-5"}),onClick:()=>t(e),color:"orange"}),i.jsx(st,{icon:i.jsx(yl,{className:"h-5 w-5"}),onClick:()=>n(e),color:"red"})]})]}),i.jsx(Ed,{}),i.jsx(yt,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:e.descDisplay&&e.descDisplay.length>0?e.descDisplay.map((r,s)=>i.jsx("div",{className:"p-3 border rounded-md bg-white",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:" flex gap-4",children:[i.jsxs("p",{className:"font-medium text-indigo-600 capitalize",children:[s+1,"."]}),r.type==="period"&&i.jsxs("div",{className:" text text-gray-600 space-y-0.5",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Subject:"})," ",r.subject]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",r.teacherName]})]}),r.type==="break"&&i.jsx("div",{className:" text font-semibold text-gray-600",children:i.jsxs("p",{children:[" ",r.name]})})]}),i.jsxs(Jt,{size:"md",variant:"flat",color:"default",className:"text",children:[r.fromTime," - ",r.toTime]})]})},r.id||s)):i.jsx("p",{className:"text-sm text-gray-500",children:"No periods or breaks defined for this routine."})})]}),WCe=()=>{const{drawerMode:e,routineFormData:t,updateFormField:n,facultyOptions:r,classOptionsForm:s,sectionOptionsForm:a,subjectOptionsForm:o,teacherOptions:l,addDescItem:c,updateDescItem:u,removeDescItem:d,moveDescItem:f,isFormLoading:h,loadSubjectsForForm:p,loadClassesForForm:b,loadSectionsForForm:x}=gq(),y=e==="edit";m.useEffect(()=>{y&&t.facultyId&&b(t.facultyId),y&&t.facultyId&&t.classId&&x(t.facultyId,t.classId),y&&t.sectionId&&p(t.sectionId)},[y,t.facultyId,t.classId,t.sectionId,b,x,p]);const v=(j,S,N)=>{const C={...t.desc[j],[S]:N};u(j,C)};return i.jsxs("div",{className:"space-y-6 p-1",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-3",children:[i.jsx(dt,{label:"Faculty",options:r,value:t.facultyId,onChange:j=>n("facultyId",j),placeholder:"Select Faculty",disabled:y||h}),i.jsx(dt,{label:"Class",options:s,value:t.classId,onChange:j=>n("classId",j),placeholder:"Select Class",disabled:y||h||!t.facultyId}),i.jsx(dt,{label:"Section",options:a,value:t.sectionId,onChange:j=>n("sectionId",j),placeholder:"Select Section",disabled:y||h||!t.classId})]}),i.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mt-6 mb-3",children:"Periods & Breaks"}),i.jsx("div",{className:"space-y-4",children:t.desc.map((j,S)=>i.jsxs("div",{className:"p-4 border border-gray-300 rounded-md shadow-sm bg-gray-50/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("span",{className:"font-semibold text-gray-700 capitalize",children:[S+1,". ",j.type]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(st,{icon:i.jsx(sSe,{className:"h-4 w-4"}),onClick:()=>f(S,"up"),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(tSe,{className:"h-4 w-4"}),onClick:()=>f(S,"down"),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(yl,{className:"h-4 w-4"}),onClick:()=>d(S),color:"red",isIconOnly:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ve,{type:"time",label:"From Time",value:j.fromTime,onValueChange:N=>v(S,"fromTime",N),className:"w-full",labelPlacement:"outside",placeholder:"HH:MM"}),i.jsx(Ve,{type:"time",label:"To Time",value:j.toTime,onValueChange:N=>v(S,"toTime",N),className:"w-full",labelPlacement:"outside",placeholder:"HH:MM"})]}),j.type==="period"&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[i.jsx(dt,{label:"Subject",options:o,value:j.subject,onChange:N=>v(S,"subject",N),placeholder:"Select Subject",disabled:h||!t.sectionId||o.length===0}),i.jsx(dt,{label:"Teacher",options:l,value:j.teacherId,onChange:N=>v(S,"teacherId",N),placeholder:"Select Teacher",disabled:h})]}),j.type==="break"&&i.jsx("div",{className:"mt-4",children:i.jsx(Ve,{label:"Break Name",value:j.name,onValueChange:N=>v(S,"name",N),placeholder:"e.g., Lunch Break",className:"w-full",labelPlacement:"outside"})})]},j.id))}),i.jsxs("div",{className:"flex space-x-2 mt-6",children:[i.jsx(Se,{color:"primary",variant:"ghost",onClick:()=>c("period"),startContent:i.jsx(ch,{className:"h-5 w-5"}),children:"Add Period"}),i.jsx(Se,{color:"secondary",variant:"ghost",onClick:()=>c("break"),startContent:i.jsx(ch,{className:"h-5 w-5"}),children:"Add Break"})]})]})},bq=()=>{const{fetchInitialData:e,isLoading:t,filteredRoutines:n,facultyOptions:r,classOptionsFilter:s,selectedFacultyFilter:a,selectedClassFilter:o,searchTerm:l,setFacultyFilter:c,setClassFilter:u,setSearchTerm:d,isDrawerOpen:f,drawerMode:h,openDrawer:p,closeDrawer:b,saveRoutine:x,isFormLoading:y,isDeleteDialogOpen:v,routineToDelete:j,openDeleteDialog:S,closeDeleteDialog:N,confirmDeleteRoutine:C,isDeleting:$}=gq();return m.useEffect(()=>{e()},[e]),i.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[i.jsxs("header",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Routine Management"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Manage school timetables and routines for sections."})]}),i.jsx("div",{className:"mb-6 p-4 bg-white shadow rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[i.jsx(dt,{label:"Filter by Faculty",options:r,value:a,onChange:c,placeholder:"All Faculties",allowClear:!0}),i.jsx(dt,{label:"Filter by Class",options:s,value:o,onChange:u,placeholder:"All Classes",disabled:!r.length,allowClear:!0}),i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx("label",{htmlFor:"search-routine",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),i.jsx(Bn,{value:l,onValueChange:d,placeholder:"Search by section, faculty, subject...",className:"w-full"})]}),i.jsx(Se,{color:"primary",onClick:()=>p("add"),startContent:i.jsx(ch,{className:"h-5 w-5"}),className:"w-full md:w-auto lg:mt-7",children:"Add New Routine"})]})}),t&&!n.length?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{label:"Loading routines...",color:"primary",labelColor:"primary"})}):n.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(P=>i.jsx(VCe,{routine:P,onEdit:()=>p("edit",P),onDelete:()=>S(P)},P.$id))}):i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-gray-500",children:l||o||a?"No routines match your filters.":"No routines found. Get started by adding one!"})}),i.jsxs(We,{isOpen:f,onClose:b,title:h==="add"?"Add New Routine":"Edit Routine",size:"xl",children:[i.jsx(We.Body,{children:i.jsx(WCe,{})}),i.jsxs(We.Footer,{children:[i.jsx(Se,{variant:"flat",color:"default",onClick:b,disabled:y,children:"Cancel"}),i.jsx(Se,{color:"primary",onClick:x,isLoading:y,children:h==="add"?"Create Routine":"Save Changes"})]})]}),i.jsx(wg,{isOpen:v,onClose:N,onConfirm:C,title:"Delete Routine",content:i.jsxs("p",{children:["Are you sure you want to delete the routine for section"," ",i.jsx("strong",{children:j==null?void 0:j.sectionName}),"? This action cannot be undone."]}),isConfirmLoading:$})]})},tE=Gt((e,t)=>({user:null,label:"Guest",isLoading:!0,fetchUser:async()=>{var n;if(!(t().user&&!t().isLoading)){(!t().isLoading||t().isLoading&&!t().user)&&e({isLoading:!0});try{const r=await ut.get();e({user:r,label:((n=r.labels)==null?void 0:n[0])||"No Label",isLoading:!1})}catch{e({user:null,label:"Guest",isLoading:!1})}}},logout:async()=>{e({isLoading:!0});try{await ut.deleteSession("current"),e({user:null,label:"Guest",isLoading:!1})}catch(n){console.error("[AuthStore] Error during logout:",n),e({user:null,label:"Guest",isLoading:!1})}}})),UCe=e=>{try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>({...n,theoryFM:n.theoryFM!==null&&n.theoryFM!==void 0?Number(n.theoryFM):0,theoryPM:n.theoryPM!==null&&n.theoryPM!==void 0?Number(n.theoryPM):0,practicalFM:n.hasPractical&&n.practicalFM!==null&&n.practicalFM!==void 0?Number(n.practicalFM):null,practicalPM:n.hasPractical&&n.practicalPM!==null&&n.practicalPM!==void 0?Number(n.practicalPM):null})):[]}catch(t){return console.error("Failed to parse subjectDetails_json:",t),[]}},KCe=({exam:e,entryPercentage:t,onSelect:n,isSelected:r,facultyNames:s})=>{const a=t===void 0?null:t,o=f=>f===null?"warning":f===-2?"danger":f===-1?"default":f>=95?"success":f>=50?"primary":"default",l=f=>f===null?"Calculating...":f===-1?"N/A":f===-2?"Error":`${f.toFixed(0)}% Entered`,c=a!==null&&a>=0?a:0,u=o(a),d=l(a);return i.jsxs(mt,{isPressable:!0,onPress:()=>n(e),className:`w-full bg-white shadow-lg rounded-xl overflow-hidden transition-all duration-300 ease-in-out hover:shadow-2xl hover:scale-[1.02] ${r?"ring-4 ring-indigo-500 ring-offset-2":"border border-gray-200"}`,children:[i.jsxs(Un,{className:" px-5 border-b flex flex-col border-gray-100 bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between items-start w-full",children:[i.jsx("h4",{className:"font-bold text-lg text-gray-900 truncate mr-2",title:e.title,children:e.title}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 flex-shrink-0",children:[e.isPublished&&i.jsx(Jt,{size:"sm",color:e.isGpa?"success":"primary",variant:"flat",children:e.isGpa?"Published (GPA)":"Published (Marks)"}),i.jsx(Jt,{size:"sm",color:"secondary",variant:"flat",children:e.type})]})]}),i.jsx("div",{className:"w-full text-left",children:e.desc&&i.jsx("p",{className:"text-xs text-gray-500",children:e.desc})})]}),i.jsxs(yt,{className:"p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(so,{className:"h-5 w-5 mr-2 text-indigo-500"}),i.jsxs("span",{children:["Classes:"," ",i.jsx("span",{className:"font-medium text-gray-800",children:e.class.join(", ")})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(lh,{className:"h-5 w-5 mr-2 text-teal-500"}),i.jsxs("span",{children:["Faculties:"," ",i.jsx("span",{className:"font-medium text-gray-800",children:s.length>0?s.join(", "):"All"})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(Ji,{className:"h-5 w-5 mr-2 text-orange-500"}),i.jsxs("span",{children:["Subjects:"," ",i.jsx("span",{className:"font-medium text-gray-800",children:e.subjectDetails.length})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Entry Progress"}),i.jsx(Jt,{size:"sm",color:u,variant:"bordered",children:d})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:a===null?i.jsx("div",{className:"bg-yellow-400 h-2.5 rounded-full animate-pulse",style:{width:"100%"}}):a>=0?i.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${u==="success"?"bg-green-600":u==="primary"?"bg-blue-600":"bg-gray-400"}`,style:{width:`${c}%`}}):i.jsx("div",{className:`h-2.5 rounded-full ${a===-2?"bg-red-500":"bg-gray-300"}`,style:{width:"100%"}})})]})]})]})},HCe=()=>et.getState().dbId,qCe=HCe,GCe=({selectedExam:e,onFilterChange:t,currentFilters:n})=>{const[r,s]=m.useState([]),[a,o]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!1);m.useEffect(()=>{if(e){const b=e.class.map(x=>({id:x,name:x}));s(b),n.classId&&!e.class.includes(n.classId)&&t({classId:null,sectionId:null,subjectName:n.subjectName})}else s([])},[e,t,n.classId,n.subjectName]),m.useEffect(()=>{e&&n.classId?(d(!0),o([]),(async()=>{try{const x=[J.equal("class",n.classId),J.limit(100)];e.section&&e.section.length>0&&x.push(J.equal("$id",e.section));const v=(await le.listDocuments(qCe,Qt,x)).documents.map(j=>({id:j.$id,name:j.name}));o(v),n.sectionId&&!v.some(j=>j.id===n.sectionId)&&t({classId:n.classId,sectionId:null,subjectName:n.subjectName})}catch(x){console.error("Failed to fetch sections:",x),o([])}finally{d(!1)}})()):(o([]),u&&d(!1))},[e,n.classId,t,n.subjectName,n.sectionId]),m.useEffect(()=>{if(e){const b=e.subjectDetails.map(x=>({id:x.name,name:x.name}));c(b),n.subjectName&&!e.subjectDetails.some(x=>x.name===n.subjectName)&&t({classId:n.classId,sectionId:n.sectionId,subjectName:null})}else c([])},[e,t,n.classId,n.sectionId,n.subjectName]);const f=b=>{t({classId:b,sectionId:null,subjectName:n.subjectName})},h=b=>{t({classId:n.classId,sectionId:b,subjectName:n.subjectName})},p=b=>{t({classId:n.classId,sectionId:n.sectionId,subjectName:b})};return e?i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:["Filter Students for '",e.title,"'"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(dt,{label:"Class",options:r,value:n.classId,onChange:f,placeholder:"Select Class",disabled:!e||r.length===0}),i.jsx(dt,{label:"Section",options:a,value:n.sectionId,onChange:h,placeholder:u?"Loading Sections...":a.length===0&&n.classId?"No sections found":"Select Section",disabled:!n.classId||u||a.length===0&&!!n.classId}),i.jsx(dt,{label:"Subject",options:l,value:n.subjectName,onChange:p,placeholder:"Select Subject",disabled:!e||l.length===0})]})]}):null},YCe=({students:e,subjectDetails:t,onMarksChange:n,onAbsenceChange:r,onSaveChanges:s,onCancelChanges:a,isSaving:o,hasChanges:l})=>{if(!t)return i.jsx("p",{className:"text-center text-gray-500 py-4",children:"Please select a subject to enter marks."});if(e.length===0)return i.jsx("p",{className:"text-center text-gray-500 py-4",children:"No students found for the selected filters."});const c=Number(t.theoryFM),u=t.hasPractical?Number(t.practicalFM):null;return i.jsxs("div",{className:"mt-6",children:[i.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),i.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Theory Marks (FM: ",c,")"]}),t.hasPractical&&i.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Practical Marks (FM: ",u,")"]}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Absent"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>i.jsxs("tr",{className:d.isModified?"bg-yellow-50":"",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Ve,{type:"number",placeholder:`0 - ${c}`,value:d.theoryMarksInput,onValueChange:f=>n(d.$id,"theory",f),disabled:d.isAbsentInput||o,className:"max-w-[120px]",min:"0",max:c.toString()})}),t.hasPractical&&i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(Ve,{type:"number",placeholder:`0 - ${u}`,value:d.practicalMarksInput,onValueChange:f=>n(d.$id,"practical",f),disabled:d.isAbsentInput||o,className:"max-w-[120px]",min:"0",max:u==null?void 0:u.toString()})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("input",{type:"checkbox",checked:d.isAbsentInput,onChange:f=>r(d.$id,f.target.checked),disabled:o,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),i.jsx("label",{className:"ml-2 text-sm text-gray-600",children:"Mark Absent"})]})]},d.$id))})]})}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx(Se,{variant:"flat",color:"default",onPress:a,isDisabled:o||!l,children:"Cancel"}),i.jsx(Se,{color:"primary",onPress:s,isLoading:o,isDisabled:o||!l,children:"Save Changes"})]})]})},XCe=()=>et.getState().dbId,_i=XCe,uf="68316dd1002f05fcd202",ZCe="coll-faculty",dw=()=>{const{user:e,label:t,fetchUser:n,isLoading:r}=tE(),[s,a]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState({}),[d,f]=m.useState({}),[h,p]=m.useState(!0),[b,x]=m.useState(!1),[y,v]=m.useState(""),[j,S]=m.useState(null),[N,C]=m.useState({classId:null,sectionId:null,subjectName:null}),[$,P]=m.useState(null),[E,M]=m.useState([]),[k,A]=m.useState(!1),[I,L]=m.useState(!1),[R,F]=m.useState(!1),[T,O]=m.useState(!1),[_,W]=m.useState(!1),[z,U]=m.useState(!1),H=m.useCallback((fe,me)=>{},[]);m.useEffect(()=>{n().finally(()=>{U(!0)})},[n]);const B=m.useCallback(async fe=>{if(fe.length===0)return{};try{const me=[...new Set(fe)];return(await le.listDocuments(_i,ZCe,[J.equal("$id",me),J.limit(Math.min(me.length,100))])).documents.reduce((re,ue)=>(re[ue.$id]=ue.name,re),{})}catch(me){return console.error("Failed to fetch faculty names:",me),H("Could not load faculty details.","warning"),{}}},[H]),Y=m.useCallback(async(fe=!1)=>{fe?x(!0):p(!0),f({}),u({});try{const G=(await le.listDocuments(_i,zo,[J.orderDesc("$createdAt"),J.limit(100)])).documents.map(ue=>({...ue,subjectDetails:UCe(ue.subjectDetails_json)}));a(G),l(G);const re=G.flatMap(ue=>ue.faculty).filter(ue=>ue);if(re.length>0){const ue=await B(re);f(ue)}fe&&H("Exam list reloaded.","info")}catch(me){console.error("Failed to fetch exams:",me),H("Failed to load exams.","error")}finally{fe?x(!1):p(!1)}},[B,H]);m.useEffect(()=>{z&&Y()},[z,Y]);const ae=()=>{b||Y(!0)};m.useEffect(()=>{N.sectionId&&j&&N.classId?(P(null),(async()=>{try{const me=await le.getDocument(_i,Qt,N.sectionId);P(me.name)}catch(me){console.error("Could not fetch selected section details to get name:",me),P(null),H("Error: Could not retrieve section details.","error")}})()):P(null)},[N.sectionId,j,N.classId,H]),m.useEffect(()=>{const fe=async()=>{const me=o.filter(G=>c[G.$id]===void 0||c[G.$id]===null);if(me.length!==0){me.forEach(G=>{c[G.$id]===void 0&&u(re=>({...re,[G.$id]:null}))});for(const G of me)if(!(c[G.$id]!==null&&c[G.$id]!==void 0))try{let re=0;if(G.class.length>0){const ie=[J.equal("class",G.class)];G.section&&G.section.length>0&&ie.push(J.equal("section",G.section)),re=(await le.listDocuments(_i,on,[...ie,J.limit(1),J.select(["$id"])])).total}if(re===0||G.subjectDetails.length===0){u(ie=>({...ie,[G.$id]:-1}));continue}const ue=re*G.subjectDetails.length,ye=(await le.listDocuments(_i,uf,[J.equal("examId",G.$id),J.limit(1),J.select(["$id"])])).total,je=ue>0?ye/ue*100:0;u(ie=>({...ie,[G.$id]:Math.min(100,Math.round(je))}))}catch(re){console.error(`Failed to calculate percentage for exam ${G.title}:`,re.message),u(ue=>({...ue,[G.$id]:-2}))}}};o.length>0&&uf&&uf!=="YOUR_DEFAULT_MARKS_COLLECTION_ID_IF_ENV_FAILS"&&fe()},[o]),m.useEffect(()=>{if(!y)l(s);else{const fe=y.toLowerCase();l(s.filter(me=>me.title.toLowerCase().includes(fe)||me.type.toLowerCase().includes(fe)))}},[y,s]);const ce=m.useCallback(fe=>{S(fe),W(fe.isGpa||!1),C({classId:null,sectionId:null,subjectName:null}),P(null),M([])},[]),oe=()=>{S(null)};m.useEffect(()=>{(async()=>{if(!j||!N.classId||!N.sectionId||!$||!N.subjectName){M([]);return}A(!0);try{const me=[J.equal("class",N.classId),J.equal("section",$),J.limit(200)],re=(await le.listDocuments(_i,on,me)).documents;if(re.length===0)H(`No students found for Class: ${N.classId}, Section: ${$}.`,"info"),M([]);else{const ue=re.map(ie=>ie.$id),ge=await le.listDocuments(_i,uf,[J.equal("examId",j.$id),J.equal("subjectName",N.subjectName),J.equal("studentId",ue),J.limit(re.length)]),ye=new Map(ge.documents.map(ie=>[ie.studentId,ie])),je=re.map(ie=>{var ke,Be;const he=ye.get(ie.$id);return{...ie,theoryMarksInput:((ke=he==null?void 0:he.theoryMarksObtained)==null?void 0:ke.toString())??"",practicalMarksInput:((Be=he==null?void 0:he.practicalMarksObtained)==null?void 0:Be.toString())??"",isAbsentInput:(he==null?void 0:he.isAbsent)??!1,existingMarkEntryId:he==null?void 0:he.$id,isModified:!1}});M(je)}}catch(me){console.error("Failed to fetch students or marks:",me),H("Failed to load student data. Check console for details.","error"),M([])}finally{A(!1)}})()},[j,N.classId,N.sectionId,$,N.subjectName,H]);const Q=m.useCallback((fe,me,G)=>{M(re=>re.map(ue=>ue.$id===fe?{...ue,[`${me}MarksInput`]:G,isModified:!0}:ue))},[]),K=m.useCallback((fe,me)=>{M(G=>G.map(re=>re.$id===fe?{...re,isAbsentInput:me,theoryMarksInput:me?"":re.theoryMarksInput,practicalMarksInput:me?"":re.practicalMarksInput,isModified:!0}:re))},[]),ne=m.useMemo(()=>{if(!(!j||!N.subjectName))return j.subjectDetails.find(fe=>fe.name===N.subjectName)},[j,N.subjectName]),te=async()=>{if(!j||!N.classId||!N.sectionId||!$||!N.subjectName||!ne){H("Missing filter selections or subject details.","warning");return}L(!0);const fe=E.filter(re=>re.isModified);if(fe.length===0){H("No changes to save.","info"),L(!1);return}const me=(e==null?void 0:e.$id)||"unknown_teacher",G=fe.map(re=>{const ue=Number(ne.theoryFM),ge=ne.hasPractical?Number(ne.practicalFM):null,ye=re.isAbsentInput?null:re.theoryMarksInput.trim()!==""?parseFloat(re.theoryMarksInput):null,je=ne.hasPractical&&!re.isAbsentInput&&re.practicalMarksInput.trim()!==""?parseFloat(re.practicalMarksInput):null;let ie=null;if(re.isAbsentInput||(ye!==null&&(isNaN(ye)||ye<0||ye>ue)&&(ie=`Invalid theory marks for ${re.name}. Expected 0-${ue}, got: ${re.theoryMarksInput}.`),ne.hasPractical&&ge!==null&&je!==null&&(isNaN(je)||je<0||je>ge)&&(ie=`Invalid practical marks for ${re.name}. Expected 0-${ge}, got: ${re.practicalMarksInput}.`)),ie)throw new Error(ie);const he={examId:j.$id,studentId:re.$id,classId:N.classId,sectionId:N.sectionId,subjectName:N.subjectName,theoryMarksObtained:ye,practicalMarksObtained:je,isAbsent:re.isAbsentInput,updatedBy:me,lastUpdatedAt:new Date().toISOString()};return re.existingMarkEntryId?le.updateDocument(_i,uf,re.existingMarkEntryId,he):le.createDocument(_i,uf,dn.unique(),he)});try{const re=await Promise.all(G);H("Marks saved successfully!","success"),M(ue=>ue.map(ge=>{if(!ge.isModified)return ge;const ye=fe.findIndex(je=>je.$id===ge.$id);if(ye>-1){const je=re[ye];return{...ge,isModified:!1,existingMarkEntryId:ge.existingMarkEntryId||(je==null?void 0:je.$id)}}return ge})),u(ue=>({...ue,[j.$id]:void 0}))}catch(re){console.error("Failed to save marks:",re),H(`Error saving marks: ${re.message||"Please check your entries and try again."}`,"error")}finally{L(!1)}},X=m.useCallback(()=>{if(j&&N.classId&&N.sectionId&&N.subjectName){const fe={...N},me=$;C(G=>({...G,subjectName:"___temp_reset_trigger___"})),setTimeout(()=>{C(fe),P(me)},0)}H("Changes cancelled.","info")},[j,N,$]),xe=m.useMemo(()=>E.some(fe=>fe.isModified),[E]),$e=()=>{j&&(W(j.isGpa||!1),F(!0))},Ne=async()=>{if(!j||!e){H("No exam selected or user not identified.","error");return}if(t!=="admin"){H("You do not have permission to publish results.","error");return}O(!0);try{await le.updateDocument(_i,zo,j.$id,{isPublished:!0,isGpa:_});const fe=e.email||"system@yourdomain.com",me={title:`Result Published: ${j.title}`,msg:`Results for exam "${j.title}" (Type: ${j.type}) have been published. Results are displayed ${_?"using the GPA system":"as direct marks"}. Students can now view their marks.`,to:["role:student"],valid:xc(),sender:fe};await Yi(me);const G={...j,isPublished:!0,isGpa:_};S(G);const re=ue=>ue.$id===j.$id?G:ue;a(ue=>ue.map(re)),l(ue=>ue.map(re)),H("Results published successfully and notification sent!","success")}catch(fe){console.error("Failed to publish results:",fe),H(`Error publishing results: ${fe.message||"Please try again."}`,"error")}finally{O(!1),F(!1)}},Le=!z||h&&!b,we=!N.classId||!N.sectionId||!N.subjectName||!k&&!$&&!!N.sectionId;return i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"container mx-auto p-4 md:p-6 bg-gray-50 min-h-screen",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[j&&i.jsx(Se,{variant:"light",color:"primary",className:"mr-4 p-2 rounded-full hover:bg-indigo-100",onPress:oe,"aria-label":"Go back to exams",children:i.jsx(Hc,{className:"h-6 w-6 text-indigo-600"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex-grow",children:j?`Marks Entry: ${j.title}`:"Select Exam for Marks Entry"}),!j&&i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:ae,color:"blue",isLoading:b,className:"ml-3",tooltipText:"Reload Exam List"})]}),j?i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[t==="admin"&&i.jsx("div",{className:"mb-6 p-4 border border-indigo-200 rounded-lg bg-indigo-50",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-indigo-700 flex items-center",children:[i.jsx(Jy,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Admin Controls: Result Publication"]}),j.isPublished?i.jsxs("p",{className:"text-sm text-green-700 mt-1 flex items-center",children:[i.jsx(al,{className:"h-5 w-5 mr-1 text-green-500"}),"Results are ",i.jsx("strong",{children:"Published"})," (",j.isGpa?"GPA System":"Direct Marks",")."]}):i.jsxs("p",{className:"text-sm text-yellow-700 mt-1 flex items-center",children:[i.jsx(Ks,{className:"h-5 w-5 mr-1 text-yellow-500"}),"Results are ",i.jsx("strong",{children:"Not Published"})," yet."]})]}),!j.isPublished&&i.jsx(Se,{color:"primary",onPress:$e,className:"w-full sm:w-auto",children:"Publish Result"})]})}),i.jsx(GCe,{selectedExam:j,onFilterChange:C,currentFilters:N}),we?i.jsx("p",{className:"text-center text-gray-500 mt-8 p-6 bg-indigo-50 rounded-md border border-indigo-100",children:N.sectionId&&!$&&!k?"Verifying section details...":"Please select a Class, Section, and Subject above to view students and enter marks."}):k?i.jsx("div",{className:"flex justify-center items-center h-64 mt-4",children:i.jsx(ct,{label:"Loading Students..."})}):i.jsx(YCe,{students:E,subjectDetails:ne,onMarksChange:Q,onAbsenceChange:K,onSaveChanges:te,onCancelChanges:X,isSaving:I,hasChanges:xe})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-6",children:i.jsx(Bn,{placeholder:"Search exams by title or type...",value:y,onValueChange:v,className:"max-w-lg"})}),Le?i.jsx("div",{className:"flex justify-center items-center h-48",children:i.jsx(ct,{label:"Loading Data...",size:"lg"})}):o.length===0?i.jsx("p",{className:"text-center text-gray-500 py-10 text-lg",children:s.length===0?"No exams have been added yet.":"No exams match your search."}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:o.map(fe=>i.jsx(KCe,{exam:fe,entryPercentage:c[fe.$id],onSelect:()=>ce(fe),isSelected:!1,facultyNames:fe.faculty.map(me=>d[me]||me).filter(Boolean)},fe.$id))})]}),j&&i.jsx(Qi,{isOpen:R,onClose:()=>F(!1),onConfirm:Ne,title:i.jsxs("span",{className:"flex items-center",children:[i.jsx(Jy,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Confirm Result Publication"]}),isConfirmLoading:T,content:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["You are about to publish the results for ",i.jsx("strong",{children:j.title}),". Once published, students will be able to see their marks. This action also sends a notification."]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result Display Format:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-md hover:bg-gray-100",children:[i.jsx("input",{type:"radio",name:"gpaChoice",value:"direct",checked:!_,onChange:()=>W(!1),className:"form-radio h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500",disabled:T}),i.jsx("span",{className:"text-sm text-gray-700",children:"Direct Marks"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded-md hover:bg-gray-100",children:[i.jsx("input",{type:"radio",name:"gpaChoice",value:"gpa",checked:_,onChange:()=>W(!0),className:"form-radio h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500",disabled:T}),i.jsx("span",{className:"text-sm text-gray-700",children:"GPA System"})]})]})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["The chosen display format (",_?"GPA System":"Direct Marks",") will be saved for this exam."]})]})})]})})};function wa(e){return xn({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V216a8,8,0,0,0,11.58,7.16L64,208.94l28.42,14.22a8,8,0,0,0,7.16,0L128,208.94l28.42,14.22a8,8,0,0,0,7.16,0L192,208.94l28.42,14.22A8,8,0,0,0,232,216V56A16,16,0,0,0,216,40Zm0,163.06-20.42-10.22a8,8,0,0,0-7.16,0L160,207.06l-28.42-14.22a8,8,0,0,0-7.16,0L96,207.06,67.58,192.84a8,8,0,0,0-7.16,0L40,203.06V56H216ZM60.42,167.16a8,8,0,0,0,10.74-3.58L76.94,152h38.12l5.78,11.58a8,8,0,1,0,14.32-7.16l-32-64a8,8,0,0,0-14.32,0l-32,64A8,8,0,0,0,60.42,167.16ZM96,113.89,107.06,136H84.94ZM136,128a8,8,0,0,1,8-8h16V104a8,8,0,0,1,16,0v16h16a8,8,0,0,1,0,16H176v16a8,8,0,0,1-16,0V136H144A8,8,0,0,1,136,128Z"},child:[]}]})(e)}const Zc=({isOpen:e,onClose:t})=>{const[n,r]=m.useState(""),[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(!1),b=async x=>{if(x.preventDefault(),u(null),f(null),s!==o){u("New passwords don't match.");return}if(s.length<8){u("New password must be at least 8 characters long.");return}p(!0);try{await ut.updatePassword(s,n),f("Password updated successfully!"),r(""),a(""),l("")}catch(y){console.error("Password reset error:",y),u(y.message||"Failed to update password. Check old password.")}finally{p(!1)}};return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out",onClick:t,children:i.jsxs("div",{className:"relative w-full max-w-md mx-2 transform rounded-lg bg-white p-3 shadow-xl transition-all duration-300 ease-in-out sm:p-8",onClick:x=>x.stopPropagation(),children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Close modal",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"mb-4 text-center text-xl font-semibold text-gray-800",children:"Reset Password"}),c&&i.jsx("div",{className:"mb-4 rounded-md border border-red-300 bg-red-50 p-3 text-sm text-red-700",children:c}),d&&i.jsx("div",{className:"mb-4 rounded-md border border-green-300 bg-green-50 p-3 text-sm text-green-700",children:d}),!d&&i.jsxs("form",{onSubmit:b,className:"",children:[i.jsxs("div",{className:" gap-4 flex flex-col",children:[i.jsxs("div",{className:" gap-1 flex-col flex",children:[i.jsx("label",{htmlFor:"oldPassword",className:" ml-2 text-sm",children:"Old Password"}),"              ",i.jsx(Ve,{size:"md",placeholder:"Enter your Old Password",type:"password",id:"oldPassword",value:n,onChange:x=>r(x.target.value),required:!0,disabled:h})]}),i.jsxs("div",{className:" gap-1 flex-col flex",children:[i.jsx("label",{htmlFor:"newPassword",className:" ml-2 text-sm",children:"New Password"}),i.jsx(Ve,{size:"md",placeholder:"New Password",type:"password",id:"newPassword",value:s,onChange:x=>a(x.target.value),required:!0,disabled:h})]}),i.jsxs("div",{className:" gap-1 flex-col flex",children:[i.jsx("label",{htmlFor:"confirmPassword",className:" ml-2 text-sm",children:"Confirm Password"}),"              ",i.jsx(Ve,{size:"md",placeholder:"Confirm Password",type:"password",id:"confirmPassword",value:o,onChange:x=>l(x.target.value),required:!0,disabled:h})]})]}),i.jsx("div",{className:" flex justify-center",children:i.jsx(Se,{type:"submit",disabled:h,color:"danger",className:"px-5 mt-6",children:h?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Password"})})]})]})}):null},JCe=()=>{const[e,t]=m.useState(null),n=()=>a(!0),r=()=>a(!1),[s,a]=m.useState(!1);m.useEffect(()=>{let l=!0;return ut.get().then(c=>{l&&c?t(c.email):l&&t(null)}).catch(c=>{l&&(console.error("Navbar: Failed to get user email:",c),t(null))}),()=>{l=!1}},[]);const o=async()=>{try{await ut.deleteSession("current"),Ke.success("Logged out successfully!"),window.location.reload()}catch(l){console.error("Logout failed:",l),Ke.error(l.message||"Logout failed!")}};return i.jsxs("div",{children:[i.jsx("div",{className:"p-4 bg-white rounded-md shadow-sm border mb-4",children:i.jsxs("div",{className:"flex items-center mb-2 gap-1",children:[i.jsx(Ha,{classNames:{base:"bg-gradient-to-br from-[#FFB457] to-[#FF705B]",icon:"text-black/80"},className:"cursor-pointer mr-2",icon:i.jsx($0,{})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Admin User"}),i.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})}),i.jsx(Se,{className:`w-full p-7 bg-white justify-start rounded-md shadow-sm border mb-4 
      transition-all duration-200 active:scale-[0.98] hover:bg-gray-50`,onClick:n,variant:"ghost",children:i.jsx("p",{className:"font-normal text-base",children:"Reset Password"})}),i.jsx("div",{className:" w-full flex justify-center pt-8 pb-5",children:i.jsxs(Se,{variant:"ghost",color:"danger",onPress:o,children:[i.jsx(A$,{className:"h-5 w-5"}),"Logout"]})}),i.jsx(Zc,{isOpen:s,onClose:r})]})},QCe=()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Attendance Component"}),i.jsx("p",{children:"This is the Attendance content under Students."})]}),eNe=({initialMenuItem:e})=>{const[t,n]=m.useState(()=>e!==void 0?e:localStorage.getItem("generalComponentMenuItem")||null),[r,s]=m.useState(()=>{const h=localStorage.getItem("expandedSubMenus");return h?JSON.parse(h):[]});m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",t||""),localStorage.setItem("expandedSubMenus",JSON.stringify(r))},[t,r]);const a=h=>{s(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},l={General:{menu:[{name:"Students",icon:i.jsx(w0,{className:"h-5 w-5"}),onClick:()=>{},subMenu:[{name:"General",icon:i.jsx(Wr,{className:"h-5 w-5"}),component:oH,onClick:()=>{}},{name:"Section",icon:i.jsx(Ir,{className:"h-5 w-5"}),component:lH,onClick:()=>{}},{name:"Attendance",icon:i.jsx(os,{className:"h-5 w-5"}),component:QCe,onClick:()=>{}},{name:"Leave",icon:i.jsx(Vc,{className:"h-5 w-5"}),component:gH,onClick:()=>{}},{name:"Review",icon:i.jsx(xl,{className:"h-5 w-5"}),component:xH,onClick:()=>{}}]},{name:"Teacher",icon:i.jsx(ls,{className:"h-5 w-5"}),onClick:()=>{},subMenu:[{name:"Teach_General",icon:i.jsx(Wr,{className:"h-5 w-5"}),component:yH,onClick:()=>{}},{name:"ClassTeacher",icon:i.jsx(Ir,{className:"h-5 w-5"}),component:vH,onClick:()=>{}},{name:"Lesson",icon:i.jsx(F1,{className:"h-5 w-5"}),component:wH,onClick:()=>{}}]},{name:"Routine",icon:i.jsx(Yc,{className:"h-5 w-5"}),component:bq,onClick:()=>{}},{name:"Calendar",icon:i.jsx(Tr,{className:"h-5 w-5"}),component:hH,onClick:()=>{}},{name:"Gallery",icon:i.jsx(bl,{className:"h-5 w-5"}),component:mq,onClick:()=>{}},{name:"Notification",icon:i.jsx(Hh,{className:"h-5 w-5"}),component:mH,onClick:()=>{}},{name:"Transport",icon:i.jsx($i,{className:"h-6 w-6"}),onClick:()=>{},subMenu:[{name:"Configure",icon:i.jsx(L1,{className:"h-5 w-5"}),component:pq,onClick:()=>{}},{name:"Map",icon:i.jsx(zc,{className:"h-5 w-5"}),component:oo,onClick:()=>{}}]},{name:"Result",icon:i.jsx(B1,{className:"h-5 w-5"}),component:dw,onClick:()=>{}},{name:"Configure",icon:i.jsx(k$,{className:"h-6 w-6"}),onClick:()=>{},subMenu:[{name:"Faculty & Class",icon:i.jsx(Ad,{className:"h-5 w-5"}),component:q3,onClick:()=>{}},{name:"Section & Subject",icon:i.jsx(Ir,{className:"h-5 w-5"}),component:iH,onClick:()=>{}},{name:"Exams",icon:i.jsx(wa,{className:"h-5 w-5"}),component:q3,onClick:()=>{}}]},{name:"Profile",icon:i.jsx(Bc,{className:"h-5 w-5"}),component:JCe,onClick:()=>{}}]}}.General.menu,c=h=>{n(h)},u=()=>{n(null)},d=()=>{if(t){const h=f(l,t);if(h&&h.component)return i.jsxs("div",{children:[i.jsx(M0,{title:t,onBack:u}),i.jsx("div",{className:" mt-[3.25rem] w-full h-fulll",children:Z.createElement(h.component)})]})}return i.jsx("div",{className:"",children:i.jsx(T0,{menuItems:l.map(h=>({...h,onClick:()=>{h.subMenu?a(h.name):c(h.name)},isSubMenuOpen:r.includes(h.name),onSubMenuItemClick:b=>{c(b)}})),selectedMenuItemName:t,expandedSubMenus:r})})},f=(h,p)=>{for(const b of h){if(b.name===p)return b;if(b.subMenu){const x=f(b.subMenu,p);if(x)return x}}};return i.jsx("div",{className:"",children:d()})},tNe=[{id:"1",icon:Bc,title:"Profile",description:"View your profile",location:"Menu",generalMenuLocation:"Profile"},{id:"2",icon:Ds,title:"Dashboard",description:"Admin dashboard overview",location:"Menu",generalMenuLocation:"Dashboard"},{id:"3",icon:Wr,title:"Student >> General",description:"Student admission and general info",location:"Students",generalMenuLocation:"General"},{id:"4",icon:Ir,title:"Student >> Section",description:"Assign students to sections",location:"Students",generalMenuLocation:"Section"},{id:"5",icon:os,title:"Student >> Attendance",description:"Track and manage student attendance",location:"Students",generalMenuLocation:"Attendance"},{id:"6",icon:Vc,title:"Student >> Leave",description:"Approve or reject student leave requests",location:"Students",generalMenuLocation:"Leave"},{id:"7",icon:xl,title:"Student >> Review",description:"Review student feedback and performance",location:"Students",generalMenuLocation:"Review"},{id:"8",icon:Wr,title:"Teacher >> Teach_General",description:"Manage teacher profiles",location:"Teacher",generalMenuLocation:"Teach_General"},{id:"9",icon:Ir,title:"Teacher >> ClassTeacher",description:"Assign class teachers",location:"Teacher",generalMenuLocation:"ClassTeacher"},{id:"10",icon:F1,title:"Teacher >> Lesson",description:"Manage lesson plans",location:"Teacher",generalMenuLocation:"Lesson"},{id:"11",icon:Yc,title:"Routine",description:"Routine and class scheduling",location:"Routine",generalMenuLocation:"Routine"},{id:"12",icon:X1,title:"Calendar",description:"Nepali calendar for planning",location:"Calendar",generalMenuLocation:"Calendar"},{id:"13",icon:a$,title:"Gallery",description:"View and manage image gallery",location:"Gallery",generalMenuLocation:"Gallery"},{id:"14",icon:Hh,title:"Notification",description:"View and send system notifications",location:"Notification",generalMenuLocation:"Notification"},{id:"15",icon:L1,title:"Transport >> Configure",description:"Configure school transport details",location:"Transport",generalMenuLocation:"Configure"},{id:"16",icon:zc,title:"Transport >> Map",description:"Visualize transport routes and maps",location:"Transport",generalMenuLocation:"Map"},{id:"17",icon:B1,title:"Result",description:"Teacher marks entry system",location:"Result",generalMenuLocation:"Result"},{id:"18",icon:Ad,title:"Configure >> Faculty & Class",description:"Set up faculties and classes",location:"Configure",generalMenuLocation:"Faculty & Class"},{id:"19",icon:Ir,title:"Configure >> Section & Subject",description:"Define sections and subjects",location:"Configure",generalMenuLocation:"Section & Subject"},{id:"20",icon:Wr,title:"Configure >> Exams",description:"Manage exam settings and schedules",location:"Configure",generalMenuLocation:"Exams"}],nNe=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=m.useRef(null);m.useEffect(()=>{r.current&&r.current.focus()},[]);const s=t?tNe.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())):[],a=o=>{e(o.location,o.generalMenuLocation),n("")};return i.jsx("div",{className:"flex items-center justify-center w-full px-4 py-2",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ua,{ref:r,placeholder:"Search...",startContent:i.jsx(Ai,{className:"w-5 h-5 text-gray-400"}),type:"text",value:t,onChange:o=>n(o.target.value),className:"w-full shadow-black shadow-large text-gray-800 border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.trim()!==""&&i.jsx("div",{className:"absolute left-0 right-0 z-10 mt-2 bg-gray-50/50 border border-gray-200 rounded-lg shadow-lg max-h-[84vh] overflow-y-auto",children:s.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 text-blue-500 transition-all",onClick:()=>a(o),children:[i.jsx(o.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),i.jsx("div",{className:"text-xs text-gray-500",children:o.description})]})]},o.id))}):i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results found."})})]})})},xq=new loe;xq.setEndpoint("https://appwrite.soraddynamics.com/v1").setProject("sorad-demo-school-r2");const df=new ooe(xq),rNe=()=>et.getState().dbId,sNe=rNe,ff=sNe,aNe="coll-student",iNe="coll-teacher",oNe="coll-parent",lNe="coll-faculty",cNe="coll-section",uNe="coll-exam",yq=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},sC=Gt(e=>({loading:!1,error:null,stats:null,data:null,fetchDashboardData:async()=>{e({loading:!0,error:null});try{const[t,n,r,s,a,o]=await Promise.all([df.listDocuments(ff,aNe,[J.limit(5e3)]),df.listDocuments(ff,iNe,[J.limit(1e3)]),df.listDocuments(ff,oNe,[J.limit(5e3)]),df.listDocuments(ff,lNe,[J.limit(100)]),df.listDocuments(ff,cNe,[J.limit(500)]),df.listDocuments(ff,uNe,[J.limit(1e3)])]),l=t.documents,c=n.documents,u=r.documents,d=s.documents,f=a.documents,h=o.documents,p=l.length,b=c.length,x=u.length,y=d.length,v=f.length,j=new Set;l.forEach(k=>{k.class&&j.add(k.class)}),f.forEach(k=>{k.class&&j.add(k.class)});const S=j.size,N=l.filter(k=>k.isLibraryMember).length,C=h.length,$=h.filter(k=>k.isPublished).length,P=yq(),E=[];for(const k of d){const A=l.filter(T=>T.facultyId===k.$id),I=A.length;let L=0;A.forEach(T=>{Array.isArray(T.absent)&&T.absent.includes(P)&&L++});const R=I-L,F=I>0?R/I*100:0;E.push({facultyId:k.$id,facultyName:k.name,totalStudents:I,presentStudents:R,absentStudentsCount:L,attendanceRate:parseFloat(F.toFixed(2))})}const M=l.filter(k=>Array.isArray(k.absent)&&k.absent.includes(P));e({loading:!1,stats:{totalStudents:p,totalTeachers:b,totalParents:x,totalFaculties:y,totalClasses:S,totalSections:v,studentsWithLibrary:N,totalExams:C,publishedExams:$},data:{students:l,teachers:c,parents:u,faculties:d,sections:f,exams:h,todayAttendanceByFaculty:E,absentStudentsToday:M}})}catch(t){console.error("Failed to fetch admin dashboard data:",t),e({loading:!1,error:t.message||"Failed to fetch data"})}}})),Vl=({title:e,value:t,icon:n,bgColor:r="bg-blue-500"})=>i.jsx("div",{className:`p-6 rounded-lg shadow-lg text-white ${r}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium uppercase tracking-wider",children:e}),i.jsx("p",{className:"text-3xl font-semibold",children:t})]}),n&&i.jsx("div",{className:"text-4xl opacity-80",children:n})]})});var dNe=Array.isArray,Gs=dNe,fNe=typeof la=="object"&&la&&la.Object===Object&&la,vq=fNe,hNe=vq,mNe=typeof self=="object"&&self&&self.Object===Object&&self,pNe=hNe||mNe||Function("return this")(),lo=pNe,gNe=lo,bNe=gNe.Symbol,B0=bNe,NM=B0,wq=Object.prototype,xNe=wq.hasOwnProperty,yNe=wq.toString,Ym=NM?NM.toStringTag:void 0;function vNe(e){var t=xNe.call(e,Ym),n=e[Ym];try{e[Ym]=void 0;var r=!0}catch{}var s=yNe.call(e);return r&&(t?e[Ym]=n:delete e[Ym]),s}var wNe=vNe,SNe=Object.prototype,jNe=SNe.toString;function CNe(e){return jNe.call(e)}var NNe=CNe,$M=B0,$Ne=wNe,ENe=NNe,ANe="[object Null]",PNe="[object Undefined]",EM=$M?$M.toStringTag:void 0;function DNe(e){return e==null?e===void 0?PNe:ANe:EM&&EM in Object(e)?$Ne(e):ENe(e)}var jl=DNe;function kNe(e){return e!=null&&typeof e=="object"}var Cl=kNe,INe=jl,TNe=Cl,MNe="[object Symbol]";function ONe(e){return typeof e=="symbol"||TNe(e)&&INe(e)==MNe}var qh=ONe,LNe=Gs,_Ne=qh,FNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RNe=/^\w*$/;function BNe(e,t){if(LNe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||_Ne(e)?!0:RNe.test(e)||!FNe.test(e)||t!=null&&e in Object(t)}var nE=BNe;function zNe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Jc=zNe;const Gh=rn(Jc);var VNe=jl,WNe=Jc,UNe="[object AsyncFunction]",KNe="[object Function]",HNe="[object GeneratorFunction]",qNe="[object Proxy]";function GNe(e){if(!WNe(e))return!1;var t=VNe(e);return t==KNe||t==HNe||t==UNe||t==qNe}var rE=GNe;const jt=rn(rE);var YNe=lo,XNe=YNe["__core-js_shared__"],ZNe=XNe,Ij=ZNe,AM=function(){var e=/[^.]+$/.exec(Ij&&Ij.keys&&Ij.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JNe(e){return!!AM&&AM in e}var QNe=JNe,e4e=Function.prototype,t4e=e4e.toString;function n4e(e){if(e!=null){try{return t4e.call(e)}catch{}try{return e+""}catch{}}return""}var Sq=n4e,r4e=rE,s4e=QNe,a4e=Jc,i4e=Sq,o4e=/[\\^$.*+?()[\]{}|]/g,l4e=/^\[object .+?Constructor\]$/,c4e=Function.prototype,u4e=Object.prototype,d4e=c4e.toString,f4e=u4e.hasOwnProperty,h4e=RegExp("^"+d4e.call(f4e).replace(o4e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m4e(e){if(!a4e(e)||s4e(e))return!1;var t=r4e(e)?h4e:l4e;return t.test(i4e(e))}var p4e=m4e;function g4e(e,t){return e==null?void 0:e[t]}var b4e=g4e,x4e=p4e,y4e=b4e;function v4e(e,t){var n=y4e(e,t);return x4e(n)?n:void 0}var Id=v4e,w4e=Id,S4e=w4e(Object,"create"),fw=S4e,PM=fw;function j4e(){this.__data__=PM?PM(null):{},this.size=0}var C4e=j4e;function N4e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $4e=N4e,E4e=fw,A4e="__lodash_hash_undefined__",P4e=Object.prototype,D4e=P4e.hasOwnProperty;function k4e(e){var t=this.__data__;if(E4e){var n=t[e];return n===A4e?void 0:n}return D4e.call(t,e)?t[e]:void 0}var I4e=k4e,T4e=fw,M4e=Object.prototype,O4e=M4e.hasOwnProperty;function L4e(e){var t=this.__data__;return T4e?t[e]!==void 0:O4e.call(t,e)}var _4e=L4e,F4e=fw,R4e="__lodash_hash_undefined__";function B4e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=F4e&&t===void 0?R4e:t,this}var z4e=B4e,V4e=C4e,W4e=$4e,U4e=I4e,K4e=_4e,H4e=z4e;function Yh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yh.prototype.clear=V4e;Yh.prototype.delete=W4e;Yh.prototype.get=U4e;Yh.prototype.has=K4e;Yh.prototype.set=H4e;var q4e=Yh;function G4e(){this.__data__=[],this.size=0}var Y4e=G4e;function X4e(e,t){return e===t||e!==e&&t!==t}var sE=X4e,Z4e=sE;function J4e(e,t){for(var n=e.length;n--;)if(Z4e(e[n][0],t))return n;return-1}var hw=J4e,Q4e=hw,e$e=Array.prototype,t$e=e$e.splice;function n$e(e){var t=this.__data__,n=Q4e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():t$e.call(t,n,1),--this.size,!0}var r$e=n$e,s$e=hw;function a$e(e){var t=this.__data__,n=s$e(t,e);return n<0?void 0:t[n][1]}var i$e=a$e,o$e=hw;function l$e(e){return o$e(this.__data__,e)>-1}var c$e=l$e,u$e=hw;function d$e(e,t){var n=this.__data__,r=u$e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var f$e=d$e,h$e=Y4e,m$e=r$e,p$e=i$e,g$e=c$e,b$e=f$e;function Xh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xh.prototype.clear=h$e;Xh.prototype.delete=m$e;Xh.prototype.get=p$e;Xh.prototype.has=g$e;Xh.prototype.set=b$e;var mw=Xh,x$e=Id,y$e=lo,v$e=x$e(y$e,"Map"),aE=v$e,DM=q4e,w$e=mw,S$e=aE;function j$e(){this.size=0,this.__data__={hash:new DM,map:new(S$e||w$e),string:new DM}}var C$e=j$e;function N$e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $$e=N$e,E$e=$$e;function A$e(e,t){var n=e.__data__;return E$e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var pw=A$e,P$e=pw;function D$e(e){var t=P$e(this,e).delete(e);return this.size-=t?1:0,t}var k$e=D$e,I$e=pw;function T$e(e){return I$e(this,e).get(e)}var M$e=T$e,O$e=pw;function L$e(e){return O$e(this,e).has(e)}var _$e=L$e,F$e=pw;function R$e(e,t){var n=F$e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var B$e=R$e,z$e=C$e,V$e=k$e,W$e=M$e,U$e=_$e,K$e=B$e;function Zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zh.prototype.clear=z$e;Zh.prototype.delete=V$e;Zh.prototype.get=W$e;Zh.prototype.has=U$e;Zh.prototype.set=K$e;var iE=Zh,jq=iE,H$e="Expected a function";function oE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(H$e);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,r);return n.cache=a.set(s,o)||a,o};return n.cache=new(oE.Cache||jq),n}oE.Cache=jq;var Cq=oE;const q$e=rn(Cq);var G$e=Cq,Y$e=500;function X$e(e){var t=G$e(e,function(r){return n.size===Y$e&&n.clear(),r}),n=t.cache;return t}var Z$e=X$e,J$e=Z$e,Q$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eEe=/\\(\\)?/g,tEe=J$e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Q$e,function(n,r,s,a){t.push(s?a.replace(eEe,"$1"):r||n)}),t}),nEe=tEe;function rEe(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var lE=rEe,kM=B0,sEe=lE,aEe=Gs,iEe=qh,IM=kM?kM.prototype:void 0,TM=IM?IM.toString:void 0;function Nq(e){if(typeof e=="string")return e;if(aEe(e))return sEe(e,Nq)+"";if(iEe(e))return TM?TM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var oEe=Nq,lEe=oEe;function cEe(e){return e==null?"":lEe(e)}var $q=cEe,uEe=Gs,dEe=nE,fEe=nEe,hEe=$q;function mEe(e,t){return uEe(e)?e:dEe(e,t)?[e]:fEe(hEe(e))}var Eq=mEe,pEe=qh;function gEe(e){if(typeof e=="string"||pEe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var gw=gEe,bEe=Eq,xEe=gw;function yEe(e,t){t=bEe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[xEe(t[n++])];return n&&n==r?e:void 0}var cE=yEe,vEe=cE;function wEe(e,t,n){var r=e==null?void 0:vEe(e,t);return r===void 0?n:r}var Aq=wEe;const pa=rn(Aq);function SEe(e){return e==null}var jEe=SEe;const Vt=rn(jEe);var CEe=jl,NEe=Gs,$Ee=Cl,EEe="[object String]";function AEe(e){return typeof e=="string"||!NEe(e)&&$Ee(e)&&CEe(e)==EEe}var PEe=AEe;const dd=rn(PEe);var Pq={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=Symbol.for("react.element"),dE=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),DEe=Symbol.for("react.server_context"),Sw=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Cw=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),$w=Symbol.for("react.lazy"),kEe=Symbol.for("react.offscreen"),Dq;Dq=Symbol.for("react.module.reference");function Qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uE:switch(e=e.type,e){case bw:case yw:case xw:case jw:case Cw:return e;default:switch(e=e&&e.$$typeof,e){case DEe:case ww:case Sw:case $w:case Nw:case vw:return e;default:return t}}case dE:return t}}}pn.ContextConsumer=ww;pn.ContextProvider=vw;pn.Element=uE;pn.ForwardRef=Sw;pn.Fragment=bw;pn.Lazy=$w;pn.Memo=Nw;pn.Portal=dE;pn.Profiler=yw;pn.StrictMode=xw;pn.Suspense=jw;pn.SuspenseList=Cw;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(e){return Qa(e)===ww};pn.isContextProvider=function(e){return Qa(e)===vw};pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uE};pn.isForwardRef=function(e){return Qa(e)===Sw};pn.isFragment=function(e){return Qa(e)===bw};pn.isLazy=function(e){return Qa(e)===$w};pn.isMemo=function(e){return Qa(e)===Nw};pn.isPortal=function(e){return Qa(e)===dE};pn.isProfiler=function(e){return Qa(e)===yw};pn.isStrictMode=function(e){return Qa(e)===xw};pn.isSuspense=function(e){return Qa(e)===jw};pn.isSuspenseList=function(e){return Qa(e)===Cw};pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bw||e===yw||e===xw||e===jw||e===Cw||e===kEe||typeof e=="object"&&e!==null&&(e.$$typeof===$w||e.$$typeof===Nw||e.$$typeof===vw||e.$$typeof===ww||e.$$typeof===Sw||e.$$typeof===Dq||e.getModuleId!==void 0)};pn.typeOf=Qa;Pq.exports=pn;var IEe=Pq.exports,TEe=jl,MEe=Cl,OEe="[object Number]";function LEe(e){return typeof e=="number"||MEe(e)&&TEe(e)==OEe}var kq=LEe;const _Ee=rn(kq);var FEe=kq;function REe(e){return FEe(e)&&e!=+e}var BEe=REe;const z0=rn(BEe);var Cs=function(t){return t===0?0:t>0?1:-1},Xu=function(t){return dd(t)&&t.indexOf("%")===t.length-1},He=function(t){return _Ee(t)&&!z0(t)},Nr=function(t){return He(t)||dd(t)},zEe=0,V0=function(t){var n=++zEe;return"".concat(t||"").concat(n)},Ns=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!dd(t))return r;var a;if(Xu(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return z0(a)&&(a=r),s&&a>n&&(a=n),a},ac=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},VEe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},Jl=function(t,n){return He(t)&&He(n)?function(r){return t+r*(n-t)}:function(){return n}};function aC(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):pa(r,t))===n})}var WEe=function(t,n){return He(t)&&He(n)?t-n:dd(t)&&dd(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function qf(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function iC(e){"@babel/helpers - typeof";return iC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iC(e)}var UEe=["viewBox","children"],KEe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MM=["points","pathLength"],Tj={svg:UEe,polygon:MM,polyline:MM},fE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ov=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(m.isValidElement(t)&&(r=t.props),!Gh(r))return null;var s={};return Object.keys(r).forEach(function(a){fE.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},HEe=function(t,n,r){return function(s){return t(n,r,s),null}},fd=function(t,n,r){if(!Gh(t)||iC(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];fE.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=HEe(o,n,r))}),s},qEe=["children"],GEe=["children"];function OM(e,t){if(e==null)return{};var n=YEe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var LM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_M=null,Mj=null,hE=function e(t){if(t===_M&&Array.isArray(Mj))return Mj;var n=[];return m.Children.forEach(t,function(r){Vt(r)||(IEe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Mj=n,_M=t,n};function Va(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return Xo(s)}):r=[Xo(t)],hE(e).forEach(function(s){var a=pa(s,"type.displayName")||pa(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function aa(e,t){var n=Va(e,t);return n&&n[0]}var FM=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!He(r)||r<=0||!He(s)||s<=0)},XEe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZEe=function(t){return t&&t.type&&dd(t.type)&&XEe.indexOf(t.type)>=0},JEe=function(t,n,r,s){var a,o=(a=Tj==null?void 0:Tj[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!jt(t)&&(s&&o.includes(n)||KEe.includes(n))||r&&fE.includes(n)},wt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(m.isValidElement(t)&&(s=t.props),!Gh(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;JEe((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},oC=function e(t,n){if(t===n)return!0;var r=m.Children.count(t);if(r!==m.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RM(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!RM(a,o))return!1}return!0},RM=function(t,n){if(Vt(t)&&Vt(n))return!0;if(!Vt(t)&&!Vt(n)){var r=t.props||{},s=r.children,a=OM(r,qEe),o=n.props||{},l=o.children,c=OM(o,GEe);return s&&l?qf(a,c)&&oC(s,l):!s&&!l?qf(a,c):!1}return!1},BM=function(t,n){var r=[],s={};return hE(t).forEach(function(a,o){if(ZEe(a))r.push(a);else if(a){var l=Xo(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);r.push(f),s[l]=!0}}}),r},QEe=function(t){var n=t&&t.type;return n&&LM[n]?LM[n]:null},eAe=function(t,n){return hE(n).indexOf(t)},tAe=["children","width","height","viewBox","className","style","title","desc"];function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lC.apply(this,arguments)}function nAe(e,t){if(e==null)return{};var n=rAe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cC(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=nAe(e,tAe),d=s||{width:n,height:r,x:0,y:0},f=_t("recharts-surface",a);return Z.createElement("svg",lC({},wt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var sAe=["children","className"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(this,arguments)}function aAe(e,t){if(e==null)return{};var n=iAe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fn=Z.forwardRef(function(e,t){var n=e.children,r=e.className,s=aAe(e,sAe),a=_t("recharts-layer",r);return Z.createElement("g",uC({className:a},wt(s,!0),{ref:t}),n)}),Si=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]};function oAe(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var lAe=oAe,cAe=lAe;function uAe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:cAe(e,t,n)}var dAe=uAe,fAe="\\ud800-\\udfff",hAe="\\u0300-\\u036f",mAe="\\ufe20-\\ufe2f",pAe="\\u20d0-\\u20ff",gAe=hAe+mAe+pAe,bAe="\\ufe0e\\ufe0f",xAe="\\u200d",yAe=RegExp("["+xAe+fAe+gAe+bAe+"]");function vAe(e){return yAe.test(e)}var Iq=vAe;function wAe(e){return e.split("")}var SAe=wAe,Tq="\\ud800-\\udfff",jAe="\\u0300-\\u036f",CAe="\\ufe20-\\ufe2f",NAe="\\u20d0-\\u20ff",$Ae=jAe+CAe+NAe,EAe="\\ufe0e\\ufe0f",AAe="["+Tq+"]",dC="["+$Ae+"]",fC="\\ud83c[\\udffb-\\udfff]",PAe="(?:"+dC+"|"+fC+")",Mq="[^"+Tq+"]",Oq="(?:\\ud83c[\\udde6-\\uddff]){2}",Lq="[\\ud800-\\udbff][\\udc00-\\udfff]",DAe="\\u200d",_q=PAe+"?",Fq="["+EAe+"]?",kAe="(?:"+DAe+"(?:"+[Mq,Oq,Lq].join("|")+")"+Fq+_q+")*",IAe=Fq+_q+kAe,TAe="(?:"+[Mq+dC+"?",dC,Oq,Lq,AAe].join("|")+")",MAe=RegExp(fC+"(?="+fC+")|"+TAe+IAe,"g");function OAe(e){return e.match(MAe)||[]}var LAe=OAe,_Ae=SAe,FAe=Iq,RAe=LAe;function BAe(e){return FAe(e)?RAe(e):_Ae(e)}var zAe=BAe,VAe=dAe,WAe=Iq,UAe=zAe,KAe=$q;function HAe(e){return function(t){t=KAe(t);var n=WAe(t)?UAe(t):void 0,r=n?n[0]:t.charAt(0),s=n?VAe(n,1).join(""):t.slice(1);return r[e]()+s}}var qAe=HAe,GAe=qAe,YAe=GAe("toUpperCase"),XAe=YAe;const Ew=rn(XAe);function An(e){return function(){return e}}const Rq=Math.cos,lv=Math.sin,Pi=Math.sqrt,cv=Math.PI,Aw=2*cv,hC=Math.PI,mC=2*hC,Du=1e-6,ZAe=mC-Du;function Bq(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function JAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Bq;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class QAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Bq:JAe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Du)if(!(Math.abs(f*c-u*d)>Du)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,b=s-l,x=c*c+u*u,y=p*p+b*b,v=Math.sqrt(x),j=Math.sqrt(h),S=a*Math.tan((hC-Math.acos((x+h-y)/(2*v*j)))/2),N=S/j,C=S/v;Math.abs(N-1)>Du&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*p>d*b)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,r,s,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Du||Math.abs(this._y1-d)>Du)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%mC+mC),h>ZAe?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Du&&this._append`A${r},${r},0,${+(h>=hC)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function mE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new QAe(t)}function pE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zq(e){this._context=e}zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pw(e){return new zq(e)}function Vq(e){return e[0]}function Wq(e){return e[1]}function Uq(e,t){var n=An(!0),r=null,s=Pw,a=null,o=mE(l);e=typeof e=="function"?e:e===void 0?Vq:An(e),t=typeof t=="function"?t:t===void 0?Wq:An(t);function l(c){var u,d=(c=pE(c)).length,f,h=!1,p;for(r==null&&(a=s(p=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:An(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:An(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:An(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function Dx(e,t,n){var r=null,s=An(!0),a=null,o=Pw,l=null,c=mE(u);e=typeof e=="function"?e:e===void 0?Vq:An(+e),t=typeof t=="function"?t:An(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Wq:An(+n);function u(f){var h,p,b,x=(f=pE(f)).length,y,v=!1,j,S=new Array(x),N=new Array(x);for(a==null&&(l=o(j=c())),h=0;h<=x;++h){if(!(h<x&&s(y=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(S[b],N[b]);l.lineEnd(),l.areaEnd()}v&&(S[h]=+e(y,h,f),N[h]=+t(y,h,f),l.point(r?+r(y,h,f):S[h],n?+n(y,h,f):N[h]))}if(j)return l=null,j+""||null}function d(){return Uq().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:An(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:An(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:An(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:An(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:An(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:An(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:An(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class Kq{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ePe(e){return new Kq(e,!0)}function tPe(e){return new Kq(e,!1)}const gE={draw(e,t){const n=Pi(t/cv);e.moveTo(n,0),e.arc(0,0,n,0,Aw)}},nPe={draw(e,t){const n=Pi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Hq=Pi(1/3),rPe=Hq*2,sPe={draw(e,t){const n=Pi(t/rPe),r=n*Hq;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},aPe={draw(e,t){const n=Pi(t),r=-n/2;e.rect(r,r,n,n)}},iPe=.8908130915292852,qq=lv(cv/10)/lv(7*cv/10),oPe=lv(Aw/10)*qq,lPe=-Rq(Aw/10)*qq,cPe={draw(e,t){const n=Pi(t*iPe),r=oPe*n,s=lPe*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const o=Aw*a/5,l=Rq(o),c=lv(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},Oj=Pi(3),uPe={draw(e,t){const n=-Pi(t/(Oj*3));e.moveTo(0,n*2),e.lineTo(-Oj*n,-n),e.lineTo(Oj*n,-n),e.closePath()}},Ta=-.5,Ma=Pi(3)/2,pC=1/Pi(12),dPe=(pC/2+1)*3,fPe={draw(e,t){const n=Pi(t/dPe),r=n/2,s=n*pC,a=r,o=n*pC+n,l=-a,c=o;e.moveTo(r,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ta*r-Ma*s,Ma*r+Ta*s),e.lineTo(Ta*a-Ma*o,Ma*a+Ta*o),e.lineTo(Ta*l-Ma*c,Ma*l+Ta*c),e.lineTo(Ta*r+Ma*s,Ta*s-Ma*r),e.lineTo(Ta*a+Ma*o,Ta*o-Ma*a),e.lineTo(Ta*l+Ma*c,Ta*c-Ma*l),e.closePath()}};function hPe(e,t){let n=null,r=mE(s);e=typeof e=="function"?e:An(e||gE),t=typeof t=="function"?t:An(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:An(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:An(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function uv(){}function dv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gq(e){this._context=e}Gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mPe(e){return new Gq(e)}function Yq(e){this._context=e}Yq.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pPe(e){return new Yq(e)}function Xq(e){this._context=e}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gPe(e){return new Xq(e)}function Zq(e){this._context=e}Zq.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bPe(e){return new Zq(e)}function zM(e){return e<0?-1:1}function VM(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(zM(a)+zM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function WM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lj(e,t,n){var r=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,s+l*t,a-l,o-l*n,a,o)}function fv(e){this._context=e}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lj(this,this._t0,WM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lj(this,WM(this,n=VM(this,e,t)),n);break;default:Lj(this,this._t0,n=VM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Jq(e){this._context=new Qq(e)}(Jq.prototype=Object.create(fv.prototype)).point=function(e,t){fv.prototype.point.call(this,t,e)};function Qq(e){this._context=e}Qq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function xPe(e){return new fv(e)}function yPe(e){return new Jq(e)}function eG(e){this._context=e}eG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=UM(e),s=UM(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UM(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function vPe(e){return new eG(e)}function Dw(e,t){this._context=e,this._t=t}Dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wPe(e){return new Dw(e,.5)}function SPe(e){return new Dw(e,0)}function jPe(e){return new Dw(e,1)}function uh(e,t){if((o=e.length)>1)for(var n=1,r,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function gC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function CPe(e,t){return e[t]}function NPe(e){const t=[];return t.key=e,t}function $Pe(){var e=An([]),t=gC,n=uh,r=CPe;function s(a){var o=Array.from(e.apply(this,arguments),NPe),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=pE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:An(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:An(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?gC:typeof a=="function"?a:An(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??uh,s):n},s}function EPe(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}uh(e,t)}}function APe(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}uh(e,t)}}function PPe(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,b=0;b<l;++b){var x=e[t[b]],y=x[r][1]||0,v=x[r-1][1]||0;p+=y-v}c+=f,u+=p*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,uh(e,t)}}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}var DPe=["type","size","sizeType"];function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bC.apply(this,arguments)}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function HM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(r){kPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kPe(e,t,n){return t=IPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IPe(e){var t=TPe(e,"string");return jg(t)=="symbol"?t:t+""}function TPe(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MPe(e,t){if(e==null)return{};var n=OPe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var tG={symbolCircle:gE,symbolCross:nPe,symbolDiamond:sPe,symbolSquare:aPe,symbolStar:cPe,symbolTriangle:uPe,symbolWye:fPe},LPe=Math.PI/180,_Pe=function(t){var n="symbol".concat(Ew(t));return tG[n]||gE},FPe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*LPe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},RPe=function(t,n){tG["symbol".concat(Ew(t))]=n},bE=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=MPe(t,DPe),u=HM(HM({},c),{},{type:r,size:a,sizeType:l}),d=function(){var y=_Pe(r),v=hPe().type(y).size(FPe(a,l,r));return v()},f=u.className,h=u.cx,p=u.cy,b=wt(u,!0);return h===+h&&p===+p&&a===+a?Z.createElement("path",bC({},b,{className:_t("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};bE.registerSymbol=RPe;function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xC.apply(this,arguments)}function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function BPe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){Cg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rG(r.key),r)}}function WPe(e,t,n){return t&&VPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UPe(e,t,n){return t=hv(t),KPe(e,nG()?Reflect.construct(t,n||[],hv(e).constructor):t.apply(e,n))}function KPe(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HPe(e)}function HPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nG=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},yC(e,t)}function Cg(e,t,n){return t=rG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rG(e){var t=GPe(e,"string");return dh(t)=="symbol"?t:t+""}function GPe(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ci=32,xE=function(e){function t(){return zPe(this,t),UPe(this,t,arguments)}return qPe(t,e),WPe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=ci/2,o=ci/6,l=ci/3,c=r.inactive?s:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ci,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ci,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ci/8,"h").concat(ci,"v").concat(ci*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var u=BPe({},r);return delete u.legendIcon,Z.cloneElement(r.legendIcon,u)}return Z.createElement(bE,{fill:c,cx:a,cy:a,size:ci,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ci,height:ci},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,b){var x=p.formatter||c,y=_t(Cg(Cg({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=jt(p.value)?null:p.value;Si(!jt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?u:p.color;return Z.createElement("li",xC({className:y,style:f,key:"legend-item-".concat(b)},fd(r.props,p,b)),Z.createElement(cC,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},x?x(v,p,b):v))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(m.PureComponent);Cg(xE,"displayName","Legend");Cg(xE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YPe=mw;function XPe(){this.__data__=new YPe,this.size=0}var ZPe=XPe;function JPe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var QPe=JPe;function eDe(e){return this.__data__.get(e)}var tDe=eDe;function nDe(e){return this.__data__.has(e)}var rDe=nDe,sDe=mw,aDe=aE,iDe=iE,oDe=200;function lDe(e,t){var n=this.__data__;if(n instanceof sDe){var r=n.__data__;if(!aDe||r.length<oDe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new iDe(r)}return n.set(e,t),this.size=n.size,this}var cDe=lDe,uDe=mw,dDe=ZPe,fDe=QPe,hDe=tDe,mDe=rDe,pDe=cDe;function Jh(e){var t=this.__data__=new uDe(e);this.size=t.size}Jh.prototype.clear=dDe;Jh.prototype.delete=fDe;Jh.prototype.get=hDe;Jh.prototype.has=mDe;Jh.prototype.set=pDe;var sG=Jh,gDe="__lodash_hash_undefined__";function bDe(e){return this.__data__.set(e,gDe),this}var xDe=bDe;function yDe(e){return this.__data__.has(e)}var vDe=yDe,wDe=iE,SDe=xDe,jDe=vDe;function mv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wDe;++t<n;)this.add(e[t])}mv.prototype.add=mv.prototype.push=SDe;mv.prototype.has=jDe;var aG=mv;function CDe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var iG=CDe;function NDe(e,t){return e.has(t)}var oG=NDe,$De=aG,EDe=iG,ADe=oG,PDe=1,DDe=2;function kDe(e,t,n,r,s,a){var o=n&PDe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=n&DDe?new $De:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var b=e[f],x=t[f];if(r)var y=o?r(x,b,f,t,e,a):r(b,x,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!EDe(t,function(v,j){if(!ADe(p,j)&&(b===v||s(b,v,n,r,a)))return p.push(j)})){h=!1;break}}else if(!(b===x||s(b,x,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var lG=kDe,IDe=lo,TDe=IDe.Uint8Array,MDe=TDe;function ODe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var LDe=ODe;function _De(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var yE=_De,GM=B0,YM=MDe,FDe=sE,RDe=lG,BDe=LDe,zDe=yE,VDe=1,WDe=2,UDe="[object Boolean]",KDe="[object Date]",HDe="[object Error]",qDe="[object Map]",GDe="[object Number]",YDe="[object RegExp]",XDe="[object Set]",ZDe="[object String]",JDe="[object Symbol]",QDe="[object ArrayBuffer]",eke="[object DataView]",XM=GM?GM.prototype:void 0,_j=XM?XM.valueOf:void 0;function tke(e,t,n,r,s,a,o){switch(n){case eke:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case QDe:return!(e.byteLength!=t.byteLength||!a(new YM(e),new YM(t)));case UDe:case KDe:case GDe:return FDe(+e,+t);case HDe:return e.name==t.name&&e.message==t.message;case YDe:case ZDe:return e==t+"";case qDe:var l=BDe;case XDe:var c=r&VDe;if(l||(l=zDe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=WDe,o.set(e,t);var d=RDe(l(e),l(t),r,s,a,o);return o.delete(e),d;case JDe:if(_j)return _j.call(e)==_j.call(t)}return!1}var nke=tke;function rke(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var cG=rke,ske=cG,ake=Gs;function ike(e,t,n){var r=t(e);return ake(e)?r:ske(r,n(e))}var oke=ike;function lke(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var cke=lke;function uke(){return[]}var dke=uke,fke=cke,hke=dke,mke=Object.prototype,pke=mke.propertyIsEnumerable,ZM=Object.getOwnPropertySymbols,gke=ZM?function(e){return e==null?[]:(e=Object(e),fke(ZM(e),function(t){return pke.call(e,t)}))}:hke,bke=gke;function xke(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var yke=xke,vke=jl,wke=Cl,Ske="[object Arguments]";function jke(e){return wke(e)&&vke(e)==Ske}var Cke=jke,JM=Cke,Nke=Cl,uG=Object.prototype,$ke=uG.hasOwnProperty,Eke=uG.propertyIsEnumerable,Ake=JM(function(){return arguments}())?JM:function(e){return Nke(e)&&$ke.call(e,"callee")&&!Eke.call(e,"callee")},vE=Ake,pv={exports:{}};function Pke(){return!1}var Dke=Pke;pv.exports;(function(e,t){var n=lo,r=Dke,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(pv,pv.exports);var dG=pv.exports,kke=9007199254740991,Ike=/^(?:0|[1-9]\d*)$/;function Tke(e,t){var n=typeof e;return t=t??kke,!!t&&(n=="number"||n!="symbol"&&Ike.test(e))&&e>-1&&e%1==0&&e<t}var wE=Tke,Mke=9007199254740991;function Oke(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mke}var SE=Oke,Lke=jl,_ke=SE,Fke=Cl,Rke="[object Arguments]",Bke="[object Array]",zke="[object Boolean]",Vke="[object Date]",Wke="[object Error]",Uke="[object Function]",Kke="[object Map]",Hke="[object Number]",qke="[object Object]",Gke="[object RegExp]",Yke="[object Set]",Xke="[object String]",Zke="[object WeakMap]",Jke="[object ArrayBuffer]",Qke="[object DataView]",eIe="[object Float32Array]",tIe="[object Float64Array]",nIe="[object Int8Array]",rIe="[object Int16Array]",sIe="[object Int32Array]",aIe="[object Uint8Array]",iIe="[object Uint8ClampedArray]",oIe="[object Uint16Array]",lIe="[object Uint32Array]",Fn={};Fn[eIe]=Fn[tIe]=Fn[nIe]=Fn[rIe]=Fn[sIe]=Fn[aIe]=Fn[iIe]=Fn[oIe]=Fn[lIe]=!0;Fn[Rke]=Fn[Bke]=Fn[Jke]=Fn[zke]=Fn[Qke]=Fn[Vke]=Fn[Wke]=Fn[Uke]=Fn[Kke]=Fn[Hke]=Fn[qke]=Fn[Gke]=Fn[Yke]=Fn[Xke]=Fn[Zke]=!1;function cIe(e){return Fke(e)&&_ke(e.length)&&!!Fn[Lke(e)]}var uIe=cIe;function dIe(e){return function(t){return e(t)}}var fG=dIe,gv={exports:{}};gv.exports;(function(e,t){var n=vq,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(gv,gv.exports);var fIe=gv.exports,hIe=uIe,mIe=fG,QM=fIe,eO=QM&&QM.isTypedArray,pIe=eO?mIe(eO):hIe,hG=pIe,gIe=yke,bIe=vE,xIe=Gs,yIe=dG,vIe=wE,wIe=hG,SIe=Object.prototype,jIe=SIe.hasOwnProperty;function CIe(e,t){var n=xIe(e),r=!n&&bIe(e),s=!n&&!r&&yIe(e),a=!n&&!r&&!s&&wIe(e),o=n||r||s||a,l=o?gIe(e.length,String):[],c=l.length;for(var u in e)(t||jIe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vIe(u,c)))&&l.push(u);return l}var NIe=CIe,$Ie=Object.prototype;function EIe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$Ie;return e===n}var AIe=EIe;function PIe(e,t){return function(n){return e(t(n))}}var mG=PIe,DIe=mG,kIe=DIe(Object.keys,Object),IIe=kIe,TIe=AIe,MIe=IIe,OIe=Object.prototype,LIe=OIe.hasOwnProperty;function _Ie(e){if(!TIe(e))return MIe(e);var t=[];for(var n in Object(e))LIe.call(e,n)&&n!="constructor"&&t.push(n);return t}var FIe=_Ie,RIe=rE,BIe=SE;function zIe(e){return e!=null&&BIe(e.length)&&!RIe(e)}var W0=zIe,VIe=NIe,WIe=FIe,UIe=W0;function KIe(e){return UIe(e)?VIe(e):WIe(e)}var kw=KIe,HIe=oke,qIe=bke,GIe=kw;function YIe(e){return HIe(e,GIe,qIe)}var XIe=YIe,tO=XIe,ZIe=1,JIe=Object.prototype,QIe=JIe.hasOwnProperty;function eTe(e,t,n,r,s,a){var o=n&ZIe,l=tO(e),c=l.length,u=tO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:QIe.call(t,h)))return!1}var p=a.get(e),b=a.get(t);if(p&&b)return p==t&&b==e;var x=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var v=e[h],j=t[h];if(r)var S=o?r(j,v,h,t,e,a):r(v,j,h,e,t,a);if(!(S===void 0?v===j||s(v,j,n,r,a):S)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var N=e.constructor,C=t.constructor;N!=C&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(x=!1)}return a.delete(e),a.delete(t),x}var tTe=eTe,nTe=Id,rTe=lo,sTe=nTe(rTe,"DataView"),aTe=sTe,iTe=Id,oTe=lo,lTe=iTe(oTe,"Promise"),cTe=lTe,uTe=Id,dTe=lo,fTe=uTe(dTe,"Set"),pG=fTe,hTe=Id,mTe=lo,pTe=hTe(mTe,"WeakMap"),gTe=pTe,vC=aTe,wC=aE,SC=cTe,jC=pG,CC=gTe,gG=jl,Qh=Sq,nO="[object Map]",bTe="[object Object]",rO="[object Promise]",sO="[object Set]",aO="[object WeakMap]",iO="[object DataView]",xTe=Qh(vC),yTe=Qh(wC),vTe=Qh(SC),wTe=Qh(jC),STe=Qh(CC),ku=gG;(vC&&ku(new vC(new ArrayBuffer(1)))!=iO||wC&&ku(new wC)!=nO||SC&&ku(SC.resolve())!=rO||jC&&ku(new jC)!=sO||CC&&ku(new CC)!=aO)&&(ku=function(e){var t=gG(e),n=t==bTe?e.constructor:void 0,r=n?Qh(n):"";if(r)switch(r){case xTe:return iO;case yTe:return nO;case vTe:return rO;case wTe:return sO;case STe:return aO}return t});var jTe=ku,Fj=sG,CTe=lG,NTe=nke,$Te=tTe,oO=jTe,lO=Gs,cO=dG,ETe=hG,ATe=1,uO="[object Arguments]",dO="[object Array]",kx="[object Object]",PTe=Object.prototype,fO=PTe.hasOwnProperty;function DTe(e,t,n,r,s,a){var o=lO(e),l=lO(t),c=o?dO:oO(e),u=l?dO:oO(t);c=c==uO?kx:c,u=u==uO?kx:u;var d=c==kx,f=u==kx,h=c==u;if(h&&cO(e)){if(!cO(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Fj),o||ETe(e)?CTe(e,t,n,r,s,a):NTe(e,t,c,n,r,s,a);if(!(n&ATe)){var p=d&&fO.call(e,"__wrapped__"),b=f&&fO.call(t,"__wrapped__");if(p||b){var x=p?e.value():e,y=b?t.value():t;return a||(a=new Fj),s(x,y,n,r,a)}}return h?(a||(a=new Fj),$Te(e,t,n,r,s,a)):!1}var kTe=DTe,ITe=kTe,hO=Cl;function bG(e,t,n,r,s){return e===t?!0:e==null||t==null||!hO(e)&&!hO(t)?e!==e&&t!==t:ITe(e,t,n,r,bG,s)}var jE=bG,TTe=sG,MTe=jE,OTe=1,LTe=2;function _Te(e,t,n,r){var s=n.length,a=s,o=!r;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new TTe;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?MTe(d,u,OTe|LTe,r,f):h))return!1}}return!0}var FTe=_Te,RTe=Jc;function BTe(e){return e===e&&!RTe(e)}var xG=BTe,zTe=xG,VTe=kw;function WTe(e){for(var t=VTe(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,zTe(s)]}return t}var UTe=WTe;function KTe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var yG=KTe,HTe=FTe,qTe=UTe,GTe=yG;function YTe(e){var t=qTe(e);return t.length==1&&t[0][2]?GTe(t[0][0],t[0][1]):function(n){return n===e||HTe(n,e,t)}}var XTe=YTe;function ZTe(e,t){return e!=null&&t in Object(e)}var JTe=ZTe,QTe=Eq,e6e=vE,t6e=Gs,n6e=wE,r6e=SE,s6e=gw;function a6e(e,t,n){t=QTe(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var o=s6e(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&r6e(s)&&n6e(o,s)&&(t6e(e)||e6e(e)))}var i6e=a6e,o6e=JTe,l6e=i6e;function c6e(e,t){return e!=null&&l6e(e,t,o6e)}var u6e=c6e,d6e=jE,f6e=Aq,h6e=u6e,m6e=nE,p6e=xG,g6e=yG,b6e=gw,x6e=1,y6e=2;function v6e(e,t){return m6e(e)&&p6e(t)?g6e(b6e(e),t):function(n){var r=f6e(n,e);return r===void 0&&r===t?h6e(n,e):d6e(t,r,x6e|y6e)}}var w6e=v6e;function S6e(e){return e}var em=S6e;function j6e(e){return function(t){return t==null?void 0:t[e]}}var C6e=j6e,N6e=cE;function $6e(e){return function(t){return N6e(t,e)}}var E6e=$6e,A6e=C6e,P6e=E6e,D6e=nE,k6e=gw;function I6e(e){return D6e(e)?A6e(k6e(e)):P6e(e)}var T6e=I6e,M6e=XTe,O6e=w6e,L6e=em,_6e=Gs,F6e=T6e;function R6e(e){return typeof e=="function"?e:e==null?L6e:typeof e=="object"?_6e(e)?O6e(e[0],e[1]):M6e(e):F6e(e)}var co=R6e;function B6e(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var vG=B6e;function z6e(e){return e!==e}var V6e=z6e;function W6e(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var U6e=W6e,K6e=vG,H6e=V6e,q6e=U6e;function G6e(e,t,n){return t===t?q6e(e,t,n):K6e(e,H6e,n)}var Y6e=G6e,X6e=Y6e;function Z6e(e,t){var n=e==null?0:e.length;return!!n&&X6e(e,t,0)>-1}var J6e=Z6e;function Q6e(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var eMe=Q6e;function tMe(){}var nMe=tMe,Rj=pG,rMe=nMe,sMe=yE,aMe=1/0,iMe=Rj&&1/sMe(new Rj([,-0]))[1]==aMe?function(e){return new Rj(e)}:rMe,oMe=iMe,lMe=aG,cMe=J6e,uMe=eMe,dMe=oG,fMe=oMe,hMe=yE,mMe=200;function pMe(e,t,n){var r=-1,s=cMe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=uMe;else if(a>=mMe){var u=t?null:fMe(e);if(u)return hMe(u);o=!1,s=dMe,c=new lMe}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var gMe=pMe,bMe=co,xMe=gMe;function yMe(e,t){return e&&e.length?xMe(e,bMe(t)):[]}var vMe=yMe;const mO=rn(vMe);function wG(e,t,n){return t===!0?mO(e,n):jt(t)?mO(e,t):e}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}var wMe=["ref"];function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){Iw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jG(r.key),r)}}function jMe(e,t,n){return t&&gO(e.prototype,t),n&&gO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CMe(e,t,n){return t=bv(t),NMe(e,SG()?Reflect.construct(t,n||[],bv(e).constructor):t.apply(e,n))}function NMe(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Me(e)}function $Me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(e)}function EMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},NC(e,t)}function Iw(e,t,n){return t=jG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jG(e){var t=AMe(e,"string");return fh(t)=="symbol"?t:t+""}function AMe(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PMe(e,t){if(e==null)return{};var n=DMe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kMe(e){return e.value}function IMe(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var n=PMe(t,wMe);return Z.createElement(xE,n)}var bO=1,Wa=function(e){function t(){var n;SMe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=CMe(this,t,[].concat(s)),Iw(n,"lastBoundingBox",{width:-1,height:-1}),n}return EMe(t,e),jMe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>bO||Math.abs(s.height-this.lastBoundingBox.height)>bO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Io(Io({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Io(Io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},IMe(a,Io(Io({},this.props),{},{payload:wG(d,u,kMe)})))}}],[{key:"getWithHeight",value:function(r,s){var a=Io(Io({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&He(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(m.PureComponent);Iw(Wa,"displayName","Legend");Iw(Wa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xO=B0,TMe=vE,MMe=Gs,yO=xO?xO.isConcatSpreadable:void 0;function OMe(e){return MMe(e)||TMe(e)||!!(yO&&e&&e[yO])}var LMe=OMe,_Me=cG,FMe=LMe;function CG(e,t,n,r,s){var a=-1,o=e.length;for(n||(n=FMe),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?CG(l,t-1,n,r,s):_Me(s,l):r||(s[s.length]=l)}return s}var NG=CG;function RMe(e){return function(t,n,r){for(var s=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var BMe=RMe,zMe=BMe,VMe=zMe(),WMe=VMe,UMe=WMe,KMe=kw;function HMe(e,t){return e&&UMe(e,t,KMe)}var $G=HMe,qMe=W0;function GMe(e,t){return function(n,r){if(n==null)return n;if(!qMe(n))return e(n,r);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&r(o[a],a,o)!==!1;);return n}}var YMe=GMe,XMe=$G,ZMe=YMe,JMe=ZMe(XMe),CE=JMe,QMe=CE,eOe=W0;function tOe(e,t){var n=-1,r=eOe(e)?Array(e.length):[];return QMe(e,function(s,a,o){r[++n]=t(s,a,o)}),r}var EG=tOe;function nOe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var rOe=nOe,vO=qh;function sOe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=vO(e),o=t!==void 0,l=t===null,c=t===t,u=vO(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var aOe=sOe,iOe=aOe;function oOe(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++r<o;){var c=iOe(s[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var lOe=oOe,Bj=lE,cOe=cE,uOe=co,dOe=EG,fOe=rOe,hOe=fG,mOe=lOe,pOe=em,gOe=Gs;function bOe(e,t,n){t.length?t=Bj(t,function(a){return gOe(a)?function(o){return cOe(o,a.length===1?a[0]:a)}:a}):t=[pOe];var r=-1;t=Bj(t,hOe(uOe));var s=dOe(e,function(a,o,l){var c=Bj(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return fOe(s,function(a,o){return mOe(a,o,n)})}var xOe=bOe;function yOe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vOe=yOe,wOe=vOe,wO=Math.max;function SOe(e,t,n){return t=wO(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=wO(r.length-t,0),o=Array(a);++s<a;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),wOe(e,this,l)}}var jOe=SOe;function COe(e){return function(){return e}}var NOe=COe,$Oe=Id,EOe=function(){try{var e=$Oe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),AG=EOe,AOe=NOe,SO=AG,POe=em,DOe=SO?function(e,t){return SO(e,"toString",{configurable:!0,enumerable:!1,value:AOe(t),writable:!0})}:POe,kOe=DOe,IOe=800,TOe=16,MOe=Date.now;function OOe(e){var t=0,n=0;return function(){var r=MOe(),s=TOe-(r-n);if(n=r,s>0){if(++t>=IOe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var LOe=OOe,_Oe=kOe,FOe=LOe,ROe=FOe(_Oe),BOe=ROe,zOe=em,VOe=jOe,WOe=BOe;function UOe(e,t){return WOe(VOe(e,t,zOe),e+"")}var KOe=UOe,HOe=sE,qOe=W0,GOe=wE,YOe=Jc;function XOe(e,t,n){if(!YOe(n))return!1;var r=typeof t;return(r=="number"?qOe(n)&&GOe(t,n.length):r=="string"&&t in n)?HOe(n[t],e):!1}var Tw=XOe,ZOe=NG,JOe=xOe,QOe=KOe,jO=Tw,eLe=QOe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&jO(e,t[0],t[1])?t=[]:n>2&&jO(t[0],t[1],t[2])&&(t=[t[0]]),JOe(e,ZOe(t,1),[])}),tLe=eLe;const NE=rn(tLe);function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(this,arguments)}function nLe(e,t){return iLe(e)||aLe(e,t)||sLe(e,t)||rLe()}function rLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sLe(e,t){if(e){if(typeof e=="string")return CO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iLe(e){if(Array.isArray(e))return e}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){oLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oLe(e,t,n){return t=lLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lLe(e){var t=cLe(e,"string");return Ng(t)=="symbol"?t:t+""}function cLe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uLe(e){return Array.isArray(e)&&Nr(e[0])&&Nr(e[1])?e.join(" ~ "):e}var dLe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,x=t.label,y=t.labelFormatter,v=t.accessibilityLayer,j=v===void 0?!1:v,S=function(){if(d&&d.length){var I={padding:0,margin:0},L=(h?NE(d,h):d).map(function(R,F){if(R.type==="none")return null;var T=zj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),O=R.formatter||f||uLe,_=R.value,W=R.name,z=_,U=W;if(O&&z!=null&&U!=null){var H=O(_,W,R,F,d);if(Array.isArray(H)){var B=nLe(H,2);z=B[0],U=B[1]}else z=H}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:T},Nr(U)?Z.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Nr(U)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},z),Z.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},L)}return null},N=zj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=zj({margin:0},u),$=!Vt(x),P=$?x:"",E=_t("recharts-default-tooltip",p),M=_t("recharts-tooltip-label",b);$&&y&&d!==void 0&&d!==null&&(P=y(x,d));var k=j?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",$C({className:E,style:N},k),Z.createElement("p",{className:M,style:C},Z.isValidElement(P)?P:"".concat(P)),S())};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function Ix(e,t,n){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fLe(e){var t=hLe(e,"string");return $g(t)=="symbol"?t:t+""}function hLe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xm="recharts-tooltip-wrapper",mLe={visibility:"hidden"};function pLe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return _t(Xm,Ix(Ix(Ix(Ix({},"".concat(Xm,"-right"),He(n)&&t&&He(t.x)&&n>=t.x),"".concat(Xm,"-left"),He(n)&&t&&He(t.x)&&n<t.x),"".concat(Xm,"-bottom"),He(r)&&t&&He(t.y)&&r>=t.y),"".concat(Xm,"-top"),He(r)&&t&&He(t.y)&&r<t.y))}function $O(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&He(a[r]))return a[r];var d=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?d:f;if(o[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var b=f+l,x=c[r]+u;return b>x?Math.max(d,c[r]):Math.max(f,c[r])}function gLe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bLe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=$O({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=$O({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=gLe({translateX:d,translateY:f,useTranslate3d:l})):u=mLe,{cssProperties:u,cssClasses:pLe({translateX:d,translateY:f,coordinate:n})}}function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(r){AC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DG(r.key),r)}}function vLe(e,t,n){return t&&yLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,n){return t=xv(t),SLe(e,PG()?Reflect.construct(t,n||[],xv(e).constructor):t.apply(e,n))}function SLe(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jLe(e)}function jLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!e})()}function xv(e){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(e)}function CLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},EC(e,t)}function AC(e,t,n){return t=DG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DG(e){var t=NLe(e,"string");return hh(t)=="symbol"?t:t+""}function NLe(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PO=1,$Le=function(e){function t(){var n;xLe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=wLe(this,t,[].concat(s)),AC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return CLe(t,e),vLe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PO||Math.abs(r.height-this.state.lastBoundingBox.height)>PO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,b=s.position,x=s.reverseDirection,y=s.useTranslate3d,v=s.viewBox,j=s.wrapperStyle,S=bLe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),N=S.cssClasses,C=S.cssProperties,$=AO(AO({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return Z.createElement("div",{tabIndex:-1,className:N,style:$,ref:function(E){r.wrapperNode=E}},u)}}])}(m.PureComponent),ELe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tm={isSsr:ELe()};function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(n),!0).forEach(function(r){$E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IG(r.key),r)}}function DLe(e,t,n){return t&&PLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kLe(e,t,n){return t=yv(t),ILe(e,kG()?Reflect.construct(t,n||[],yv(e).constructor):t.apply(e,n))}function ILe(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TLe(e)}function TLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!e})()}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(e)}function MLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},PC(e,t)}function $E(e,t,n){return t=IG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=OLe(e,"string");return mh(t)=="symbol"?t:t+""}function OLe(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LLe(e){return e.dataKey}function _Le(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(dLe,t)}var Jr=function(e){function t(){return ALe(this,t),kLe(this,t,arguments)}return MLe(t,e),DLe(t,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,b=s.payload,x=s.payloadUniqBy,y=s.position,v=s.reverseDirection,j=s.useTranslate3d,S=s.viewBox,N=s.wrapperStyle,C=b??[];f&&C.length&&(C=wG(b.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),x,LLe));var $=C.length>0;return Z.createElement($Le,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:$,offset:p,position:y,reverseDirection:v,useTranslate3d:j,viewBox:S,wrapperStyle:N},_Le(u,kO(kO({},this.props),{},{payload:C})))}}])}(m.PureComponent);$E(Jr,"displayName","Tooltip");$E(Jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var FLe=lo,RLe=function(){return FLe.Date.now()},BLe=RLe,zLe=/\s/;function VLe(e){for(var t=e.length;t--&&zLe.test(e.charAt(t)););return t}var WLe=VLe,ULe=WLe,KLe=/^\s+/;function HLe(e){return e&&e.slice(0,ULe(e)+1).replace(KLe,"")}var qLe=HLe,GLe=qLe,IO=Jc,YLe=qh,TO=NaN,XLe=/^[-+]0x[0-9a-f]+$/i,ZLe=/^0b[01]+$/i,JLe=/^0o[0-7]+$/i,QLe=parseInt;function e7e(e){if(typeof e=="number")return e;if(YLe(e))return TO;if(IO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=IO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GLe(e);var n=ZLe.test(e);return n||JLe.test(e)?QLe(e.slice(2),n?2:8):XLe.test(e)?TO:+e}var TG=e7e,t7e=Jc,Vj=BLe,MO=TG,n7e="Expected a function",r7e=Math.max,s7e=Math.min;function a7e(e,t,n){var r,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(n7e);t=MO(t)||0,t7e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?r7e(MO(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p($){var P=r,E=s;return r=s=void 0,u=$,o=e.apply(E,P),o}function b($){return u=$,l=setTimeout(v,t),d?p($):o}function x($){var P=$-c,E=$-u,M=t-P;return f?s7e(M,a-E):M}function y($){var P=$-c,E=$-u;return c===void 0||P>=t||P<0||f&&E>=a}function v(){var $=Vj();if(y($))return j($);l=setTimeout(v,x($))}function j($){return l=void 0,h&&r?p($):(r=s=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function N(){return l===void 0?o:j(Vj())}function C(){var $=Vj(),P=y($);if(r=arguments,s=this,c=$,P){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return C.cancel=S,C.flush=N,C}var i7e=a7e,o7e=i7e,l7e=Jc,c7e="Expected a function";function u7e(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(c7e);return l7e(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),o7e(e,t,{leading:r,maxWait:t,trailing:s})}var d7e=u7e;const MG=rn(d7e);function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){f7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7e(e,t,n){return t=h7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7e(e){var t=m7e(e,"string");return Eg(t)=="symbol"?t:t+""}function m7e(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p7e(e,t){return y7e(e)||x7e(e,t)||b7e(e,t)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(e,t){if(e){if(typeof e=="string")return LO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(e,t)}}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y7e(e){if(Array.isArray(e))return e}var hd=m.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,x=b===void 0?0:b,y=e.id,v=e.className,j=e.onResize,S=e.style,N=S===void 0?{}:S,C=m.useRef(null),$=m.useRef();$.current=j,m.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=m.useState({containerWidth:s.width,containerHeight:s.height}),E=p7e(P,2),M=E[0],k=E[1],A=m.useCallback(function(L,R){k(function(F){var T=Math.round(L),O=Math.round(R);return F.containerWidth===T&&F.containerHeight===O?F:{containerWidth:T,containerHeight:O}})},[]);m.useEffect(function(){var L=function(W){var z,U=W[0].contentRect,H=U.width,B=U.height;A(H,B),(z=$.current)===null||z===void 0||z.call($,H,B)};x>0&&(L=MG(L,x,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),F=C.current.getBoundingClientRect(),T=F.width,O=F.height;return A(T,O),R.observe(C.current),function(){R.disconnect()}},[A,x]);var I=m.useMemo(function(){var L=M.containerWidth,R=M.containerHeight;if(L<0||R<0)return null;Si(Xu(o)||Xu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Si(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Xu(o)?L:o,T=Xu(c)?R:c;n&&n>0&&(F?T=F/n:T&&(F=T*n),h&&T>h&&(T=h)),Si(F>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,T,o,c,d,f,n);var O=!Array.isArray(p)&&Xo(p.type).endsWith("Chart");return Z.Children.map(p,function(_){return Z.isValidElement(_)?m.cloneElement(_,Tx({width:F,height:T},O?{style:Tx({height:"100%",width:"100%",maxHeight:T,maxWidth:F},_.props.style)}:{})):_})},[n,p,c,h,f,d,M,o]);return Z.createElement("div",{id:y?"".concat(y):void 0,className:_t("recharts-responsive-container",v),style:Tx(Tx({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:C},I)}),md=function(t){return null};md.displayName="Cell";function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){v7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7e(e,t,n){return t=w7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7e(e){var t=S7e(e,"string");return Ag(t)=="symbol"?t:t+""}function S7e(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hf={widthCache:{},cacheCount:0},j7e=2e3,C7e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FO="recharts_measurement_span";function N7e(e){var t=DC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Kp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tm.isSsr)return{width:0,height:0};var r=N7e(n),s=JSON.stringify({text:t,copyStyle:r});if(hf.widthCache[s])return hf.widthCache[s];try{var a=document.getElementById(FO);a||(a=document.createElement("span"),a.setAttribute("id",FO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=DC(DC({},C7e),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return hf.widthCache[s]=c,++hf.cacheCount>j7e&&(hf.cacheCount=0,hf.widthCache={}),c}catch{return{width:0,height:0}}},$7e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function vv(e,t){return D7e(e)||P7e(e,t)||A7e(e,t)||E7e()}function E7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7e(e,t){if(e){if(typeof e=="string")return RO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(e,t)}}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function D7e(e){if(Array.isArray(e))return e}function k7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T7e(r.key),r)}}function I7e(e,t,n){return t&&BO(e.prototype,t),n&&BO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T7e(e){var t=M7e(e,"string");return Pg(t)=="symbol"?t:t+""}function M7e(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O7e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,L7e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_7e=Object.keys(OG),_f="NaN";function F7e(e,t){return e*OG[t]}var Mx=function(){function e(t,n){k7e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!O7e.test(n)&&(this.num=NaN,this.unit=""),_7e.includes(n)&&(this.num=F7e(t,n),this.unit="px")}return I7e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=L7e.exec(n))!==null&&r!==void 0?r:[],a=vv(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function LG(e){if(e.includes(_f))return _f;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=zO.exec(t))!==null&&n!==void 0?n:[],s=vv(r,4),a=s[1],o=s[2],l=s[3],c=Mx.parse(a??""),u=Mx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return _f;t=t.replace(zO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=VO.exec(t))!==null&&f!==void 0?f:[],p=vv(h,4),b=p[1],x=p[2],y=p[3],v=Mx.parse(b??""),j=Mx.parse(y??""),S=x==="+"?v.add(j):v.subtract(j);if(S.isNaN())return _f;t=t.replace(VO,S.toString())}return t}var WO=/\(([^()]*)\)/;function R7e(e){for(var t=e;t.includes("(");){var n=WO.exec(t),r=vv(n,2),s=r[1];t=t.replace(WO,LG(s))}return t}function B7e(e){var t=e.replace(/\s+/g,"");return t=R7e(t),t=LG(t),t}function z7e(e){try{return B7e(e)}catch{return _f}}function Wj(e){var t=z7e(e.slice(5,-1));return t===_f?"":t}var V7e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],W7e=["dx","dy","angle","className","breakAll"];function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kC.apply(this,arguments)}function UO(e,t){if(e==null)return{};var n=U7e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function U7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KO(e,t){return G7e(e)||q7e(e,t)||H7e(e,t)||K7e()}function K7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7e(e,t){if(e){if(typeof e=="string")return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(e,t)}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function G7e(e){if(Array.isArray(e))return e}var _G=/[ \f\n\r\t\v\u2028\u2029]+/,FG=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var a=[];Vt(n)||(r?a=n.toString().split(""):a=n.toString().split(_G));var o=a.map(function(c){return{word:c,width:Kp(c,s).width}}),l=r?0:Kp(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Y7e=function(t,n,r,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=He(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(T,O){var _=O.word,W=O.width,z=T[T.length-1];if(z&&(s==null||a||z.width+W+r<Number(s)))z.words.push(_),z.width+=W+r;else{var U={words:[_],width:W};T.push(U)}return T},[])},p=h(n),b=function(F){return F.reduce(function(T,O){return T.width>O.width?T:O})};if(!d)return p;for(var x="…",y=function(F){var T=f.slice(0,F),O=FG({breakAll:u,style:c,children:T+x}).wordsWithComputedWidth,_=h(O),W=_.length>o||b(_).width>Number(s);return[W,_]},v=0,j=f.length-1,S=0,N;v<=j&&S<=f.length-1;){var C=Math.floor((v+j)/2),$=C-1,P=y($),E=KO(P,2),M=E[0],k=E[1],A=y(C),I=KO(A,1),L=I[0];if(!M&&!L&&(v=C+1),M&&L&&(j=C-1),!M&&L){N=k;break}S++}return N||p},qO=function(t){var n=Vt(t)?[]:t.toString().split(_G);return[{words:n}]},X7e=function(t){var n=t.width,r=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!tm.isSsr){var c,u,d=FG({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return qO(s);return Y7e({breakAll:o,children:s,maxLines:l,style:a},c,u,n,r)}return qO(s)},GO="#808080",pd=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,x=b===void 0?"end":b,y=t.fill,v=y===void 0?GO:y,j=UO(t,V7e),S=m.useMemo(function(){return X7e({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),N=j.dx,C=j.dy,$=j.angle,P=j.className,E=j.breakAll,M=UO(j,W7e);if(!Nr(r)||!Nr(a))return null;var k=r+(He(N)?N:0),A=a+(He(C)?C:0),I;switch(x){case"start":I=Wj("calc(".concat(u,")"));break;case"middle":I=Wj("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=Wj("calc(".concat(S.length-1," * -").concat(l,")"));break}var L=[];if(f){var R=S[0].width,F=j.width;L.push("scale(".concat((He(F)?F/R:1)/R,")"))}return $&&L.push("rotate(".concat($,", ").concat(k,", ").concat(A,")")),L.length&&(M.transform=L.join(" ")),Z.createElement("text",kC({},wt(M,!0),{x:k,y:A,className:_t("recharts-text",P),textAnchor:p,fill:v.includes("url")?GO:v}),S.map(function(T,O){var _=T.words.join(E?"":" ");return Z.createElement("tspan",{x:k,dy:O===0?I:l,key:"".concat(_,"-").concat(O)},_)}))};function Sc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EE(e){let t,n,r;e.length!==2?(t=Sc,n=(l,c)=>Sc(e(l),c),r=(l,c)=>e(l)-c):(t=e===Sc||e===Z7e?e:J7e,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function J7e(){return 0}function RG(e){return e===null?NaN:+e}function*Q7e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const e_e=EE(Sc),U0=e_e.right;EE(RG).center;class YO extends Map{constructor(t,n=r_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(XO(this,t))}has(t){return super.has(XO(this,t))}set(t,n){return super.set(t_e(this,t),n)}delete(t){return super.delete(n_e(this,t))}}function XO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function t_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function n_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function r_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s_e(e=Sc){if(e===Sc)return BG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function BG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const a_e=Math.sqrt(50),i_e=Math.sqrt(10),o_e=Math.sqrt(2);function wv(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=a_e?10:a>=i_e?5:a>=o_e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?wv(e,t,n*2):[l,c,u]}function IC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,o]=r?wv(t,e,n):wv(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function TC(e,t,n){return t=+t,e=+e,n=+n,wv(e,t,n)[2]}function MC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?TC(t,e,n):TC(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function ZO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zG(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?BG:s_e(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/c+h)),b=Math.min(r,Math.floor(t+(c-u)*f/c+h));zG(e,t,p,b,s)}const a=e[t];let o=n,l=r;for(Zm(e,n,t),s(e[r],a)>0&&Zm(e,n,r);o<l;){for(Zm(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?Zm(e,n,l):(++l,Zm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Zm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function l_e(e,t,n){if(e=Float64Array.from(Q7e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return JO(e);if(t>=1)return ZO(e);var r,s=(r-1)*t,a=Math.floor(s),o=ZO(zG(e,a).subarray(0,a+1)),l=JO(e.subarray(a+1));return o+(l-o)*(s-a)}}function c_e(e,t,n=RG){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function u_e(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const OC=Symbol("implicit");function AE(){var e=new YO,t=[],n=[],r=OC;function s(a){let o=e.get(a);if(o===void 0){if(r!==OC)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new YO;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return AE(t,n).unknown(r)},ei.apply(s,arguments),s}function Dg(){var e=AE().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<r,b=p?s:r,x=p?r:s;a=(x-b)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),b+=(x-b-a*(h-c))*d,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var y=u_e(h).map(function(v){return b+a*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Dg(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},ei.apply(f(),arguments)}function VG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VG(t())},e}function Hp(){return VG(Dg.apply(null,arguments).paddingInner(1))}function PE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WG(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function K0(){}var kg=.7,Sv=1/kg,Gf="\\s*([+-]?\\d+)\\s*",Ig="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d_e=/^#([0-9a-f]{3,8})$/,f_e=new RegExp(`^rgb\\(${Gf},${Gf},${Gf}\\)$`),h_e=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),m_e=new RegExp(`^rgba\\(${Gf},${Gf},${Gf},${Ig}\\)$`),p_e=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${Ig}\\)$`),g_e=new RegExp(`^hsl\\(${Ig},${Xi},${Xi}\\)$`),b_e=new RegExp(`^hsla\\(${Ig},${Xi},${Xi},${Ig}\\)$`),QO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PE(K0,Tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eL,formatHex:eL,formatHex8:x_e,formatHsl:y_e,formatRgb:tL,toString:tL});function eL(){return this.rgb().formatHex()}function x_e(){return this.rgb().formatHex8()}function y_e(){return UG(this).formatHsl()}function tL(){return this.rgb().formatRgb()}function Tg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nL(t):n===3?new zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ox(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ox(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f_e.exec(e))?new zs(t[1],t[2],t[3],1):(t=h_e.exec(e))?new zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m_e.exec(e))?Ox(t[1],t[2],t[3],t[4]):(t=p_e.exec(e))?Ox(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g_e.exec(e))?aL(t[1],t[2]/100,t[3]/100,1):(t=b_e.exec(e))?aL(t[1],t[2]/100,t[3]/100,t[4]):QO.hasOwnProperty(e)?nL(QO[e]):e==="transparent"?new zs(NaN,NaN,NaN,0):null}function nL(e){return new zs(e>>16&255,e>>8&255,e&255,1)}function Ox(e,t,n,r){return r<=0&&(e=t=n=NaN),new zs(e,t,n,r)}function v_e(e){return e instanceof K0||(e=Tg(e)),e?(e=e.rgb(),new zs(e.r,e.g,e.b,e.opacity)):new zs}function LC(e,t,n,r){return arguments.length===1?v_e(e):new zs(e,t,n,r??1)}function zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}PE(zs,LC,WG(K0,{brighter(e){return e=e==null?Sv:Math.pow(Sv,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kg:Math.pow(kg,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zs(rd(this.r),rd(this.g),rd(this.b),jv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rL,formatHex:rL,formatHex8:w_e,formatRgb:sL,toString:sL}));function rL(){return`#${Zu(this.r)}${Zu(this.g)}${Zu(this.b)}`}function w_e(){return`#${Zu(this.r)}${Zu(this.g)}${Zu(this.b)}${Zu((isNaN(this.opacity)?1:this.opacity)*255)}`}function sL(){const e=jv(this.opacity);return`${e===1?"rgb(":"rgba("}${rd(this.r)}, ${rd(this.g)}, ${rd(this.b)}${e===1?")":`, ${e})`}`}function jv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zu(e){return e=rd(e),(e<16?"0":"")+e.toString(16)}function aL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xi(e,t,n,r)}function UG(e){if(e instanceof xi)return new xi(e.h,e.s,e.l,e.opacity);if(e instanceof K0||(e=Tg(e)),!e)return new xi;if(e instanceof xi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new xi(o,l,c,e.opacity)}function S_e(e,t,n,r){return arguments.length===1?UG(e):new xi(e,t,n,r??1)}function xi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}PE(xi,S_e,WG(K0,{brighter(e){return e=e==null?Sv:Math.pow(Sv,e),new xi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kg:Math.pow(kg,e),new xi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new zs(Uj(e>=240?e-240:e+120,s,r),Uj(e,s,r),Uj(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new xi(iL(this.h),Lx(this.s),Lx(this.l),jv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jv(this.opacity);return`${e===1?"hsl(":"hsla("}${iL(this.h)}, ${Lx(this.s)*100}%, ${Lx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iL(e){return e=(e||0)%360,e<0?e+360:e}function Lx(e){return Math.max(0,Math.min(1,e||0))}function Uj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const DE=e=>()=>e;function j_e(e,t){return function(n){return e+n*t}}function C_e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function N_e(e){return(e=+e)==1?KG:function(t,n){return n-t?C_e(t,n,e):DE(isNaN(t)?n:t)}}function KG(e,t){var n=t-e;return n?j_e(e,n):DE(isNaN(e)?t:e)}const oL=function e(t){var n=N_e(t);function r(s,a){var o=n((s=LC(s)).r,(a=LC(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=KG(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function $_e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function E_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function A_e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=nm(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function P_e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function D_e(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=nm(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var _C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kj=new RegExp(_C.source,"g");function k_e(e){return function(){return e}}function I_e(e){return function(t){return e(t)+""}}function T_e(e,t){var n=_C.lastIndex=Kj.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=_C.exec(e))&&(s=Kj.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Cv(r,s)})),n=Kj.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?I_e(c[0].x):k_e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function nm(e,t){var n=typeof t,r;return t==null||n==="boolean"?DE(t):(n==="number"?Cv:n==="string"?(r=Tg(t))?(t=r,oL):T_e:t instanceof Tg?oL:t instanceof Date?P_e:E_e(t)?$_e:Array.isArray(t)?A_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?D_e:Cv)(e,t)}function kE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function M_e(e,t){t===void 0&&(t=e,e=nm);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function O_e(e){return function(){return e}}function Nv(e){return+e}var lL=[0,1];function $s(e){return e}function FC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:O_e(isNaN(t)?NaN:.5)}function L_e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function __e(e,t,n){var r=e[0],s=e[1],a=t[0],o=t[1];return s<r?(r=FC(s,r),a=n(o,a)):(r=FC(r,s),a=n(a,o)),function(l){return a(r(l))}}function F_e(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=FC(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=U0(e,l,1,r)-1;return a[c](s[c](l))}}function H0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mw(){var e=lL,t=lL,n=nm,r,s,a,o=$s,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==$s&&(o=L_e(e[0],e[h-1])),l=h>2?F_e:__e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(r),Cv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Nv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=kE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:$s,d()):o!==$s},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,s=p,d()}}function IE(){return Mw()($s,$s)}function R_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $v(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ph(e){return e=$v(Math.abs(e)),e?e[1]:NaN}function B_e(e,t){return function(n,r){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function z_e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var V_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mg(e){if(!(t=V_e.exec(e)))throw new Error("invalid format: "+e);var t;return new TE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mg.prototype=TE.prototype;function TE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}TE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W_e(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var HG;function U_e(e,t){var n=$v(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(HG=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$v(e,Math.max(0,t+a-1))[0]}function cL(e,t){var n=$v(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const uL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:R_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cL(e*100,t),r:cL,s:U_e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dL(e){return e}var fL=Array.prototype.map,hL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function K_e(e){var t=e.grouping===void 0||e.thousands===void 0?dL:B_e(fL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dL:z_e(fL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mg(f);var h=f.fill,p=f.align,b=f.sign,x=f.symbol,y=f.zero,v=f.width,j=f.comma,S=f.precision,N=f.trim,C=f.type;C==="n"?(j=!0,C="g"):uL[C]||(S===void 0&&(S=12),N=!0,C="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var $=x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=x==="$"?r:/[%p]/.test(C)?o:"",E=uL[C],M=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(A){var I=$,L=P,R,F,T;if(C==="c")L=E(A)+L,A="";else{A=+A;var O=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),S),N&&(A=W_e(A)),O&&+A==0&&b!=="+"&&(O=!1),I=(O?b==="("?b:l:b==="-"||b==="("?"":b)+I,L=(C==="s"?hL[8+HG/3]:"")+L+(O&&b==="("?")":""),M){for(R=-1,F=A.length;++R<F;)if(T=A.charCodeAt(R),48>T||T>57){L=(T===46?s+A.slice(R+1):A.slice(R))+L,A=A.slice(0,R);break}}}j&&!y&&(A=t(A,1/0));var _=I.length+A.length+L.length,W=_<v?new Array(v-_+1).join(h):"";switch(j&&y&&(A=t(W+A,W.length?v-L.length:1/0),W=""),p){case"<":A=I+A+L+W;break;case"=":A=I+W+A+L;break;case"^":A=W.slice(0,_=W.length>>1)+I+A+L+W.slice(_);break;default:A=W+I+A+L;break}return a(A)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=Mg(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(ph(h)/3)))*3,x=Math.pow(10,-b),y=hL[8+b/3];return function(v){return p(x*v)+y}}return{format:u,formatPrefix:d}}var _x,ME,qG;H_e({thousands:",",grouping:[3],currency:["$",""]});function H_e(e){return _x=K_e(e),ME=_x.format,qG=_x.formatPrefix,_x}function q_e(e){return Math.max(0,-ph(Math.abs(e)))}function G_e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ph(t)/3)))*3-ph(Math.abs(e)))}function Y_e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ph(t)-ph(e))+1}function GG(e,t,n,r){var s=MC(e,t,n),a;switch(r=Mg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=G_e(s,o))&&(r.precision=a),qG(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Y_e(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=q_e(s))&&(r.precision=a-(r.type==="%")*2);break}}return ME(r)}function Qc(e){var t=e.domain;return e.ticks=function(n){var r=t();return IC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return GG(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,o=r[s],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=TC(o,l,n),u===c)return r[s]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ev(){var e=IE();return e.copy=function(){return H0(e,Ev())},ei.apply(e,arguments),Qc(e)}function YG(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Nv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YG(e).unknown(t)},e=arguments.length?Array.from(e,Nv):[0,1],Qc(n)}function XG(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),e[n]=t.floor(s),e[r]=t.ceil(a),e}function mL(e){return Math.log(e)}function pL(e){return Math.exp(e)}function X_e(e){return-Math.log(-e)}function Z_e(e){return-Math.exp(-e)}function J_e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Q_e(e){return e===10?J_e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eFe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gL(e){return(t,n)=>-e(-t,n)}function OE(e){const t=e(mL,pL),n=t.domain;let r=10,s,a;function o(){return s=eFe(r),a=Q_e(r),n()[0]<0?(s=gL(s),a=gL(a),e(X_e,Z_e)):e(mL,pL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),b,x;const y=l==null?10:+l;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<r;++b)if(x=h<0?b/a(-h):b*a(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=p;++h)for(b=r-1;b>=1;--b)if(x=h>0?b/a(-h):b*a(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<y&&(v=IC(u,d,y))}else v=IC(h,p,Math.min(p-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Mg(c)).precision==null&&(c.trim=!0),c=ME(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(XG(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function ZG(){const e=OE(Mw()).domain([1,10]);return e.copy=()=>H0(e,ZG()).base(e.base()),ei.apply(e,arguments),e}function bL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LE(e){var t=1,n=e(bL(t),xL(t));return n.constant=function(r){return arguments.length?e(bL(t=+r),xL(t)):t},Qc(n)}function JG(){var e=LE(Mw());return e.copy=function(){return H0(e,JG()).constant(e.constant())},ei.apply(e,arguments)}function yL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tFe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nFe(e){return e<0?-e*e:e*e}function _E(e){var t=e($s,$s),n=1;function r(){return n===1?e($s,$s):n===.5?e(tFe,nFe):e(yL(n),yL(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Qc(t)}function FE(){var e=_E(Mw());return e.copy=function(){return H0(e,FE()).exponent(e.exponent())},ei.apply(e,arguments),e}function rFe(){return FE.apply(null,arguments).exponent(.5)}function vL(e){return Math.sign(e)*e*e}function sFe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QG(){var e=IE(),t=[0,1],n=!1,r;function s(a){var o=sFe(e(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return e.invert(vL(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Nv)).map(vL)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return QG(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ei.apply(s,arguments),Qc(s)}function eY(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=c_e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[U0(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Sc),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return eY().domain(e).range(t).unknown(r)},ei.apply(a,arguments)}function tY(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[U0(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return tY().domain([e,t]).range(s).unknown(a)},ei.apply(Qc(o),arguments)}function nY(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[U0(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return nY().domain(e).range(t).unknown(n)},ei.apply(s,arguments)}const Hj=new Date,qj=new Date;function $r(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>$r(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(Hj.setTime(+a),qj.setTime(+o),e(Hj),e(qj),Math.floor(n(Hj,qj))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const Av=$r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Av.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$r(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Av);Av.range;const Uo=1e3,Ba=Uo*60,Ko=Ba*60,ll=Ko*24,RE=ll*7,wL=ll*30,Gj=ll*365,Ju=$r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCSeconds());Ju.range;const BE=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getMinutes());BE.range;const zE=$r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCMinutes());zE.range;const VE=$r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo-e.getMinutes()*Ba)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getHours());VE.range;const WE=$r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCHours());WE.range;const q0=$r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ba)/ll,e=>e.getDate()-1);q0.range;const Ow=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ll,e=>e.getUTCDate()-1);Ow.range;const rY=$r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ll,e=>Math.floor(e/ll));rY.range;function Td(e){return $r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/RE)}const Lw=Td(0),Pv=Td(1),aFe=Td(2),iFe=Td(3),gh=Td(4),oFe=Td(5),lFe=Td(6);Lw.range;Pv.range;aFe.range;iFe.range;gh.range;oFe.range;lFe.range;function Md(e){return $r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/RE)}const _w=Md(0),Dv=Md(1),cFe=Md(2),uFe=Md(3),bh=Md(4),dFe=Md(5),fFe=Md(6);_w.range;Dv.range;cFe.range;uFe.range;bh.range;dFe.range;fFe.range;const UE=$r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());UE.range;const KE=$r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KE.range;const cl=$r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});cl.range;const ul=$r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ul.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ul.range;function sY(e,t,n,r,s,a){const o=[[Ju,1,Uo],[Ju,5,5*Uo],[Ju,15,15*Uo],[Ju,30,30*Uo],[a,1,Ba],[a,5,5*Ba],[a,15,15*Ba],[a,30,30*Ba],[s,1,Ko],[s,3,3*Ko],[s,6,6*Ko],[s,12,12*Ko],[r,1,ll],[r,2,2*ll],[n,1,RE],[t,1,wL],[t,3,3*wL],[e,1,Gj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),b=p?p.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,p=EE(([,,y])=>y).right(o,h);if(p===o.length)return e.every(MC(u/Gj,d/Gj,f));if(p===0)return Av.every(Math.max(MC(u,d,f),1));const[b,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(x)}return[l,c]}const[hFe,mFe]=sY(ul,KE,_w,rY,WE,zE),[pFe,gFe]=sY(cl,UE,Lw,q0,VE,BE);function Yj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bFe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Qm(s),d=ep(s),f=Qm(a),h=ep(a),p=Qm(o),b=ep(o),x=Qm(l),y=ep(l),v=Qm(c),j=ep(c),S={a:O,A:_,b:W,B:z,c:null,d:EL,e:EL,f:BFe,g:XFe,G:JFe,H:_Fe,I:FFe,j:RFe,L:aY,m:zFe,M:VFe,p:U,q:H,Q:DL,s:kL,S:WFe,u:UFe,U:KFe,V:HFe,w:qFe,W:GFe,x:null,X:null,y:YFe,Y:ZFe,Z:QFe,"%":PL},N={a:B,A:Y,b:ae,B:ce,c:null,d:AL,e:AL,f:rRe,g:hRe,G:pRe,H:eRe,I:tRe,j:nRe,L:oY,m:sRe,M:aRe,p:oe,q:Q,Q:DL,s:kL,S:iRe,u:oRe,U:lRe,V:cRe,w:uRe,W:dRe,x:null,X:null,y:fRe,Y:mRe,Z:gRe,"%":PL},C={a:k,A,b:I,B:L,c:R,d:NL,e:NL,f:TFe,g:CL,G:jL,H:$L,I:$L,j:PFe,L:IFe,m:AFe,M:DFe,p:M,q:EFe,Q:OFe,s:LFe,S:kFe,u:SFe,U:jFe,V:CFe,w:wFe,W:NFe,x:F,X:T,y:CL,Y:jL,Z:$Fe,"%":MFe};S.x=$(n,S),S.X=$(r,S),S.c=$(t,S),N.x=$(n,N),N.X=$(r,N),N.c=$(t,N);function $(K,ne){return function(te){var X=[],xe=-1,$e=0,Ne=K.length,Le,we,fe;for(te instanceof Date||(te=new Date(+te));++xe<Ne;)K.charCodeAt(xe)===37&&(X.push(K.slice($e,xe)),(we=SL[Le=K.charAt(++xe)])!=null?Le=K.charAt(++xe):we=Le==="e"?" ":"0",(fe=ne[Le])&&(Le=fe(te,we)),X.push(Le),$e=xe+1);return X.push(K.slice($e,xe)),X.join("")}}function P(K,ne){return function(te){var X=Jm(1900,void 0,1),xe=E(X,K,te+="",0),$e,Ne;if(xe!=te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ne&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?($e=Xj(Jm(X.y,0,1)),Ne=$e.getUTCDay(),$e=Ne>4||Ne===0?Dv.ceil($e):Dv($e),$e=Ow.offset($e,(X.V-1)*7),X.y=$e.getUTCFullYear(),X.m=$e.getUTCMonth(),X.d=$e.getUTCDate()+(X.w+6)%7):($e=Yj(Jm(X.y,0,1)),Ne=$e.getDay(),$e=Ne>4||Ne===0?Pv.ceil($e):Pv($e),$e=q0.offset($e,(X.V-1)*7),X.y=$e.getFullYear(),X.m=$e.getMonth(),X.d=$e.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ne="Z"in X?Xj(Jm(X.y,0,1)).getUTCDay():Yj(Jm(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ne+5)%7:X.w+X.U*7-(Ne+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Xj(X)):Yj(X)}}function E(K,ne,te,X){for(var xe=0,$e=ne.length,Ne=te.length,Le,we;xe<$e;){if(X>=Ne)return-1;if(Le=ne.charCodeAt(xe++),Le===37){if(Le=ne.charAt(xe++),we=C[Le in SL?ne.charAt(xe++):Le],!we||(X=we(K,te,X))<0)return-1}else if(Le!=te.charCodeAt(X++))return-1}return X}function M(K,ne,te){var X=u.exec(ne.slice(te));return X?(K.p=d.get(X[0].toLowerCase()),te+X[0].length):-1}function k(K,ne,te){var X=p.exec(ne.slice(te));return X?(K.w=b.get(X[0].toLowerCase()),te+X[0].length):-1}function A(K,ne,te){var X=f.exec(ne.slice(te));return X?(K.w=h.get(X[0].toLowerCase()),te+X[0].length):-1}function I(K,ne,te){var X=v.exec(ne.slice(te));return X?(K.m=j.get(X[0].toLowerCase()),te+X[0].length):-1}function L(K,ne,te){var X=x.exec(ne.slice(te));return X?(K.m=y.get(X[0].toLowerCase()),te+X[0].length):-1}function R(K,ne,te){return E(K,t,ne,te)}function F(K,ne,te){return E(K,n,ne,te)}function T(K,ne,te){return E(K,r,ne,te)}function O(K){return o[K.getDay()]}function _(K){return a[K.getDay()]}function W(K){return c[K.getMonth()]}function z(K){return l[K.getMonth()]}function U(K){return s[+(K.getHours()>=12)]}function H(K){return 1+~~(K.getMonth()/3)}function B(K){return o[K.getUTCDay()]}function Y(K){return a[K.getUTCDay()]}function ae(K){return c[K.getUTCMonth()]}function ce(K){return l[K.getUTCMonth()]}function oe(K){return s[+(K.getUTCHours()>=12)]}function Q(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ne=$(K+="",S);return ne.toString=function(){return K},ne},parse:function(K){var ne=P(K+="",!1);return ne.toString=function(){return K},ne},utcFormat:function(K){var ne=$(K+="",N);return ne.toString=function(){return K},ne},utcParse:function(K){var ne=P(K+="",!0);return ne.toString=function(){return K},ne}}}var SL={"-":"",_:" ",0:"0"},Lr=/^\s*\d+/,xFe=/^%/,yFe=/[\\^$*+?|[\]().{}]/g;function en(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function vFe(e){return e.replace(yFe,"\\$&")}function Qm(e){return new RegExp("^(?:"+e.map(vFe).join("|")+")","i")}function ep(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wFe(e,t,n){var r=Lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SFe(e,t,n){var r=Lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function CFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jL(e,t,n){var r=Lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CL(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Fe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EFe(e,t,n){var r=Lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function AFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function NL(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function PFe(e,t,n){var r=Lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function DFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kFe(e,t,n){var r=Lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function IFe(e,t,n){var r=Lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TFe(e,t,n){var r=Lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function MFe(e,t,n){var r=xFe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function OFe(e,t,n){var r=Lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function LFe(e,t,n){var r=Lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EL(e,t){return en(e.getDate(),t,2)}function _Fe(e,t){return en(e.getHours(),t,2)}function FFe(e,t){return en(e.getHours()%12||12,t,2)}function RFe(e,t){return en(1+q0.count(cl(e),e),t,3)}function aY(e,t){return en(e.getMilliseconds(),t,3)}function BFe(e,t){return aY(e,t)+"000"}function zFe(e,t){return en(e.getMonth()+1,t,2)}function VFe(e,t){return en(e.getMinutes(),t,2)}function WFe(e,t){return en(e.getSeconds(),t,2)}function UFe(e){var t=e.getDay();return t===0?7:t}function KFe(e,t){return en(Lw.count(cl(e)-1,e),t,2)}function iY(e){var t=e.getDay();return t>=4||t===0?gh(e):gh.ceil(e)}function HFe(e,t){return e=iY(e),en(gh.count(cl(e),e)+(cl(e).getDay()===4),t,2)}function qFe(e){return e.getDay()}function GFe(e,t){return en(Pv.count(cl(e)-1,e),t,2)}function YFe(e,t){return en(e.getFullYear()%100,t,2)}function XFe(e,t){return e=iY(e),en(e.getFullYear()%100,t,2)}function ZFe(e,t){return en(e.getFullYear()%1e4,t,4)}function JFe(e,t){var n=e.getDay();return e=n>=4||n===0?gh(e):gh.ceil(e),en(e.getFullYear()%1e4,t,4)}function QFe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+en(t/60|0,"0",2)+en(t%60,"0",2)}function AL(e,t){return en(e.getUTCDate(),t,2)}function eRe(e,t){return en(e.getUTCHours(),t,2)}function tRe(e,t){return en(e.getUTCHours()%12||12,t,2)}function nRe(e,t){return en(1+Ow.count(ul(e),e),t,3)}function oY(e,t){return en(e.getUTCMilliseconds(),t,3)}function rRe(e,t){return oY(e,t)+"000"}function sRe(e,t){return en(e.getUTCMonth()+1,t,2)}function aRe(e,t){return en(e.getUTCMinutes(),t,2)}function iRe(e,t){return en(e.getUTCSeconds(),t,2)}function oRe(e){var t=e.getUTCDay();return t===0?7:t}function lRe(e,t){return en(_w.count(ul(e)-1,e),t,2)}function lY(e){var t=e.getUTCDay();return t>=4||t===0?bh(e):bh.ceil(e)}function cRe(e,t){return e=lY(e),en(bh.count(ul(e),e)+(ul(e).getUTCDay()===4),t,2)}function uRe(e){return e.getUTCDay()}function dRe(e,t){return en(Dv.count(ul(e)-1,e),t,2)}function fRe(e,t){return en(e.getUTCFullYear()%100,t,2)}function hRe(e,t){return e=lY(e),en(e.getUTCFullYear()%100,t,2)}function mRe(e,t){return en(e.getUTCFullYear()%1e4,t,4)}function pRe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bh(e):bh.ceil(e),en(e.getUTCFullYear()%1e4,t,4)}function gRe(){return"+0000"}function PL(){return"%"}function DL(e){return+e}function kL(e){return Math.floor(+e/1e3)}var mf,cY,uY;bRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bRe(e){return mf=bFe(e),cY=mf.format,mf.parse,uY=mf.utcFormat,mf.utcParse,mf}function xRe(e){return new Date(e)}function yRe(e){return e instanceof Date?+e:+new Date(+e)}function HE(e,t,n,r,s,a,o,l,c,u){var d=IE(),f=d.invert,h=d.domain,p=u(".%L"),b=u(":%S"),x=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),j=u("%b %d"),S=u("%B"),N=u("%Y");function C($){return(c($)<$?p:l($)<$?b:o($)<$?x:a($)<$?y:r($)<$?s($)<$?v:j:n($)<$?S:N)($)}return d.invert=function($){return new Date(f($))},d.domain=function($){return arguments.length?h(Array.from($,yRe)):h().map(xRe)},d.ticks=function($){var P=h();return e(P[0],P[P.length-1],$??10)},d.tickFormat=function($,P){return P==null?C:u(P)},d.nice=function($){var P=h();return(!$||typeof $.range!="function")&&($=t(P[0],P[P.length-1],$??10)),$?h(XG(P,$)):d},d.copy=function(){return H0(d,HE(e,t,n,r,s,a,o,l,c,u))},d}function vRe(){return ei.apply(HE(pFe,gFe,cl,UE,Lw,q0,VE,BE,Ju,cY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wRe(){return ei.apply(HE(hFe,mFe,ul,KE,_w,Ow,WE,zE,Ju,uY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fw(){var e=0,t=1,n,r,s,a,o=$s,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,b;return arguments.length?([p,b]=h,o=f(p,b),u):[o(0),o(1)]}}return u.range=d(nm),u.rangeRound=d(kE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function eu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dY(){var e=Qc(Fw()($s));return e.copy=function(){return eu(e,dY())},Nl.apply(e,arguments)}function fY(){var e=OE(Fw()).domain([1,10]);return e.copy=function(){return eu(e,fY()).base(e.base())},Nl.apply(e,arguments)}function hY(){var e=LE(Fw());return e.copy=function(){return eu(e,hY()).constant(e.constant())},Nl.apply(e,arguments)}function qE(){var e=_E(Fw());return e.copy=function(){return eu(e,qE()).exponent(e.exponent())},Nl.apply(e,arguments)}function SRe(){return qE.apply(null,arguments).exponent(.5)}function mY(){var e=[],t=$s;function n(r){if(r!=null&&!isNaN(r=+r))return t((U0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Sc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>l_e(e,a/r))},n.copy=function(){return mY(t).domain(e)},Nl.apply(n,arguments)}function Rw(){var e=0,t=.5,n=1,r=1,s,a,o,l,c,u=$s,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-a)*(r*x<r*a?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,n]=x,s=d(e=+e),a=d(t=+t),o=d(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,p):[e,t,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function b(x){return function(y){var v,j,S;return arguments.length?([v,j,S]=y,u=M_e(x,[v,j,S]),p):[u(0),u(.5),u(1)]}}return p.range=b(nm),p.rangeRound=b(kE),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,s=x(e),a=x(t),o=x(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,p}}function pY(){var e=Qc(Rw()($s));return e.copy=function(){return eu(e,pY())},Nl.apply(e,arguments)}function gY(){var e=OE(Rw()).domain([.1,1,10]);return e.copy=function(){return eu(e,gY()).base(e.base())},Nl.apply(e,arguments)}function bY(){var e=LE(Rw());return e.copy=function(){return eu(e,bY()).constant(e.constant())},Nl.apply(e,arguments)}function GE(){var e=_E(Rw());return e.copy=function(){return eu(e,GE()).exponent(e.exponent())},Nl.apply(e,arguments)}function jRe(){return GE.apply(null,arguments).exponent(.5)}const IL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dg,scaleDiverging:pY,scaleDivergingLog:gY,scaleDivergingPow:GE,scaleDivergingSqrt:jRe,scaleDivergingSymlog:bY,scaleIdentity:YG,scaleImplicit:OC,scaleLinear:Ev,scaleLog:ZG,scaleOrdinal:AE,scalePoint:Hp,scalePow:FE,scaleQuantile:eY,scaleQuantize:tY,scaleRadial:QG,scaleSequential:dY,scaleSequentialLog:fY,scaleSequentialPow:qE,scaleSequentialQuantile:mY,scaleSequentialSqrt:SRe,scaleSequentialSymlog:hY,scaleSqrt:rFe,scaleSymlog:JG,scaleThreshold:nY,scaleTime:vRe,scaleUtc:wRe,tickFormat:GG},Symbol.toStringTag,{value:"Module"}));var CRe=qh;function NRe(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!CRe(o):n(o,l)))var l=o,c=a}return c}var Bw=NRe;function $Re(e,t){return e>t}var xY=$Re,ERe=Bw,ARe=xY,PRe=em;function DRe(e){return e&&e.length?ERe(e,PRe,ARe):void 0}var kRe=DRe;const zw=rn(kRe);function IRe(e,t){return e<t}var yY=IRe,TRe=Bw,MRe=yY,ORe=em;function LRe(e){return e&&e.length?TRe(e,ORe,MRe):void 0}var _Re=LRe;const Vw=rn(_Re);var FRe=lE,RRe=co,BRe=EG,zRe=Gs;function VRe(e,t){var n=zRe(e)?FRe:BRe;return n(e,RRe(t))}var WRe=VRe,URe=NG,KRe=WRe;function HRe(e,t){return URe(KRe(e,t),1)}var qRe=HRe;const GRe=rn(qRe);var YRe=jE;function XRe(e,t){return YRe(e,t)}var ZRe=XRe;const Ww=rn(ZRe);var rm=1e9,JRe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XE,Kn=!0,qa="[DecimalError] ",sd=qa+"Invalid argument: ",YE=qa+"Exponent out of range: ",sm=Math.floor,Iu=Math.pow,QRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,Pr=1e7,Rn=7,vY=9007199254740991,kv=sm(vY/Rn),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,n,r,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Rn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(e){return Zo(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,n=t.constructor;return jn(Zo(t,new n(e),0,1),n.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return br(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ua))throw Error(qa+"NaN");if(n.s<1)throw Error(qa+(n.s?"NaN":"-Infinity"));return n.eq(ua)?new r(0):(Kn=!1,t=Zo(Og(n,a),Og(e,a),a),Kn=!0,jn(t,s))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jY(t,e):wY(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(qa+"NaN");return n.s?(Kn=!1,t=Zo(n,e,0,1).times(e),Kn=!0,n.minus(t)):jn(new r(n),s)};nt.naturalExponential=nt.exp=function(){return SY(this)};nt.naturalLogarithm=nt.ln=function(){return Og(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wY(t,e):jY(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sd+e);if(t=br(s)+1,r=s.d.length-1,n=r*Rn+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};nt.squareRoot=nt.sqrt=function(){var e,t,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qa+"NaN")}for(e=br(l),Kn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ki(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=sm((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(Zo(l,a,o+2)).times(.5),Ki(a.d).slice(0,o)===(t=Ki(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(jn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Kn=!0,jn(r,n)};nt.times=nt.mul=function(e){var t,n,r,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=a[s]+p[r]*h[s-r-1]+t,a[s--]=l%Pr|0,t=l/Pr|0;a[s]=(a[s]+t)%Pr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Kn?jn(e,f.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(eo(e,0,rm),t===void 0?t=r.rounding:eo(t,0,8),jn(n,e+br(n)+1,t))};nt.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=gd(r,!0):(eo(e,0,rm),t===void 0?t=s.rounding:eo(t,0,8),r=jn(new s(r),e+1,t),n=gd(r,!0,e+1)),n};nt.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?gd(s):(eo(e,0,rm),t===void 0?t=a.rounding:eo(t,0,8),r=jn(new a(s),e+br(s)+1,t),n=gd(r.abs(),!1,e+br(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return jn(new t(e),br(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,n,r,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ua);if(l=new c(l),!l.s){if(e.s<1)throw Error(qa+"Infinity");return l}if(l.eq(ua))return l;if(r=c.precision,e.eq(ua))return jn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=vY){for(s=new c(ua),t=Math.ceil(r/Rn+4),Kn=!1;n%2&&(s=s.times(l),ML(s.d,t)),n=sm(n/2),n!==0;)l=l.times(l),ML(l.d,t);return Kn=!0,e.s<0?new c(ua).div(s):jn(s,r)}}else if(a<0)throw Error(qa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kn=!1,s=e.times(Og(l,r+u)),Kn=!0,s=SY(s),s.s=a,s};nt.toPrecision=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?(n=br(s),r=gd(s,n<=a.toExpNeg||n>=a.toExpPos)):(eo(e,1,rm),t===void 0?t=a.rounding:eo(t,0,8),s=jn(new a(s),e,t),n=br(s),r=gd(s,e<=n||n<=a.toExpNeg,e)),r};nt.toSignificantDigits=nt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(eo(e,1,rm),t===void 0?t=r.rounding:eo(t,0,8)),jn(new r(n),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=br(e),n=e.constructor;return gd(e,t<=n.toExpNeg||t>=n.toExpPos)};function wY(e,t){var n,r,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kn?jn(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/Rn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Pr|0,c[a]%=Pr;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Kn?jn(t,f):t}function eo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sd+e)}function Ki(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=Rn-r.length,n&&(a+=Ql(n)),a+=r;o=e[t],r=o+"",n=Rn-r.length,n&&(a+=Ql(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zo=function(){function e(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%Pr|0,o=a/Pr|0;return o&&r.unshift(o),r}function t(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*Pr+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,u,d,f,h,p,b,x,y,v,j,S,N,C,$,P,E,M=r.constructor,k=r.s==s.s?1:-1,A=r.d,I=s.d;if(!r.s)return new M(r);if(!s.s)throw Error(qa+"Division by zero");for(c=r.e-s.e,P=I.length,C=A.length,p=new M(k),b=p.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,a==null?j=a=M.precision:o?j=a+(br(r)-br(s))+1:j=a,j<0)return new M(0);if(j=j/Rn+2|0,u=0,P==1)for(d=0,I=I[0],j++;(u<C||d)&&j--;u++)S=d*Pr+(A[u]||0),b[u]=S/I|0,d=S%I|0;else{for(d=Pr/(I[0]+1)|0,d>1&&(I=e(I,d),A=e(A,d),P=I.length,C=A.length),N=P,x=A.slice(0,P),y=x.length;y<P;)x[y++]=0;E=I.slice(),E.unshift(0),$=I[0],I[1]>=Pr/2&&++$;do d=0,l=t(I,x,P,y),l<0?(v=x[0],P!=y&&(v=v*Pr+(x[1]||0)),d=v/$|0,d>1?(d>=Pr&&(d=Pr-1),f=e(I,d),h=f.length,y=x.length,l=t(f,x,h,y),l==1&&(d--,n(f,P<h?E:I,h))):(d==0&&(l=d=1),f=I.slice()),h=f.length,h<y&&f.unshift(0),n(x,f,y),l==-1&&(y=x.length,l=t(I,x,P,y),l<1&&(d++,n(x,P<y?E:I,y))),y=x.length):l===0&&(d++,x=[0]),b[u++]=d,l&&x[0]?x[y++]=A[N]||0:(x=[A[N]],y=1);while((N++<C||x[0]!==void 0)&&j--)}return b[0]||b.shift(),p.e=c,jn(p,o?a+br(p)+1:a)}}();function SY(e,t){var n,r,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(br(e)>16)throw Error(YE+br(e));if(!e.s)return new d(ua);for(Kn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Iu(2,u))/Math.LN10*2+5|0,l+=r,n=s=a=new d(ua),d.precision=l;;){if(s=jn(s.times(e),l),n=n.times(++c),o=a.plus(Zo(s,n,l)),Ki(o.d).slice(0,l)===Ki(a.d).slice(0,l)){for(;u--;)a=jn(a.times(a),l);return d.precision=f,t==null?(Kn=!0,jn(a,f)):a}a=o}}function br(e){for(var t=e.e*Rn,n=e.d[0];n>=10;n/=10)t++;return t}function Zj(e,t,n){if(t>e.LN10.sd())throw Kn=!0,n&&(e.precision=n),Error(qa+"LN10 precision limit exceeded");return jn(new e(e.LN10),t)}function Ql(e){for(var t="";e--;)t+="0";return t}function Og(e,t){var n,r,s,a,o,l,c,u,d,f=1,h=10,p=e,b=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(qa+(p.s?"NaN":"-Infinity"));if(p.eq(ua))return new x(0);if(t==null?(Kn=!1,u=y):u=t,p.eq(10))return t==null&&(Kn=!0),Zj(x,u);if(u+=h,x.precision=u,n=Ki(b),r=n.charAt(0),a=br(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ki(p.d),r=n.charAt(0),f++;a=br(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return c=Zj(x,u+2,y).times(a+""),p=Og(new x(r+"."+n.slice(1)),u-h).plus(c),x.precision=y,t==null?(Kn=!0,jn(p,y)):p;for(l=o=p=Zo(p.minus(ua),p.plus(ua),u),d=jn(p.times(p),u),s=3;;){if(o=jn(o.times(d),u),c=l.plus(Zo(o,new x(s),u)),Ki(c.d).slice(0,u)===Ki(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Zj(x,u+2,y).times(a+""))),l=Zo(l,new x(f),u),x.precision=y,t==null?(Kn=!0,jn(l,y)):l;l=c,s+=2}}function TL(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=sm(n/Rn),e.d=[],r=(n+1)%Rn,n<0&&(r+=Rn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Rn;r<s;)e.d.push(+t.slice(r,r+=Rn));t=t.slice(r),r=Rn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Kn&&(e.e>kv||e.e<-kv))throw Error(YE+n)}else e.s=0,e.e=0,e.d=[0];return e}function jn(e,t,n){var r,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Rn,s=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Rn),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=Rn,s=r-Rn+o}if(n!==void 0&&(a=Iu(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Iu(10,o-s):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=br(e),f.length=1,t=t-a-1,f[0]=Iu(10,(Rn-t%Rn)%Rn),e.e=sm(-t/Rn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Iu(10,Rn-r),f[d]=s>0?(u/Iu(10,o-s)%Iu(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Pr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Pr)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Kn&&(e.e>kv||e.e<-kv))throw Error(YE+br(e));return e}function jY(e,t){var n,r,s,a,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kn?jn(t,p):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(p/Rn),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Pr-1;--c[a],c[s]+=Pr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Kn?jn(t,p):t):new h(0)}function gd(e,t,n){var r,s=br(e),a=Ki(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ql(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Ql(-s-1)+a,n&&(r=n-o)>0&&(a+=Ql(r))):s>=o?(a+=Ql(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+Ql(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=Ql(r))),e.s<0?"-"+a:a}function ML(e,t){if(e.length>t)return e.length=t,!0}function CY(e){var t,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(sd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return TL(o,a.toString())}else if(typeof a!="string")throw Error(sd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,QRe.test(a))TL(o,a);else throw Error(sd+a)}if(s.prototype=nt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=CY,s.config=s.set=e8e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function e8e(e){if(!e||typeof e!="object")throw Error(qa+"Object expected");var t,n,r,s=["precision",1,rm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(sm(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(sd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sd+n+": "+r);return this}var XE=CY(JRe);ua=new XE(1);const gn=XE;function t8e(e){return a8e(e)||s8e(e)||r8e(e)||n8e()}function n8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r8e(e,t){if(e){if(typeof e=="string")return RC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(e,t)}}function s8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function a8e(e){if(Array.isArray(e))return RC(e)}function RC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i8e=function(t){return t},NY={},$Y=function(t){return t===NY},OL=function(t){return function n(){return arguments.length===0||arguments.length===1&&$Y(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},o8e=function e(t,n){return t===1?n:OL(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==NY}).length;return o>=t?n.apply(void 0,s):e(t-o,OL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return $Y(f)?c.shift():f});return n.apply(void 0,t8e(d).concat(c))}))})},Uw=function(t){return o8e(t.length,t)},BC=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},l8e=Uw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),c8e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return i8e;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},zC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},EY=function(t){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function u8e(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function d8e(e,t,n){for(var r=new gn(e),s=0,a=[];r.lt(t)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var f8e=Uw(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),h8e=Uw(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),m8e=Uw(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Kw={rangeStep:d8e,getDigitCount:u8e,interpolateNumber:f8e,uninterpolateNumber:h8e,uninterpolateTruncation:m8e};function VC(e){return b8e(e)||g8e(e)||AY(e)||p8e()}function p8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b8e(e){if(Array.isArray(e))return WC(e)}function Lg(e,t){return v8e(e)||y8e(e,t)||AY(e,t)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(e,t){if(e){if(typeof e=="string")return WC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(e,t)}}function WC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function v8e(e){if(Array.isArray(e))return e}function PY(e){var t=Lg(e,2),n=t[0],r=t[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function DY(e,t,n){if(e.lte(0))return new gn(0);var r=Kw.getDigitCount(e.toNumber()),s=new gn(10).pow(r),a=e.div(s),o=r!==1?.05:.1,l=new gn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new gn(Math.ceil(c))}function w8e(e,t,n){var r=1,s=new gn(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(r=new gn(10).pow(Kw.getDigitCount(e)-1),s=new gn(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new gn(Math.floor(e)))}else e===0?s=new gn(Math.floor((t-1)/2)):n||(s=new gn(Math.floor(e)));var o=Math.floor((t-1)/2),l=c8e(l8e(function(c){return s.add(new gn(c-o).mul(r)).toNumber()}),BC);return l(0,t)}function kY(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var a=DY(new gn(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new gn(0):(o=new gn(e).add(t).div(2),o=o.sub(new gn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new gn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?kY(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new gn(l).mul(a)),tickMax:o.add(new gn(c).mul(a))})}function S8e(e){var t=Lg(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=PY([n,r]),c=Lg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(VC(BC(0,s-1).map(function(){return 1/0}))):[].concat(VC(BC(0,s-1).map(function(){return-1/0})),[d]);return n>r?zC(f):f}if(u===d)return w8e(u,s,a);var h=kY(u,d,o,a),p=h.step,b=h.tickMin,x=h.tickMax,y=Kw.rangeStep(b,x.add(new gn(.1).mul(p)),p);return n>r?zC(y):y}function j8e(e,t){var n=Lg(e,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=PY([r,s]),l=Lg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),f=DY(new gn(u).sub(c).div(d-1),a,0),h=[].concat(VC(Kw.rangeStep(new gn(c),new gn(u).sub(new gn(.99).mul(f)),f)),[u]);return r>s?zC(h):h}var C8e=EY(S8e),N8e=EY(j8e),$8e="Invariant failed";function bd(e,t){throw new Error($8e)}var E8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function A8e(e,t){return I8e(e)||k8e(e,t)||D8e(e,t)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(e,t){if(e){if(typeof e=="string")return LL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function I8e(e){if(Array.isArray(e))return e}function T8e(e,t){if(e==null)return{};var n=M8e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MY(r.key),r)}}function _8e(e,t,n){return t&&L8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F8e(e,t,n){return t=Tv(t),R8e(e,IY()?Reflect.construct(t,n||[],Tv(e).constructor):t.apply(e,n))}function R8e(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8e(e)}function B8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(e)}function z8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},UC(e,t)}function TY(e,t,n){return t=MY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MY(e){var t=V8e(e,"string");return xh(t)=="symbol"?t:t+""}function V8e(e,t){if(xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hw=function(e){function t(){return O8e(this,t),F8e(this,t,arguments)}return z8e(t,e),_8e(t,[{key:"render",value:function(){var r=this.props,s=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=T8e(r,E8e),p=wt(h,!1);this.props.direction==="x"&&d.type!=="number"&&bd();var b=c.map(function(x){var y=u(x,l),v=y.x,j=y.y,S=y.value,N=y.errorVal;if(!N)return null;var C=[],$,P;if(Array.isArray(N)){var E=A8e(N,2);$=E[0],P=E[1]}else $=P=N;if(a==="vertical"){var M=d.scale,k=j+s,A=k+o,I=k-o,L=M(S-$),R=M(S+P);C.push({x1:R,y1:A,x2:R,y2:I}),C.push({x1:L,y1:k,x2:R,y2:k}),C.push({x1:L,y1:A,x2:L,y2:I})}else if(a==="horizontal"){var F=f.scale,T=v+s,O=T-o,_=T+o,W=F(S-$),z=F(S+P);C.push({x1:O,y1:z,x2:_,y2:z}),C.push({x1:T,y1:W,x2:T,y2:z}),C.push({x1:O,y1:W,x2:_,y2:W})}return Z.createElement(fn,Iv({className:"recharts-errorBar",key:"bar-".concat(C.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},p),C.map(function(U){return Z.createElement("line",Iv({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return Z.createElement(fn,{className:"recharts-errorBars"},b)}}])}(Z.Component);TY(Hw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TY(Hw,"displayName","ErrorBar");function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){W8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W8e(e,t,n){return t=U8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U8e(e){var t=K8e(e,"string");return _g(t)=="symbol"?t:t+""}function K8e(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=aa(n,Wa);if(!o)return null;var l=Wa.defaultProps,c=l!==void 0?vu(vu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return d.concat(b.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?vu(vu({},h),f.props):{},b=p.dataKey,x=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:b,type:c.iconType||y||"square",color:ZE(f),value:x||b,payload:p}}),vu(vu(vu({},c),Wa.getWithHeight(o,s)),{},{payload:u,item:o})};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function FL(e){return Y8e(e)||G8e(e)||q8e(e)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(e,t){if(e){if(typeof e=="string")return KC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(e,t)}}function G8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y8e(e){if(Array.isArray(e))return KC(e)}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){Yf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yf(e,t,n){return t=X8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8e(e){var t=Z8e(e,"string");return Fg(t)=="symbol"?t:t+""}function Z8e(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function es(e,t,n){return Vt(e)||Vt(t)?n:Nr(t)?pa(e,t,n):jt(t)?t(e):n}function qp(e,t,n,r){var s=GRe(e,function(l){return es(l,t)});if(n==="number"){var a=s.filter(function(l){return He(l)||parseFloat(l)});return a.length?[Vw(a),zw(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Vt(l)}):s;return o.map(function(l){return Nr(l)||l instanceof Date?l:""})}var J8e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Cs(f-d)!==Cs(h-f)){var b=[];if(Cs(h-f)===Cs(c[1]-c[0])){p=h;var x=f+c[1]-c[0];b[0]=Math.min(x,(x+d)/2),b[1]=Math.max(x,(x+d)/2)}else{p=d;var y=h+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=b[0]&&t<=b[1]){o=s[u].index;break}}else{var j=Math.min(d,h),S=Math.max(d,h);if(t>(j+f)/2&&t<=(S+f)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},ZE=function(t){var n,r=t,s=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Q8e=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var b=d[f[h]],x=b.items,y=b.cateAxisId,v=x.filter(function(P){return Xo(P.type).indexOf("Bar")>=0});if(v&&v.length){var j=v[0].type.defaultProps,S=j!==void 0?Jn(Jn({},j),v[0].props):v[0].props,N=S.barSize,C=S[y];o[C]||(o[C]=[]);var $=Vt(N)?n:N;o[C].push({item:v[0],stackList:v.slice(1),barSize:Vt($)?void 0:Ns($,r,0)})}}return o},e9e=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ns(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,b=o.reduce(function(N,C){return N+C.barSize||0},0);b+=(c-1)*u,b>=s&&(b-=(c-1)*u,u=0),b>=s&&p>0&&(h=!0,p*=.9,b=c*p);var x=(s-b)/2>>0,y={offset:x-u,size:0};d=o.reduce(function(N,C){var $={item:C.item,position:{offset:y.offset+y.size+u,size:h?p:C.barSize}},P=[].concat(FL(N),[$]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:y})}),P},f)}else{var v=Ns(r,s,0,!0);s-2*v-(c-1)*u<=0&&(u=0);var j=(s-2*v-(c-1)*u)/c;j>1&&(j>>=0);var S=l===+l?Math.min(j,l):j;d=o.reduce(function(N,C,$){var P=[].concat(FL(N),[{item:C.item,position:{offset:v+(j+u)*$+(j-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},f)}return d},t9e=function(t,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=OY({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,b=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&p!=="center"&&He(t[p]))return Jn(Jn({},t),{},Yf({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&b!=="middle"&&He(t[b]))return Jn(Jn({},t),{},Yf({},b,t[b]+(h||0)))}return t},n9e=function(t,n,r){return Vt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LY=function(t,n,r,s,a){var o=n.props.children,l=Va(o,Hw).filter(function(u){return n9e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=es(d,r);if(Vt(f))return u;var h=Array.isArray(f)?[Vw(f),zw(f)]:[f,f],p=c.reduce(function(b,x){var y=es(d,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),j=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,b[0]),Math.max(j,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},r9e=function(t,n,r,s,a){var o=n.map(function(l){return LY(t,l,r,a,s)}).filter(function(l){return!Vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_Y=function(t,n,r,s,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&LY(t,c,u,s)||qp(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},FY=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},RY=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Ho=function(t,n,r){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cs(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!z0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},Jj=new WeakMap,Fx=function(t,n){if(typeof n!="function")return t;Jj.has(t)||Jj.set(t,new WeakMap);var r=Jj.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},BY=function(t,n,r){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ev(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hp(),realScaleType:"point"}:a==="category"?{scale:Dg(),realScaleType:"band"}:{scale:Ev(),realScaleType:"linear"};if(dd(s)){var c="scale".concat(Ew(s));return{scale:(IL[c]||Hp)(),realScaleType:IL[c]?c:"point"}}return jt(s)?{scale:s}:{scale:Hp(),realScaleType:"point"}},BL=1e-4,zY=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),a=Math.min(s[0],s[1])-BL,o=Math.max(s[0],s[1])+BL,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},s9e=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},a9e=function(t,n){if(!n||n.length!==2||!He(n[0])||!He(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!He(t[0])||t[0]<r)&&(a[0]=r),(!He(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},i9e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=z0(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},o9e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=z0(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},l9e={sign:i9e,expand:EPe,none:uh,silhouette:APe,wiggle:PPe,positive:o9e},c9e=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),a=l9e[r],o=$Pe().keys(s).value(function(l,c){return+es(l,c,0)}).order(gC).offset(a);return o(t)},u9e=function(t,n,r,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jn(Jn({},h.type.defaultProps),h.props):h.props,x=b.stackId,y=b.hide;if(y)return f;var v=b[r],j=f[v]||{hasStack:!1,stackGroups:{}};if(Nr(x)){var S=j.stackGroups[x]||{numericAxisId:r,cateAxisId:s,items:[]};S.items.push(h),j.hasStack=!0,j.stackGroups[x]=S}else j.stackGroups[V0("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Jn(Jn({},f),{},Yf({},v,j))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var v=p.stackGroups[y];return Jn(Jn({},x),{},Yf({},y,{numericAxisId:r,cateAxisId:s,items:v.items,stackedData:c9e(t,v.items,a)}))},b)}return Jn(Jn({},f),{},Yf({},h,p))},d)},VY=function(t,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=C8e(u,a,l);return t.domain([Vw(d),zw(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=N8e(f,a,l);return{niceTicks:h}}return null},zL=function(t){var n=t.axis,r=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=es(o,n.dataKey,n.domain[l]);return Vt(c)?null:n.scale(c)-a/2+s},d9e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},f9e=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Nr(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},h9e=function(t){return t.reduce(function(n,r){return[Vw(r.concat([n[0]]).filter(He)),zw(r.concat([n[1]]).filter(He))]},[1/0,-1/0])},WY=function(t,n,r){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=h9e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},VL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HC=function(t,n,r){if(jt(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(He(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(VL.test(t[0])){var a=+VL.exec(t[0])[1];s[0]=n[0]-a}else jt(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(He(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(WL.test(t[1])){var o=+WL.exec(t[1])[1];s[1]=n[1]+o}else jt(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Mv=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var a=NE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},UL=function(t,n,r){return!t||!t.length||Ww(t,pa(r,"type.defaultProps.domain"))?n:t},UY=function(t,n){var r=t.type.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Jn(Jn({},wt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:ZE(t),value:es(n,s),type:c,payload:n,chartType:u,hide:d})};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){KY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KY(e,t,n){return t=m9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9e(e){var t=p9e(e,"string");return Rg(t)=="symbol"?t:t+""}function p9e(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g9e(e,t){return v9e(e)||y9e(e,t)||x9e(e,t)||b9e()}function b9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9e(e,t){if(e){if(typeof e=="string")return HL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HL(e,t)}}function HL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function v9e(e){if(Array.isArray(e))return e}var Ov=Math.PI/180,w9e=function(t){return t*180/Math.PI},kn=function(t,n,r,s){return{x:t+Math.cos(-Ov*s)*r,y:n+Math.sin(-Ov*s)*r}},HY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},S9e=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ns(t.cx,o,o/2),f=Ns(t.cy,l,l/2),h=HY(o,l,r),p=Ns(t.innerRadius,h,0),b=Ns(t.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(y,v){var j=n[v],S=j.domain,N=j.reversed,C;if(Vt(j.range))s==="angleAxis"?C=[c,u]:s==="radiusAxis"&&(C=[p,b]),N&&(C=[C[1],C[0]]);else{C=j.range;var $=C,P=g9e($,2);c=P[0],u=P[1]}var E=BY(j,a),M=E.realScaleType,k=E.scale;k.domain(S).range(C),zY(k);var A=VY(k,_o(_o({},j),{},{realScaleType:M})),I=_o(_o(_o({},j),A),{},{range:C,radius:b,realScaleType:M,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:b,startAngle:c,endAngle:u});return _o(_o({},y),{},KY({},v,I))},{})},j9e=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},C9e=function(t,n){var r=t.x,s=t.y,a=n.cx,o=n.cy,l=j9e({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:w9e(u),angleInRadian:u}},N9e=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},$9e=function(t,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},qL=function(t,n){var r=t.x,s=t.y,a=C9e({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=N9e(n),f=d.startAngle,h=d.endAngle,p=l,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?_o(_o({},n),{},{radius:o,angle:$9e(p,n)}):null},qY=function(t){return!m.isValidElement(t)&&!jt(t)&&typeof t!="boolean"?t.className:""};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var E9e=["offset"];function A9e(e){return I9e(e)||k9e(e)||D9e(e)||P9e()}function P9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9e(e,t){if(e){if(typeof e=="string")return qC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(e,t)}}function k9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I9e(e){if(Array.isArray(e))return qC(e)}function qC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T9e(e,t){if(e==null)return{};var n=M9e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(r){O9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O9e(e,t,n){return t=L9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L9e(e){var t=_9e(e,"string");return Bg(t)=="symbol"?t:t+""}function _9e(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}var F9e=function(t){var n=t.value,r=t.formatter,s=Vt(t.children)?n:t.children;return jt(r)?r(s):s},R9e=function(t,n){var r=Cs(n-t),s=Math.min(Math.abs(n-t),360);return r*s},B9e=function(t,n,r){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,x=c.clockWise,y=(f+h)/2,v=R9e(p,b),j=v>=0?1:-1,S,N;s==="insideStart"?(S=p+j*o,N=x):s==="insideEnd"?(S=b-j*o,N=!x):s==="end"&&(S=b+j*o,N=x),N=v<=0?N:!N;var C=kn(u,d,y,S),$=kn(u,d,y,S+(N?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat($.x,",").concat($.y),E=Vt(t.id)?V0("recharts-radial-line-"):t.id;return Z.createElement("text",zg({},r,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:E,d:P})),Z.createElement("textPath",{xlinkHref:"#".concat(E)},n))},z9e=function(t){var n=t.viewBox,r=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var p=kn(o,l,u+r,h),b=p.x,x=p.y;return{x:b,y:x,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,v=kn(o,l,y,h),j=v.x,S=v.y;return{x:j,y:S,textAnchor:"middle",verticalAnchor:"middle"}},V9e=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",b=f>0?"start":"end",x=u>=0?1:-1,y=x*s,v=x>0?"end":"start",j=x>0?"start":"end";if(a==="top"){var S={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Sr(Sr({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return Sr(Sr({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Sr(Sr({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(a==="right"){var $={x:l+u+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Sr(Sr({},$),r?{width:Math.max(r.x+r.width-$.x,0),height:d}:{})}var P=r?{width:u,height:d}:{};return a==="insideLeft"?Sr({x:l+y,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},P):a==="insideRight"?Sr({x:l+u-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?Sr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},P):a==="insideBottom"?Sr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},P):a==="insideTopLeft"?Sr({x:l+y,y:c+h,textAnchor:j,verticalAnchor:b},P):a==="insideTopRight"?Sr({x:l+u-y,y:c+h,textAnchor:v,verticalAnchor:b},P):a==="insideBottomLeft"?Sr({x:l+y,y:c+d-h,textAnchor:j,verticalAnchor:p},P):a==="insideBottomRight"?Sr({x:l+u-y,y:c+d-h,textAnchor:v,verticalAnchor:p},P):Gh(a)&&(He(a.x)||Xu(a.x))&&(He(a.y)||Xu(a.y))?Sr({x:l+Ns(a.x,u),y:c+Ns(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Sr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},W9e=function(t){return"cx"in t&&He(t.cx)};function Dr(e){var t=e.offset,n=t===void 0?5:t,r=T9e(e,E9e),s=Sr({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||Vt(l)&&Vt(c)&&!m.isValidElement(u)&&!jt(u))return null;if(m.isValidElement(u))return m.cloneElement(u,s);var p;if(jt(u)){if(p=m.createElement(u,s),m.isValidElement(p))return p}else p=F9e(s);var b=W9e(a),x=wt(s,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return B9e(s,p,x);var y=b?z9e(s):V9e(s);return Z.createElement(pd,zg({className:_t("recharts-label",f)},x,y,{breakAll:h}),p)}Dr.displayName="Label";var GY=function(t){var n=t.cx,r=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,b=t.left,x=t.width,y=t.height,v=t.clockWise,j=t.labelViewBox;if(j)return j;if(He(x)&&He(y)){if(He(f)&&He(h))return{x:f,y:h,width:x,height:y};if(He(p)&&He(b))return{x:p,y:b,width:x,height:y}}return He(f)&&He(h)?{x:f,y:h,width:0,height:0}:He(n)&&He(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},U9e=function(t,n){return t?t===!0?Z.createElement(Dr,{key:"label-implicit",viewBox:n}):Nr(t)?Z.createElement(Dr,{key:"label-implicit",viewBox:n,value:t}):m.isValidElement(t)?t.type===Dr?m.cloneElement(t,{key:"label-implicit",viewBox:n}):Z.createElement(Dr,{key:"label-implicit",content:t,viewBox:n}):jt(t)?Z.createElement(Dr,{key:"label-implicit",content:t,viewBox:n}):Gh(t)?Z.createElement(Dr,zg({viewBox:n},t,{key:"label-implicit"})):null:null},K9e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=GY(t),o=Va(s,Dr).map(function(c,u){return m.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=U9e(t.label,n||a);return[l].concat(A9e(o))};Dr.parseViewBox=GY;Dr.renderCallByParent=K9e;function H9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var q9e=H9e;const G9e=rn(q9e);function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}var Y9e=["valueAccessor"],X9e=["data","dataKey","clockWise","id","textBreakAll"];function Z9e(e){return tBe(e)||eBe(e)||Q9e(e)||J9e()}function J9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9e(e,t){if(e){if(typeof e=="string")return GC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(e,t)}}function eBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tBe(e){if(Array.isArray(e))return GC(e)}function GC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){nBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nBe(e,t,n){return t=rBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rBe(e){var t=sBe(e,"string");return Vg(t)=="symbol"?t:t+""}function sBe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e,t){if(e==null)return{};var n=aBe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var iBe=function(t){return Array.isArray(t.value)?G9e(t.value):t.value};function jc(e){var t=e.valueAccessor,n=t===void 0?iBe:t,r=ZL(e,Y9e),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=ZL(r,X9e);return!s||!s.length?null:Z.createElement(fn,{className:"recharts-label-list"},s.map(function(d,f){var h=Vt(a)?n(d,f):es(d&&d.payload,a),p=Vt(l)?{}:{id:"".concat(l,"-").concat(f)};return Z.createElement(Dr,Lv({},wt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Dr.parseViewBox(Vt(o)?d:XL(XL({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}jc.displayName="LabelList";function oBe(e,t){return e?e===!0?Z.createElement(jc,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||jt(e)?Z.createElement(jc,{key:"labelList-implicit",data:t,content:e}):Gh(e)?Z.createElement(jc,Lv({data:t},e,{key:"labelList-implicit"})):null:null}function lBe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Va(r,jc).map(function(o,l){return m.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=oBe(e.label,t);return[a].concat(Z9e(s))}jc.renderCallByParent=lBe;function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(this,arguments)}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function QL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){cBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cBe(e,t,n){return t=uBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uBe(e){var t=dBe(e,"string");return Wg(t)=="symbol"?t:t+""}function dBe(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fBe=function(t,n){var r=Cs(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Rx=function(t){var n=t.cx,r=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ov,h=u?a:a+o*f,p=kn(n,r,d,h),b=kn(n,r,s,h),x=u?a-o*f:a,y=kn(n,r,d*Math.cos(f*Ov),x);return{center:p,circleTangency:b,lineTangency:y,theta:f}},YY=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=fBe(o,l),u=o+c,d=kn(n,r,a,o),f=kn(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=kn(n,r,s,o),b=kn(n,r,s,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},hBe=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Cs(d-u),h=Rx({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,x=h.theta,y=Rx({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,j=y.lineTangency,S=y.theta,N=c?Math.abs(u-d):Math.abs(u-d)-x-S;if(N<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):YY({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var $=Rx({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=$.circleTangency,E=$.lineTangency,M=$.theta,k=Rx({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=k.circleTangency,I=k.lineTangency,L=k.theta,R=c?Math.abs(u-d):Math.abs(u-d)-M-L;if(R<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},mBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_v=function(t){var n=QL(QL({},mBe),t),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var p=_t("recharts-sector",h),b=o-a,x=Ns(l,b,0,!0),y;return x>0&&Math.abs(d-f)<360?y=hBe({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=YY({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),Z.createElement("path",YC({},wt(n,!0),{className:p,d:y,role:"img"}))};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XC.apply(this,arguments)}function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function t7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(r){pBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pBe(e,t,n){return t=gBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gBe(e){var t=bBe(e,"string");return Ug(t)=="symbol"?t:t+""}function bBe(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7={curveBasisClosed:pPe,curveBasisOpen:gPe,curveBasis:mPe,curveBumpX:ePe,curveBumpY:tPe,curveLinearClosed:bPe,curveLinear:Pw,curveMonotoneX:xPe,curveMonotoneY:yPe,curveNatural:vPe,curveStep:wPe,curveStepAfter:jPe,curveStepBefore:SPe},Bx=function(t){return t.x===+t.x&&t.y===+t.y},tp=function(t){return t.x},np=function(t){return t.y},xBe=function(t,n){if(jt(t))return t;var r="curve".concat(Ew(t));return(r==="curveMonotone"||r==="curveBump")&&n?n7["".concat(r).concat(n==="vertical"?"Y":"X")]:n7[r]||Pw},yBe=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=xBe(r,l),f=u?a.filter(function(x){return Bx(x)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return Bx(x)}):o,b=f.map(function(x,y){return t7(t7({},x),{},{base:p[y]})});return l==="vertical"?h=Dx().y(np).x1(tp).x0(function(x){return x.base.x}):h=Dx().x(tp).y1(np).y0(function(x){return x.base.y}),h.defined(Bx).curve(d),h(b)}return l==="vertical"&&He(o)?h=Dx().y(np).x1(tp).x0(o):He(o)?h=Dx().x(tp).y1(np).y0(o):h=Uq().x(tp).y(np),h.defined(Bx).curve(d),h(f)},ZC=function(t){var n=t.className,r=t.points,s=t.path,a=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?yBe(t):s;return Z.createElement("path",XC({},wt(t,!1),ov(t),{className:_t("recharts-curve",n),d:o,ref:a}))},vBe=Object.getOwnPropertyNames,wBe=Object.getOwnPropertySymbols,SBe=Object.prototype.hasOwnProperty;function r7(e,t){return function(r,s,a){return e(r,s,a)&&t(r,s,a)}}function zx(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,s);return a.delete(n),a.delete(r),c}}function s7(e){return vBe(e).concat(wBe(e))}var jBe=Object.hasOwn||function(e,t){return SBe.call(e,t)};function Od(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var CBe="__v",NBe="__o",$Be="_owner",a7=Object.getOwnPropertyDescriptor,i7=Object.keys;function EBe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function ABe(e,t){return Od(e.getTime(),t.getTime())}function PBe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function DBe(e,t){return e===t}function o7(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,f,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var kBe=Od;function IBe(e,t,n){var r=i7(e),s=r.length;if(i7(t).length!==s)return!1;for(;s-- >0;)if(!XY(e,t,n,r[s]))return!1;return!0}function rp(e,t,n){var r=s7(e),s=r.length;if(s7(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],!XY(e,t,n,a)||(o=a7(e,a),l=a7(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function TBe(e,t){return Od(e.valueOf(),t.valueOf())}function MBe(e,t){return e.source===t.source&&e.flags===t.flags}function l7(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function OBe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function LBe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function XY(e,t,n,r){return(r===$Be||r===NBe||r===CBe)&&(e.$$typeof||t.$$typeof)?!0:jBe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var _Be="[object Arguments]",FBe="[object Boolean]",RBe="[object Date]",BBe="[object Error]",zBe="[object Map]",VBe="[object Number]",WBe="[object Object]",UBe="[object RegExp]",KBe="[object Set]",HBe="[object String]",qBe="[object URL]",GBe=Array.isArray,c7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,u7=Object.assign,YBe=Object.prototype.toString.call.bind(Object.prototype.toString);function XBe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(b,x,y){if(b===x)return!0;if(b==null||x==null)return!1;var v=typeof b;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?o(b,x,y):v==="function"?s(b,x,y):!1;var j=b.constructor;if(j!==x.constructor)return!1;if(j===Object)return l(b,x,y);if(GBe(b))return t(b,x,y);if(c7!=null&&c7(b))return f(b,x,y);if(j===Date)return n(b,x,y);if(j===RegExp)return u(b,x,y);if(j===Map)return a(b,x,y);if(j===Set)return d(b,x,y);var S=YBe(b);return S===RBe?n(b,x,y):S===UBe?u(b,x,y):S===zBe?a(b,x,y):S===KBe?d(b,x,y):S===WBe?typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,y):S===qBe?h(b,x,y):S===BBe?r(b,x,y):S===_Be?l(b,x,y):S===FBe||S===VBe||S===HBe?c(b,x,y):!1}}function ZBe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?rp:EBe,areDatesEqual:ABe,areErrorsEqual:PBe,areFunctionsEqual:DBe,areMapsEqual:r?r7(o7,rp):o7,areNumbersEqual:kBe,areObjectsEqual:r?rp:IBe,arePrimitiveWrappersEqual:TBe,areRegExpsEqual:MBe,areSetsEqual:r?r7(l7,rp):l7,areTypedArraysEqual:r?rp:OBe,areUrlsEqual:LBe};if(n&&(s=u7({},s,n(s))),t){var a=zx(s.areArraysEqual),o=zx(s.areMapsEqual),l=zx(s.areObjectsEqual),c=zx(s.areSetsEqual);s=u7({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function JBe(e){return function(t,n,r,s,a,o,l){return e(t,n,l)}}function QBe(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:s,meta:p,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var eze=tu();tu({strict:!0});tu({circular:!0});tu({circular:!0,strict:!0});tu({createInternalComparator:function(){return Od}});tu({strict:!0,createInternalComparator:function(){return Od}});tu({circular:!0,createInternalComparator:function(){return Od}});tu({circular:!0,createInternalComparator:function(){return Od},strict:!0});function tu(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=ZBe(e),c=XBe(l),u=r?r(c):JBe(c);return QBe({circular:n,comparator:c,createState:s,equals:u,strict:o})}function tze(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function d7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):tze(s)};requestAnimationFrame(r)}function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function nze(e){return ize(e)||aze(e)||sze(e)||rze()}function rze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sze(e,t){if(e){if(typeof e=="string")return f7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f7(e,t)}}function f7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ize(e){if(Array.isArray(e))return e}function oze(){var e={},t=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=nze(o),c=l[0],u=l.slice(1);if(typeof c=="number"){d7(s.bind(null,u),c);return}s(c),d7(s.bind(null,u));return}JC(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function h7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function m7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(n),!0).forEach(function(r){ZY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZY(e,t,n){return t=lze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lze(e){var t=cze(e,"string");return Kg(t)==="symbol"?t:String(t)}function cze(e,t){if(Kg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uze=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},dze=function(t){return t},fze=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Gp=function(t,n){return Object.keys(n).reduce(function(r,s){return m7(m7({},r),{},ZY({},s,t(s,n[s])))},{})},p7=function(t,n,r){return t.map(function(s){return"".concat(fze(s)," ").concat(n,"ms ").concat(r)}).join(",")};function hze(e,t){return gze(e)||pze(e,t)||JY(e,t)||mze()}function mze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gze(e){if(Array.isArray(e))return e}function bze(e){return vze(e)||yze(e)||JY(e)||xze()}function xze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(e,t){if(e){if(typeof e=="string")return QC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(e,t)}}function yze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vze(e){if(Array.isArray(e))return QC(e)}function QC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fv=1e-4,QY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},eX=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},g7=function(t,n){return function(r){var s=QY(t,n);return eX(s,r)}},wze=function(t,n){return function(r){var s=QY(t,n),a=[].concat(bze(s.map(function(o,l){return o*l}).slice(1)),[0]);return eX(a,r)}},b7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=hze(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=g7(s,o),h=g7(a,l),p=wze(s,o),b=function(v){return v>1?1:v<0?0:v},x=function(v){for(var j=v>1?1:v,S=j,N=0;N<8;++N){var C=f(S)-j,$=p(S);if(Math.abs(C-j)<Fv||$<Fv)return h(S);S=b(S-C/$)}return h(S)};return x.isStepper=!1,x},Sze=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*r,b=h*a,x=h+(p-b)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Fv&&Math.abs(x)<Fv?[f,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},jze=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b7(s);case"spring":return Sze();default:if(s.split("(")[0]==="cubic-bezier")return b7(s)}return typeof s=="function"?s:null};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function x7(e){return $ze(e)||Nze(e)||tX(e)||Cze()}function Cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ze(e){if(Array.isArray(e))return tN(e)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){eN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eN(e,t,n){return t=Eze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eze(e){var t=Aze(e,"string");return Hg(t)==="symbol"?t:String(t)}function Aze(e,t){if(Hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pze(e,t){return Ize(e)||kze(e,t)||tX(e,t)||Dze()}function Dze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tX(e,t){if(e){if(typeof e=="string")return tN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(e,t)}}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ize(e){if(Array.isArray(e))return e}var Rv=function(t,n,r){return t+(n-t)*r},nN=function(t){var n=t.from,r=t.to;return n!==r},Tze=function e(t,n,r){var s=Gp(function(a,o){if(nN(o)){var l=t(o.from,o.to,o.velocity),c=Pze(l,2),u=c[0],d=c[1];return Br(Br({},o),{},{from:u,velocity:d})}return o},n);return r<1?Gp(function(a,o){return nN(o)?Br(Br({},o),{},{velocity:Rv(o.velocity,s[a].velocity,r),from:Rv(o.from,s[a].from,r)}):o},n):e(t,s,r-1)};const Mze=function(e,t,n,r,s){var a=uze(e,t),o=a.reduce(function(y,v){return Br(Br({},y),{},eN({},v,[e[v],t[v]]))},{}),l=a.reduce(function(y,v){return Br(Br({},y),{},eN({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Gp(function(v,j){return j.from},l)},p=function(){return!Object.values(l).filter(nN).length},b=function(v){u||(u=v);var j=v-u,S=j/n.dt;l=Tze(n,l,S),s(Br(Br(Br({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},x=function(v){d||(d=v);var j=(v-d)/r,S=Gp(function(C,$){return Rv.apply(void 0,x7($).concat([n(j)]))},o);if(s(Br(Br(Br({},e),t),S)),j<1)c=requestAnimationFrame(f);else{var N=Gp(function(C,$){return Rv.apply(void 0,x7($).concat([n(1)]))},o);s(Br(Br(Br({},e),t),N))}};return f=n.isStepper?b:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}var Oze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lze(e,t){if(e==null)return{};var n=_ze(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _ze(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Qj(e){return zze(e)||Bze(e)||Rze(e)||Fze()}function Fze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(e,t){if(e){if(typeof e=="string")return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}}function Bze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zze(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(n),!0).forEach(function(r){Pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pp(e,t,n){return t=nX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nX(r.key),r)}}function Uze(e,t,n){return t&&Wze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nX(e){var t=Kze(e,"string");return yh(t)==="symbol"?t:String(t)}function Kze(e,t){if(yh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sN(e,t)}function qze(e){var t=Gze();return function(){var r=Bv(e),s;if(t){var a=Bv(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return aN(this,s)}}function aN(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iN(e)}function iN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(e)}var dl=function(e){Hze(n,e);var t=qze(n);function n(r,s){var a;Vze(this,n),a=t.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(iN(a)),a.changeStyle=a.changeStyle.bind(iN(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),aN(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},aN(a);a.state={style:c?Pp({},c,u):u}}else a.state={style:{}};return a}return Uze(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var p={style:c?Pp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(eze(s.to,d)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||u?f:s.to;if(this.state&&h){var y={style:c?Pp({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(y)}this.runAnimation(ui(ui({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=Mze(o,l,jze(u),c,this.changeStyle),b=function(){a.stopJSAnimation=p()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,y,v){if(v===0)return x;var j=y.duration,S=y.easing,N=S===void 0?"ease":S,C=y.style,$=y.properties,P=y.onAnimationEnd,E=v>0?o[v-1]:y,M=$||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(Qj(x),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:j,easing:N}),j]);var k=p7(M,j,N),A=ui(ui(ui({},E.style),C),{},{transition:k});return[].concat(Qj(x),[A,j,P]).filter(dze)};return this.manager.start([c].concat(Qj(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=oze());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var x=l?Pp({},l,c):c,y=p7(Object.keys(x),o,u);b.start([d,a,ui(ui({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Lze(s,Oze),u=m.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var b=p.props,x=b.style,y=x===void 0?{}:x,v=b.className,j=m.cloneElement(p,ui(ui({},c),{},{style:ui(ui({},y),d),className:v}));return j};return u===1?f(m.Children.only(a)):Z.createElement("div",null,m.Children.map(a,function(h){return f(h)}))}}]),n}(m.PureComponent);dl.displayName="Animate";dl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dl.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function Yze(e,t){return Qze(e)||Jze(e,t)||Zze(e,t)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zze(e,t){if(e){if(typeof e=="string")return w7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w7(e,t)}}function w7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jze(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qze(e){if(Array.isArray(e))return e}function S7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function j7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(n),!0).forEach(function(r){eVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eVe(e,t,n){return t=tVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tVe(e){var t=nVe(e,"string");return qg(t)=="symbol"?t:t+""}function nVe(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C7=function(t,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),d+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);d="M ".concat(t,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(n,`
            L `).concat(t+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*b,`
            L `).concat(t+r,",").concat(n+s-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r-c*b,",").concat(n+s,`
            L `).concat(t+c*b,",").concat(n+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*b," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},rVe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},sVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JE=function(t){var n=j7(j7({},sVe),t),r=m.useRef(),s=m.useState(-1),a=Yze(s,2),o=a[0],l=a[1];m.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=_t("recharts-rectangle",p);return j?Z.createElement(dl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:b,isActive:j},function(N){var C=N.width,$=N.height,P=N.x,E=N.y;return Z.createElement(dl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:b},Z.createElement("path",zv({},wt(n,!0),{className:S,d:C7(P,E,C,$,h),ref:r})))}):Z.createElement("path",zv({},wt(n,!0),{className:S,d:C7(c,u,d,f,h)}))},aVe=["points","className","baseLinePoints","connectNulls"];function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}function iVe(e,t){if(e==null)return{};var n=oVe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function N7(e){return dVe(e)||uVe(e)||cVe(e)||lVe()}function lVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cVe(e,t){if(e){if(typeof e=="string")return oN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(e,t)}}function uVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dVe(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $7=function(t){return t&&t.x===+t.x&&t.y===+t.y},fVe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){$7(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),$7(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Yp=function(t,n){var r=fVe(t);n&&(r=[r.reduce(function(a,o){return[].concat(N7(a),N7(o))},[])]);var s=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},hVe=function(t,n,r){var s=Yp(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Yp(n.reverse(),r).slice(1))},mVe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,a=t.connectNulls,o=iVe(t,aVe);if(!n||!n.length)return null;var l=_t("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=hVe(n,s,a);return Z.createElement("g",{className:l},Z.createElement("path",Ff({},wt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Z.createElement("path",Ff({},wt(o,!0),{fill:"none",d:Yp(n,a)})):null,c?Z.createElement("path",Ff({},wt(o,!0),{fill:"none",d:Yp(s,a)})):null)}var d=Yp(n,a);return Z.createElement("path",Ff({},wt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lN.apply(this,arguments)}var QE=function(t){var n=t.cx,r=t.cy,s=t.r,a=t.className,o=_t("recharts-dot",a);return n===+n&&r===+r&&s===+s?Z.createElement("circle",lN({},wt(t,!1),ov(t),{className:o,cx:n,cy:r,r:s})):null};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var pVe=["x","y","top","left","width","height","className"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cN.apply(this,arguments)}function E7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gVe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(n),!0).forEach(function(r){bVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bVe(e,t,n){return t=xVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xVe(e){var t=yVe(e,"string");return Gg(t)=="symbol"?t:t+""}function yVe(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vVe(e,t){if(e==null)return{};var n=wVe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var SVe=function(t,n,r,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},jVe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,b=t.className,x=vVe(t,pVe),y=gVe({x:r,y:a,top:l,left:u,width:f,height:p},x);return!He(r)||!He(a)||!He(f)||!He(p)||!He(l)||!He(u)?null:Z.createElement("path",cN({},wt(y,!0),{className:_t("recharts-cross",b),d:SVe(r,a,f,p,l,u)}))},CVe=Bw,NVe=xY,$Ve=co;function EVe(e,t){return e&&e.length?CVe(e,$Ve(t),NVe):void 0}var AVe=EVe;const PVe=rn(AVe);var DVe=Bw,kVe=co,IVe=yY;function TVe(e,t){return e&&e.length?DVe(e,kVe(t),IVe):void 0}var MVe=TVe;const OVe=rn(MVe);var LVe=["cx","cy","angle","ticks","axisLine"],_Ve=["ticks","tick","angle","tickFormatter","stroke"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(this,arguments)}function A7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(n),!0).forEach(function(r){qw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t){if(e==null)return{};var n=FVe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sX(r.key),r)}}function BVe(e,t,n){return t&&D7(e.prototype,t),n&&D7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zVe(e,t,n){return t=Vv(t),VVe(e,rX()?Reflect.construct(t,n||[],Vv(e).constructor):t.apply(e,n))}function VVe(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WVe(e)}function WVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rX=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(e)}function UVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},uN(e,t)}function qw(e,t,n){return t=sX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t=KVe(e,"string");return vh(t)=="symbol"?t:t+""}function KVe(e,t){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gw=function(e){function t(){return RVe(this,t),zVe(this,t,arguments)}return UVe(t,e),BVe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return kn(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=PVe(l,function(d){return d.coordinate||0}),u=OVe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=P7(r,LVe),d=l.reduce(function(b,x){return[Math.min(b[0],x.coordinate),Math.max(b[1],x.coordinate)]},[1/0,-1/0]),f=kn(s,a,d[0],o),h=kn(s,a,d[1],o),p=wu(wu(wu({},wt(u,!1)),{},{fill:"none"},wt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return Z.createElement("line",Xp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=P7(s,_Ve),f=this.getTickTextAnchor(),h=wt(d,!1),p=wt(o,!1),b=a.map(function(x,y){var v=r.getTickValueCoord(x),j=wu(wu(wu(wu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},v),{},{payload:x});return Z.createElement(fn,Xp({className:_t("recharts-polar-radius-axis-tick",qY(o)),key:"tick-".concat(x.coordinate)},fd(r.props,x,y)),t.renderTickItem(o,j,c?c(x.value,y):x.value))});return Z.createElement(fn,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.axisLine,o=r.tick;return!s||!s.length?null:Z.createElement(fn,{className:_t("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,s):jt(r)?o=r(s):o=Z.createElement(pd,Xp({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(m.PureComponent);qw(Gw,"displayName","PolarRadiusAxis");qw(Gw,"axisType","radiusAxis");qw(Gw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function k7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(n),!0).forEach(function(r){Yw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iX(r.key),r)}}function qVe(e,t,n){return t&&I7(e.prototype,t),n&&I7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GVe(e,t,n){return t=Wv(t),YVe(e,aX()?Reflect.construct(t,n||[],Wv(e).constructor):t.apply(e,n))}function YVe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XVe(e)}function XVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aX=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(e)}function ZVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dN(e,t)}function dN(e,t){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},dN(e,t)}function Yw(e,t,n){return t=iX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(e){var t=JVe(e,"string");return wh(t)=="symbol"?t:t+""}function JVe(e,t){if(wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QVe=Math.PI/180,eWe=1e-5,Xw=function(e){function t(){return HVe(this,t),GVe(this,t,arguments)}return ZVe(t,e),qVe(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=kn(a,o,l,r.coordinate),h=kn(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,a=Math.cos(-r.coordinate*QVe),o;return a>eWe?o=s==="outer"?"start":"end":a<-1e-5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Su(Su({},wt(this.props,!1)),{},{fill:"none"},wt(l,!1));if(c==="circle")return Z.createElement(QE,_u({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return kn(s,a,o,h.coordinate)});return Z.createElement(mVe,_u({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=wt(this.props,!1),f=wt(o,!1),h=Su(Su({},d),{},{fill:"none"},wt(l,!1)),p=a.map(function(b,x){var y=r.getTickLineCoord(b),v=r.getTickTextAnchor(b),j=Su(Su(Su({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:b,x:y.x2,y:y.y2});return Z.createElement(fn,_u({className:_t("recharts-polar-angle-axis-tick",qY(o)),key:"tick-".concat(b.coordinate)},fd(r.props,b,x)),l&&Z.createElement("line",_u({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,j,c?c(b.value,x):b.value))});return Z.createElement(fn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!s||!s.length?null:Z.createElement(fn,{className:_t("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,a){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,s):jt(r)?o=r(s):o=Z.createElement(pd,_u({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(m.PureComponent);Yw(Xw,"displayName","PolarAngleAxis");Yw(Xw,"axisType","angleAxis");Yw(Xw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tWe=mG,nWe=tWe(Object.getPrototypeOf,Object),rWe=nWe,sWe=jl,aWe=rWe,iWe=Cl,oWe="[object Object]",lWe=Function.prototype,cWe=Object.prototype,oX=lWe.toString,uWe=cWe.hasOwnProperty,dWe=oX.call(Object);function fWe(e){if(!iWe(e)||sWe(e)!=oWe)return!1;var t=aWe(e);if(t===null)return!0;var n=uWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&oX.call(n)==dWe}var hWe=fWe;const mWe=rn(hWe);var pWe=jl,gWe=Cl,bWe="[object Boolean]";function xWe(e){return e===!0||e===!1||gWe(e)&&pWe(e)==bWe}var yWe=xWe;const vWe=rn(yWe);function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(this,arguments)}function wWe(e,t){return NWe(e)||CWe(e,t)||jWe(e,t)||SWe()}function SWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jWe(e,t){if(e){if(typeof e=="string")return T7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T7(e,t)}}function T7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function NWe(e){if(Array.isArray(e))return e}function M7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function O7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(n),!0).forEach(function(r){$We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $We(e,t,n){return t=EWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EWe(e){var t=AWe(e,"string");return Yg(t)=="symbol"?t:t+""}function AWe(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=function(t,n,r,s,a){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},PWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DWe=function(t){var n=O7(O7({},PWe),t),r=m.useRef(),s=m.useState(-1),a=wWe(s,2),o=a[0],l=a[1];m.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,b=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var j=_t("recharts-trapezoid",p);return v?Z.createElement(dl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:b,isActive:v},function(S){var N=S.upperWidth,C=S.lowerWidth,$=S.height,P=S.x,E=S.y;return Z.createElement(dl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:b},Z.createElement("path",Uv({},wt(n,!0),{className:j,d:L7(P,E,N,C,$),ref:r})))}):Z.createElement("g",null,Z.createElement("path",Uv({},wt(n,!0),{className:j,d:L7(c,u,d,f,h)})))},kWe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function IWe(e,t){if(e==null)return{};var n=TWe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(n),!0).forEach(function(r){MWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MWe(e,t,n){return t=OWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OWe(e){var t=LWe(e,"string");return Xg(t)=="symbol"?t:t+""}function LWe(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _We(e,t){return Kv(Kv({},t),e)}function FWe(e,t){return e==="symbols"}function F7(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(JE,n);case"trapezoid":return Z.createElement(DWe,n);case"sector":return Z.createElement(_v,n);case"symbols":if(FWe(t))return Z.createElement(bE,n);break;default:return null}}function RWe(e){return m.isValidElement(e)?e.props:e}function lX(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?_We:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=IWe(e,kWe),u;if(m.isValidElement(t))u=m.cloneElement(t,Kv(Kv({},c),RWe(t)));else if(jt(t))u=t(c);else if(mWe(t)&&!vWe(t)){var d=s(t,c);u=Z.createElement(F7,{shapeType:n,elementProps:d})}else{var f=c;u=Z.createElement(F7,{shapeType:n,elementProps:f})}return l?Z.createElement(fn,{className:o},u):u}function Zw(e,t){return t!=null&&"trapezoids"in e.props}function Jw(e,t){return t!=null&&"sectors"in e.props}function Zg(e,t){return t!=null&&"points"in e.props}function BWe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&a}function zWe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function VWe(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function WWe(e,t){var n;return Zw(e,t)?n=BWe:Jw(e,t)?n=zWe:Zg(e,t)&&(n=VWe),n}function UWe(e,t){var n;return Zw(e,t)?n="trapezoids":Jw(e,t)?n="sectors":Zg(e,t)&&(n="points"),n}function KWe(e,t){if(Zw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Jw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zg(e,t)?t.payload:{}}function HWe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=UWe(n,t),a=KWe(n,t),o=r.filter(function(c,u){var d=Ww(a,c),f=n.props[s].filter(function(b){var x=WWe(n,t);return x(b,t)}),h=n.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var gy;function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}function R7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uX(r.key),r)}}function GWe(e,t,n){return t&&B7(e.prototype,t),n&&B7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YWe(e,t,n){return t=Hv(t),XWe(e,cX()?Reflect.construct(t,n||[],Hv(e).constructor):t.apply(e,n))}function XWe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZWe(e)}function ZWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(e)}function JWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fN(e,t)}function fN(e,t){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fN(e,t)}function Fa(e,t,n){return t=uX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uX(e){var t=QWe(e,"string");return Sh(t)=="symbol"?t:t+""}function QWe(e,t){if(Sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uo=function(e){function t(n){var r;return qWe(this,t),r=YWe(this,t,[n]),Fa(r,"pieRef",null),Fa(r,"sectorRefs",[]),Fa(r,"id",V0("recharts-pie-")),Fa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),jt(s)&&s()}),Fa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),jt(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return JWe(t,e),GWe(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=wt(this.props,!1),f=wt(o,!1),h=wt(l,!1),p=o&&o.offsetRadius||20,b=r.map(function(x,y){var v=(x.startAngle+x.endAngle)/2,j=kn(x.cx,x.cy,x.outerRadius+p,v),S=En(En(En(En({},d),x),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(j.x,x.cx)},j),N=En(En(En(En({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:y,points:[kn(x.cx,x.cy,x.outerRadius,v),j]}),C=c;return Vt(c)&&Vt(u)?C="value":Vt(c)&&(C=u),Z.createElement(fn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,S,es(x,C)))});return Z.createElement(fn,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,b=En(En({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Z.createElement(fn,Rf({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},fd(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Z.createElement(lX,Rf({option:p,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return Z.createElement(dl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var x=b.t,y=[],v=a&&a[0],j=v.startAngle;return a.forEach(function(S,N){var C=h&&h[N],$=N>0?pa(S,"paddingAngle",0):0;if(C){var P=Jl(C.endAngle-C.startAngle,S.endAngle-S.startAngle),E=En(En({},S),{},{startAngle:j+$,endAngle:j+P(x)+$});y.push(E),j=E.endAngle}else{var M=S.endAngle,k=S.startAngle,A=Jl(0,M-k),I=A(x),L=En(En({},S),{},{startAngle:j+$,endAngle:j+I+$});y.push(L),j=L.endAngle}}),Z.createElement(fn,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Ww(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,b=this.state.isAnimationFinished;if(a||!o||!o.length||!He(u)||!He(d)||!He(f)||!He(h))return null;var x=_t("recharts-pie",l);return Z.createElement(fn,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Dr.renderCallByParent(this.props,null,!1),(!p||b)&&jc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,a){if(Z.isValidElement(r))return Z.cloneElement(r,s);if(jt(r))return r(s);var o=_t("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(ZC,Rf({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,a){if(Z.isValidElement(r))return Z.cloneElement(r,s);var o=a;if(jt(r)&&(o=r(s),Z.isValidElement(o)))return o;var l=_t("recharts-pie-label-text",typeof r!="boolean"&&!jt(r)?r.className:"");return Z.createElement(pd,Rf({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(m.PureComponent);gy=uo;Fa(uo,"displayName","Pie");Fa(uo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fa(uo,"parseDeltaAngle",function(e,t){var n=Cs(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Fa(uo,"getRealPieData",function(e){var t=e.data,n=e.children,r=wt(e,!1),s=Va(n,md);return t&&t.length?t.map(function(a,o){return En(En(En({payload:a},r),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return En(En({},r),a.props)}):[]});Fa(uo,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,a=t.height,o=HY(s,a),l=r+Ns(e.cx,s,s/2),c=n+Ns(e.cy,a,a/2),u=Ns(e.innerRadius,o,0),d=Ns(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Fa(uo,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?En(En({},t.type.defaultProps),t.props):t.props,s=gy.getRealPieData(r);if(!s||!s.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),b=gy.parseCoordinateOfPie(r,n),x=gy.parseDeltaAngle(o,l),y=Math.abs(x),v=u;Vt(u)&&Vt(f)?(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Vt(u)&&(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var j=s.filter(function(E){return es(E,v,0)!==0}).length,S=(y>=360?j:j-1)*c,N=y-j*p-S,C=s.reduce(function(E,M){var k=es(M,v,0);return E+(He(k)?k:0)},0),$;if(C>0){var P;$=s.map(function(E,M){var k=es(E,v,0),A=es(E,d,M),I=(He(k)?k:0)/C,L;M?L=P.endAngle+Cs(x)*c*(k!==0?1:0):L=o;var R=L+Cs(x)*((k!==0?p:0)+I*N),F=(L+R)/2,T=(b.innerRadius+b.outerRadius)/2,O=[{name:A,value:k,payload:E,dataKey:v,type:h}],_=kn(b.cx,b.cy,T,F);return P=En(En(En({percent:I,cornerRadius:a,name:A,tooltipPayload:O,midAngle:F,middleRadius:T,tooltipPosition:_},E),b),{},{value:es(E,v),startAngle:L,endAngle:R,payload:E,paddingAngle:Cs(x)*c}),P})}return En(En({},b),{},{sectors:$,data:s})});var eUe=Math.ceil,tUe=Math.max;function nUe(e,t,n,r){for(var s=-1,a=tUe(eUe((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++s]=e,e+=n;return o}var rUe=nUe,sUe=TG,aUe=1/0,iUe=17976931348623157e292;function oUe(e){if(!e)return e===0?e:0;if(e=sUe(e),e===aUe||e===-1/0){var t=e<0?-1:1;return t*iUe}return e===e?e:0}var dX=oUe,lUe=rUe,cUe=Tw,e5=dX;function uUe(e){return function(t,n,r){return r&&typeof r!="number"&&cUe(t,n,r)&&(n=r=void 0),t=e5(t),n===void 0?(n=t,t=0):n=e5(n),r=r===void 0?t<n?1:-1:e5(r),lUe(t,n,r,e)}}var dUe=uUe,fUe=dUe,hUe=fUe(),mUe=hUe;const qv=rn(mUe);function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function V7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(n),!0).forEach(function(r){fX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fX(e,t,n){return t=pUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pUe(e){var t=gUe(e,"string");return Jg(t)=="symbol"?t:t+""}function gUe(e,t){if(Jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bUe=["Webkit","Moz","O","ms"],xUe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=bUe.reduce(function(a,o){return V7(V7({},a),{},fX({},o+r,n))},{});return s[t]=n,s};function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function W7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function t5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(n),!0).forEach(function(r){sa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mX(r.key),r)}}function vUe(e,t,n){return t&&U7(e.prototype,t),n&&U7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wUe(e,t,n){return t=Yv(t),SUe(e,hX()?Reflect.construct(t,n||[],Yv(e).constructor):t.apply(e,n))}function SUe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(e)}function jUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(e)}function CUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hN(e,t)}function sa(e,t,n){return t=mX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mX(e){var t=NUe(e,"string");return jh(t)=="symbol"?t:t+""}function NUe(e,t){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $Ue=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Hp().domain(qv(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},K7=function(t){return t.changedTouches&&!!t.changedTouches.length},Ch=function(e){function t(n){var r;return yUe(this,t),r=wUe(this,t,[n]),sa(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),sa(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),sa(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),sa(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),sa(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),sa(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),sa(r,"handleSlideDragStart",function(s){var a=K7(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return CUe(t,e),vUe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),p=t.getIndexInRange(o,f),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=es(a[r],l,r);return jt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,x=r.pageX-a;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==h||y.endIndex!==p)&&b&&b(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=K7(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,b=d.onChange,x=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},j=r.pageX-a;j>0?j=Math.min(j,f+h-p-u):j<0&&(j=Math.max(j,f-u)),v[o]=u+j;var S=this.getIndex(v),N=S.startIndex,C=S.endIndex,$=function(){var E=y.length-1;return o==="startX"&&(l>c?N%x===0:C%x===0)||l<c&&C===E||o==="endX"&&(l>c?C%x===0:N%x===0)||l>c&&C===E};this.setState(sa(sa({},o,u+j),"brushMoveStartX",r.pageX),function(){b&&$()&&b(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(sa({},s,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return Z.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=m.Children.only(u);return f?Z.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,x=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),j=t5(t5({},wt(this.props,!1)),{},{x:v,y:u,width:d,height:f}),S=p||"Min value: ".concat((a=b[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return Z.createElement(fn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,j))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,b={pointerEvents:"none",fill:u};return Z.createElement(fn,{className:"recharts-brush-texts"},Z.createElement(pd,Gv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},b),this.getTextOfTick(s)),Z.createElement(pd,Gv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,b=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,j=h.isTravellerFocused;if(!s||!s.length||!He(l)||!He(c)||!He(u)||!He(d)||u<=0||d<=0)return null;var S=_t("recharts-brush",a),N=Z.Children.count(o)===1,C=xUe("userSelect","none");return Z.createElement(fn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(x||y||v||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return Z.isValidElement(r)?a=Z.cloneElement(r,s):jt(r)?a=r(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return t5({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?$Ue({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(m.PureComponent);sa(Ch,"displayName","Brush");sa(Ch,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var EUe=CE;function AUe(e,t){var n;return EUe(e,function(r,s,a){return n=t(r,s,a),!n}),!!n}var PUe=AUe,DUe=iG,kUe=co,IUe=PUe,TUe=Gs,MUe=Tw;function OUe(e,t,n){var r=TUe(e)?DUe:IUe;return n&&MUe(e,t,n)&&(t=void 0),r(e,kUe(t))}var LUe=OUe;const _Ue=rn(LUe);var Zi=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},H7=AG;function FUe(e,t,n){t=="__proto__"&&H7?H7(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var RUe=FUe,BUe=RUe,zUe=$G,VUe=co;function WUe(e,t){var n={};return t=VUe(t),zUe(e,function(r,s,a){BUe(n,s,t(r,s,a))}),n}var UUe=WUe;const KUe=rn(UUe);function HUe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var qUe=HUe,GUe=CE;function YUe(e,t){var n=!0;return GUe(e,function(r,s,a){return n=!!t(r,s,a),n}),n}var XUe=YUe,ZUe=qUe,JUe=XUe,QUe=co,eKe=Gs,tKe=Tw;function nKe(e,t,n){var r=eKe(e)?ZUe:JUe;return n&&tKe(e,t,n)&&(t=void 0),r(e,QUe(t))}var rKe=nKe;const pX=rn(rKe);var sKe=["x","y"];function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(this,arguments)}function q7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(n),!0).forEach(function(r){aKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aKe(e,t,n){return t=iKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iKe(e){var t=oKe(e,"string");return Qg(t)=="symbol"?t:t+""}function oKe(e,t){if(Qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lKe(e,t){if(e==null)return{};var n=cKe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uKe(e,t){var n=e.x,r=e.y,s=lKe(e,sKe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return sp(sp(sp(sp(sp({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function G7(e){return Z.createElement(lX,mN({shapeType:"rectangle",propTransformer:uKe,activeClassName:"recharts-active-bar"},e))}var dKe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,s):(a||bd(),n)}},fKe=["value","background"],gX;function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function hKe(e,t){if(e==null)return{};var n=mKe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}function Y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(n),!0).forEach(function(r){fc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xX(r.key),r)}}function gKe(e,t,n){return t&&X7(e.prototype,t),n&&X7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bKe(e,t,n){return t=Zv(t),xKe(e,bX()?Reflect.construct(t,n||[],Zv(e).constructor):t.apply(e,n))}function xKe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yKe(e)}function yKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bX=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(e)}function vKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pN(e,t)}function fc(e,t,n){return t=xX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=wKe(e,"string");return Nh(t)=="symbol"?t:t+""}function wKe(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ps=function(e){function t(){var n;pKe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=bKe(this,t,[].concat(s)),fc(n,"state",{isAnimationFinished:!1}),fc(n,"id",V0("recharts-bar-")),fc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),fc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return vKe(t,e),gKe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=wt(this.props,!1);return r&&r.map(function(f,h){var p=h===c,b=p?u:o,x=dr(dr(dr({},d),f),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Z.createElement(fn,Xv({className:"recharts-bar-rectangle"},fd(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Z.createElement(G7,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return Z.createElement(dl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,x=a.map(function(y,v){var j=h&&h[v];if(j){var S=Jl(j.x,y.x),N=Jl(j.y,y.y),C=Jl(j.width,y.width),$=Jl(j.height,y.height);return dr(dr({},y),{},{x:S(b),y:N(b),width:C(b),height:$(b)})}if(o==="horizontal"){var P=Jl(0,y.height),E=P(b);return dr(dr({},y),{},{y:y.y+y.height-E,height:E})}var M=Jl(0,y.width),k=M(b);return dr(dr({},y),{},{width:k})});return Z.createElement(fn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Ww(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=wt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=hKe(u,fKe);if(!f)return null;var p=dr(dr(dr(dr(dr({},h),{},{fill:"#eee"},f),c),fd(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Z.createElement(G7,Xv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Va(d,Hw);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,v){var j=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:j,errorVal:es(y,v)}},b={clipPath:r?"url(#clipPath-".concat(s,")"):null};return Z.createElement(fn,b,f.map(function(x){return Z.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,b=r.background,x=r.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=_t("recharts-bar",o),j=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,N=j||S,C=Vt(x)?this.id:x;return Z.createElement(fn,{className:v},j||S?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(C)},Z.createElement("rect",{x:j?u:u-f/2,y:S?d:d-h/2,width:j?f:f*2,height:S?h:h*2}))):null,Z.createElement(fn,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(C,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,C),(!p||y)&&jc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(m.PureComponent);gX=Ps;fc(Ps,"displayName","Bar");fc(Ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fc(Ps,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=s9e(r,n);if(!p)return null;var b=t.layout,x=n.type.defaultProps,y=x!==void 0?dr(dr({},x),n.props):n.props,v=y.dataKey,j=y.children,S=y.minPointSize,N=b==="horizontal"?o:a,C=u?N.scale.domain():null,$=d9e({numericAxis:N}),P=Va(j,md),E=f.map(function(M,k){var A,I,L,R,F,T;u?A=a9e(u[d+k],C):(A=es(M,v),Array.isArray(A)||(A=[$,A]));var O=dKe(S,gX.defaultProps.minPointSize)(A[1],k);if(b==="horizontal"){var _,W=[o.scale(A[0]),o.scale(A[1])],z=W[0],U=W[1];I=zL({axis:a,ticks:l,bandSize:s,offset:p.offset,entry:M,index:k}),L=(_=U??z)!==null&&_!==void 0?_:void 0,R=p.size;var H=z-U;if(F=Number.isNaN(H)?0:H,T={x:I,y:o.y,width:R,height:o.height},Math.abs(O)>0&&Math.abs(F)<Math.abs(O)){var B=Cs(F||O)*(Math.abs(O)-Math.abs(F));L-=B,F+=B}}else{var Y=[a.scale(A[0]),a.scale(A[1])],ae=Y[0],ce=Y[1];if(I=ae,L=zL({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:M,index:k}),R=ce-ae,F=p.size,T={x:a.x,y:L,width:a.width,height:F},Math.abs(O)>0&&Math.abs(R)<Math.abs(O)){var oe=Cs(R||O)*(Math.abs(O)-Math.abs(R));R+=oe}}return dr(dr(dr({},M),{},{x:I,y:L,width:R,height:F,value:u?A:A[1],payload:M,background:T},P&&P[k]&&P[k].props),{},{tooltipPayload:[UY(n,M)],tooltipPosition:{x:I+R/2,y:L+F/2}})});return dr({data:E,layout:b},h)});function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function SKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yX(r.key),r)}}function jKe(e,t,n){return t&&Z7(e.prototype,t),n&&Z7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(n),!0).forEach(function(r){Qw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qw(e,t,n){return t=yX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=CKe(e,"string");return e0(t)=="symbol"?t:t+""}function CKe(e,t){if(e0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(e0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NKe=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!aa(u,Ps);return d.reduce(function(p,b){var x=n[b],y=x.orientation,v=x.domain,j=x.padding,S=j===void 0?{}:j,N=x.mirror,C=x.reversed,$="".concat(y).concat(N?"Mirror":""),P,E,M,k,A;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var I=v[1]-v[0],L=1/0,R=x.categoricalDomain.sort(WEe);if(R.forEach(function(Y,ae){ae>0&&(L=Math.min((Y||0)-(R[ae-1]||0),L))}),Number.isFinite(L)){var F=L/I,T=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(P=F*T/2),x.padding==="no-gap"){var O=Ns(t.barCategoryGap,F*T),_=F*T/2;P=_-O-(_-O)/T*O}}}s==="xAxis"?E=[r.left+(S.left||0)+(P||0),r.left+r.width-(S.right||0)-(P||0)]:s==="yAxis"?E=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(P||0),r.top+r.height-(S.bottom||0)-(P||0)]:E=x.range,C&&(E=[E[1],E[0]]);var W=BY(x,a,h),z=W.scale,U=W.realScaleType;z.domain(v).range(E),zY(z);var H=VY(z,pi(pi({},x),{},{realScaleType:U}));s==="xAxis"?(A=y==="top"&&!N||y==="bottom"&&N,M=r.left,k=f[$]-A*x.height):s==="yAxis"&&(A=y==="left"&&!N||y==="right"&&N,M=f[$]-A*x.width,k=r.top);var B=pi(pi(pi({},x),H),{},{realScaleType:U,x:M,y:k,scale:z,width:s==="xAxis"?r.width:x.width,height:s==="yAxis"?r.height:x.height});return B.bandSize=Mv(B,H),!x.hide&&s==="xAxis"?f[$]+=(A?-1:1)*B.height:x.hide||(f[$]+=(A?-1:1)*B.width),pi(pi({},p),{},Qw({},b,B))},{})},vX=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},$Ke=function(t){var n=t.x1,r=t.y1,s=t.x2,a=t.y2;return vX({x:n,y:r},{x:s,y:a})},wX=function(){function e(t){SKe(this,e),this.scale=t}return jKe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Qw(wX,"EPS",1e-4);var eA=function(t){var n=Object.keys(t).reduce(function(r,s){return pi(pi({},r),{},Qw({},s,wX.create(t[s])))},{});return pi(pi({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return KUe(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return pX(s,function(a,o){return n[o].isInRange(a)})}})};function EKe(e){return(e%180+180)%180}var AKe=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=EKe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},PKe=co,DKe=W0,kKe=kw;function IKe(e){return function(t,n,r){var s=Object(t);if(!DKe(t)){var a=PKe(n);t=kKe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:void 0}}var TKe=IKe,MKe=dX;function OKe(e){var t=MKe(e),n=t%1;return t===t?n?t-n:t:0}var LKe=OKe,_Ke=vG,FKe=co,RKe=LKe,BKe=Math.max;function zKe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:RKe(n);return s<0&&(s=BKe(r+s,0)),_Ke(e,FKe(t),s)}var VKe=zKe,WKe=TKe,UKe=VKe,KKe=WKe(UKe),HKe=KKe;const qKe=rn(HKe);var GKe=q$e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tA=m.createContext(void 0),nA=m.createContext(void 0),SX=m.createContext(void 0),jX=m.createContext({}),CX=m.createContext(void 0),NX=m.createContext(0),$X=m.createContext(0),Q7=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=GKe(a);return Z.createElement(tA.Provider,{value:r},Z.createElement(nA.Provider,{value:s},Z.createElement(jX.Provider,{value:a},Z.createElement(SX.Provider,{value:d},Z.createElement(CX.Provider,{value:o},Z.createElement(NX.Provider,{value:u},Z.createElement($X.Provider,{value:c},l)))))))},YKe=function(){return m.useContext(CX)},EX=function(t){var n=m.useContext(tA);n==null&&bd();var r=n[t];return r==null&&bd(),r},XKe=function(){var t=m.useContext(tA);return ac(t)},ZKe=function(){var t=m.useContext(nA),n=qKe(t,function(r){return pX(r.domain,Number.isFinite)});return n||ac(t)},AX=function(t){var n=m.useContext(nA);n==null&&bd();var r=n[t];return r==null&&bd(),r},JKe=function(){var t=m.useContext(SX);return t},QKe=function(){return m.useContext(jX)},rA=function(){return m.useContext($X)},sA=function(){return m.useContext(NX)};function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function eHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DX(r.key),r)}}function nHe(e,t,n){return t&&tHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rHe(e,t,n){return t=Jv(t),sHe(e,PX()?Reflect.construct(t,n||[],Jv(e).constructor):t.apply(e,n))}function sHe(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aHe(e)}function aHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PX=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(e)}function iHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gN(e,t)}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){aA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aA(e,t,n){return t=DX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DX(e){var t=oHe(e,"string");return $h(t)=="symbol"?t:t+""}function oHe(e,t){if($h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lHe(e,t){return fHe(e)||dHe(e,t)||uHe(e,t)||cHe()}function cHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uHe(e,t){if(e){if(typeof e=="string")return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fHe(e){if(Array.isArray(e))return e}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(this,arguments)}var hHe=function(t,n){var r;return Z.isValidElement(t)?r=Z.cloneElement(t,n):jt(t)?r=t(n):r=Z.createElement("line",bN({},n,{className:"recharts-reference-line-line"})),r},mHe=function(t,n,r,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var b=u.y,x=t.y.apply(b,{position:o});if(Zi(u,"discard")&&!t.y.isInRange(x))return null;var y=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?y.reverse():y}if(n){var v=u.x,j=t.x.apply(v,{position:o});if(Zi(u,"discard")&&!t.x.isInRange(j))return null;var S=[{x:j,y:f+p},{x:j,y:f}];return l==="top"?S.reverse():S}if(s){var N=u.segment,C=N.map(function($){return t.apply($,{position:o})});return Zi(u,"discard")&&_Ue(C,function($){return!t.isInRange($)})?null:C}return null};function pHe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=YKe(),d=EX(s),f=AX(a),h=JKe();if(!u||!h)return null;Si(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=eA({x:d.scale,y:f.scale}),b=Nr(t),x=Nr(n),y=r&&r.length===2,v=mHe(p,b,x,y,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var j=lHe(v,2),S=j[0],N=S.x,C=S.y,$=j[1],P=$.x,E=$.y,M=Zi(e,"hidden")?"url(#".concat(u,")"):void 0,k=t_(t_({clipPath:M},wt(e,!0)),{},{x1:N,y1:C,x2:P,y2:E});return Z.createElement(fn,{className:_t("recharts-reference-line",l)},hHe(o,k),Dr.renderCallByParent(e,$Ke({x1:N,y1:C,x2:P,y2:E})))}var iA=function(e){function t(){return eHe(this,t),rHe(this,t,arguments)}return iHe(t,e),nHe(t,[{key:"render",value:function(){return Z.createElement(pHe,this.props)}}])}(Z.Component);aA(iA,"displayName","ReferenceLine");aA(iA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(this,arguments)}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){e2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bHe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IX(r.key),r)}}function xHe(e,t,n){return t&&bHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yHe(e,t,n){return t=Qv(t),vHe(e,kX()?Reflect.construct(t,n||[],Qv(e).constructor):t.apply(e,n))}function vHe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wHe(e)}function wHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(e)}function SHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},yN(e,t)}function e2(e,t,n){return t=IX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IX(e){var t=jHe(e,"string");return Eh(t)=="symbol"?t:t+""}function jHe(e,t){if(Eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CHe=function(t){var n=t.x,r=t.y,s=t.xAxis,a=t.yAxis,o=eA({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Zi(t,"discard")&&!o.isInRange(l)?null:l},t2=function(e){function t(){return gHe(this,t),yHe(this,t,arguments)}return SHe(t,e),xHe(t,[{key:"render",value:function(){var r=this.props,s=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Nr(s),d=Nr(a);if(Si(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=CHe(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,x=b.shape,y=b.className,v=Zi(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=s_(s_({clipPath:v},wt(this.props,!0)),{},{cx:h,cy:p});return Z.createElement(fn,{className:_t("recharts-reference-dot",y)},t.renderDot(x,j),Dr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(Z.Component);e2(t2,"displayName","ReferenceDot");e2(t2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});e2(t2,"renderDot",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):jt(e)?n=e(t):n=Z.createElement(QE,xN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(this,arguments)}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(r){n2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MX(r.key),r)}}function EHe(e,t,n){return t&&$He(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AHe(e,t,n){return t=e1(t),PHe(e,TX()?Reflect.construct(t,n||[],e1(e).constructor):t.apply(e,n))}function PHe(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DHe(e)}function DHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!e})()}function e1(e){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e1(e)}function kHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wN(e,t)}function n2(e,t,n){return t=MX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=IHe(e,"string");return Ah(t)=="symbol"?t:t+""}function IHe(e,t){if(Ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var THe=function(t,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=eA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Zi(a,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:vX(p,b)},r2=function(e){function t(){return NHe(this,t),AHe(this,t,arguments)}return kHe(t,e),EHe(t,[{key:"render",value:function(){var r=this.props,s=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Si(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Nr(s),h=Nr(a),p=Nr(o),b=Nr(l),x=this.props.shape;if(!f&&!h&&!p&&!b&&!x)return null;var y=THe(f,h,p,b,this.props);if(!y&&!x)return null;var v=Zi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Z.createElement(fn,{className:_t("recharts-reference-area",c)},t.renderRect(x,i_(i_({clipPath:v},wt(this.props,!0)),y)),Dr.renderCallByParent(this.props,y))}}])}(Z.Component);n2(r2,"displayName","ReferenceArea");n2(r2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n2(r2,"renderRect",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):jt(e)?n=e(t):n=Z.createElement(JE,vN({},t,{className:"recharts-reference-area-rect"})),n});function OX(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function MHe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return AKe(r,n)}function OHe(e,t,n){var r=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function t1(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-s)<=0}function LHe(e,t){return OX(e,t+1)}function _He(e,t,n,r,s){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:OX(r,u)};var x=c,y,v=function(){return y===void 0&&(y=n(b,x)),y},j=b.coordinate,S=c===0||t1(e,j,v,d,l);S||(c=0,d=o,u+=1),S&&(d=j+e*(v()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(r){FHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FHe(e,t,n){return t=RHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RHe(e){var t=BHe(e,"string");return t0(t)=="symbol"?t:t+""}function BHe(e,t){if(t0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(t0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zHe(e,t,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var p=a[h],b,x=function(){return b===void 0&&(b=n(p,h)),b};if(h===o-1){var y=e*(p.coordinate+e*x()/2-c);a[h]=p=Zr(Zr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Zr(Zr({},p),{},{tickCoord:p.coordinate});var v=t1(e,p.tickCoord,x,l,c);v&&(c=p.tickCoord-e*(x()/2+s),a[h]=Zr(Zr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function VHe(e,t,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Zr(Zr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=t1(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Zr(Zr({},d),{},{isShow:!0}))}for(var b=a?l-1:l,x=function(j){var S=o[j],N,C=function(){return N===void 0&&(N=n(S,j)),N};if(j===0){var $=e*(S.coordinate-e*C()/2-c);o[j]=S=Zr(Zr({},S),{},{tickCoord:$<0?S.coordinate-$*e:S.coordinate})}else o[j]=S=Zr(Zr({},S),{},{tickCoord:S.coordinate});var P=t1(e,S.tickCoord,C,c,u);P&&(c=S.tickCoord+e*(C()/2+s),o[j]=Zr(Zr({},S),{},{isShow:!0}))},y=0;y<b;y++)x(y);return o}function oA(e,t,n){var r=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(He(c)||tm.isSsr)return LHe(s,typeof c=="number"&&He(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=d&&p==="width"?Kp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(S,N){var C=jt(u)?u(S.value,N):S.value;return p==="width"?MHe(Kp(C,{fontSize:t,letterSpacing:n}),b,f):Kp(C,{fontSize:t,letterSpacing:n})[p]},y=s.length>=2?Cs(s[1].coordinate-s[0].coordinate):1,v=OHe(a,y,p);return c==="equidistantPreserveStart"?_He(y,v,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=VHe(y,v,x,s,o,c==="preserveStartEnd"):h=zHe(y,v,x,s,o),h.filter(function(j){return j.isShow}))}var WHe=["viewBox"],UHe=["viewBox"],KHe=["ticks"];function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(this,arguments)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){lA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n5(e,t){if(e==null)return{};var n=HHe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_X(r.key),r)}}function GHe(e,t,n){return t&&c_(e.prototype,t),n&&c_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YHe(e,t,n){return t=n1(t),XHe(e,LX()?Reflect.construct(t,n||[],n1(e).constructor):t.apply(e,n))}function XHe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZHe(e)}function ZHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!e})()}function n1(e){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n1(e)}function JHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},SN(e,t)}function lA(e,t,n){return t=_X(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _X(e){var t=QHe(e,"string");return Ph(t)=="symbol"?t:t+""}function QHe(e,t){if(Ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var am=function(e){function t(n){var r;return qHe(this,t),r=YHe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return JHe(t,e),GHe(t,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=n5(r,WHe),l=this.props,c=l.viewBox,u=n5(l,UHe);return!qf(a,c)||!qf(o,u)||!qf(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,b,x,y,v,j,S=f?-1:1,N=r.tickSize||d,C=He(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=b=r.coordinate,y=o+ +!f*c,x=y-S*N,j=x-S*h,v=C;break;case"left":x=y=r.coordinate,b=a+ +!f*l,p=b-S*N,v=p-S*h,j=C;break;case"right":x=y=r.coordinate,b=a+ +f*l,p=b+S*N,v=p+S*h,j=C;break;default:p=b=r.coordinate,y=o+ +f*c,x=y+S*N,j=x+S*h,v=C;break}return{line:{x1:p,y1:x,x2:b,y2:y},tick:{x:v,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=gs(gs(gs({},wt(this.props,!1)),wt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=gs(gs({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=gs(gs({},f),{},{x1:s+p*o,y1:a,x2:s+p*o,y2:a+l})}return Z.createElement("line",Bf({},f,{className:_t("recharts-cartesian-axis-line",pa(d,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=oA(gs(gs({},this.props),{},{ticks:r}),s,a),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=wt(this.props,!1),v=wt(d,!1),j=gs(gs({},y),{},{fill:"none"},wt(c,!1)),S=p.map(function(N,C){var $=o.getTickLineCoord(N),P=$.line,E=$.tick,M=gs(gs(gs(gs({textAnchor:b,verticalAnchor:x},y),{},{stroke:"none",fill:u},v),E),{},{index:C,payload:N,visibleTicksCount:p.length,tickFormatter:f});return Z.createElement(fn,Bf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},fd(o.props,N,C)),c&&Z.createElement("line",Bf({},j,P,{className:_t("recharts-cartesian-axis-tick-line",pa(c,"className"))})),d&&t.renderTickItem(d,M,"".concat(jt(f)?f(N.value,C):N.value).concat(h||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=n5(f,KHe),b=h;return jt(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:Z.createElement(fn,{className:_t("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,s):jt(r)?o=r(s):o=Z.createElement(pd,Bf({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(m.Component);lA(am,"displayName","CartesianAxis");lA(am,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eqe=["x1","y1","x2","y2","key"],tqe=["offset"];function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(n),!0).forEach(function(r){nqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nqe(e,t,n){return t=rqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rqe(e){var t=sqe(e,"string");return xd(t)=="symbol"?t:t+""}function sqe(e,t){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(this,arguments)}function d_(e,t){if(e==null)return{};var n=aqe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var iqe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FX(e,t){var n;if(Z.isValidElement(e))n=Z.cloneElement(e,t);else if(jt(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=d_(t,eqe),u=wt(c,!1);u.offset;var d=d_(u,tqe);n=Z.createElement("line",Qu({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function oqe(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Qr(Qr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return FX(s,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lqe(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Qr(Qr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return FX(s,u)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function cqe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],x=b?s+o-h:d[p+1]-h;if(x<=0)return null;var y=p%t.length;return Z.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uqe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var b=!d[p+1],x=b?a+l-h:d[p+1]-h;if(x<=0)return null;var y=p%r.length;return Z.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var dqe=function(t,n){var r=t.xAxis,s=t.width,a=t.height,o=t.offset;return RY(oA(Qr(Qr(Qr({},am.defaultProps),r),{},{ticks:Ho(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},fqe=function(t,n){var r=t.yAxis,s=t.width,a=t.height,o=t.offset;return RY(oA(Qr(Qr(Qr({},am.defaultProps),r),{},{ticks:Ho(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},pf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function im(e){var t,n,r,s,a,o,l=rA(),c=sA(),u=QKe(),d=Qr(Qr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:pf.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:pf.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:pf.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:pf.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:pf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:pf.verticalFill,x:He(e.x)?e.x:u.left,y:He(e.y)?e.y:u.top,width:He(e.width)?e.width:u.width,height:He(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,b=d.height,x=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,j=XKe(),S=ZKe();if(!He(p)||p<=0||!He(b)||b<=0||!He(f)||f!==+f||!He(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||dqe,C=d.horizontalCoordinatesGenerator||fqe,$=d.horizontalPoints,P=d.verticalPoints;if((!$||!$.length)&&jt(C)){var E=y&&y.length,M=C({yAxis:S?Qr(Qr({},S),{},{ticks:E?y:S.ticks}):void 0,width:l,height:c,offset:u},E?!0:x);Si(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xd(M),"]")),Array.isArray(M)&&($=M)}if((!P||!P.length)&&jt(N)){var k=v&&v.length,A=N({xAxis:j?Qr(Qr({},j),{},{ticks:k?v:j.ticks}):void 0,width:l,height:c,offset:u},k?!0:x);Si(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xd(A),"]")),Array.isArray(A)&&(P=A)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(iqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Z.createElement(oqe,Qu({},d,{offset:u,horizontalPoints:$,xAxis:j,yAxis:S})),Z.createElement(lqe,Qu({},d,{offset:u,verticalPoints:P,xAxis:j,yAxis:S})),Z.createElement(cqe,Qu({},d,{horizontalPoints:$})),Z.createElement(uqe,Qu({},d,{verticalPoints:P})))}im.displayName="CartesianGrid";function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function hqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zX(r.key),r)}}function pqe(e,t,n){return t&&mqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gqe(e,t,n){return t=r1(t),bqe(e,RX()?Reflect.construct(t,n||[],r1(e).constructor):t.apply(e,n))}function bqe(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xqe(e)}function xqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RX=function(){return!!e})()}function r1(e){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r1(e)}function yqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jN(e,t)}function BX(e,t,n){return t=zX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=vqe(e,"string");return Dh(t)=="symbol"?t:t+""}function vqe(e,t){if(Dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}function wqe(e){var t=e.xAxisId,n=rA(),r=sA(),s=EX(t);return s==null?null:Z.createElement(am,CN({},s,{className:_t("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ho(o,!0)}}))}var nu=function(e){function t(){return hqe(this,t),gqe(this,t,arguments)}return yqe(t,e),pqe(t,[{key:"render",value:function(){return Z.createElement(wqe,this.props)}}])}(Z.Component);BX(nu,"displayName","XAxis");BX(nu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function Sqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UX(r.key),r)}}function Cqe(e,t,n){return t&&jqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nqe(e,t,n){return t=s1(t),$qe(e,VX()?Reflect.construct(t,n||[],s1(e).constructor):t.apply(e,n))}function $qe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eqe(e)}function Eqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s1(e)}function Aqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},NN(e,t)}function WX(e,t,n){return t=UX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UX(e){var t=Pqe(e,"string");return kh(t)=="symbol"?t:t+""}function Pqe(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$N.apply(this,arguments)}var Dqe=function(t){var n=t.yAxisId,r=rA(),s=sA(),a=AX(n);return a==null?null:Z.createElement(am,$N({},a,{className:_t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ho(l,!0)}}))},to=function(e){function t(){return Sqe(this,t),Nqe(this,t,arguments)}return Aqe(t,e),Cqe(t,[{key:"render",value:function(){return Z.createElement(Dqe,this.props)}}])}(Z.Component);WX(to,"displayName","YAxis");WX(to,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function f_(e){return Mqe(e)||Tqe(e)||Iqe(e)||kqe()}function kqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iqe(e,t){if(e){if(typeof e=="string")return EN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(e,t)}}function Tqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mqe(e){if(Array.isArray(e))return EN(e)}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AN=function(t,n,r,s,a){var o=Va(t,iA),l=Va(t,t2),c=[].concat(f_(o),f_(l)),u=Va(t,r2),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(x,y){if(y.props[d]===r&&Zi(y.props,"extendDomain")&&He(y.props[f])){var v=y.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(x,y){if(y.props[d]===r&&Zi(y.props,"extendDomain")&&He(y.props[p])&&He(y.props[b])){var v=y.props[p],j=y.props[b];return[Math.min(x[0],v,j),Math.max(x[1],v,j)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return He(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},KX={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,b){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,j,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,b),!0}for(S=1,j=new Array(v-1);S<v;S++)j[S-1]=arguments[S];y.fn.apply(y.context,j)}else{var N=y.length,C;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),v){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!j)for(C=1,j=new Array(v-1);C<v;C++)j[C-1]=arguments[C];y[S].fn.apply(y[S].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var x=0,y=[],v=b.length;x<v;x++)(b[x].fn!==d||h&&!b[x].once||f&&b[x].context!==f)&&y.push(b[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(KX);var Oqe=KX.exports;const Lqe=rn(Oqe);var r5=new Lqe,s5="recharts.syncMouseEvents";function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function _qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HX(r.key),r)}}function Rqe(e,t,n){return t&&Fqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5(e,t,n){return t=HX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=Bqe(e,"string");return n0(t)=="symbol"?t:t+""}function Bqe(e,t){if(n0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(n0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zqe=function(){function e(){_qe(this,e),a5(this,"activeIndex",0),a5(this,"coordinateList",[]),a5(this,"layout","horizontal")}return Rqe(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Vqe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&He(r)&&He(s))return!0}return!1}function Wqe(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function qX(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,a=e.endAngle,o=kn(t,n,r,s),l=kn(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:a}}function Uqe(e,t,n){var r,s,a,o;if(e==="horizontal")r=t.x,a=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=kn(l,c,u,f),p=kn(l,c,d,f);r=h.x,s=h.y,a=p.x,o=p.y}else return qX(t);return[{x:r,y:s},{x:a,y:o}]}function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){Kqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kqe(e,t,n){return t=Hqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hqe(e){var t=qqe(e,"string");return r0(t)=="symbol"?t:t+""}function qqe(e,t){if(r0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gqe(e){var t,n,r=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var b,x=ZC;if(h==="ScatterChart")b=o,x=jVe;else if(h==="BarChart")b=Wqe(f,o,c,d),x=JE;else if(f==="radial"){var y=qX(o),v=y.cx,j=y.cy,S=y.radius,N=y.startAngle,C=y.endAngle;b={cx:v,cy:j,startAngle:N,endAngle:C,innerRadius:S,outerRadius:S},x=_v}else b={points:Uqe(f,o,c)},x=ZC;var $=Vx(Vx(Vx(Vx({stroke:"#ccc",pointerEvents:"none"},c),b),wt(p,!1)),{},{payload:l,payloadIndex:u,className:_t("recharts-tooltip-cursor",p.className)});return m.isValidElement(p)?m.cloneElement(p,$):m.createElement(x,$)}var Yqe=["item"],Xqe=["children","className","width","height","style","compact","title","desc"];function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}function m_(e,t){return Qqe(e)||Jqe(e,t)||YX(e,t)||Zqe()}function Zqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qqe(e){if(Array.isArray(e))return e}function p_(e,t){if(e==null)return{};var n=eGe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XX(r.key),r)}}function rGe(e,t,n){return t&&nGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sGe(e,t,n){return t=a1(t),aGe(e,GX()?Reflect.construct(t,n||[],a1(e).constructor):t.apply(e,n))}function aGe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iGe(e)}function iGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!e})()}function a1(e){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(e)}function oGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},PN(e,t)}function Th(e){return uGe(e)||cGe(e)||YX(e)||lGe()}function lGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(e,t){if(e){if(typeof e=="string")return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}}function cGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uGe(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bt(e,t,n){return t=XX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=dGe(e,"string");return Ih(t)=="symbol"?t:t+""}function dGe(e,t){if(Ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fGe={xAxis:["bottom","top"],yAxis:["left","right"]},hGe={width:"100%",height:"100%"},ZX={x:0,y:0};function Wx(e){return e}var mGe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},pGe=function(t,n,r,s){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return De(De(De({},s),kn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return De(De(De({},s),kn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return ZX},s2=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Th(l),Th(u)):l},[]);return o.length>0?o:t&&t.length&&He(s)&&He(a)?t.slice(s,a+1):[]};function JX(e){return e==="number"?[0,"auto"]:void 0}var kN=function(t,n,r,s){var a=t.graphicalItems,o=t.tooltipAxis,l=s2(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=aC(p,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(Th(c),[UY(u,h)]):c},[])},b_=function(t,n,r,s){var a=s||{x:t.chartX,y:t.chartY},o=mGe(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=J8e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=kN(t,n,d,f),p=pGe(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},gGe=function(t,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=FY(d,a);return r.reduce(function(b,x){var y,v=x.type.defaultProps!==void 0?De(De({},x.type.defaultProps),x.props):x.props,j=v.type,S=v.dataKey,N=v.allowDataOverflow,C=v.allowDuplicatedCategory,$=v.scale,P=v.ticks,E=v.includeHidden,M=v[o];if(b[M])return b;var k=s2(t.data,{graphicalItems:s.filter(function(H){var B,Y=o in H.props?H.props[o]:(B=H.type.defaultProps)===null||B===void 0?void 0:B[o];return Y===M}),dataStartIndex:c,dataEndIndex:u}),A=k.length,I,L,R;Vqe(v.domain,N,j)&&(I=HC(v.domain,null,N),p&&(j==="number"||$!=="auto")&&(R=qp(k,S,"category")));var F=JX(j);if(!I||I.length===0){var T,O=(T=v.domain)!==null&&T!==void 0?T:F;if(S){if(I=qp(k,S,j),j==="category"&&p){var _=VEe(I);C&&_?(L=I,I=qv(0,A)):C||(I=UL(O,I,x).reduce(function(H,B){return H.indexOf(B)>=0?H:[].concat(Th(H),[B])},[]))}else if(j==="category")C?I=I.filter(function(H){return H!==""&&!Vt(H)}):I=UL(O,I,x).reduce(function(H,B){return H.indexOf(B)>=0||B===""||Vt(B)?H:[].concat(Th(H),[B])},[]);else if(j==="number"){var W=r9e(k,s.filter(function(H){var B,Y,ae=o in H.props?H.props[o]:(B=H.type.defaultProps)===null||B===void 0?void 0:B[o],ce="hide"in H.props?H.props.hide:(Y=H.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ae===M&&(E||!ce)}),S,a,d);W&&(I=W)}p&&(j==="number"||$!=="auto")&&(R=qp(k,S,"category"))}else p?I=qv(0,A):l&&l[M]&&l[M].hasStack&&j==="number"?I=h==="expand"?[0,1]:WY(l[M].stackGroups,c,u):I=_Y(k,s.filter(function(H){var B=o in H.props?H.props[o]:H.type.defaultProps[o],Y="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return B===M&&(E||!Y)}),j,d,!0);if(j==="number")I=AN(f,I,M,a,P),O&&(I=HC(O,I,N));else if(j==="category"&&O){var z=O,U=I.every(function(H){return z.indexOf(H)>=0});U&&(I=z)}}return De(De({},b),{},bt({},M,De(De({},v),{},{axisType:a,domain:I,categoricalDomain:R,duplicateDomain:L,originalDomain:(y=v.domain)!==null&&y!==void 0?y:F,isCategorical:p,layout:d})))},{})},bGe=function(t,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=s2(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,b=FY(d,a),x=-1;return r.reduce(function(y,v){var j=v.type.defaultProps!==void 0?De(De({},v.type.defaultProps),v.props):v.props,S=j[o],N=JX("number");if(!y[S]){x++;var C;return b?C=qv(0,p):l&&l[S]&&l[S].hasStack?(C=WY(l[S].stackGroups,c,u),C=AN(f,C,S,a)):(C=HC(N,_Y(h,r.filter(function($){var P,E,M=o in $.props?$.props[o]:(P=$.type.defaultProps)===null||P===void 0?void 0:P[o],k="hide"in $.props?$.props.hide:(E=$.type.defaultProps)===null||E===void 0?void 0:E.hide;return M===S&&!k}),"number",d),s.defaultProps.allowDataOverflow),C=AN(f,C,S,a)),De(De({},y),{},bt({},S,De(De({axisType:a},s.defaultProps),{},{hide:!0,orientation:pa(fGe,"".concat(a,".").concat(x%2),null),domain:C,originalDomain:N,isCategorical:b,layout:d})))}return y},{})},xGe=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Va(d,a),p={};return h&&h.length?p=gGe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=bGe(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},yGe=function(t){var n=ac(t),r=Ho(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:NE(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Mv(n,r)}},x_=function(t){var n=t.children,r=t.defaultShowTooltip,s=aa(n,Ch),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},vGe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Xo(n&&n.type);return r&&r.indexOf("Bar")>=0})},y_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wGe=function(t,n){var r=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=aa(f,Ch),b=aa(f,Wa),x=Object.keys(c).reduce(function(C,$){var P=c[$],E=P.orientation;return!P.mirror&&!P.hide?De(De({},C),{},bt({},E,C[E]+P.width)):C},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(C,$){var P=o[$],E=P.orientation;return!P.mirror&&!P.hide?De(De({},C),{},bt({},E,pa(C,"".concat(E))+P.height)):C},{top:h.top||0,bottom:h.bottom||0}),v=De(De({},y),x),j=v.bottom;p&&(v.bottom+=p.props.height||Ch.defaultProps.height),b&&n&&(v=t9e(v,s,r,n));var S=u-v.left-v.right,N=d-v.top-v.bottom;return De(De({brushBottom:j},v),{},{width:Math.max(S,0),height:Math.max(N,0)})},SGe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},QX=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,j){var S=j.graphicalItems,N=j.stackGroups,C=j.offset,$=j.updateId,P=j.dataStartIndex,E=j.dataEndIndex,M=v.barSize,k=v.layout,A=v.barGap,I=v.barCategoryGap,L=v.maxBarSize,R=y_(k),F=R.numericAxisName,T=R.cateAxisName,O=vGe(S),_=[];return S.forEach(function(W,z){var U=s2(v.data,{graphicalItems:[W],dataStartIndex:P,dataEndIndex:E}),H=W.type.defaultProps!==void 0?De(De({},W.type.defaultProps),W.props):W.props,B=H.dataKey,Y=H.maxBarSize,ae=H["".concat(F,"Id")],ce=H["".concat(T,"Id")],oe={},Q=c.reduce(function(re,ue){var ge=j["".concat(ue.axisType,"Map")],ye=H["".concat(ue.axisType,"Id")];ge&&ge[ye]||ue.axisType==="zAxis"||bd();var je=ge[ye];return De(De({},re),{},bt(bt({},ue.axisType,je),"".concat(ue.axisType,"Ticks"),Ho(je)))},oe),K=Q[T],ne=Q["".concat(T,"Ticks")],te=N&&N[ae]&&N[ae].hasStack&&f9e(W,N[ae].stackGroups),X=Xo(W.type).indexOf("Bar")>=0,xe=Mv(K,ne),$e=[],Ne=O&&Q8e({barSize:M,stackGroups:N,totalSize:SGe(Q,T)});if(X){var Le,we,fe=Vt(Y)?L:Y,me=(Le=(we=Mv(K,ne,!0))!==null&&we!==void 0?we:fe)!==null&&Le!==void 0?Le:0;$e=e9e({barGap:A,barCategoryGap:I,bandSize:me!==xe?me:xe,sizeList:Ne[ce],maxBarSize:fe}),me!==xe&&($e=$e.map(function(re){return De(De({},re),{},{position:De(De({},re.position),{},{offset:re.position.offset-me/2})})}))}var G=W&&W.type&&W.type.getComposedData;G&&_.push({props:De(De({},G(De(De({},Q),{},{displayedData:U,props:v,dataKey:B,item:W,bandSize:xe,barPosition:$e,offset:C,stackedData:te,layout:k,dataStartIndex:P,dataEndIndex:E}))),{},bt(bt(bt({key:W.key||"item-".concat(z)},F,Q[F]),T,Q[T]),"animationId",$)),childIndex:eAe(W,v.children),item:W})}),_},p=function(v,j){var S=v.props,N=v.dataStartIndex,C=v.dataEndIndex,$=v.updateId;if(!FM({props:S}))return null;var P=S.children,E=S.layout,M=S.stackOffset,k=S.data,A=S.reverseStackOrder,I=y_(E),L=I.numericAxisName,R=I.cateAxisName,F=Va(P,r),T=u9e(k,F,"".concat(L,"Id"),"".concat(R,"Id"),M,A),O=c.reduce(function(H,B){var Y="".concat(B.axisType,"Map");return De(De({},H),{},bt({},Y,xGe(S,De(De({},B),{},{graphicalItems:F,stackGroups:B.axisType===L&&T,dataStartIndex:N,dataEndIndex:C}))))},{}),_=wGe(De(De({},O),{},{props:S,graphicalItems:F}),j==null?void 0:j.legendBBox);Object.keys(O).forEach(function(H){O[H]=d(S,O[H],_,H.replace("Map",""),n)});var W=O["".concat(R,"Map")],z=yGe(W),U=h(S,De(De({},O),{},{dataStartIndex:N,dataEndIndex:C,updateId:$,graphicalItems:F,stackGroups:T,offset:_}));return De(De({formattedGraphicalItems:U,graphicalItems:F,offset:_,stackGroups:T},z),O)},b=function(y){function v(j){var S,N,C;return tGe(this,v),C=sGe(this,v,[j]),bt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bt(C,"accessibilityManager",new zqe),bt(C,"handleLegendBBoxUpdate",function($){if($){var P=C.state,E=P.dataStartIndex,M=P.dataEndIndex,k=P.updateId;C.setState(De({legendBBox:$},p({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:k},De(De({},C.state),{},{legendBBox:$}))))}}),bt(C,"handleReceiveSyncEvent",function($,P,E){if(C.props.syncId===$){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),bt(C,"handleBrushChange",function($){var P=$.startIndex,E=$.endIndex;if(P!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return De({dataStartIndex:P,dataEndIndex:E},p({props:C.props,dataStartIndex:P,dataEndIndex:E,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),bt(C,"handleMouseEnter",function($){var P=C.getMouseInfo($);if(P){var E=De(De({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseEnter;jt(M)&&M(E,$)}}),bt(C,"triggeredAfterMouseMove",function($){var P=C.getMouseInfo($),E=P?De(De({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseMove;jt(M)&&M(E,$)}),bt(C,"handleItemMouseEnter",function($){C.setState(function(){return{isTooltipActive:!0,activeItem:$,activePayload:$.tooltipPayload,activeCoordinate:$.tooltipPosition||{x:$.cx,y:$.cy}}})}),bt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),bt(C,"handleMouseMove",function($){$.persist(),C.throttleTriggeredAfterMouseMove($)}),bt(C,"handleMouseLeave",function($){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var E=C.props.onMouseLeave;jt(E)&&E(P,$)}),bt(C,"handleOuterEvent",function($){var P=QEe($),E=pa(C.props,"".concat(P));if(P&&jt(E)){var M,k;/.*touch.*/i.test(P)?k=C.getMouseInfo($.changedTouches[0]):k=C.getMouseInfo($),E((M=k)!==null&&M!==void 0?M:{},$)}}),bt(C,"handleClick",function($){var P=C.getMouseInfo($);if(P){var E=De(De({},P),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var M=C.props.onClick;jt(M)&&M(E,$)}}),bt(C,"handleMouseDown",function($){var P=C.props.onMouseDown;if(jt(P)){var E=C.getMouseInfo($);P(E,$)}}),bt(C,"handleMouseUp",function($){var P=C.props.onMouseUp;if(jt(P)){var E=C.getMouseInfo($);P(E,$)}}),bt(C,"handleTouchMove",function($){$.changedTouches!=null&&$.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove($.changedTouches[0])}),bt(C,"handleTouchStart",function($){$.changedTouches!=null&&$.changedTouches.length>0&&C.handleMouseDown($.changedTouches[0])}),bt(C,"handleTouchEnd",function($){$.changedTouches!=null&&$.changedTouches.length>0&&C.handleMouseUp($.changedTouches[0])}),bt(C,"handleDoubleClick",function($){var P=C.props.onDoubleClick;if(jt(P)){var E=C.getMouseInfo($);P(E,$)}}),bt(C,"handleContextMenu",function($){var P=C.props.onContextMenu;if(jt(P)){var E=C.getMouseInfo($);P(E,$)}}),bt(C,"triggerSyncEvent",function($){C.props.syncId!==void 0&&r5.emit(s5,C.props.syncId,$,C.eventEmitterSymbol)}),bt(C,"applySyncEvent",function($){var P=C.props,E=P.layout,M=P.syncMethod,k=C.state.updateId,A=$.dataStartIndex,I=$.dataEndIndex;if($.dataStartIndex!==void 0||$.dataEndIndex!==void 0)C.setState(De({dataStartIndex:A,dataEndIndex:I},p({props:C.props,dataStartIndex:A,dataEndIndex:I,updateId:k},C.state)));else if($.activeTooltipIndex!==void 0){var L=$.chartX,R=$.chartY,F=$.activeTooltipIndex,T=C.state,O=T.offset,_=T.tooltipTicks;if(!O)return;if(typeof M=="function")F=M(_,$);else if(M==="value"){F=-1;for(var W=0;W<_.length;W++)if(_[W].value===$.activeLabel){F=W;break}}var z=De(De({},O),{},{x:O.left,y:O.top}),U=Math.min(L,z.x+z.width),H=Math.min(R,z.y+z.height),B=_[F]&&_[F].value,Y=kN(C.state,C.props.data,F),ae=_[F]?{x:E==="horizontal"?_[F].coordinate:U,y:E==="horizontal"?H:_[F].coordinate}:ZX;C.setState(De(De({},$),{},{activeLabel:B,activeCoordinate:ae,activePayload:Y,activeTooltipIndex:F}))}else C.setState($)}),bt(C,"renderCursor",function($){var P,E=C.state,M=E.isTooltipActive,k=E.activeCoordinate,A=E.activePayload,I=E.offset,L=E.activeTooltipIndex,R=E.tooltipAxisBandSize,F=C.getTooltipEventType(),T=(P=$.props.active)!==null&&P!==void 0?P:M,O=C.props.layout,_=$.key||"_recharts-cursor";return Z.createElement(Gqe,{key:_,activeCoordinate:k,activePayload:A,activeTooltipIndex:L,chartName:n,element:$,isActive:T,layout:O,offset:I,tooltipAxisBandSize:R,tooltipEventType:F})}),bt(C,"renderPolarAxis",function($,P,E){var M=pa($,"type.axisType"),k=pa(C.state,"".concat(M,"Map")),A=$.type.defaultProps,I=A!==void 0?De(De({},A),$.props):$.props,L=k&&k[I["".concat(M,"Id")]];return m.cloneElement($,De(De({},L),{},{className:_t(M,L.className),key:$.key||"".concat(P,"-").concat(E),ticks:Ho(L,!0)}))}),bt(C,"renderPolarGrid",function($){var P=$.props,E=P.radialLines,M=P.polarAngles,k=P.polarRadius,A=C.state,I=A.radiusAxisMap,L=A.angleAxisMap,R=ac(I),F=ac(L),T=F.cx,O=F.cy,_=F.innerRadius,W=F.outerRadius;return m.cloneElement($,{polarAngles:Array.isArray(M)?M:Ho(F,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(k)?k:Ho(R,!0).map(function(z){return z.coordinate}),cx:T,cy:O,innerRadius:_,outerRadius:W,key:$.key||"polar-grid",radialLines:E})}),bt(C,"renderLegend",function(){var $=C.state.formattedGraphicalItems,P=C.props,E=P.children,M=P.width,k=P.height,A=C.props.margin||{},I=M-(A.left||0)-(A.right||0),L=OY({children:E,formattedGraphicalItems:$,legendWidth:I,legendContent:u});if(!L)return null;var R=L.item,F=p_(L,Yqe);return m.cloneElement(R,De(De({},F),{},{chartWidth:M,chartHeight:k,margin:A,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),bt(C,"renderTooltip",function(){var $,P=C.props,E=P.children,M=P.accessibilityLayer,k=aa(E,Jr);if(!k)return null;var A=C.state,I=A.isTooltipActive,L=A.activeCoordinate,R=A.activePayload,F=A.activeLabel,T=A.offset,O=($=k.props.active)!==null&&$!==void 0?$:I;return m.cloneElement(k,{viewBox:De(De({},T),{},{x:T.left,y:T.top}),active:O,label:F,payload:O?R:[],coordinate:L,accessibilityLayer:M})}),bt(C,"renderBrush",function($){var P=C.props,E=P.margin,M=P.data,k=C.state,A=k.offset,I=k.dataStartIndex,L=k.dataEndIndex,R=k.updateId;return m.cloneElement($,{key:$.key||"_recharts-brush",onChange:Fx(C.handleBrushChange,$.props.onChange),data:M,x:He($.props.x)?$.props.x:A.left,y:He($.props.y)?$.props.y:A.top+A.height+A.brushBottom-(E.bottom||0),width:He($.props.width)?$.props.width:A.width,startIndex:I,endIndex:L,updateId:"brush-".concat(R)})}),bt(C,"renderReferenceElement",function($,P,E){if(!$)return null;var M=C,k=M.clipPathId,A=C.state,I=A.xAxisMap,L=A.yAxisMap,R=A.offset,F=$.type.defaultProps||{},T=$.props,O=T.xAxisId,_=O===void 0?F.xAxisId:O,W=T.yAxisId,z=W===void 0?F.yAxisId:W;return m.cloneElement($,{key:$.key||"".concat(P,"-").concat(E),xAxis:I[_],yAxis:L[z],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),bt(C,"renderActivePoints",function($){var P=$.item,E=$.activePoint,M=$.basePoint,k=$.childIndex,A=$.isRange,I=[],L=P.props.key,R=P.item.type.defaultProps!==void 0?De(De({},P.item.type.defaultProps),P.item.props):P.item.props,F=R.activeDot,T=R.dataKey,O=De(De({index:k,dataKey:T,cx:E.x,cy:E.y,r:4,fill:ZE(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},wt(F,!1)),ov(F));return I.push(v.renderActiveDot(F,O,"".concat(L,"-activePoint-").concat(k))),M?I.push(v.renderActiveDot(F,De(De({},O),{},{cx:M.x,cy:M.y}),"".concat(L,"-basePoint-").concat(k))):A&&I.push(null),I}),bt(C,"renderGraphicChild",function($,P,E){var M=C.filterFormatItem($,P,E);if(!M)return null;var k=C.getTooltipEventType(),A=C.state,I=A.isTooltipActive,L=A.tooltipAxis,R=A.activeTooltipIndex,F=A.activeLabel,T=C.props.children,O=aa(T,Jr),_=M.props,W=_.points,z=_.isRange,U=_.baseLine,H=M.item.type.defaultProps!==void 0?De(De({},M.item.type.defaultProps),M.item.props):M.item.props,B=H.activeDot,Y=H.hide,ae=H.activeBar,ce=H.activeShape,oe=!!(!Y&&I&&O&&(B||ae||ce)),Q={};k!=="axis"&&O&&O.props.trigger==="click"?Q={onClick:Fx(C.handleItemMouseEnter,$.props.onClick)}:k!=="axis"&&(Q={onMouseLeave:Fx(C.handleItemMouseLeave,$.props.onMouseLeave),onMouseEnter:Fx(C.handleItemMouseEnter,$.props.onMouseEnter)});var K=m.cloneElement($,De(De({},M.props),Q));function ne(ue){return typeof L.dataKey=="function"?L.dataKey(ue.payload):null}if(oe)if(R>=0){var te,X;if(L.dataKey&&!L.allowDuplicatedCategory){var xe=typeof L.dataKey=="function"?ne:"payload.".concat(L.dataKey.toString());te=aC(W,xe,F),X=z&&U&&aC(U,xe,F)}else te=W==null?void 0:W[R],X=z&&U&&U[R];if(ce||ae){var $e=$.props.activeIndex!==void 0?$.props.activeIndex:R;return[m.cloneElement($,De(De(De({},M.props),Q),{},{activeIndex:$e})),null,null]}if(!Vt(te))return[K].concat(Th(C.renderActivePoints({item:M,activePoint:te,basePoint:X,childIndex:R,isRange:z})))}else{var Ne,Le=(Ne=C.getItemByXY(C.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:K},we=Le.graphicalItem,fe=we.item,me=fe===void 0?$:fe,G=we.childIndex,re=De(De(De({},M.props),Q),{},{activeIndex:G});return[m.cloneElement(me,re),null,null]}return z?[K,null,null]:[K,null]}),bt(C,"renderCustomized",function($,P,E){return m.cloneElement($,De(De({key:"recharts-customized-".concat(E)},C.props),C.state))}),bt(C,"renderMap",{CartesianGrid:{handler:Wx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Wx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Wx},YAxis:{handler:Wx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=j.id)!==null&&S!==void 0?S:V0("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=MG(C.triggeredAfterMouseMove,(N=j.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return oGe(v,y),rGe(v,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,C=S.data,$=S.height,P=S.layout,E=aa(N,Jr);if(E){var M=E.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,A=kN(this.state,C,M,k),I=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+$)/2,R=P==="horizontal",F=R?{x:I,y:L}:{y:I,x:L},T=this.state.formattedGraphicalItems.find(function(_){var W=_.item;return W.type.name==="Scatter"});T&&(F=De(De({},F),T.props.points[M].tooltipPosition),A=T.props.points[M].tooltipPayload);var O={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:F};this.setState(O),this.renderCursor(E),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,$;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0}})}return null}},{key:"componentDidUpdate",value:function(S){oC([aa(S.children,Jr)],[aa(this.props.children,Jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=aa(this.props.children,Jr);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),$=$7e(C),P={chartX:Math.round(S.pageX-$.left),chartY:Math.round(S.pageY-$.top)},E=C.width/N.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,E);if(!M)return null;var k=this.state,A=k.xAxisMap,I=k.yAxisMap,L=this.getTooltipEventType(),R=b_(this.state,this.props.data,this.props.layout,M);if(L!=="axis"&&A&&I){var F=ac(A).scale,T=ac(I).scale,O=F&&F.invert?F.invert(P.chartX):null,_=T&&T.invert?T.invert(P.chartY):null;return De(De({},P),{},{xValue:O,yValue:_},R)}return R?De(De({},P),R):null}},{key:"inRange",value:function(S,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$=this.props.layout,P=S/C,E=N/C;if($==="horizontal"||$==="vertical"){var M=this.state.offset,k=P>=M.left&&P<=M.left+M.width&&E>=M.top&&E<=M.top+M.height;return k?{x:P,y:E}:null}var A=this.state,I=A.angleAxisMap,L=A.radiusAxisMap;if(I&&L){var R=ac(I);return qL({x:P,y:E},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),C=aa(S,Jr),$={};C&&N==="axis"&&(C.props.trigger==="click"?$={onClick:this.handleClick}:$={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ov(this.props,this.handleOuterEvent);return De(De({},P),$)}},{key:"addListener",value:function(){r5.on(s5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r5.removeListener(s5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,C){for(var $=this.state.formattedGraphicalItems,P=0,E=$.length;P<E;P++){var M=$[P];if(M.item===S||M.props.key===S.key||N===Xo(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,C=N.left,$=N.top,P=N.height,E=N.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:S},Z.createElement("rect",{x:C,y:$,height:P,width:E})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,C){var $=m_(C,2),P=$[0],E=$[1];return De(De({},N),{},bt({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,C){var $=m_(C,2),P=$[0],E=$[1];return De(De({},N),{},bt({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,C=N.formattedGraphicalItems,$=N.activeItem;if(C&&C.length)for(var P=0,E=C.length;P<E;P++){var M=C[P],k=M.props,A=M.item,I=A.type.defaultProps!==void 0?De(De({},A.type.defaultProps),A.props):A.props,L=Xo(A.type);if(L==="Bar"){var R=(k.data||[]).find(function(_){return rVe(S,_)});if(R)return{graphicalItem:M,payload:R}}else if(L==="RadialBar"){var F=(k.data||[]).find(function(_){return qL(S,_)});if(F)return{graphicalItem:M,payload:F}}else if(Zw(M,$)||Jw(M,$)||Zg(M,$)){var T=HWe({graphicalItem:M,activeTooltipItem:$,itemData:I.data}),O=I.activeIndex===void 0?T:I.activeIndex;return{graphicalItem:De(De({},M),{},{childIndex:O}),payload:Zg(M,$)?I.data[T]:M.props.data[T]}}}return null}},{key:"render",value:function(){var S=this;if(!FM(this))return null;var N=this.props,C=N.children,$=N.className,P=N.width,E=N.height,M=N.style,k=N.compact,A=N.title,I=N.desc,L=p_(N,Xqe),R=wt(L,!1);if(k)return Z.createElement(Q7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(cC,zf({},R,{width:P,height:E,title:A,desc:I}),this.renderClipPath(),BM(C,this.renderMap)));if(this.props.accessibilityLayer){var F,T;R.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,R.role=(T=this.props.role)!==null&&T!==void 0?T:"application",R.onKeyDown=function(_){S.accessibilityManager.keyboardEvent(_)},R.onFocus=function(){S.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return Z.createElement(Q7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",zf({className:_t("recharts-wrapper",$),style:De({position:"relative",cursor:"default",width:P,height:E},M)},O,{ref:function(W){S.container=W}}),Z.createElement(cC,zf({},R,{width:P,height:E,title:A,desc:I,style:hGe}),this.renderClipPath(),BM(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(m.Component);bt(b,"displayName",n),bt(b,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),bt(b,"getDerivedStateFromProps",function(y,v){var j=y.dataKey,S=y.data,N=y.children,C=y.width,$=y.height,P=y.layout,E=y.stackOffset,M=y.margin,k=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var I=x_(y);return De(De(De({},I),{},{updateId:0},p(De(De({props:y},I),{},{updateId:0}),v)),{},{prevDataKey:j,prevData:S,prevWidth:C,prevHeight:$,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:N})}if(j!==v.prevDataKey||S!==v.prevData||C!==v.prevWidth||$!==v.prevHeight||P!==v.prevLayout||E!==v.prevStackOffset||!qf(M,v.prevMargin)){var L=x_(y),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=De(De({},b_(v,S,P)),{},{updateId:v.updateId+1}),T=De(De(De({},L),R),F);return De(De(De({},T),p(De({props:y},T),v)),{},{prevDataKey:j,prevData:S,prevWidth:C,prevHeight:$,prevLayout:P,prevStackOffset:E,prevMargin:M,prevChildren:N})}if(!oC(N,v.prevChildren)){var O,_,W,z,U=aa(N,Ch),H=U&&(O=(_=U.props)===null||_===void 0?void 0:_.startIndex)!==null&&O!==void 0?O:k,B=U&&(W=(z=U.props)===null||z===void 0?void 0:z.endIndex)!==null&&W!==void 0?W:A,Y=H!==k||B!==A,ae=!Vt(S),ce=ae&&!Y?v.updateId:v.updateId+1;return De(De({updateId:ce},p(De(De({props:y},v),{},{updateId:ce,dataStartIndex:H,dataEndIndex:B}),v)),{},{prevChildren:N,dataStartIndex:H,dataEndIndex:B})}return null}),bt(b,"renderActiveDot",function(y,v,j){var S;return m.isValidElement(y)?S=m.cloneElement(y,v):jt(y)?S=y(v):S=Z.createElement(QE,v),Z.createElement(fn,{className:"recharts-active-dot",key:j},S)});var x=m.forwardRef(function(v,j){return Z.createElement(b,zf({},v,{ref:j}))});return x.displayName=b.displayName,x},G0=QX({chartName:"BarChart",GraphicalChild:Ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nu},{axisType:"yAxis",AxisComp:to}],formatAxisMap:NKe}),eZ=QX({chartName:"PieChart",GraphicalChild:uo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xw},{axisType:"radiusAxis",AxisComp:Gw}],formatAxisMap:S9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const v_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82Ca9D"],jGe=({students:e,faculties:t})=>{if(!e.length||!t.length)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No student or faculty data available."});new Map(t.map(r=>[r.$id,r.name]));const n=t.map(r=>{const s=e.filter(a=>a.facultyId===r.$id).length;return{name:r.name,value:s}}).filter(r=>r.value>0);return n.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No students found for any faculty."}):i.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Students by Faculty"}),i.jsx(hd,{width:"100%",height:300,children:i.jsxs(eZ,{children:[i.jsx(uo,{data:n,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:r,percent:s})=>`${r} (${(s*100).toFixed(0)}%)`,children:n.map((r,s)=>i.jsx(md,{fill:v_[s%v_.length]},`cell-${s}`))}),i.jsx(Jr,{}),i.jsx(Wa,{})]})})]})},CGe=({students:e})=>{if(!e.length)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No student data available for class chart."});const t={};e.forEach(r=>{t[r.class]=(t[r.class]||0)+1});const n=Object.entries(t).map(([r,s])=>({name:`Class ${r}`,students:s})).sort((r,s)=>r.name.localeCompare(s.name));return n.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No class distribution data available."}):i.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Students by Class"}),i.jsx(hd,{width:"100%",height:300,children:i.jsxs(G0,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(im,{strokeDasharray:"3 3"}),i.jsx(nu,{dataKey:"name"}),i.jsx(to,{allowDecimals:!1}),i.jsx(Jr,{}),i.jsx(Wa,{}),i.jsx(Ps,{dataKey:"students",fill:"#8884d8"})]})})]})},NGe=({exams:e})=>{if(!e.length)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No exam data available."});const t=e.filter(s=>s.isPublished).length,n=e.length-t,r=[{name:"Published",count:t,fill:"#4CAF50"},{name:"Unpublished",count:n,fill:"#FF9800"}];return i.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Exams Overview"}),i.jsx(hd,{width:"100%",height:300,children:i.jsxs(G0,{data:r,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(im,{strokeDasharray:"3 3"}),i.jsx(nu,{type:"number",allowDecimals:!1}),i.jsx(to,{dataKey:"name",type:"category"}),i.jsx(Jr,{}),i.jsx(Wa,{}),i.jsx(Ps,{dataKey:"count",name:"Exams",children:r.map((s,a)=>i.jsx(md,{fill:s.fill},`cell-${a}`))})]})})]})},$Ge=({data:e})=>{if(!e||e.length===0)return i.jsx("p",{className:"text-gray-500",children:"No attendance data available to display chart."});const t=e.map(n=>({name:n.facultyName,"Attendance Rate (%)":n.attendanceRate,Absent:n.absentStudentsCount,Present:n.presentStudents}));return i.jsx(hd,{width:"100%",height:300,children:i.jsxs(G0,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(im,{strokeDasharray:"3 3"}),i.jsx(nu,{dataKey:"name",angle:-30,textAnchor:"end",height:70,interval:0}),i.jsx(to,{yAxisId:"left",orientation:"left",stroke:"#8884d8",label:{value:"Rate (%)",angle:-90,position:"insideLeft"}}),i.jsx(to,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",label:{value:"Count",angle:-90,position:"insideRight"}}),i.jsx(Jr,{}),i.jsx(Wa,{}),i.jsx(Ps,{yAxisId:"left",dataKey:"Attendance Rate (%)",fill:"#8884d8"}),i.jsx(Ps,{yAxisId:"right",dataKey:"Present",stackId:"a",fill:"#82ca9d"}),i.jsx(Ps,{yAxisId:"right",dataKey:"Absent",stackId:"a",fill:"#ff7300"})]})})},EGe=({data:e,facultyName:t})=>{if(!e||e.length===0)return i.jsxs("p",{className:"text-gray-500",children:["No class attendance data available for ",t||"the selected faculty","."]});const n=e.map(r=>({name:r.className,"Attendance Rate (%)":r.attendanceRate,Absent:r.absentStudentsCount,Present:r.presentStudents}));return i.jsx(hd,{width:"100%",height:300,children:i.jsxs(G0,{data:n,margin:{top:5,right:30,left:20,bottom:70},children:[" ",i.jsx(im,{strokeDasharray:"3 3"}),i.jsx(nu,{dataKey:"name",angle:-45,textAnchor:"end",height:70,interval:0}),i.jsx(to,{yAxisId:"left",orientation:"left",stroke:"#8884d8",label:{value:"Rate (%)",angle:-90,position:"insideLeft"}}),i.jsx(to,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",label:{value:"Count",angle:-90,position:"insideRight"}}),i.jsx(Jr,{}),i.jsx(Wa,{}),i.jsx(Ps,{yAxisId:"left",dataKey:"Attendance Rate (%)",fill:"#8884d8"}),i.jsx(Ps,{yAxisId:"right",dataKey:"Present",stackId:"a",fill:"#82ca9d"}),i.jsx(Ps,{yAxisId:"right",dataKey:"Absent",stackId:"a",fill:"#ff7300"})]})})},AGe=({absentStudents:e,faculties:t})=>{const n=m.useMemo(()=>!t||t.length===0?new Map:new Map(t.map(s=>[s.$id,s.name])),[t]),r=m.useMemo(()=>{const s={};return!e||e.length===0||e.forEach(a=>{const o=n.get(a.facultyId)||`Unknown Faculty (ID: ${a.facultyId||"N/A"})`,l=a.class||"Unknown Class",c=a.section||"Unknown Section";s[o]||(s[o]={}),s[o][l]||(s[o][l]={}),s[o][l][c]||(s[o][l][c]=[]),s[o][l][c].push(a)}),s},[e,n]);return!e||e.length===0?i.jsx("p",{className:"text-gray-600 italic",children:"No students are reported absent today for the current selection."}):i.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([s,a])=>i.jsxs("div",{className:"p-4 border rounded-md bg-gray-50",children:[i.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-3",children:s}),Object.keys(a).length===0&&i.jsx("p",{className:"text-sm text-gray-500 italic",children:"No absent students in known classes for this faculty."}),Object.entries(a).map(([o,l])=>i.jsxs("div",{className:"ml-4 mb-3",children:[i.jsxs("h4",{className:"text-lg font-medium text-teal-600 mb-2",children:["Class: ",o]}),Object.keys(l).length===0&&i.jsx("p",{className:"text-sm text-gray-500 italic",children:"No absent students in known sections for this class."}),Object.entries(l).map(([c,u])=>i.jsxs("div",{className:"ml-4 mb-2",children:[i.jsxs("h5",{className:"text-md font-normal text-gray-700 mb-1",children:["Section: ",c," (",u.length," absent)"]}),i.jsx("ul",{className:"list-disc list-inside pl-4 text-sm text-gray-600",children:u.map(d=>i.jsxs("li",{children:[d.name," (",d.stdEmail||"No Email",")"]},d.$id||d.name))})]},c))]},o))]},s))})},PGe=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState("all");sC(p=>p.loading);const s=sC(p=>p.data),{students:a=[],faculties:o=[],todayAttendanceByFaculty:l=[],absentStudentsToday:c=[]}=s||{},u=p=>{r(p.target.value)},d=m.useMemo(()=>n==="all"||!o?null:o.find(p=>p.$id===n),[n,o]),f=m.useMemo(()=>{if(!a.length||!o.length||!l.length)return{title:"Today's Attendance",data:[],type:"faculty"};if(n==="all")return{title:"Today's Attendance Rate by Faculty",data:l,type:"faculty"};const p=d;if(!p||!p.classes||p.classes.length===0)return{title:`Today's Attendance for ${(p==null?void 0:p.name)||"Selected Faculty"}`,data:[],type:"class"};const b=yq(),x=p.classes.map(y=>{const v=a.filter($=>$.facultyId===p.$id&&$.class===y),j=v.length,S=v.filter($=>Array.isArray($.absent)&&$.absent.includes(b)).length,N=j-S,C=j>0?parseFloat((N/j*100).toFixed(2)):0;return{className:y,totalStudents:j,presentStudents:N,absentStudentsCount:S,attendanceRate:C}}).filter(y=>y.totalStudents>0);return{title:`Today's Attendance for ${p.name} by Class`,data:x,type:"class"}},[n,a,o,l,d]),h=m.useMemo(()=>c.length?n==="all"?c:c.filter(p=>p.facultyId===n):[],[n,c]);return s?i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-700 flex items-center",children:[e?i.jsx(PT,{className:"mr-2 h-6 w-6 text-blue-500"}):i.jsx(Hge,{className:"mr-2 h-6 w-6 text-green-500"}),e?`Today's Absent Students ${d?`(Faculty: ${d.name})`:"(All Faculties)"}`:f.title]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[i.jsx(Pge,{className:"h-5 w-5 text-gray-600"}),i.jsxs("select",{id:"facultySelect",value:n,onChange:u,className:"block w-full sm:w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md shadow-sm",children:[i.jsx("option",{value:"all",children:"All Faculties"}),o.map(p=>i.jsx("option",{value:p.$id,children:p.name},p.$id))]})]}),i.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center w-full sm:w-auto justify-center",children:e?i.jsxs(i.Fragment,{children:[i.jsx(hge,{className:"mr-2 h-4 w-4"})," Back to Graph"]}):i.jsxs(i.Fragment,{children:["View Absentee List ",i.jsx(PT,{className:"ml-2 h-4 w-4"})]})})]})]}),e?i.jsx(AGe,{absentStudents:h,faculties:o}):i.jsx(i.Fragment,{children:f.data&&f.data.length>0?i.jsxs(i.Fragment,{children:[f.type==="faculty"&&i.jsx($Ge,{data:f.data}),f.type==="class"&&i.jsx(EGe,{data:f.data,facultyName:d==null?void 0:d.name})]}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No attendance data to display for the current selection."})})]}):i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Today's Attendance"}),i.jsx("p",{children:"Attendance data is not available yet or failed to load."})]})},tZ=()=>{const{loading:e,error:t,stats:n,data:r,fetchDashboardData:s}=sC();m.useEffect(()=>{s()},[s]);const a=m.useMemo(()=>(r==null?void 0:r.students)||[],[r==null?void 0:r.students]),o=m.useMemo(()=>(r==null?void 0:r.faculties)||[],[r==null?void 0:r.faculties]),l=m.useMemo(()=>(r==null?void 0:r.exams)||[],[r==null?void 0:r.exams]);return e?i.jsx("div",{className:"p-8 text-center text-xl",children:"Loading dashboard data..."}):t?i.jsxs("div",{className:"p-8 text-center text-xl text-red-500",children:["Error: ",t]}):!n||!r?i.jsx("div",{className:"p-8 text-center text-xl",children:"No data available."}):i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"p-4 md:p-8 bg-gray-100 min-h-screen",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Admin Dashboard"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[i.jsx(Vl,{title:"Total Students",value:n.totalStudents,icon:i.jsx(Gge,{}),bgColor:"bg-indigo-500"}),i.jsx(Vl,{title:"Total Teachers",value:n.totalTeachers,icon:i.jsx(yge,{}),bgColor:"bg-green-500"}),i.jsx(Vl,{title:"Total Parents",value:n.totalParents,icon:i.jsx(AT,{}),bgColor:"bg-yellow-500 text-gray-800"}),i.jsx(Vl,{title:"Faculties",value:n.totalFaculties,icon:i.jsx(bge,{}),bgColor:"bg-purple-500"}),i.jsx(Vl,{title:"Classes",value:n.totalClasses,icon:i.jsx(AT,{}),bgColor:"bg-pink-500"}),i.jsx(Vl,{title:"Sections",value:n.totalSections,icon:i.jsx(DT,{}),bgColor:"bg-teal-500"}),i.jsx(Vl,{title:"Library Members",value:n.studentsWithLibrary,icon:i.jsx(Lge,{}),bgColor:"bg-cyan-500"}),i.jsx(Vl,{title:"Total Exams",value:n.totalExams,icon:i.jsx(DT,{}),bgColor:"bg-orange-500"})]}),i.jsx("div",{className:"mb-8",children:i.jsx(PGe,{})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.length>0&&o.length>0&&i.jsx(jGe,{students:a,faculties:o}),a.length>0&&i.jsx(CGe,{students:a}),l.length>0&&i.jsx(NGe,{exams:l})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Additional Information"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-600",children:[i.jsxs("li",{children:["Published Exams: ",n.publishedExams," / ",n.totalExams]}),i.jsxs("li",{children:["Active Teachers: ",n.totalTeachers]})]})]})]})})},DGe=()=>{const[e,t]=m.useState(()=>localStorage.getItem("activeMobileMenu")||"Dashboard"),[n,r]=m.useState(()=>localStorage.getItem("generalComponentMenuItem")||null),s=m.useRef(!0);m.useEffect(()=>{if(s.current){s.current=!1;const p=localStorage.getItem("activeMobileMenu"),b=localStorage.getItem("generalComponentMenuItem");p&&["Dashboard","Search","Menu","Notification","Braimy","Class","Subjects","CenterAction"].includes(p)?t(p):t("Dashboard"),b&&r(b)}},[]),m.useEffect(()=>{localStorage.setItem("activeMobileMenu",e)},[e]),m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",n||"")},[n]);const a=(p,b)=>{t(p),p==="Menu"?b?r(b):!b&&localStorage.getItem("generalComponentMenuItem")?r(localStorage.getItem("generalComponentMenuItem")):r(null):r(null)},o=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notifications"})," ",i.jsx("p",{className:"text-gray-700",children:"Check your latest notifications and updates here."})]}),l=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Braimy Settings"})," ",i.jsx("p",{className:"text-gray-700",children:"Configure Braimy related settings."})]}),c=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Classes"})," ",i.jsx("p",{className:"text-gray-700",children:"Manage your classes and schedules."})]}),u=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Subjects"})," ",i.jsx("p",{className:"text-gray-700",children:"View and manage subjects."})]}),f=[{name:"Dashboard",icon:i.jsx(y0,{className:"h-5 w-5"}),onClick:()=>a("Dashboard")},{name:"Search",icon:i.jsx(v0,{className:"h-5 w-5"}),onClick:()=>a("Search")},{name:"Menu",icon:i.jsx(x0,{className:"h-5 w-5"}),onClick:()=>a("Menu")}],h=()=>{switch(e){case"Dashboard":return i.jsx(tZ,{});case"Search":return i.jsx(nNe,{setActiveItem:a});case"Menu":return i.jsx(eNe,{initialMenuItem:n});case"Notification":return i.jsx(o,{});case"Braimy":return i.jsx(l,{});case"Class":return i.jsx(c,{});case"Subjects":return i.jsx(u,{});case"CenterAction":return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:"Center Action Content"});default:return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border text-center text-gray-500",children:"Select a menu item from below."})}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[" ",i.jsxs("div",{className:"flex-1 overflow-x-hidden overflow-y-auto p-2",children:[" ",i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[" ",h(),i.jsx(no,{})]})]}),i.jsxs("div",{className:"sticky bottom-0 bg-slate-300/90 rounded-t-lg backdrop-blur-sm border-t border-gray-200",children:[" ",i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[" ",i.jsx(P0,{menuItems:f,activeItemName:e,setActiveItemName:a})]})]})]})},Y0=({sidebarState:e,toggleSidebar:t,setActiveItem:n,activeItem:r,sidebarItems:s})=>{const[a,o]=m.useState(()=>{const x={};return s.forEach(y=>{y.children&&y.children.length>0&&(x[y.name]=!0)}),x}),[l,c]=m.useState(!1),[u,d]=m.useState(null);m.useEffect(()=>{const x=()=>{c(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]),m.useEffect(()=>{const x=localStorage.getItem("activeSidebarItem");x?(d(x),n(x)):r||(n("Dashboard"),d("Dashboard"),localStorage.setItem("activeSidebarItem","Dashboard"))},[]),m.useEffect(()=>{r&&r!==u&&d(r)},[r]),m.useEffect(()=>{u&&localStorage.setItem("activeSidebarItem",u)},[u]);const f=x=>{d(x),n(x)},h=x=>{o(y=>({...y,[x]:!y[x]}))},p=x=>!x.children||!u?!1:x.children.some(y=>y.name===u),b=x=>{const y=x.children&&x.children.length>0,v=!!a[x.name],j=p(x)&&!v,S=u===x.name,N=y?j:S;return i.jsxs("div",{className:"group flex flex-col overflow-visible",children:[i.jsxs("div",{className:`flex items-center py-2 pl-2 px-1 gap-1 justify-center cursor-pointer rounded-md ${N?"bg-blue-500 text-white":"hover:bg-gray-100"}`,onClick:()=>{y?h(x.name):f(x.name)},children:[i.jsx(x.icon,{className:"w-6 h-6"}),e!==1&&i.jsx("span",{className:"ml-2 flex-1 text-base font-medium",children:x.name}),e==1&&!y&&i.jsx("span",{className:"mr-2 "}),y&&i.jsx(rH,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""} ${e===1?"ml-auto":"ml-0"}`})]}),y&&x.children&&i.jsx("div",{className:`${v?"block":"hidden"} space-y-1 mb-1 pl-4 border-t-1 border-gray-400`,children:x.children.map(C=>i.jsxs("div",{className:`flex items-center p-2 mt-1 cursor-pointer rounded-md ${u===C.name?"bg-blue-500 text-white":"hover:bg-gray-100"}`,onClick:()=>f(C.name),children:[i.jsx(C.icon,{className:"w-5 h-5"}),e!==1&&i.jsx("span",{className:"ml-2 text-sm",children:C.name})]},C.name))})]},x.name)};return i.jsxs("div",{className:"flex flex-col font-sans m-2",children:[i.jsxs("div",{className:"flex items-center pt-3 pl-1 rounded-t-xl pb-3 space-x-3 justify-center bg-slate-300/25",children:[i.jsx("img",{src:"/ico.png",alt:"Sorad Dynamics",width:32,height:32,className:`text-gray-800 font-semibold text-xl  ${e===1?" w-[32] h-[32]":""}`}),i.jsx("span",{className:`${l?"":"text-xl"}`,children:i.jsxs("span",{className:`text-gray-800 font-semibold  ${e===1?"hidden":""}`,children:["Sorad",i.jsx("span",{className:"text-[#f76d37]",children:"Dynamics"})]})})]}),i.jsx("div",{className:`flex flex-col transition-all duration-300 h-full overflow-auto ease-in-out transform
        ${e===0?"w-64":""} ${e===1?"w-[4.7rem]":""} ${e===2?"hidden md:w-64 ":""}
          bg-slate-300/25 md:rounded-b-xl  pb-2  text-gray-800/70  gray-300 slate-500/60
        ${l?e===0?"w-[180px] rounded-none rounded-r-md":"rounded-none rounded-r-md":""}`,children:i.jsx($t,{children:i.jsx("div",{className:"flex-1 space-y-2 mr-3 ml-2 ",children:s.map(b)})})})]})},kGe=[{id:"1",icon:Ds,title:"Dashboard",description:"View your dashboard",location:"Dashboard"},{id:"2",icon:Wr,title:"Student >> General",description:"Students general component (admission)",location:"General"},{id:"3",icon:Ir,title:"Student >> Section",description:"Update students sections",location:"Section"},{id:"4",icon:os,title:"Student >> Attendance",description:"Manage student attendance",location:"Attendance"},{id:"5",icon:Vc,title:"Student >> Leave",description:"Manage student leave approvals",location:"Leave"},{id:"6",icon:xl,title:"Student >> Review",description:"Manage student reviews and feedback",location:"Review"},{id:"7",icon:Wr,title:"Teacher >> Teach_General",description:"General teacher data and profile management",location:"Teach_General"},{id:"8",icon:Ir,title:"Teacher >> ClassTeacher",description:"Assign or view class teacher roles",location:"ClassTeacher"},{id:"9",icon:F1,title:"Teacher >> Lesson",description:"Manage teacher lesson plans",location:"Lesson"},{id:"10",icon:Yc,title:"Routine",description:"Manage and view daily routines",location:"Routine"},{id:"11",icon:Tr,title:"Calendar",description:"Nepali calendar for your time series",location:"Calendar"},{id:"12",icon:a$,title:"Gallery",description:"School gallery of photos and media",location:"Gallery"},{id:"13",icon:Hh,title:"Notification",description:"Send or view announcements and alerts",location:"Notification"},{id:"14",icon:L1,title:"Transport >> Configure",description:"Configure school transport details",location:"Configure"},{id:"15",icon:zc,title:"Transport >> Map",description:"View transport routes and map",location:"Map"},{id:"16",icon:B1,title:"Result",description:"Teacher marks entry and result management",location:"Result"},{id:"17",icon:Ad,title:"Configure >> Faculty & Class",description:"Configure faculties and classes",location:"Faculty & Class"},{id:"18",icon:Ir,title:"Configure >> Section & Subject",description:"Configure sections and subjects",location:"Section & Subject"},{id:"19",icon:Wr,title:"Configure >> Exams",description:"Manage exam schedules and types",location:"Exams"},{id:"20",icon:Bc,title:"Profile",description:"View your profile",location:"Profile"}],IGe=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=t?kGe.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())):[],s=a=>{e(a.location),n("")};return i.jsxs("div",{className:"relative flex-col w-full max-w-lg mx-auto flex items-center",children:[i.jsx(Ua,{placeholder:"Search",startContent:i.jsx(Ai,{className:"w-5 h-5 text-default-400 pointer-events-none flex-shrink-0"}),type:"text",isClearable:!0,variant:"flat",value:t,onChange:a=>n(a.target.value),onClear:()=>n(""),className:"shadow-gray-600/10 hover:shadow-gray-300/10 bg-slate-200 shadow-md rounded-xl"}),t.trim()!==""&&i.jsx("div",{className:"results z-10 mt-12 absolute w-full bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.length>0?i.jsx("ul",{children:r.map(a=>i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 cursor-pointer text-blue-500 hover:bg-gray-100",onClick:()=>s(a),children:[i.jsx(a.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:a.title}),i.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id)}))}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No results found."})})]})},TGe=({toggleSidebar:e,setActiveItem:t})=>{Lh();const n=()=>a(!0),r=()=>a(!1),[s,a]=m.useState(!1),o=async()=>{try{await ut.deleteSession("current"),Ge.success("Logged out successfully!"),window.location.reload()}catch(l){Ge.error(l.message||"Logout failed!")}};return i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:"flex flex-row m-3 gap-6 items-center justify-between pr-2 rounded",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-800 font-semibold bg-[rgb(235,235,235)]/80 rounded-md hover:bg-gray-300/60 active:scale-95 transition-colors duration-200 ease-in-out",children:i.jsx(D0,{className:"w-6 h-6"})}),i.jsx(IGe,{setActiveItem:t}),i.jsx("div",{className:"flex items-center",children:i.jsxs(kc,{placement:"bottom-start",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsx(Ha,{classNames:{base:"bg-gradient-to-br from-[#FFB457] to-[#FF705B]",icon:"text-black/80"},className:"cursor-pointer",icon:i.jsx($0,{})})}),i.jsxs(Pc,{"aria-label":"Dropdown menu with description",variant:"faded",children:[i.jsx(As,{showDivider:!0,children:i.jsxs(kr,{className:"h-14 gap-2",children:[i.jsx("p",{className:"font-medium",children:"User name"}),i.jsx("p",{className:"font-semibold text-gray-400",children:"Admin"})]},"profile")}),i.jsx(As,{title:"Settings",children:i.jsx(kr,{className:"cursor-pointer",onPress:n,children:"Reset Password"},"reset-password")}),i.jsx(As,{title:"Actions",children:i.jsx(kr,{className:"text-danger text-xl",color:"danger",startContent:i.jsx(S0,{}),onPress:o,children:"Logout"},"logout")})]})]})})]}),i.jsx(Zc,{isOpen:s,onClose:r})]})},MGe=({studentData:e,isLoading:t,onStudentsSelect:n,selectedStudents:r})=>{const{facultyData:s}=Hs(),[a,o]=m.useState(r),l=m.useMemo(()=>[{key:"checkbox",label:"",align:"center",minWidth:"50px",headerClassName:"text-center px-3 py-3.5",cellClassName:"text-center px-3 py-4"},{key:"name",label:"Name",minWidth:"150px",cellClassName:"px-3 py-4"},{key:"class",label:"Class",minWidth:"80px",cellClassName:"px-3 py-4"},{key:"section",label:"Section",minWidth:"80px",cellClassName:"px-3 py-4"},{key:"faculty",label:"Faculty",minWidth:"150px",cellClassName:"px-3 py-4"}],[]),c=m.useCallback((f,h)=>{o(p=>{let b;return h?b=p.includes(f)?p:[...p,f]:b=p.filter(x=>x!==f),n(b),b})},[n]),u=m.useCallback(f=>{const h=a.includes(f.$id);c(f.$id,!h)},[a,c]),d=m.useCallback((f,h)=>{switch(h){case"checkbox":return i.jsx(sl,{isSelected:a.includes(f.$id),onChange:b=>c(f.$id,b.target.checked),size:"sm","aria-label":`Select student ${f.name}`});case"name":return i.jsx("span",{className:"font-medium text-gray-900",children:f.name??"N/A"});case"class":return f.class||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"section":return f.section||i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});case"faculty":const p=s.find(b=>b.$id===f.facultyId);return p?p.name:i.jsx("span",{className:"text-gray-400 italic",children:"N/A"});default:return null}},[s,a,c]);return m.useEffect(()=>{JSON.stringify(a)!==JSON.stringify(r)&&o(r)},[r,a]),m.useEffect(()=>{if(e&&e.length>0){const f=new Date().toISOString().slice(0,10),h=e.filter(p=>Array.isArray(p.absent)&&p.absent.includes(f)).map(p=>p.$id);JSON.stringify(h)!==JSON.stringify(a)&&(o(h),n(h))}},[e,n]),i.jsx("div",{className:"mt-4",children:i.jsx(M$,{columns:l,data:e,getRowKey:f=>f.$id,isLoading:t,emptyContent:t?"Loading students...":"No students match your search.",renderCell:d,selectionMode:"none",className:"border border-gray-200 rounded-lg shadow-sm overflow-hidden",tableClassName:"min-w-full divide-y divide-gray-300",headerClassName:"bg-gray-50 sticky top-0 z-10",rowClassName:f=>`transition-colors duration-150 ease-in-out hover:bg-gray-50 cursor-pointer ${a.includes(f.$id)?"bg-primary-50 hover:bg-primary-100":""}`,onRowClick:u})})},w_=({isMobile:e,onStudentsSelect:t,selectedStudents:n})=>{const[r,s]=m.useState(""),[a,o]=m.useState(null),{studentData:l,fetchStudentData:c,isLoading:u}=Gc(),{facultyData:d,fetchFacultyData:f,isFacultyLoading:h}=Hs(),{sectionData:p,fetchSectionData:b,isLoading:x}=wl(),{fetchParentData:y}=O0(),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(""),[P,E]=m.useState([]),[M,k]=m.useState([]),[A,I]=m.useState([]),L=u||h||x,R=O=>{s(O)},F=()=>{o(null),s(""),j(""),N(""),$(""),t([]);const O=Promise.all([c(),y(),f(),b()]);Ke.promise(O,{loading:"Refreshing data...",success:"Data refreshed!",error:_=>(console.error("Refresh Error:",_),o("Failed to load initial data."),"Failed to refresh data.")})};m.useEffect(()=>{Promise.all([f(),b(),y(),c()]).catch(O=>{console.error("Error during initial data fetch:",O),o("Failed to load initial data. Please refresh.")})},[]),m.useEffect(()=>{E(d.map(O=>({key:O.$id,label:O.name})))},[d]),m.useEffect(()=>{let O=[];if(v){const _=d.find(W=>W.$id===v);O=((_==null?void 0:_.classes)??[]).map(W=>({key:W,label:W}))}k(O),$(""),I([])},[v,d]),m.useEffect(()=>{let O=[];v&&S&&p&&(O=p.filter(_=>_.facultyId===v&&_.class===S).map(_=>({key:_.name,label:_.name}))),I(O)},[v,S,p]);const T=m.useMemo(()=>{if(!v&&!S&&!C&&!r.trim())return[];let _=l||[];if(v&&(_=_.filter(W=>W.facultyId===v)),S&&(_=_.filter(W=>W.class===S)),C&&(_=_.filter(W=>W.section===C)),r.trim()){const W=r.toLowerCase().trim();_=_.filter(z=>(z.name||"").toLowerCase().includes(W))}return _},[l,r,v,S,C]);return i.jsxs("div",{className:"md:w-full w-full md:p-2",children:[i.jsx(ia,{position:"top-right"}),a&&i.jsx(Dd,{message:a}),i.jsx("div",{className:"top overflow-x-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#CBD5E1 transparent"},children:i.jsxs("div",{className:"min-w-[500px] md:min-w-fit mt-1 mx-3 md:px-0 mb-2",children:[" ",i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 flex-wrap",children:[" ",i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-grow sm:flex-grow-0 min-w-[300px] sm:min-w-0",children:[" ",i.jsx(Cr,{placeholder:"Faculty",className:"w-full sm:max-w-[10rem]",variant:"faded",size:"md",selectedKey:v,onSelectionChange:O=>{const _=O?O.toString():"";j(_),N(""),$(""),t([])},items:P,"aria-label":"Select Faculty Filter",children:O=>i.jsx(bn,{children:O.label},O.key)}),i.jsx(Cr,{placeholder:"Class",className:"w-full sm:max-w-[8rem]",variant:"faded",size:"md",selectedKey:S,onSelectionChange:O=>{N(O?O.toString():""),$(""),t([])},items:M,isDisabled:!v||M.length===0,"aria-label":"Select Class Filter",children:O=>i.jsx(bn,{children:O.label},O.key)}),i.jsx(Cr,{placeholder:"Section",className:"w-full sm:max-w-[8rem]",variant:"faded",size:"md",selectedKey:C,onSelectionChange:O=>{$(O?O.toString():""),t([])},items:A,isDisabled:!v||!S||A.length===0,"aria-label":"Select Section Filter",children:O=>i.jsx(bn,{children:O.label},O.key)})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:mt-0 flex-grow w-full sm:w-auto",children:[" ",i.jsxs("div",{className:"flex-grow min-w-[100px] sm:min-w-[150px] max-w-full sm:max-w-[250px]",children:[" ",i.jsx(Bn,{placeholder:"Search student name...",value:r,onValueChange:R})]}),i.jsx(st,{icon:i.jsx(Lc,{className:"w-5 h-5 text-gray-100 transition duration-200"}),onClick:F,"aria-label":"Refresh Data & Filters"})]})]})]})}),L&&i.jsx(sh,{size:"sm",isIndeterminate:!0,"aria-label":"Loading data...",className:"w-full my-2"}),i.jsx(MGe,{studentData:T,isLoading:L,onStudentsSelect:t,selectedStudents:n})]})},S_=e=>{const t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return`${t}-${n}-${r}`},OGe=e=>{if(!e||!e.trim())return console.warn("[absentStore/convertAdToBsDate] Received empty or invalid adDate input for BS conversion:",e),null;try{return/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)||console.warn(`[absentStore/convertAdToBsDate] Input AD date "${e}" might not be in expected YYYY-MM-DD format for BS conversion.`),_$(e)}catch(t){return console.error(`[absentStore/convertAdToBsDate] Error converting AD "${e}" to BS:`,t.message,t),null}},LGe=Gt((e,t)=>({markAbsent:async(n,r,s,a,o,l)=>{try{const c=s.find(f=>f.$id===n);if(!c){console.warn(`[absentStore] Student with document ID ${n} not found. Aborting.`);return}if(!c.id)throw console.error(`[absentStore] Student object (doc ID: ${n}) is MISSING the custom 'id' field. Student data snapshot:`,{$id:c.$id,name:c.name}),new Error(`Student data for doc ID ${n} is missing the custom 'id' property.`);const u=c.id,d=c.absent?[...c.absent]:[];if(!d.includes(r)){d.push(r),await a(c.$id,{absent:d});try{const f=OGe(r),h=S_(new Date),p=new Date;p.setDate(p.getDate()+1);const b=S_(p);if(!l||l==="Loading..."||l==="System_Error")throw console.error("[absentStore] currentUserLabel is invalid for notification.",l),new Error("Sender information (currentUserLabel) is invalid for notification.");const y={title:"Absent Notification",msg:f?`Your student is absent today [${r} (AD)].`:`Your student is absent on ${r} (AD). (BS conversion failed)`,to:[`id:${u}`],valid:b,sender:l,date:h};await o(y)}catch(f){throw console.error(`[absentStore] ERROR creating notification for student custom ID ${u}:`,f),f}}}catch(c){throw console.error(`[absentStore] OVERALL error in markAbsent process for student document ${n}:`,c),c}}})),j_=({studentIds:e,onBack:t})=>{const{studentData:n,updateStudentData:r}=Gc(),{facultyData:s}=Hs(),[a,o]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),{markAbsent:p}=LGe();m.useEffect(()=>{const y=n.filter(v=>e.includes(v.$id)).map(v=>{const j=s.find(S=>S.$id===v.facultyId);return{name:v.name,faculty:j?j.name:"N/A",class:v.class,section:v.section,id:v.$id}});o(y)},[e,n,s]);const b=async()=>{c(!0)},x=async()=>{var y;d(!0),h(null);try{const v=new Date().toISOString().slice(0,10);for(const j of a)try{const S=n.find(N=>N.$id===j.id);S&&((y=S.absent)!=null&&y.includes(v)||await r(j.id,{absent:[...S.absent||[],v]}))}catch(S){console.error(`Error marking student ${j.name} absent:`,S),h(`Failed to mark student ${j.name} absent: ${S.message}`)}}catch(v){console.error("Error saving attendance:",v),h(v.message||"An error occurred while saving attendance.")}finally{d(!1),c(!1)}};return i.jsxs("div",{className:"px-6 pt-3 rounded-md flex flex-col h-full",children:[t&&i.jsx("div",{className:"mb-6",children:i.jsx(Se,{onPress:t,color:"secondary",variant:"flat",children:"Back to List"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 border-b-2 pb-2",children:"Attendance Details"}),a.length>0?i.jsx("ul",{className:"list-disc list-inside pl-5",children:a.map((y,v)=>i.jsxs("li",{className:"text-gray-700 mb-2",children:[y.name," - Faculty: ",y.faculty,", Class: ",y.class,", Section: ",y.section]},v))}):i.jsx("p",{className:"text-gray-600 italic",children:"No students selected."}),i.jsx("div",{className:"mt-auto",children:i.jsx(Se,{color:"primary",onPress:b,isDisabled:u,children:"Save Attendance"})}),i.jsx(vl,{isOpen:l,onClose:()=>c(!1),onConfirm:x,title:"Confirm Save",content:i.jsxs(i.Fragment,{children:["Are you sure you want to mark the selected students as absent for today?",f&&i.jsx("p",{className:"text-red-500 mt-2",children:f})]}),isConfirmLoading:u})]})},_Ge=()=>{const[e,t]=m.useState(window.innerWidth<768),[n,r]=m.useState([]),[s,a]=m.useState(!1);m.useEffect(()=>{const c=()=>{t(window.innerWidth<768)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]);const o=m.useCallback(c=>{r(c),e&&c.length>0&&a(!0)},[e]),l=m.useCallback(()=>{a(!1)},[]);return i.jsx("div",{className:"flex flex-1 w-full h-full",children:e?s?i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden shadow-md",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(j_,{studentIds:n,onBack:l})})}):i.jsx("div",{className:"flex-1 bg-gray-100 rounded-xl overflow-hidden shadow-md",children:i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(w_,{isMobile:e,onStudentsSelect:o,selectedStudents:n})})}):i.jsxs("div",{className:"flex w-full gap-4",children:[" ",i.jsxs("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:[" ",i.jsx($t,{options:{suppressScrollX:!0},children:i.jsx(w_,{isMobile:e,onStudentsSelect:o,selectedStudents:n})})]}),i.jsxs("div",{className:"flex-1 bg-gray-100 rounded-xl shadow-md overflow-hidden",children:[" ",i.jsx($t,{options:{suppressScrollX:!0},children:n.length>0?i.jsx(j_,{studentIds:n}):i.jsxs("div",{className:"p-6 flex flex-col items-center justify-center h-full text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 18h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})}),i.jsx("p",{className:"text-gray-500 text-lg italic",children:"Select students from the list to view or mark attendance."})]})})]})]})})},FGe=()=>et.getState().dbId,Tu=FGe,C_=e=>{let t=null;if(e&&e.length>0){const r=e.map(s=>new Date(s.date)).filter(s=>!isNaN(s.getTime()));r.length>0&&(t=new Date(Math.max(...r.map(s=>s.getTime()))))}const n=t?new Date(t):new Date;return n.setDate(n.getDate()+1),n.toISOString().split("T")[0]},N_=async(e,t)=>{var a,o,l;const n=[];if(e.faculty&&e.faculty.length>0){const c=t.filter(u=>e.faculty.includes(u.name)).map(u=>u.$id);if(c.length>0)n.push(J.in("facultyId",c));else return console.warn("_findTargetStudentIds: No matching faculty IDs found for given faculty names."),[]}if(e.class&&e.class.length>0&&n.push(J.in("class",e.class)),e.section&&e.section.length>0&&n.push(J.in("section",e.section)),n.length===0&&((a=e.faculty)!=null&&a.length||(o=e.class)!=null&&o.length||(l=e.section)!=null&&l.length))return console.warn("_findTargetStudentIds: Criteria given but resolved to no valid filters. Returning no students."),[];const s=[J.limit(5e3),...n];try{return(await le.listDocuments(Tu,on,s)).documents.filter(u=>u.id&&typeof u.id=="string"&&u.id.trim()!=="").map(u=>`id:${u.id}`)}catch(c){return console.error("_findTargetStudentIds: Error querying students:",c),[]}},a2=Gt((e,t)=>({exams:[],faculties:[],sections:[],loading:!1,saving:!1,deleting:!1,error:null,filterFacultyId:null,filterClass:null,searchTerm:"",setError:n=>e({error:n}),fetchFaculties:async()=>{e({loading:!0,error:null});try{const n=await le.listDocuments(Tu,tr,[J.limit(100)]);e({faculties:n.documents,loading:!1})}catch(n){e({error:"Failed to fetch faculties: "+n.message,loading:!1})}},fetchSections:async()=>{e({loading:!0,error:null});try{const n=await le.listDocuments(Tu,Qt,[J.limit(200)]);e({sections:n.documents,loading:!1})}catch(n){e({error:"Failed to fetch sections: "+n.message,loading:!1})}},fetchExams:async()=>{e({loading:!0,error:null});try{const r=(await le.listDocuments(Tu,zo,[J.orderDesc("$createdAt"),J.limit(100)])).documents.map(s=>{let a=[];if(s.subjectDetails_json&&typeof s.subjectDetails_json=="string")try{a=JSON.parse(s.subjectDetails_json)}catch(c){console.error(`Failed to parse subjectDetails_json for exam ${s.$id}:`,c)}const{subjectDetails_json:o,...l}=s;return{...l,subjectDetails:a}});e({exams:r,loading:!1})}catch(n){console.error("Error fetching exams:",n),e({error:"Failed to fetch exams: "+n.message,loading:!1})}},addExam:async n=>{e({saving:!0,error:null});try{const{subjectDetails:r,...s}=n,a={...s,subjectDetails_json:JSON.stringify(r||[])},o=await le.createDocument(Tu,zo,dn.unique(),a);try{const l=await Jo();l||console.warn("[ExamStore] Could not get current user email for notification sender. Using 'System'.");const c={faculty:n.faculty,class:n.class,section:n.section};t().faculties.length===0&&c.faculty&&c.faculty.length>0&&await t().fetchFaculties();const u=await N_(c,t().faculties);if(u.length>0){const d={title:`New Exam Announced: ${n.title}`,msg:`A new exam "${n.title}" has been scheduled. Please check the exam details and prepare accordingly.`,to:u,valid:C_(n.subjectDetails),sender:l||"System"};await Yi(d)}}catch(l){console.error("[ExamStore] Error creating exam notification via service:",l)}await t().fetchExams(),e({saving:!1})}catch(r){throw console.error("Error adding exam:",r),e({error:"Failed to add exam: "+r.message,saving:!1}),r}},updateExam:async(n,r)=>{e({saving:!0,error:null});try{const{subjectDetails:s,...a}=r,o={...a,subjectDetails_json:JSON.stringify(s||[])},l=await le.updateDocument(Tu,zo,n,o);try{const c=await Jo(),u={faculty:r.faculty,class:r.class,section:r.section};t().faculties.length===0&&u.faculty&&u.faculty.length>0&&await t().fetchFaculties();const d=await N_(u,t().faculties);if(d.length>0){const f={title:`Exam Updated: ${r.title}`,msg:`The details for the exam "${r.title}" have been updated. Please review the changes.`,to:d,valid:C_(r.subjectDetails),sender:c||"System"};await Yi(f)}}catch(c){console.error("[ExamStore] Error creating/updating exam notification via service:",c)}await t().fetchExams(),e({saving:!1})}catch(s){throw console.error("Error updating exam:",s),e({error:"Failed to update exam: "+s.message,saving:!1}),s}},deleteExam:async n=>{e({deleting:!0,error:null});try{console.warn("[ExamStore] Placeholder for deleting related notifications for exam:",n),await le.deleteDocument(Tu,zo,n),e(r=>({exams:r.exams.filter(s=>s.$id!==n),deleting:!1}))}catch(r){throw console.error("Error deleting exam:",r),e({error:"Failed to delete exam: "+r.message,deleting:!1}),r}},setFilterFacultyId:n=>e({filterFacultyId:n,filterClass:null,searchTerm:""}),setFilterClass:n=>e({filterClass:n,searchTerm:""}),setSearchTerm:n=>e({searchTerm:n})})),RGe=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=new Hn(t);return`${n.getYear()}/${String(n.getMonth()+1).padStart(2,"0")}/${String(n.getDate()).padStart(2,"0")} BS`}catch(t){return console.error("Error formatting AD to BS:",t),"Error Date"}},i5=({icon:e,label:t,value:n,className:r})=>i.jsxs("div",{className:`flex items-start space-x-2 text-sm ${r}`,children:[i.jsx("span",{className:"text-indigo-600 mt-0.5",children:e}),i.jsxs("span",{className:"font-medium text-gray-700",children:[t,":"]}),i.jsx("span",{className:"text-gray-600 flex-1",children:n})]}),cA=({exam:e,onEdit:t,onDelete:n,showActions:r=!0})=>{var o,l,c;const s=m.useMemo(()=>e.subjectDetails?e.subjectDetails.map(u=>{try{const d=new Date(u.date);return isNaN(d.getTime())?null:{...u,adDate:d,bsDate:RGe(u.date)}}catch{return null}}).filter(u=>u!==null):[],[e.subjectDetails]),a=m.useMemo(()=>{if(!s||s.length===0)return{text:"Dates TBD",colorClass:"text-gray-500 bg-gray-100",icon:i.jsx(er,{className:"h-4 w-4 mr-1 inline"})};const u=new Date;return u.setHours(0,0,0,0),s.some(f=>f.adDate>=u)?{text:"Upcoming",colorClass:"text-green-700 bg-green-100",icon:i.jsx(er,{className:"h-4 w-4 mr-1 inline"})}:{text:"Expired",colorClass:"text-red-700 bg-red-100",icon:i.jsx(er,{className:"h-4 w-4 mr-1 inline"})}},[s]);return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-indigo-100 transition-shadow duration-300",children:[i.jsxs("div",{className:"bg-indigo-50 p-4 sm:p-5 border-b border-indigo-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-indigo-700",children:e.title}),r&&i.jsxs("div",{className:"flex space-x-1.5 shrink-0",children:[i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4 "}),color:"blue",onClick:()=>t(e),isIconOnly:!0,tooltip:"Edit Exam"}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4 "}),color:"red",onClick:()=>n(e.$id),isIconOnly:!0,tooltip:"Delete Exam"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[i.jsxs("p",{className:"text-xs sm:text-sm text-indigo-600",children:[i.jsx(Wr,{className:"h-4 w-4 mr-1 inline-block align-middle"}),"Type: ",i.jsx("span",{className:"font-medium",children:e.type||"N/A"})]}),i.jsxs("span",{className:`px-2 py-0.5 text-xs sm:text-sm rounded-full font-medium ${a.colorClass}`,children:[a.icon," ",a.text]})]})]}),i.jsxs("div",{className:"p-4 sm:p-5 space-y-4",children:[e.desc&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:[i.jsx(Mc,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Description"]}),i.jsx("p",{className:"text-sm text-gray-600 ml-7 whitespace-pre-wrap leading-relaxed",children:e.desc})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[i.jsx(so,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Subjects & Marks"]}),s.length===0?i.jsx("p",{className:"text-sm text-gray-500 ml-7",children:"No subjects assigned to this exam."}):i.jsx("div",{className:"space-y-3 ml-2 sm:ml-0",children:s.sort((u,d)=>u.adDate.getTime()-d.adDate.getTime()).map((u,d)=>i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[i.jsx("p",{className:"text-base font-semibold text-indigo-700",children:u.name}),i.jsxs("p",{className:"text-small font-medium text-gray-600 bg-gray-200 px-2 py-0.5 rounded-full",children:[i.jsx(er,{className:"h-3.5 w-3.5 mr-1 inline"}),u.bsDate]})]}),i.jsxs("div",{className:"flex gap-x-4 gap-y-1 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Theory:"}),i.jsxs("span",{className:"text-gray-600 ml-1",children:["FM: ",i.jsx("span",{className:"font-semibold",children:u.theoryFM}),", PM: ",i.jsx("span",{className:"font-semibold",children:u.theoryPM})]})]}),u.hasPractical&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Practical:"}),i.jsxs("span",{className:"text-gray-600 ml-1",children:["FM: ",i.jsx("span",{className:"font-semibold",children:u.practicalFM||"N/A"}),", PM: ",i.jsx("span",{className:"font-semibold",children:u.practicalPM||"N/A"})]})]})]})]},d))})]}),(((o=e.faculty)==null?void 0:o.length)>0||((l=e.class)==null?void 0:l.length)>0||((c=e.section)==null?void 0:c.length)>0)&&i.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[i.jsx(lh,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Target Audience"]}),i.jsxs("div",{className:"space-y-1.5 ml-7",children:[i.jsx(i5,{icon:i.jsx(U3,{className:"h-4 w-4"}),label:"Faculties",value:e.faculty&&e.faculty.length>0?e.faculty.join(", "):i.jsx("span",{className:"italic text-gray-500",children:"All Faculties"})}),i.jsx(i5,{icon:i.jsx(lh,{className:"h-4 w-4"}),label:"Classes",value:e.class&&e.class.length>0?e.class.join(", "):i.jsx("span",{className:"italic text-gray-500",children:"All Classes"})}),i.jsx(i5,{icon:i.jsx(U3,{className:"h-4 w-4"}),label:"Sections",value:e.section&&e.section.length>0?e.section.join(", "):i.jsx("span",{className:"italic text-gray-500",children:"All Sections"})})]})]})]})]})};function BGe(e){const t=m.useRef(null),n=m.useRef(e);return m.useLayoutEffect(()=>{n.current=e}),m.useEffect(()=>{const r=s=>{const a=t.current;a&&!a.contains(s.target)&&n.current(s)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[]),t}const Wl="__all__",$_=({label:e,options:t,selectedValues:n,onValueChange:r,placeholder:s="Select items",className:a="",disabled:o=!1,hasAllOption:l=!1})=>{const[c,u]=m.useState(!1),d=BGe(()=>{u(!1)}),f=m.useMemo(()=>{let y=t;return l&&(y=[{id:Wl,name:`All ${e}`,disabled:!1},...t]),y},[t,l,e]),h=n.includes(Wl),p=()=>{o||u(y=>!y)},b=y=>{if(y.disabled||o)return;const v=y.id;let j;if(v===Wl)h?j=[]:j=[Wl];else{if(h){const N=t.filter(C=>n.includes(C.id)&&C.id!==Wl).map(C=>C.id);j=N.includes(v)?N.filter(C=>C!==v):[...N,v]}else j=n.includes(v)?n.filter(N=>N!==v):[...n,v];const S=t.map(N=>N.id);j.length>0&&S.length>0&&S.every(N=>j.includes(N))}j.includes(Wl)&&j.length>1&&(j=[Wl]),r(j)},x=m.useMemo(()=>{if(n.length===0)return s;if(h)return`All ${e} Selected`;const y=t.filter(v=>n.includes(v.id)&&v.id!==Wl);return y.length===0?s:y.length===1?y[0].name:`${y.length} ${e} Selected`},[n,t,s,e,h]);return i.jsxs("div",{className:`relative ${a}`,ref:d,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),i.jsxs("button",{type:"button",className:`relative w-full cursor-default rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm ${o?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,onClick:p,"aria-haspopup":"listbox","aria-expanded":c,disabled:o,children:[i.jsx("span",{className:`block truncate ${n.length===0?"text-gray-500":"text-gray-900"}`,children:x}),i.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:i.jsx(cH,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),c&&!o&&i.jsx("div",{className:"absolute z-10 mt-1 w-full rounded-md bg-white shadow-lg max-h-60 overflow-auto ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:i.jsx("ul",{className:"py-1",role:"listbox","aria-labelledby":e.replace(/\s+/g,"-").toLowerCase(),children:f.length===0?i.jsx("li",{className:"text-gray-500 text-center py-2",children:"No options available"}):f.map(y=>i.jsx("li",{className:`relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-indigo-600 hover:text-white ${y.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:()=>b(y),"aria-disabled":y.disabled,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:`checkbox-${y.id}`,name:`${e}-checkbox-${y.id}`,type:"checkbox",checked:n.includes(y.id),onChange:()=>b(y),className:`h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 ${y.disabled?"cursor-not-allowed":"cursor-pointer"}`,onClick:v=>v.stopPropagation(),disabled:y.disabled}),i.jsx("label",{htmlFor:`checkbox-${y.id}`,className:`ml-3 block text-sm cursor-pointer flex-grow ${y.disabled?"cursor-not-allowed":""}`,children:y.name})]})},y.id))})})]})},zGe=e=>{if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return"";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}catch(t){return console.error("Error converting AD to BS:",t),""}},VGe=e=>{if(!e)return null;if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return console.warn("Invalid BS date format (YYYY-MM-DD expected):",e),null;try{const[t,n,r]=e.split("-"),s=parseInt(t,10),a=parseInt(n,10),o=parseInt(r,10);if(isNaN(s)||isNaN(a)||isNaN(o)||a<1||a>12||o<1||o>32)return console.warn("Invalid BS date values:",e),null;const c=new Hn(s,a-1,o).toJsDate();return isNaN(c.getTime())?(console.warn("Invalid BS date (conversion to AD failed):",e),null):c}catch(t){return console.error("Unexpected error during BS to AD conversion:",t),null}},Ul="__all__",WGe=({isOpen:e,onClose:t,examToEdit:n,faculties:r,sections:s})=>{const{addExam:a,updateExam:o,saving:l,error:c,setError:u}=a2(),[d,f]=m.useState({title:"",type:"",desc:"",faculty:[],class:[],section:[]}),[h,p]=m.useState([]),[b,x]=m.useState(""),[y,v]=m.useState(""),[j,S]=m.useState(""),[N,C]=m.useState(""),[$,P]=m.useState(!1),[E,M]=m.useState(""),[k,A]=m.useState(""),[I,L]=m.useState(null),R=()=>{x(""),v(""),S(""),C(""),P(!1),M(""),A(""),L(null),u(null)};m.useEffect(()=>{if(e){if(n){f({title:n.title,type:n.type,desc:n.desc,faculty:n.faculty||[],class:n.class||[],section:n.section||[]});const we=(n.subjectDetails||[]).map((fe,me)=>({...fe,tempId:`${fe.name}-${me}-${Date.now()}`,bsDate:zGe(fe.date),theoryFM:String(fe.theoryFM),theoryPM:String(fe.theoryPM),hasPractical:fe.hasPractical,practicalFM:fe.hasPractical&&fe.practicalFM?String(fe.practicalFM):"",practicalPM:fe.hasPractical&&fe.practicalPM?String(fe.practicalPM):""}));p(we)}else f({title:"",type:"",desc:"",faculty:[],class:[],section:[]}),p([]);R(),u(null)}},[e,n,u]);const F=we=>{const{name:fe,value:me}=we.target;f(G=>({...G,[fe]:me})),u(null)},T=we=>fe=>{const me=fe.target.value;/^\d*$/.test(me)&&we(me),u(null)},O=we=>fe=>{f(me=>({...me,[we]:fe})),u(null)},_=we=>{const fe=Array.from(we)[0],me=r.find(G=>G.$id===fe);f(G=>({...G,faculty:me?[me.name]:[],class:[],section:[]})),u(null)},W=m.useMemo(()=>r.map(we=>({value:we.$id,label:we.name})),[r]),z=m.useMemo(()=>{const we=new Set;return r.forEach(fe=>fe.classes.forEach(me=>we.add(me))),s.forEach(fe=>{fe.class&&!we.has(fe.class)&&we.add(fe.class)}),Array.from(we).filter(fe=>fe)},[r,s]),U=m.useMemo(()=>s.map(we=>({id:we.name,name:`${we.name} (${we.class})`,facultyId:we.facultyId,className:we.class})),[s]),H=m.useMemo(()=>{const we=new Set;return s.forEach(fe=>fe.subjects.forEach(me=>we.add(me))),Array.from(we).filter(fe=>fe).sort()},[s]),B=m.useMemo(()=>{const we=new Set(h.map(fe=>fe.name));return H.filter(fe=>{var me;return!we.has(fe)||I&&((me=h.find(G=>G.tempId===I))==null?void 0:me.name)===fe}).map(fe=>({value:fe,label:fe}))},[H,h,I]),Y=d.faculty.length>0?d.faculty[0]:null,ae=Y?r.find(we=>we.name===Y):null,ce=ae?ae.$id:null,oe=m.useMemo(()=>{if(!ae)return[];let we=new Set;return ae.classes.forEach(fe=>fe&&we.add(fe)),s.forEach(fe=>{fe.class&&fe.facultyId===ce&&we.add(fe.class)}),Array.from(we).sort().map(fe=>({id:fe,name:fe}))},[ae,ce,s]),Q=m.useMemo(()=>{if(!ce)return[];let we=U.filter(me=>me.facultyId===ce);const fe=d.class.filter(me=>me!==Ul);if(fe.length>0)we=we.filter(me=>me.className&&fe.includes(me.className));else if(!d.class.includes(Ul)&&d.class.length>0)return[];return we},[ce,d.class,U]),K=!n&&!ae,ne=!n&&(!ae||d.class.length===0),te=!n&&!ae,X=()=>{if(u(null),!b||!y||!j||!N){u("Subject, Date, Theory FM, and Theory PM are required.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(y)){u("Invalid BS date format. Use YYYY-MM-DD.");return}const we=VGe(y);if(!we){u("Invalid BS date. Please check the date.");return}const fe=parseInt(j,10),me=parseInt(N,10);if(isNaN(fe)||isNaN(me)||fe<=0||me<=0){u("Theory FM and PM must be positive numbers.");return}if(me>fe){u("Theory Pass Marks cannot be greater than Theory Full Marks.");return}let G=null,re=null;if($){if(!E||!k){u('Practical FM and PM are required if "Has Practical" is checked.');return}if(G=parseInt(E,10),re=parseInt(k,10),isNaN(G)||isNaN(re)||G<=0||re<=0){u("Practical FM and PM must be positive numbers.");return}if(re>G){u("Practical Pass Marks cannot be greater than Practical Full Marks.");return}}if(h.some(ge=>ge.name===b&&ge.tempId!==I)){u(`Subject "${b}" has already been added.`);return}const ue={tempId:I||`${b}-${Date.now()}`,name:b,date:we.toISOString(),bsDate:y,theoryFM:fe,theoryPM:me,hasPractical:$,practicalFM:$?G:void 0,practicalPM:$?re:void 0};p(I?h.map(ge=>ge.tempId===I?ue:ge):[...h,ue]),R()},xe=we=>{if(I&&I!==we){u("Please save or cancel the current subject editing first.");return}const fe=h.find(me=>me.tempId===we);fe&&(x(fe.name),v(fe.bsDate),S(String(fe.theoryFM)),C(String(fe.theoryPM)),P(fe.hasPractical),M(fe.hasPractical&&fe.practicalFM?String(fe.practicalFM):""),A(fe.hasPractical&&fe.practicalPM?String(fe.practicalPM):""),L(we),u(null))},$e=we=>{if(I===we){u("Cannot delete subject currently being edited. Cancel edit first.");return}p(h.filter(fe=>fe.tempId!==we)),u(null)},Ne=async we=>{if(we.preventDefault(),u(null),!d.title||!d.type||!d.desc){u("Title, Type, and Description are required.");return}if(!Y&&!n){u("Please select a Faculty.");return}if(!K&&d.class.length===0){u("At least one Class must be selected.");return}if(h.length===0){u("At least one Subject with details is required.");return}if(I){u("Please finish editing the current subject detail before saving the exam.");return}const fe=h.map(ge=>{const{tempId:ye,bsDate:je,...ie}=ge;return{...ie,practicalFM:ie.hasPractical?ie.practicalFM:null,practicalPM:ie.hasPractical?ie.practicalPM:null}}),me={title:d.title,type:d.type,desc:d.desc,faculty:d.faculty,class:[],section:[],subjectDetails:fe},G=me.faculty,re=r.filter(ge=>G.includes(ge.name)).map(ge=>ge.$id);if(d.class.includes(Ul)){let ge=new Set;G.length>0?(r.filter(ye=>G.includes(ye.name)).forEach(ye=>ye.classes.forEach(je=>je&&ge.add(je))),s.filter(ye=>ye.class&&ye.facultyId&&re.includes(ye.facultyId)).forEach(ye=>ge.add(ye.class))):z.forEach(ye=>ge.add(ye)),me.class=Array.from(ge)}else me.class=d.class.filter(ge=>ge!==Ul);const ue=me.class;if(d.class.includes(Ul)&&d.section.includes(Ul)){let ge=new Set;G.length>0?s.filter(ye=>ye.name&&ye.facultyId&&re.includes(ye.facultyId)&&ye.class&&ue.includes(ye.class)).forEach(ye=>ge.add(ye.name)):s.filter(ye=>ye.name&&ye.class&&ue.includes(ye.class)).forEach(ye=>ge.add(ye.name)),me.section=Array.from(ge)}else if(d.section.includes(Ul)){let ge=new Set;s.filter(ye=>ye.name&&ye.facultyId&&re.includes(ye.facultyId)&&ye.class&&ue.includes(ye.class)).forEach(ye=>ge.add(ye.name)),me.section=Array.from(ge)}else me.section=d.section.filter(ge=>ge!==Ul);try{n?await o(n.$id,me):await a(me),t()}catch(ge){console.error("Error saving exam:",ge)}},Le=ae?ae.$id:null;return i.jsx(We,{isOpen:e,onClose:t,size:"xl",title:n?"Edit Exam":"Add New Exam",children:i.jsxs("form",{onSubmit:Ne,className:"flex flex-col h-full",children:[i.jsxs(We.Body,{className:"pb-0 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:[" Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",id:"title",name:"title",value:d.title,onChange:F,required:!0,disabled:l})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:[" Exam Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",id:"type",name:"type",value:d.type,onChange:F,placeholder:"e.g., Midterm, Final",required:!0,disabled:l})]}),i.jsxs("div",{className:"sm:col-span-2",children:[i.jsxs("label",{htmlFor:"desc",className:"block text-sm font-medium text-gray-700 mb-1",children:[" Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ss,{id:"desc",name:"desc",rows:3,value:d.desc,onChange:F,placeholder:"Max 1000 characters",required:!0,disabled:l,maxLength:1e3})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"faculty",className:"block text-sm font-medium text-gray-700 mb-1",children:[" Faculty ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Tc,{placeholder:"Select faculty",selectedKeys:Le?new Set([Le]):new Set,onSelectionChange:_,items:W,disabled:l||!!n,selectionMode:"single",required:!n,children:we=>i.jsx(bn,{value:we.value,children:we.label},we.value)})]}),i.jsxs("div",{children:[i.jsx($_,{label:"Classes",options:oe,selectedValues:d.class,onValueChange:O("class"),placeholder:"Select classes",disabled:K||l||!!n,hasAllOption:!K}),!K&&d.class.length===0&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Class is required."})]}),i.jsx("div",{className:"sm:col-span-2",children:i.jsx($_,{label:"Sections",options:Q,selectedValues:d.section,onValueChange:O("section"),placeholder:"Select sections",disabled:ne||l||!!n,hasAllOption:!ne})})]}),i.jsxs("div",{className:`p-4 border rounded-md bg-gray-50 space-y-4 ${te&&!n?"opacity-60 pointer-events-none":""}`,children:[i.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Subject Details & Marks"}),i.jsxs("div",{className:"p-3 border rounded bg-white shadow-sm space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 items-start",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Subject ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Tc,{placeholder:"Select Subject",selectedKeys:b?new Set([b]):new Set,onSelectionChange:we=>x(Array.from(we)[0]||""),items:B,isDisabled:l||te&&!n||I!==null&&B.every(we=>we.value!==b),size:"sm",children:we=>i.jsx(bn,{value:we.value,children:we.label},we.value)})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Exam Date (BS) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",value:y,onChange:we=>v(we.target.value),placeholder:"YYYY-MM-DD",size:"sm",disabled:l||te&&!n})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-start",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Theory FM ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",inputMode:"numeric",value:j,onChange:T(S),placeholder:"e.g., 100",size:"sm",disabled:l||te&&!n})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Theory PM ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",inputMode:"numeric",value:N,onChange:T(C),placeholder:"e.g., 40",size:"sm",disabled:l||te&&!n})]}),i.jsxs("div",{className:"col-span-1 sm:col-span-2 md:col-span-1 flex items-end pt-4",children:[" ",i.jsx(sl,{isSelected:$,onValueChange:P,disabled:l||te&&!n,children:"Has Practical?"})]})]}),$&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-start border-t border-dashed pt-3 mt-2",children:[i.jsxs("div",{className:"md:col-start-1",children:[" ",i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Practical FM ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",inputMode:"numeric",value:E,onChange:T(M),placeholder:"e.g., 25",size:"sm",disabled:l||te&&!n})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:["Practical PM ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Ve,{type:"text",inputMode:"numeric",value:k,onChange:T(A),placeholder:"e.g., 10",size:"sm",disabled:l||te&&!n})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[I&&i.jsx(Se,{type:"button",variant:"flat",color:"default",onPress:R,isDisabled:l,size:"sm",startContent:i.jsx(wi,{className:"h-4 w-4"}),children:"Cancel Edit"}),i.jsx(Se,{type:"button",color:I?"primary":"secondary",onPress:X,isDisabled:l||te&&!n||!b&&!I||B.length===0&&!I,size:"sm",startContent:I?null:i.jsx(Pd,{className:"h-4 w-4"}),children:I?"Update Subject":"Add Subject"})]})]}),h.length>0&&i.jsxs("div",{className:"mt-4 border-t pt-3 border-gray-200 max-h-60 overflow-y-auto space-y-2",children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Added Subjects:"}),h.map(we=>i.jsxs("div",{className:"bg-white p-2.5 rounded-md shadow-sm border text-xs",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-sm",children:we.name})," - ",we.bsDate," BS"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Se,{type:"button",size:"sm",variant:"light",isIconOnly:!0,onPress:()=>xe(we.tempId),isDisabled:l||I!==null&&I!==we.tempId,children:i.jsx(ao,{className:"h-4 w-4 text-blue-600"})}),i.jsx(Se,{type:"button",size:"sm",variant:"light",isIconOnly:!0,onPress:()=>$e(we.tempId),isDisabled:l||I===we.tempId,children:i.jsx(xa,{className:"h-4 w-4 text-red-600"})})]})]}),i.jsxs("div",{className:"mt-1.5 text-gray-600",children:["Theory: FM ",we.theoryFM,", PM ",we.theoryPM,we.hasPractical&&` | Practical: FM ${we.practicalFM||"N/A"}, PM ${we.practicalPM||"N/A"}`]})]},we.tempId))]}),te&&!n&&i.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Select a Faculty to add Subject Details."})]}),c&&i.jsx("p",{className:"mt-4 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:c})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{variant:"flat",color:"default",onPress:t,isDisabled:l,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:l,isDisabled:l||!!I||h.length===0,children:n?"Save Changes":"Add Exam"})]})]})})},UGe=()=>{const{exams:e,faculties:t,sections:n,loading:r,saving:s,deleting:a,error:o,fetchExams:l,fetchFaculties:c,fetchSections:u,deleteExam:d,filterFacultyId:f,setFilterFacultyId:h,filterClass:p,setFilterClass:b,searchTerm:x,setSearchTerm:y,setError:v}=a2(),[j,S]=m.useState(!1),[N,C]=m.useState(null),[$,P]=m.useState(!1),[E,M]=m.useState(null);m.useEffect(()=>{c(),u(),l()},[c,u,l]);const k=m.useMemo(()=>{const W=[{value:"all",label:"All Faculties"}];return t.forEach(z=>W.push({value:z.$id,label:z.name})),W},[t]),A=m.useMemo(()=>{const W=new Set;t.forEach(U=>U.classes.forEach(H=>W.add(H))),n.forEach(U=>W.add(U.class));const z=[{value:"all",label:"All Classes"}];return Array.from(W).filter(U=>U).forEach(U=>z.push({value:U,label:U})),z},[t,n]),I=m.useMemo(()=>{let W=e;if(f&&f!=="all"){const z=t.find(U=>U.$id===f);z?W=W.filter(U=>U.faculty&&U.faculty.includes(z.name)):W=[]}if(p&&p!=="all"&&(W=W.filter(z=>z.class&&z.class.includes(p))),x){const z=x.toLowerCase();W=W.filter(U=>U.title.toLowerCase().includes(z)||U.desc&&U.desc.toLowerCase().includes(z))}return W},[e,f,p,x,t]),L=()=>{C(null),S(!0),v(null)},R=W=>{C(W),S(!0),v(null)},F=()=>{S(!1),C(null),v(null)},T=W=>{M(W),P(!0),v(null)},O=async()=>{if(E)try{await d(E),P(!1),M(null)}catch(W){console.error("Failed to delete exam:",W)}},_=()=>{P(!1),M(null),v(null)};return r&&e.length===0?i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(ct,{size:"lg"})," Loading exams..."]}):o&&!s&&!a&&!j&&!$?i.jsxs("div",{className:"p-6 text-red-600 bg-red-100 rounded-md",children:["Error: ",o]}):i.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Exams"}),i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsx(Se,{color:"primary",onPress:L,startContent:i.jsx(USe,{className:"h-5 w-5"}),isDisabled:r||a,children:" Add New Exam "}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[i.jsx(Tc,{placeholder:"Filter by Faculty",selectedKeys:f?new Set([f]):new Set(["all"]),onSelectionChange:W=>{const z=Array.from(W)[0];h(z==="all"?null:z||null)},className:"w-full sm:max-w-[200px]",size:"sm",variant:"faded",items:k,isDisabled:r,children:W=>i.jsx(bn,{value:W.value,children:W.label},W.value)}),i.jsx(Tc,{placeholder:"Filter by Class",selectedKeys:p?new Set([p]):new Set(["all"]),onSelectionChange:W=>{const z=Array.from(W)[0];b(z==="all"?null:z||null)},className:"w-full sm:max-w-[200px]",size:"sm",variant:"faded",items:A,isDisabled:r,children:W=>i.jsx(bn,{value:W.value,children:W.label},W.value)}),i.jsx(Bn,{placeholder:"Search by title or description",value:x,onValueChange:y,className:"w-full sm:max-w-[300px]",inputClassName:"h-10",startIconClassName:"mt-1"})]})]}),r&&e.length===0?i.jsxs("div",{className:"relative min-h-[200px] flex justify-center items-center",children:[i.jsx(ct,{size:"lg"})," Loading exams..."]}):I.length===0?i.jsx("div",{className:"text-center text-gray-500 p-16 text-xl rounded-md border-2 border-dashed border-gray-300 bg-white",children:r?"Loading exams...":"No exams found."}):i.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative ${r?"opacity-50 pointer-events-none":""}`,children:[I.map(W=>i.jsx(cA,{exam:W,onEdit:R,onDelete:T},W.$id)),r&&i.jsxs("div",{className:"absolute inset-0 flex justify-center items-center bg-gray-200 bg-opacity-60 z-10",children:[i.jsx(ct,{size:"lg"})," Updating list..."]})]}),i.jsx(WGe,{isOpen:j,onClose:F,examToEdit:N,faculties:t,sections:n}),i.jsx(vl,{isOpen:$,onClose:_,onConfirm:O,title:"Delete Exam",content:i.jsxs("div",{children:[i.jsx("p",{children:"Are you sure you want to delete this exam? This action cannot be undone."}),o&&a===!1&&i.jsxs("p",{className:"mt-2 text-sm text-red-600",children:["Error: ",o]})]}),isConfirmLoading:a})]})};function KGe(){const[e,t]=m.useState(()=>{const c=localStorage.getItem("sidebarState");return c?parseInt(c,10):0}),[n,r]=m.useState("Dashboard"),s=()=>{t(c=>{const u=c===0?1:0;return localStorage.setItem("sidebarState",u.toString()),u})},a=[{name:"Dashboard",icon:Ds,component:tZ},{name:"Students",icon:w0,children:[{name:"General",icon:Wr,component:oH},{name:"Section",icon:Ir,component:lH},{name:"Attendance",icon:os,component:_Ge},{name:"Leave",icon:Vc,component:gH},{name:"Review",icon:xl,component:xH}]},{name:"Teacher",icon:ls,children:[{name:"Teach_General",icon:Wr,component:yH},{name:"ClassTeacher",icon:Ir,component:vH},{name:"Lesson",icon:F1,component:wH}]},{name:"Routine",icon:Yc,component:bq},{name:"Calendar",icon:Tr,component:hH},{name:"Gallery",icon:a$,component:mq},{name:"Notification",icon:Hh,component:mH},{name:"Transport",icon:$i,children:[{name:"Configure",icon:L1,component:pq},{name:"Map",icon:zc,component:oo}]},{name:"Result",icon:B1,component:dw},{name:"Configure",icon:k$,children:[{name:"Faculty & Class",icon:Ad,component:q3},{name:"Section & Subject",icon:Ir,component:iH},{name:"Exams",icon:Wr,component:UGe}]}],l=(()=>{const c=a.find(u=>u.name===n);if(c&&c.component)return c.component;for(const u of a)if(u.children){const d=u.children.find(f=>f.name===n);if(d&&d.component)return d.component}return()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Content Not Found"}),i.jsx("p",{children:"No component defined for this menu item."})]})})();return i.jsxs("div",{className:"flex h-screen bg-gray-100/40",children:[i.jsx(Y0,{sidebarState:e,toggleSidebar:s,setActiveItem:r,activeItem:n,sidebarItems:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(TGe,{toggleSidebar:s,setActiveItem:r})," ",i.jsxs("main",{className:"flex-1 overflow-auto mb-2 mr-2 max-w-full",children:[i.jsx(l,{}),i.jsx(no,{})," "," "]})]})]})}const HGe=()=>{const e=A0({minWidth:767});return i.jsx(i.Fragment,{children:e?i.jsx("div",{children:i.jsx(KGe,{})}):i.jsx("div",{children:i.jsx(DGe,{})})})},qGe=()=>et.getState().dbId,nZ=m.createContext(void 0),uA=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState([]),[a,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState([]),[f,h]=m.useState(null),p=qGe||"",b="coll-parent",x="coll-student";m.useEffect(()=>{(async()=>{try{const S=await ut.get();h(S.email)}catch(S){console.error("Failed to get current account:",S)}})()},[]),m.useEffect(()=>{(async()=>{if(f)try{const S=await le.listDocuments(p,b,[J.equal("email",f)]);if(S.documents.length>0){const N=S.documents[0],C={id:N.$id,name:N.name,email:N.email,contact:N.contact,students:N.students};if(n(C),C.students&&C.students.length>0){const $=await Promise.all(C.students.map(async E=>{const M=await le.getDocument(p,x,E);return{id:M.$id,name:M.name,class:M.class,facultyId:M.facultyId,section:M.section,stdEmail:M.stdEmail,parentId:M.parentId}}));s($),o($[0].id);const P=$.map(E=>({id:E.id,name:E.name}));d(P)}}else n(null)}catch(S){console.error("Error fetching parent data:",S),n(null)}})()},[f]),m.useEffect(()=>{t&&(async()=>{if(t&&t.students&&a)try{const S=r.find(N=>N.id===a);c(S||null)}catch(S){console.error("Error fetching student data:",S)}})()},[t,a,r]);const v={parent:t,students:r,selectedStudentId:a,selectedStudent:l,studentOptions:u,handleStudentChange:j=>{o(j)}};return i.jsx(nZ.Provider,{value:v,children:e})},GGe=()=>{const e=m.useContext(nZ);if(!e)throw new Error("useStudentData must be used within a StudentDataProvider");return e},YGe=()=>{const{studentOptions:e,selectedStudentId:t,handleStudentChange:n}=GGe(),[r,s]=m.useState(null),a=()=>c(!0),o=()=>c(!1),[l,c]=m.useState(!1);m.useEffect(()=>{let d=!0;return ut.get().then(f=>{d&&f?s(f.email):d&&s(null)}).catch(f=>{d&&(console.error("Navbar: Failed to get user email:",f),s(null))}),()=>{d=!1}},[]);const u=async()=>{try{await ut.deleteSession("current"),Ke.success("Logged out successfully!"),window.location.reload()}catch(d){console.error("Logout failed:",d),Ke.error(d.message||"Logout failed!")}};return i.jsxs("div",{children:[i.jsx("div",{className:"p-4 bg-white rounded-md shadow-sm border mb-4",children:i.jsxs("div",{className:"flex items-center mb-2 gap-1",children:[i.jsx(Ha,{classNames:{base:"bg-gradient-to-br from-[#FFB457] to-[#FF705B]",icon:"text-black/80"},className:"cursor-pointer mr-2",icon:i.jsx($0,{})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Student User"}),i.jsx("p",{className:"text-sm text-gray-500",children:r})]})]})}),i.jsx(Se,{className:`w-full p-7 bg-white justify-start rounded-md shadow-sm border mb-4 
      transition-all duration-200 active:scale-[0.98] hover:bg-gray-50`,onClick:a,variant:"ghost",children:i.jsx("p",{className:"font-normal text-base",children:"Reset Password"})}),i.jsx("div",{className:" w-full flex justify-center pt-8 pb-5",children:i.jsxs(Se,{variant:"ghost",color:"danger",onPress:u,children:[i.jsx(A$,{className:"h-5 w-5"}),"Logout"]})}),i.jsx(Zc,{isOpen:l,onClose:o})]})};function Mh(e){return xn({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#2196F3",d:"M37,40H11l-6,6V12c0-3.3,2.7-6,6-6h26c3.3,0,6,2.7,6,6v22C43,37.3,40.3,40,37,40z"},child:[]},{tag:"g",attr:{fill:"#fff"},child:[{tag:"rect",attr:{x:"22",y:"20",width:"4",height:"11"},child:[]},{tag:"circle",attr:{cx:"24",cy:"15",r:"2"},child:[]}]}]})(e)}function dA(e){return xn({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFCDD2",d:"M5,38V14h38v24c0,2.2-1.8,4-4,4H9C6.8,42,5,40.2,5,38z"},child:[]},{tag:"path",attr:{fill:"#F44336",d:"M43,10v6H5v-6c0-2.2,1.8-4,4-4h30C41.2,6,43,7.8,43,10z"},child:[]},{tag:"g",attr:{fill:"#B71C1C"},child:[{tag:"circle",attr:{cx:"33",cy:"10",r:"3"},child:[]},{tag:"circle",attr:{cx:"15",cy:"10",r:"3"},child:[]}]},{tag:"g",attr:{fill:"#BDBDBD"},child:[{tag:"path",attr:{d:"M33,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C35,3.9,34.1,3,33,3z"},child:[]},{tag:"path",attr:{d:"M15,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C17,3.9,16.1,3,15,3z"},child:[]}]},{tag:"path",attr:{fill:"#F44336",d:"M22.2,35.3c0-0.2,0-0.5,0.1-0.7c0.1-0.2,0.2-0.4,0.4-0.5s0.3-0.3,0.5-0.3c0.2-0.1,0.5-0.1,0.7-0.1 s0.5,0,0.7,0.1c0.2,0.1,0.4,0.2,0.6,0.3s0.3,0.3,0.4,0.5c0.1,0.2,0.1,0.4,0.1,0.7c0,0.2,0,0.5-0.1,0.7c-0.1,0.2-0.2,0.4-0.4,0.5 c-0.2,0.1-0.3,0.3-0.6,0.3S24.3,37,24,37s-0.5,0-0.7-0.1c-0.2-0.1-0.4-0.2-0.5-0.3c-0.2-0.1-0.3-0.3-0.4-0.5 C22.3,35.8,22.2,35.6,22.2,35.3z M25.3,31h-2.6l-0.4-11h3.3L25.3,31z"},child:[]}]})(e)}const E_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://back.soraddynamics.com/api",VITE_APPWRITE_ASSIGNMENT_COLLECTION_ID:"coll-assignment",VITE_APPWRITE_ASSIGNMENT_FILES_BUCKET_ID:"buck-assignment",VITE_APPWRITE_BOOKS_COLLECTION_ID:"coll-books",VITE_APPWRITE_BOOK_BORROWINGS_COLLECTION_ID:"coll-bookBorrowings",VITE_APPWRITE_BOOK_GENRES_COLLECTION_ID:"coll-bookGenres",VITE_APPWRITE_BUCKET_ID:"buck-calendar",VITE_APPWRITE_BUCKET_ID_METADATA:"buck-metadata",VITE_APPWRITE_CALENDAR_COLLECTION_ID:"coll-calendar",VITE_APPWRITE_COLL_ID_METADATA:"schools_metadata",VITE_APPWRITE_DB_ID_MAIN:"SchoolSystemDB",VITE_APPWRITE_DRIVER_COLLECTION_ID:"coll-drivers",VITE_APPWRITE_ENDPOINT:"https://appwrite.soraddynamics.com/v1",VITE_APPWRITE_EXAM_COLLECTION_ID:"coll-exam",VITE_APPWRITE_FACULTY_COLLECTION_ID:"coll-faculty",VITE_APPWRITE_FEE_COLLECTION_ID:"coll-fee",VITE_APPWRITE_FILE_ID:"file-cal-2075",VITE_APPWRITE_GALLERY_BUCKET_ID:"buck-gallery",VITE_APPWRITE_GALLERY_GROUPS_COLLECTION_ID:"coll-gallery-groups",VITE_APPWRITE_GALLERY_PHOTOS_COLLECTION_ID:"coll-gallery-photos",VITE_APPWRITE_LESSON_PLAN_COLLECTION_ID:"coll-lesson-plan",VITE_APPWRITE_LESSON_STUDENT_REVIEW_COLLECTION_ID:"coll-lesson-student-review",VITE_APPWRITE_MARKS_COLLECTION_ID:"68316dd1002f05fcd202",VITE_APPWRITE_NOTES_BUCKET_ID:"buck-notes",VITE_APPWRITE_NOTES_COLLECTION_ID:"coll-notes",VITE_APPWRITE_NOTIFY_COLLECTION_ID:"coll-notify",VITE_APPWRITE_PARENT_COLLECTION_ID:"coll-parent",VITE_APPWRITE_PROJECT_ID:"sorad-demo-school-r2",VITE_APPWRITE_REVIEWS_COLLECTION_ID:"coll-reviews",VITE_APPWRITE_ROUTINE_COLLECTION_ID:"coll-routine",VITE_APPWRITE_SECTION_COLLECTION_ID:"coll-section",VITE_APPWRITE_STUDENT_COLLECTION_ID:"coll-student",VITE_APPWRITE_TEACHER_COLLECTION_ID:"coll-teacher",VITE_SERVER_URL:"https://back.soraddynamics.com"},s0=new Map,Ux=e=>{const t=s0.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},XGe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=s0.get(n.name);if(r)return{type:"tracked",store:e,...r};const s={connection:t.connect(n),stores:{}};return s0.set(n.name,s),{type:"tracked",store:e,...s}},ZGe=(e,t)=>{if(t===void 0)return;const n=s0.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&s0.delete(e))},JGe=e=>{var t,n;if(!e)return;const r=e.split(`
`),s=r.findIndex(o=>o.includes("api.setState"));if(s<0)return;const a=((t=r[s+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(a))==null?void 0:n[1]},QGe=(e,t={})=>(n,r,s)=>{const{enabled:a,anonymousActionType:o,store:l,...c}=t;let u;try{u=(a??(E_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,s);const{connection:d,...f}=XGe(l,u,c);let h=!0;s.setState=(x,y,v)=>{const j=n(x,y);if(!h)return j;const S=JGe(new Error().stack),N=v===void 0?{type:o||S||"anonymous"}:typeof v=="string"?{type:v}:v;return l===void 0?(d==null||d.send(N,r()),j):(d==null||d.send({...N,type:`${l}/${N.type}`},{...Ux(c.name),[l]:s.getState()}),j)},s.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),ZGe(c.name,l)}};const p=(...x)=>{const y=h;h=!1,n(...x),h=y},b=e(s.setState,r,s);if(f.type==="untracked"?d==null||d.init(b):(f.stores[f.store]=s,d==null||d.init(Object.fromEntries(Object.entries(f.stores).map(([x,y])=>[x,x===f.store?b:y.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let x=!1;const y=s.dispatch;s.dispatch=(...v)=>{(E_?"production":void 0)!=="production"&&v[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),y(...v)}}return d.subscribe(x=>{var y;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return o5(x.payload,v=>{if(v.type==="__setState"){if(l===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const j=v.state[l];if(j==null)return;JSON.stringify(s.getState())!==JSON.stringify(j)&&p(j);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(x.payload.type){case"RESET":return p(b),l===void 0?d==null?void 0:d.init(s.getState()):d==null?void 0:d.init(Ux(c.name));case"COMMIT":if(l===void 0){d==null||d.init(s.getState());return}return d==null?void 0:d.init(Ux(c.name));case"ROLLBACK":return o5(x.state,v=>{if(l===void 0){p(v),d==null||d.init(s.getState());return}p(v[l]),d==null||d.init(Ux(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return o5(x.state,v=>{if(l===void 0){p(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[l])&&p(v[l])});case"IMPORT_STATE":{const{nextLiftedState:v}=x.payload,j=(y=v.computedStates.slice(-1)[0])==null?void 0:y.state;if(!j)return;p(l===void 0?j:j[l]),d==null||d.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),b},rZ=QGe,o5=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},eYe=Gt()(rZ(e=>({title:"",reason:"",leavePeriod:"",fromDateBS:"",toDateBS:"",isPopoverOpen:!1,isSubmitting:!1,setTitle:t=>e({title:t.slice(0,20)}),setReason:t=>e({reason:t.slice(0,40)}),setLeavePeriod:t=>e(t!=="dateRange"?{leavePeriod:t,fromDateBS:"",toDateBS:""}:{leavePeriod:t}),setFromDateBS:t=>e({fromDateBS:t}),setToDateBS:t=>e({toDateBS:t}),openPopover:()=>e({isPopoverOpen:!0}),closePopover:()=>e({isPopoverOpen:!1,isSubmitting:!1}),setSubmitting:t=>e({isSubmitting:t}),resetForm:()=>e({title:"",reason:"",leavePeriod:"",fromDateBS:"",toDateBS:"",isPopoverOpen:!1,isSubmitting:!1})}),{name:"LeaveFormStore"})),sZ=6048e5,tYe=864e5,Kx=43200,A_=1440,P_=Symbol.for("constructDateFrom");function fl(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&P_ in e?e[P_](t):e instanceof Date?new e.constructor(t):new Date(t)}function Or(e,t){return fl(t||e,e)}let nYe={};function X0(){return nYe}function a0(e,t){var l,c,u,d;const n=X0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Or(e,t==null?void 0:t.in),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function i1(e,t){return a0(e,{...t,weekStartsOn:1})}function aZ(e,t){const n=Or(e,t==null?void 0:t.in),r=n.getFullYear(),s=fl(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=i1(s),o=fl(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=i1(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function o1(e){const t=Or(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function i2(e,...t){const n=fl.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function D_(e,t){const n=Or(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function rYe(e,t,n){const[r,s]=i2(n==null?void 0:n.in,e,t),a=D_(r),o=D_(s),l=+a-o1(a),c=+o-o1(o);return Math.round((l-c)/tYe)}function sYe(e,t){const n=aZ(e,t),r=fl(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),i1(r)}function by(e,t){const n=+Or(e)-+Or(t);return n<0?-1:n>0?1:n}function aYe(e){return fl(e,Date.now())}function iYe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function oYe(e){return!(!iYe(e)&&typeof e!="number"||isNaN(+Or(e)))}function lYe(e,t,n){const[r,s]=i2(n==null?void 0:n.in,e,t),a=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return a*12+o}function cYe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function uYe(e,t){return+Or(e)-+Or(t)}function dYe(e,t){const n=Or(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function fYe(e,t){const n=Or(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function hYe(e,t){const n=Or(e,t==null?void 0:t.in);return+dYe(n,t)==+fYe(n,t)}function mYe(e,t,n){const[r,s,a]=i2(n==null?void 0:n.in,e,e,t),o=by(s,a),l=Math.abs(lYe(s,a));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*l);let c=by(s,a)===-o;hYe(r)&&l===1&&by(r,a)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function pYe(e,t,n){const r=uYe(e,t)/1e3;return cYe(n==null?void 0:n.roundingMethod)(r)}function gYe(e,t){const n=Or(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bYe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xYe=(e,t,n)=>{let r;const s=bYe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function l5(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const yYe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vYe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wYe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SYe={date:l5({formats:yYe,defaultWidth:"full"}),time:l5({formats:vYe,defaultWidth:"full"}),dateTime:l5({formats:wYe,defaultWidth:"full"})},jYe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CYe=(e,t,n,r)=>jYe[e];function ap(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const NYe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$Ye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EYe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AYe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PYe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DYe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kYe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},IYe={ordinalNumber:kYe,era:ap({values:NYe,defaultWidth:"wide"}),quarter:ap({values:$Ye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ap({values:EYe,defaultWidth:"wide"}),day:ap({values:AYe,defaultWidth:"wide"}),dayPeriod:ap({values:PYe,defaultWidth:"wide",formattingValues:DYe,defaultFormattingWidth:"wide"})};function ip(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?MYe(l,f=>f.test(o)):TYe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function TYe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function MYe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function OYe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const LYe=/^(\d+)(th|st|nd|rd)?/i,_Ye=/\d+/i,FYe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RYe={any:[/^b/i,/^(a|c)/i]},BYe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zYe={any:[/1/i,/2/i,/3/i,/4/i]},VYe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WYe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UYe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KYe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HYe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qYe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GYe={ordinalNumber:OYe({matchPattern:LYe,parsePattern:_Ye,valueCallback:e=>parseInt(e,10)}),era:ip({matchPatterns:FYe,defaultMatchWidth:"wide",parsePatterns:RYe,defaultParseWidth:"any"}),quarter:ip({matchPatterns:BYe,defaultMatchWidth:"wide",parsePatterns:zYe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ip({matchPatterns:VYe,defaultMatchWidth:"wide",parsePatterns:WYe,defaultParseWidth:"any"}),day:ip({matchPatterns:UYe,defaultMatchWidth:"wide",parsePatterns:KYe,defaultParseWidth:"any"}),dayPeriod:ip({matchPatterns:HYe,defaultMatchWidth:"any",parsePatterns:qYe,defaultParseWidth:"any"})},iZ={code:"en-US",formatDistance:xYe,formatLong:SYe,formatRelative:CYe,localize:IYe,match:GYe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YYe(e,t){const n=Or(e,t==null?void 0:t.in);return rYe(n,gYe(n))+1}function XYe(e,t){const n=Or(e,t==null?void 0:t.in),r=+i1(n)-+sYe(n);return Math.round(r/sZ)+1}function oZ(e,t){var d,f,h,p;const n=Or(e,t==null?void 0:t.in),r=n.getFullYear(),s=X0(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=fl((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=a0(o,t),c=fl((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=a0(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function ZYe(e,t){var l,c,u,d;const n=X0(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=oZ(e,t),a=fl((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),a0(a,t)}function JYe(e,t){const n=Or(e,t==null?void 0:t.in),r=+a0(n,t)-+ZYe(n,t);return Math.round(r/sZ)+1}function un(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Kl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return un(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):un(n+1,2)},d(e,t){return un(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return un(e.getHours()%12||12,t.length)},H(e,t){return un(e.getHours(),t.length)},m(e,t){return un(e.getMinutes(),t.length)},s(e,t){return un(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return un(s,t.length)}},gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Kl.y(e,t)},Y:function(e,t,n,r){const s=oZ(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return un(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):un(a,t.length)},R:function(e,t){const n=aZ(e);return un(n,t.length)},u:function(e,t){const n=e.getFullYear();return un(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return un(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return un(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Kl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return un(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=JYe(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):un(s,t.length)},I:function(e,t,n){const r=XYe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):un(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Kl.d(e,t)},D:function(e,t,n){const r=YYe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):un(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return un(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return un(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return un(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=gf.noon:r===0?s=gf.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=gf.evening:r>=12?s=gf.afternoon:r>=4?s=gf.morning:s=gf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Kl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):un(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):un(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Kl.s(e,t)},S:function(e,t){return Kl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return T_(r);case"XXXX":case"XX":return Mu(r);case"XXXXX":case"XXX":default:return Mu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return T_(r);case"xxxx":case"xx":return Mu(r);case"xxxxx":case"xxx":default:return Mu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I_(r,":");case"OOOO":default:return"GMT"+Mu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I_(r,":");case"zzzz":default:return"GMT"+Mu(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return un(r,t.length)},T:function(e,t,n){return un(+e,t.length)}};function I_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+un(a,2)}function T_(e,t){return e%60===0?(e>0?"-":"+")+un(Math.abs(e)/60,2):Mu(e,t)}function Mu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=un(Math.trunc(r/60),2),a=un(r%60,2);return n+s+t+a}const M_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lZ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},QYe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return M_(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",M_(r,t)).replace("{{time}}",lZ(s,t))},eXe={p:lZ,P:QYe},tXe=/^D+$/,nXe=/^Y+$/,rXe=["D","DD","YY","YYYY"];function sXe(e){return tXe.test(e)}function aXe(e){return nXe.test(e)}function iXe(e,t,n){const r=oXe(e,t,n);if(console.warn(r),rXe.includes(e))throw new RangeError(r)}function oXe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lXe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cXe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uXe=/^'([^]*?)'?$/,dXe=/''/g,fXe=/[a-zA-Z]/;function cZ(e,t,n){var d,f,h,p;const r=X0(),s=r.locale??iZ,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Or(e,n==null?void 0:n.in);if(!oYe(l))throw new RangeError("Invalid time value");let c=t.match(cXe).map(b=>{const x=b[0];if(x==="p"||x==="P"){const y=eXe[x];return y(b,s.formatLong)}return b}).join("").match(lXe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:hXe(b)};if(k_[x])return{isToken:!0,value:b};if(x.match(fXe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const x=b.value;(aXe(x)||sXe(x))&&iXe(x,t,String(e));const y=k_[x[0]];return y(l,x,s.localize,u)}).join("")}function hXe(e){const t=e.match(uXe);return t?t[1].replace(dXe,"'"):e}function mXe(e,t,n){const r=X0(),s=(n==null?void 0:n.locale)??r.locale??iZ,a=2520,o=by(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[c,u]=i2(n==null?void 0:n.in,...o>0?[t,e]:[e,t]),d=pYe(u,c),f=(o1(u)-o1(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<A_){const b=Math.round(h/60);return s.formatDistance("aboutXHours",b,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Kx){const b=Math.round(h/A_);return s.formatDistance("xDays",b,l)}else if(h<Kx*2)return p=Math.round(h/Kx),s.formatDistance("aboutXMonths",p,l)}if(p=mYe(u,c),p<12){const b=Math.round(h/Kx);return s.formatDistance("xMonths",b,l)}else{const b=p%12,x=Math.trunc(p/12);return b<3?s.formatDistance("aboutXYears",x,l):b<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function uZ(e,t){return mXe(e,aYe(e),t)}const pXe=()=>et.getState().dbId,gXe=pXe,Hx=gXe,bXe="coll-notify",O_="coll-student",xXe="coll-parent",L_=[{key:"today",label:"Today"},{key:"halfDay",label:"Half Day"},{key:"tomorrow",label:"Tomorrow"},{key:"dateRange",label:"Date Range"}],__=()=>new Hn().format("YYYY-MM-DD"),yXe=()=>new Hn(new Date(Date.now()+864e5)).format("YYYY-MM-DD"),vXe=()=>{const e=new Date;return e.setDate(e.getDate()+1),cZ(e,"yyyy-MM-dd")},dZ=()=>{var E;const{title:e,setTitle:t,reason:n,setReason:r,leavePeriod:s,setLeavePeriod:a,fromDateBS:o,setFromDateBS:l,toDateBS:c,setToDateBS:u,isPopoverOpen:d,openPopover:f,closePopover:h,isSubmitting:p,setSubmitting:b,resetForm:x}=eYe(),[y,v]=Z.useState(null),[j,S]=Z.useState(!0),[N,C]=Z.useState(null);Z.useEffect(()=>{(async()=>{S(!0),C(null);try{const k=await ut.get(),A=await le.listDocuments(Hx,O_,[J.equal("stdEmail",k.email)]);if(A.documents.length>0){const I=A.documents[0],R=(I.leave||[]).map(O=>{if(typeof O=="string")return O;if(typeof O=="object"&&O!==null){console.warn("Found object in leave array from DB, attempting to stringify:",O);try{return JSON.stringify(O)}catch(_){return console.error("Could not stringify leave object from DB:",O,_),""}}return O!=null&&typeof O!="string"?(console.warn(`Found non-string/non-object leave item from DB: ${O}, type: ${typeof O}. Attempting to convert to string.`),String(O)):""}).filter(O=>O!=="");let F=null;const T=I.parentId||null;if(T&&typeof T=="string"&&T.trim()!=="")try{const O=await le.getDocument(Hx,xXe,T);O&&O.id&&typeof O.id=="string"?F=O.id:console.warn(`Parent document ${T} fetched, but custom 'id' field is missing, not a string, or empty. Parent doc content:`,O)}catch(O){console.error(`Failed to fetch parent document (${T}) to get custom ID:`,O),O.code===404&&console.warn(`Parent document with ID ${T} not found.`)}v({id:I.$id,name:I.name,appwriteParentDocId:T,parentCustomId:F,currentLeaves:R})}else console.error("Student profile not found for logged-in user:",k.email),C("Student profile not found. Leave application unavailable.")}catch(k){console.error("Failed to fetch student or parent data:",k),C(`Failed to load required data: ${k.message||"Unknown error"}. Please try again.`)}finally{S(!1)}})()},[]);const $=M=>{if(M.preventDefault(),C(null),!e.trim()||!n.trim()||!s){C("Please fill in Title, Reason, and select a Leave Period.");return}if(s==="dateRange"){if(!o.trim()||!c.trim()){C("For 'Date Range', please provide From and To dates (BS).");return}try{const k=new Hn(o),A=new Hn(c);if(k.valueOf()>A.valueOf()){C("From Date (BS) cannot be after To Date (BS).");return}const I=/^\d{4}-\d{2}-\d{2}$/;if(!I.test(o)||!I.test(c)){C("Date format must be YYYY-MM-DD for Bikram Sambat dates.");return}}catch{C("Invalid Bikram Sambat date format or value. Please use YYYY-MM-DD.");return}}f()},P=async()=>{if(!y||!y.id){C("Student information or ID is missing. Cannot submit."),h();return}b(!0),C(null);let M,k,A=[],I;try{switch(M={leaveId:dn.unique(),title:e,reason:n,periodType:s,appliedAt:new Date().toISOString(),status:"pending"},s){case"today":M.date=__();break;case"halfDay":M.date=__();break;case"tomorrow":M.date=yXe();break;case"dateRange":M.fromDate=o,M.toDate=c;break;default:throw new Error("Invalid leave period selected for submission.")}k=JSON.stringify(M),A=[...y.currentLeaves.filter(R=>typeof R=="string"),k],await le.updateDocument(Hx,O_,y.id,{leave:A}),y.parentCustomId&&typeof y.parentCustomId=="string"&&y.parentCustomId.trim()!==""?(I={title:"Leave Application",msg:`${y.name} has applied for leave.`,to:[`id:${y.parentCustomId}`],valid:vXe(),sender:String(y.id),date:cZ(new Date,"yyyy-MM-dd HH:mm:ss")},await le.createDocument(Hx,bXe,dn.unique(),I)):console.warn("Skipping notification: Parent's custom ID is missing or not a valid string. StudentInfo:",y),x(),v(R=>R?{...R,currentLeaves:A}:null)}catch(L){console.error("---------------- ERROR SUBMITTING LEAVE ----------------"),console.error("Error Code:",L.code),console.error("Error Message:",L.message),console.error("Error Type (Appwrite Specific):",L.type),console.error("Full Error Object:",JSON.stringify(L,null,2)),L.response&&console.error("Error Response from Server:",JSON.stringify(L.response,null,2)),console.error("--- Data that might have caused the error ---"),console.error("Student Info at time of error:",JSON.stringify(y,null,2)),console.error("Original Leave Entry Object (before stringify):",JSON.stringify(M,null,2)),console.error("Stringified Leave Array for student collection (payload):",JSON.stringify({leave:A},null,2)),I&&console.error("Notification Payload (for notify collection):",JSON.stringify(I,null,2));let R=`Submission failed: ${L.message||"Unknown error"}`;L.code&&(R+=` (Code: ${L.code})`),L.type&&(R+=` (Type: ${L.type})`),C(R)}finally{N&&b(!1)}};return j?i.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading student information..."}):!y&&N&&!j?i.jsx("div",{className:"max-w-2xl mx-auto p-6",children:i.jsxs("div",{className:"p-4 text-red-700 bg-red-100 border border-red-400 rounded-md",children:[i.jsx("h3",{className:"font-semibold",children:"Error Loading Data"}),i.jsx("p",{children:N})]})}):y?i.jsx("div",{className:"flex items-center justify-center h-full w-full flex-col bg-gray-50",children:i.jsxs("div",{className:"max-w-3xl min-w-[500px] form p-6 bg-white shadow-lg rounded-lg border border-gray-200",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 text-center mb-6 pb-4 border-b border-gray-200",children:"Apply for Leave"}),i.jsxs("form",{onSubmit:$,className:"space-y-6",children:[i.jsx("div",{children:i.jsx(Ve,{label:"Title",placeholder:"e.g., Sick Leave, Urgent Work",value:e,onValueChange:t,maxLength:20,isRequired:!0,fullWidth:!0,color:"secondary",variant:"faded",className:" font-bold",description:`${e.length}/20 characters`})}),i.jsx("div",{children:i.jsx(Ss,{label:"Reason / For",placeholder:"Briefly explain the reason for your leave",value:n,onValueChange:r,maxLength:40,isRequired:!0,fullWidth:!0,variant:"faded",className:" font-bold",color:"secondary",minRows:3,description:`${n.length}/40 characters`})}),i.jsx("div",{children:i.jsx(Tc,{label:"Leave Period",selectedKeys:s?[s]:[],onSelectionChange:M=>{const k=Array.from(M)[0];a(k||"")},isRequired:!0,fullWidth:!0,variant:"faded",color:"secondary",className:" font-medium",children:L_.map(M=>i.jsx(bn,{textValue:M.label,children:M.label},M.key))})}),s==="dateRange"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx(Ve,{label:"From Date (BS)",placeholder:"YYYY-MM-DD",value:o,onValueChange:l,isRequired:s==="dateRange",fullWidth:!0,variant:"faded",color:"secondary",className:" font-medium",description:"Bikram Sambat format YYYY-MM-DD"})}),i.jsx("div",{children:i.jsx(Ve,{label:"To Date (BS)",placeholder:"YYYY-MM-DD",value:c,onValueChange:u,isRequired:s==="dateRange",fullWidth:!0,variant:"faded",color:"secondary",className:" font-medium",description:"Bikram Sambat format YYYY-MM-DD"})})]}),N&&!d&&i.jsxs("div",{className:"p-3 text-sm text-red-700 bg-red-100 border border-red-300 rounded-md",role:"alert",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),N]}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(Se,{type:"submit",color:"primary",variant:"solid",size:"lg",isDisabled:p,children:"Apply for Leave"})})]}),i.jsx(Qi,{isOpen:d,onClose:()=>{p||h()},onConfirm:P,title:i.jsx("span",{className:"text-indigo-700 font-semibold",children:"Confirm Leave Application"}),content:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Please review your leave details before confirming:"}),i.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1 bg-gray-50 p-3 rounded-md",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Title:"})," ",e||i.jsx("span",{className:"italic text-gray-400",children:"Not set"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Reason:"})," ",n||i.jsx("span",{className:"italic text-gray-400",children:"Not set"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Period:"})," ",((E=L_.find(M=>M.key===s))==null?void 0:E.label)||i.jsx("span",{className:"italic text-gray-400",children:"Not selected"})]}),s==="dateRange"&&i.jsxs(i.Fragment,{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"From (BS):"})," ",o||i.jsx("span",{className:"italic text-gray-400",children:"Not set"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"To (BS):"})," ",c||i.jsx("span",{className:"italic text-gray-400",children:"Not set"})]})]})]}),N&&d&&i.jsxs("div",{className:"p-2 text-xs text-red-700 bg-red-100 border border-red-300 rounded-md",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),N]}),i.jsx("p",{className:"mt-3 text-gray-700",children:"Are you sure you want to submit this application?"})]}),isConfirmLoading:p})]})}):i.jsx("div",{className:"max-w-2xl mx-auto p-6 text-center text-red-600",children:"Could not load student data. The form is unavailable. Please try refreshing or contact support."})},wXe=["बैशाख","जेठ","असार","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],SXe=["आइतवार","सोमवार","मंगलवार","बुधवार","बिहीवार","शुक्रवार","शनिवार"],F_=({currentMonthData:e,bsMonthName:t,bsYear:n,gregorianInfo:r,availableYears:s,currentBsYear:a,currentBsMonth:o,onYearChange:l,onMonthChange:c,onPrevMonth:u,onNextMonth:d,canGoPrev:f,canGoNext:h,calendarData:p,todayString:b,calendarEvents:x,onEventSaved:y})=>{const v=($,P)=>{if(!$||!P||P.length===0||!P[0])return!1;try{const E=new Date($);E.setHours(0,0,0,0);const M=new Date(P[0]);M.setHours(0,0,0,0);let k;P.length>1&&P[1]?k=new Date(P[1]):k=new Date(P[0]),k.setHours(0,0,0,0);const A=E.getTime(),I=M.getTime(),L=k.getTime();return I>L?(console.warn("isDateInEventRange - Event has start date after end date:",P),!1):A>=I&&A<=L}catch(E){return console.error("Error comparing dates in isDateInEventRange:",E,{dateToCheck:$,eventDates:P}),!1}},j=()=>{var F;if(!e||!e.days||e.days.length===0)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No day data to display."});const{days:$}=e,P=(F=$[0])==null?void 0:F.dayOfWeek;let E=P&&P>=1&&P<=7?P-1:0;const k=[...Array(E).fill(null),...$],I=(7-k.length%7)%7,L=Array(I).fill(null),R=[...k,...L];return i.jsx("div",{className:" bg-white rounded-b shadow-md font-sans",children:i.jsxs("table",{className:" table-fixed border-collapse w-full ",children:[" ",i.jsx("thead",{children:i.jsx("tr",{className:"bg--100",children:SXe.map(T=>i.jsx("th",{className:"bg-blue-500 text-white p-2 text-center text-sm sm:text-base font-normal border border-blue-400",children:T},T))})}),i.jsx("tbody",{children:Array.from({length:Math.ceil(R.length/7)}).map((T,O)=>i.jsx("tr",{className:"text-center",children:R.slice(O*7,O*7+7).map((_,W)=>{var Q;if(!_)return i.jsx("td",{className:"border border-gray-200 h-20 sm:h-[5.5rem] w-[14.28%] bg-gray-50",children:i.jsx("div",{className:"h-full"})},`${O}-${W}-empty`);const z=_.en===b,U=_.dayOfWeek===7;let H,B=!1;if(_.en){const K=x.find(ne=>v(_.en,ne.dates));K&&(B=!!K.holiday,H=B?"bg-red-200":"bg-blue-200")}const Y=z?"border-2 border-orange-400 relative":"border border-gray-200",ae=U?"text-red-600":"",ce=H||"bg-white",oe=z?"text-orange-600 font-bold":ae||"text-gray-800";return i.jsx("td",{className:`${Y} ${ce} h-20 sm:h-[5.5rem] w-[14.28%] align-top p-1 transition-colors duration-150`,children:i.jsxs("div",{className:"flex flex-col h-full text-left text-xs sm:text-sm",children:[i.jsx("div",{className:`${ae} text-right text-gray-500 pr-1 truncate`,children:_.tithi||""}),i.jsx("div",{className:"flex-grow flex items-center justify-center",children:i.jsx("span",{className:`text-lg sm:text-2xl ${oe}`,children:_.day})}),i.jsx("div",{className:`${ae} text-right font-medium text-blue-700 mb-1 pr-1`,children:((Q=_.en)==null?void 0:Q.split("/")[2])||""})]})},`${O}-${W}-${_.day}`)})},O))})]})})},S="block w-full appearance-none rounded-md border-0 py-1.5 sm:py-2 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm sm:text-base sm:leading-6 disabled:bg-gray-100 disabled:cursor-not-allowed",N="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",C="h-5 w-5 text-gray-400";return i.jsxs("div",{className:"w-full sm:px-0  ",children:[" ",i.jsxs("div",{className:"flex gap-2 sm:gap-16 justify-center mb-4 py-3 rounded-t-md bg-gray-100",children:[" ",i.jsxs("div",{className:"flex gap-4 justify-center items-center",children:[i.jsx(Se,{onClick:u,disabled:!f,"aria-label":"Previous Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(O$,{className:" font- h-6 w-6","aria-hidden":"true"})}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"year-select",value:a??"",onChange:l,className:S,"aria-label":"Select Year",disabled:!a||!s.length,children:s.map($=>i.jsx("option",{value:$,children:$},$))}),i.jsx("div",{className:N,children:i.jsx("svg",{className:C,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"month-select",value:o??"",onChange:c,className:S,"aria-label":"Select Month",disabled:!o||!a||!p,children:wXe.map(($,P)=>{var k;const E=P+1,M=((k=p==null?void 0:p[a??""])==null?void 0:k.some(A=>A.month===E))??!1;return i.jsxs("option",{value:E,disabled:!M,className:M?"":"text-gray-400 italic",children:[$," ",!M&&a?" (N/A)":""]},E)})}),i.jsx("div",{className:N,children:i.jsx("svg",{className:C,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsx(Se,{onClick:d,disabled:!h,"aria-label":"Next Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(L$,{className:" font- h-6 w-6","aria-hidden":"true"})})]})]}),i.jsxs("div",{className:"flex-col text-white p-0 sm:p-3 flex justify-between items-center rounded-t-md -mt-4 relative pt-4",children:[" ",i.jsxs("div",{className:"bg-orange-500 rounded-t-md w-full p-3 flex justify-between items-center",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:`${t} ${n}`}),i.jsx("span",{className:"text-xs sm:text-sm",children:r})]}),j()]})]})},R_=({bsMonthName:e,calendarEvents:t,onDataChange:n})=>{const r=a=>{if(!a)return"";try{let o=a;if(a.includes("/")){const l=a.split("/");o=`${l[0]}-${String(l[1]).padStart(2,"0")}-${String(l[2]).padStart(2,"0")}`}return _$(o)}catch(o){return console.error(`Error converting AD "${a}" to BS:`,o),Ke.error(`Could not convert date ${a} to BS format.`),""}},s=a=>{if(!a)return"Invalid Date";try{const[o,l,c]=a.split("-"),u=["बैशाख","जेठ","असार","श्रा","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],d=parseInt(l)-1;return d<0||d>=u.length?"Invalid Month":`${u[d]} ${parseInt(c)}, ${o} BS`}catch(o){return console.error("Error formatting BS display date:",a,o),"Format Error"}};return!t||t.length===0?i.jsxs("div",{className:"p-6 rounded-md flex flex-col h-full text-gray-600 text-center items-center justify-center",children:["No events listed for ",e,"."]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"px-4 sm:px-6 pt-3 rounded-md flex flex-col h-full",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4 border-b-2 pb-2",children:["Events in ",e]}),i.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 overflow-y-auto flex-grow",children:[" ",t.map((a,o)=>{var p,b,x;const l=(p=a.dates)==null?void 0:p[0],c=((b=a.dates)==null?void 0:b.length)>1?a.dates[1]:l,u=a.name,d=s(r(l)),f=s(r(c)),h=d===f||!((x=a.dates)!=null&&x[1])?d:`${d} - ${f}`;return i.jsxs("div",{className:"relative group",children:[" ",i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[" ",i.jsxs("strong",{className:"block font-medium text-gray-800 mb-1 text-lg flex-grow",children:[" ",u," ",a.holiday&&i.jsx("span",{className:"text-xs text-red-600 font-normal ml-1",children:"(Holiday)"})]})]}),i.jsx("ul",{className:"pl-0 space-y-1",children:i.jsxs("li",{className:"text-gray-700 text-sm sm:text-base",children:["Date (BS): ",h]})}),o<t.length-1&&i.jsx("hr",{className:"my-4 sm:my-6 border-gray-200"})]},a.$id)})]})]})})},jXe=()=>et.getState().dbId,CXe=jXe,NXe="https://back.soraddynamics.com",$Xe=CXe,EXe="coll-calendar",AXe=["बैशाख","जेठ","असार","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],PXe=e=>AXe[e-1]||"Unknown",DXe=(e=[])=>{var r,s;if(!e||e.length===0)return"";const t=e[0],n=e[e.length-1];if(!(t!=null&&t.en)||!(n!=null&&n.en))return"AD Info Unavailable";try{const a=t.en.split("/"),o=n.en.split("/"),l=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2])).toLocaleString("en-US",{month:"short"}),c=new Date(parseInt(o[0]),parseInt(o[1])-1,parseInt(o[2])).toLocaleString("en-US",{month:"short"}),u=a[0],d=o[0];return u===d?l===c?`${l} ${u}`:`${l}/${c} ${u}`:`${l} ${u} / ${c} ${d}`}catch(a){console.error("Error formatting Gregorian info:",t.en,n.en,a);const o=((r=t.en)==null?void 0:r.split("/"))??[],l=((s=n.en)==null?void 0:s.split("/"))??[];return o.length>=2&&l.length>=2?`AD: ${o[1]}/${o[0]} - ${l[1]}/${l[0]}`:"AD Info Error"}},kXe=(e,t)=>{var r;if(!e||!t)return null;let n=null;try{const s=new Date(t);s.setHours(0,0,0,0),n=s.getTime()}catch{return console.error("Could not parse input gregorianDateString in findNepaliDateForGregorian:",t),null}if(n===null)return null;for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];for(const o of a)if((r=o.days)==null?void 0:r.find(c=>{if(!c.en)return!1;try{const u=new Date(c.en);return u.setHours(0,0,0,0),u.getTime()===n}catch{return!1}}))return{year:s,month:o.month}}return null},Ld=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[s,a]=m.useState(null),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,p]=m.useState(window.innerWidth<1020),[b,x]=m.useState([]),y=m.useCallback(async()=>{try{const T=await le.listDocuments($Xe,EXe,[J.limit(150)]);x(T.documents)}catch(T){console.error("Error fetching calendar events from Appwrite:",T),f(`Failed to fetch calendar events. Please try refreshing. Details: ${T.message}`)}},[]);m.useEffect(()=>{(async()=>{var O,_;u(!0),f(null);try{const W=`${NXe}/api/calendar`,z=await fetch(W);if(!z.ok){let B=`HTTP error! Status: ${z.status}`;try{const Y=await z.json();B+=` - ${Y.message||"No backend message."}`}catch{B+=` - ${z.statusText}`}throw new Error(B)}const U=await z.json();t(U);const H=Object.keys(U||{}).sort((B,Y)=>parseInt(B)-parseInt(Y));if(l(H),H.length>0){const B=new Date,Y=`${B.getFullYear()}/${B.getMonth()+1}/${B.getDate()}`,ae=kXe(U,Y);let ce,oe;if(ae&&H.includes(ae.year))ce=ae.year,oe=ae.month;else{console.warn(`Today's Gregorian date (${Y}) not found in calendar data or year missing. Falling back to latest available year/month.`),ce=H[H.length-1];const Q=U[ce]||[];if(Q.length>0)oe=Q[0].month;else{f("Could not determine an initial month for the calendar. The latest year has no months."),console.error("Fallback year has no month data:",ce),u(!1);return}}r(ce),a(oe)}else f("No calendar years found in the data."),console.error("Calendar data fetched but contained no years.");await y()}catch(W){console.error("Error during initial data fetch:",W);let z="Failed to load calendar data.";W instanceof Error&&(z+=` Details: ${W.message}`),(O=W.message)!=null&&O.toLowerCase().includes("failed to fetch")?z+=" Is the backend server running or accessible?":(_=W.message)!=null&&_.toLowerCase().includes("http error")?z+=" Problem communicating with the backend.":W instanceof SyntaxError&&(z+=" Received invalid data format from the backend."),f(z)}finally{u(!1)}})()},[y]),m.useEffect(()=>{const T=()=>p(window.innerWidth<1020);return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const v=m.useMemo(()=>{var T;if(!(!e||!n||s===null))return(T=e==null?void 0:e[n])==null?void 0:T.find(O=>O.month===s)},[e,n,s]),{canGoPrev:j,canGoNext:S}=m.useMemo(()=>{if(!e||!n||s===null)return{canGoPrev:!1,canGoNext:!1};const T=O=>{var z;let _=O==="prev"?s-1:s+1,W=n;return _<1?(_=12,W=(parseInt(n,10)-1).toString()):_>12&&(_=1,W=(parseInt(n,10)+1).toString()),((z=e[W])==null?void 0:z.some(U=>U.month===_))??!1};return{canGoPrev:T("prev"),canGoNext:T("next")}},[e,n,s]),N=m.useMemo(()=>s!==null?PXe(s):"...",[s]),C=m.useMemo(()=>DXe(v==null?void 0:v.days),[v]),$=m.useMemo(()=>{if(!b||!(v!=null&&v.days))return[];const T=v.days;return b.filter(O=>{var _,W;if(!O||!O.$id||!O.dates||!Array.isArray(O.dates)||O.dates.length===0||!O.dates[0])return!1;try{const z=new Date(O.dates[0]);z.setHours(0,0,0,0);let U;O.dates.length>1&&O.dates[1]?U=new Date(O.dates[1]):U=new Date(O.dates[0]),U.setHours(0,0,0,0);const H=(_=T[0])==null?void 0:_.en,B=(W=T[T.length-1])==null?void 0:W.en;if(H&&B)try{const Y=new Date(H);Y.setHours(0,0,0,0);const ae=new Date(B);if(ae.setHours(0,0,0,0),U.getTime()<Y.getTime()||z.getTime()>ae.getTime())return!1}catch(Y){console.warn("Error during month range pre-check",Y)}for(const Y of T)if(Y.en)try{const ae=new Date(Y.en);if(ae.setHours(0,0,0,0),ae.getTime()>=z.getTime()&&ae.getTime()<=U.getTime())return!0}catch(ae){console.error(`FilteredEvents: Error parsing or normalizing day date string: "${Y.en}"`,ae)}return!1}catch(z){return console.error(`FilteredEvents: Error parsing event date for event ${O.$id}:`,O.dates,z),!1}})},[b,v]),P=m.useCallback(T=>{const O=T.target.value;if(r(O),s===null)return;const _=(e==null?void 0:e[O])||[];if(!_.some(W=>W.month===s)){const W=_.length>0?_[0].month:null;a(W)}},[e,s]),E=m.useCallback(T=>{const O=parseInt(T.target.value,10);a(O)},[]),M=m.useCallback(()=>{var _;if(!e||!n||s===null)return;let T=s-1,O=n;T<1&&(T=12,O=(parseInt(n,10)-1).toString()),(_=e==null?void 0:e[O])!=null&&_.some(W=>W.month===T)?(r(O),a(T)):console.warn("Cannot go to previous month (data missing):",O,T)},[s,n,e]),k=m.useCallback(()=>{var _;if(!e||!n||s===null)return;let T=s+1,O=n;T>12&&(T=1,O=(parseInt(n,10)+1).toString()),(_=e==null?void 0:e[O])!=null&&_.some(W=>W.month===T)?(r(O),a(T)):console.warn("Cannot go to next month (data missing):",O,T)},[s,n,e]);if(c)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("div",{className:"text-xl animate-pulse",children:i.jsx(ct,{color:"primary",size:"lg",label:"Loading Calendar..."})})});if(d)return i.jsx("div",{className:"flex justify-center items-center h-screen p-4",children:i.jsxs("div",{className:"p-6 text-red-700 bg-red-100 border border-red-400 rounded max-w-lg text-center whitespace-pre-wrap shadow-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Error Loading Calendar"}),i.jsx("p",{children:d}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})});if(!e||o.length===0||!n||s===null)return console.error("Render condition failed: Missing calendarData, years, current year, or current month.",{calendarData:e,availableYears:o,currentBsYear:n,currentBsMonth:s}),i.jsx("div",{className:"flex justify-center items-center h-screen p-4",children:i.jsxs("div",{className:"p-6 text-yellow-800 bg-yellow-100 border border-yellow-400 rounded max-w-lg text-center whitespace-pre-wrap shadow-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Calendar Data Unavailable"}),i.jsx("p",{children:"Could not display the calendar. Required data might be missing or incomplete."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"Refresh Page"})]})});const A=new Date,I=`${A.getFullYear()}/${A.getMonth()+1}/${A.getDate()}`,L={currentMonthData:v,bsMonthName:N,bsYear:n,gregorianInfo:C,availableYears:o,currentBsYear:n,currentBsMonth:s,onYearChange:P,onMonthChange:E,onPrevMonth:M,onNextMonth:k,canGoPrev:j,canGoNext:S,calendarData:e,todayString:I,calendarEvents:b,onEventSaved:y},R={bsMonthName:N,calendarEvents:$,onDataChange:y},F=()=>i.jsx("div",{className:"text-center p-6 sm:p-10 bg-yellow-100 border border-yellow-400 rounded shadow-md w-full mt-4",children:`No calendar data available for ${N} ${n}. Please select another month or year.`});return i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex flex-1 w-full h-full ",children:h?i.jsxs("div",{className:" bg-gray-100 flex-1 rounded-lg sm:p-3",children:[" ",i.jsx($t,{children:i.jsxs("div",{className:"flex-1 rounded-lg overflow-y-auto",children:[" ",i.jsx(F_,{...L}),i.jsxs("div",{className:"mt-5",children:[" ",v?i.jsx(R_,{...R}):i.jsx(F,{})]})]})})]}):i.jsxs("div",{className:"flex w-full gap-4 p-3",children:[" ",i.jsxs("div",{className:"flex flex-col items-center bg-gray-100 rounded-lg shadow-md overflow-hidden max-w-[60%]",children:[" ",i.jsx(F_,{...L})]}),i.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg shadow-md overflow-y-auto p-4",children:v?i.jsx(R_,{...R}):i.jsx(F,{})})]})})})},IXe=()=>et.getState().dbId,TXe=IXe,MXe="coll-student",OXe=TXe,LXe=e=>e?e.map(t=>{try{return JSON.parse(t)}catch(n){return console.error("SL: Failed to parse leave string:",t,n),null}}).filter(Boolean):[],_Xe=e=>{let t="bg-gray-100",n="text-gray-800",r=Ks,s=e.charAt(0).toUpperCase()+e.slice(1);switch(e){case"pending":t="bg-yellow-100",n="text-yellow-700",r=ma,s="Pending Review";break;case"validated":t="bg-sky-100",n="text-sky-700",r=al,s="Parent Validated";break;case"rejected":t="bg-red-100",n="text-red-700",r=ya,s="Rejected";break;case"approved":t="bg-green-100",n="text-green-700",r=Jy,s="Approved";break;case"cancelled":t="bg-slate-100",n="text-slate-700",r=ya,s="Cancelled";break}return i.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${t} ${n} whitespace-nowrap`,children:[i.jsx(r,{className:"h-4 w-4 mr-1.5"}),s]})},fA=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(""),[s,a]=m.useState(!0),[o,l]=m.useState(null),c=m.useCallback(async(d=!0)=>{d&&a(!0),l(null);try{const f=await ut.get();if(!f||!f.email)throw new Error("User not authenticated or email not available.");const h=await le.listDocuments(OXe,MXe,[J.equal("stdEmail",f.email),J.limit(1)]);if(h.documents.length>0){const p=h.documents[0];r(p.name);const b=LXe(p.leave).sort((x,y)=>new Date(y.appliedAt).getTime()-new Date(x.appliedAt).getTime());t(b)}else l("No student profile found linked to your account."),t([])}catch(f){console.error("SL: Error fetching leave applications:",f);let h="Failed to load leave applications.";f.message.includes("User not authenticated")?h="Please log in.":f.message.includes("Network request failed")&&(h="Network error. Check connection."),l(h),t([])}finally{d&&a(!1)}},[]);m.useEffect(()=>{c()},[c]);const u=()=>{c(!0)};return s?i.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-sky-100 min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 animate-pulse",children:[i.jsx("header",{className:"mb-10",children:i.jsxs("div",{className:"flex justify-between items-center py-4",children:[i.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 md:w-1/3"}),i.jsx("div",{className:"h-10 w-24 bg-gray-300 rounded-lg"})," "]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:[...Array(3)].map((d,f)=>i.jsxs("div",{className:"bg-gray-200 p-6 rounded-xl shadow-lg h-64",children:[i.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-3"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-full mb-3"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6 mb-5"}),i.jsx("div",{className:"h-8 bg-gray-300 rounded-full w-1/3"})]},f))})]})}):o?i.jsx("div",{className:"h-full ",children:i.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:px-8",children:[i.jsx("header",{className:"mb-10",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center py-4 gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-800",children:"My Leave Applications"}),i.jsx(st,{icon:i.jsx(vg,{className:"h-5 w-5"}),onClick:u,isIconOnly:!1,buttonText:"Refresh"})]})}),i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-6 rounded-md shadow-md",role:"alert",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"py-1",children:i.jsx(Ks,{className:"h-6 w-6 text-red-600 mr-3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-lg",children:"Unable to Load Leaves"}),i.jsx("p",{className:"text-sm",children:o})]})]})})]})}):i.jsx("div",{className:"h-full ",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("header",{className:"mb-10",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center py-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-slate-800",children:"My Leave Applications"}),n&&i.jsxs("p",{className:"text-md text-slate-600 mt-1",children:["Viewing applications for ",n]})]}),i.jsx(st,{icon:i.jsx(vg,{className:"h-5 w-5"}),onClick:u,isIconOnly:!0,buttonText:"Refresh"})]})}),e.length===0&&!s?i.jsxs("div",{className:"text-center py-16 sm:py-20 bg-white rounded-xl shadow-lg",children:[i.jsx(Mwe,{className:"mx-auto h-16 w-16 text-slate-400"}),i.jsx("h3",{className:"mt-4 text-xl font-semibold text-slate-700",children:"No Leave Applications Yet"}),i.jsx("p",{className:"mt-2 text-md text-slate-500",children:"It looks like you haven't applied for any leaves."}),i.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"When you apply for leave, it will show up here."})]}):i.jsx($t,{options:{suppressScrollX:!0,wheelSpeed:.5},className:"pr-2 -mr-2",style:{maxHeight:"calc(100vh - 240px)"},children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:e.map(d=>i.jsxs("div",{className:"bg-white rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 overflow-hidden flex flex-col group",children:[i.jsx("div",{className:`px-5 py-4 border-l-4 ${d.status==="approved"?"border-green-500":d.status==="rejected"?"border-red-500":d.status==="validated"?"border-sky-500":d.status==="pending"?"border-yellow-500":"border-slate-300"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1.5",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 group-hover:text-indigo-600 transition-colors duration-200",children:d.title}),_Xe(d.status)]})}),i.jsxs("div",{className:"px-5 py-4 flex-grow space-y-3.5",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx(Z1,{className:"h-5 w-5 text-slate-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Reason"}),i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:d.reason})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx(er,{className:"h-5 w-5 text-slate-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Period"}),i.jsx("p",{className:"text-sm text-slate-700",children:d.periodType==="dateRange"?`${d.fromDate} to ${d.toDate}`:`${d.date} ${d.periodType==="halfDay"?"(Half Day)":`(${d.periodType.charAt(0).toUpperCase()+d.periodType.slice(1)})`}`})]})]}),d.status==="rejected"&&d.rejectionReason&&i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(ya,{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-red-500 uppercase tracking-wider",children:"Rejection Reason"}),i.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:d.rejectionReason})]})]})}),d.status==="validated"&&d.validatedAt&&i.jsx("div",{className:"mt-2",children:i.jsxs("p",{className:"text-xs text-sky-600",children:[i.jsx("span",{className:"font-medium",children:"Parent Validated:"})," ",(d.validatedAt,!0)]})}),d.status==="approved"&&d.approvedAt&&i.jsx("div",{className:"mt-2",children:i.jsxs("p",{className:"text-xs text-green-600",children:[i.jsx("span",{className:"font-medium",children:"Admin Approved:"})," ",(d.approvedAt,!0)]})})]}),i.jsxs("div",{className:"bg-slate-50 px-5 py-3 text-xs text-slate-500 border-t border-slate-200 mt-auto",children:["Applied on: ",(d.appliedAt,!0)]})]},d.leaveId))})})]})})},FXe=()=>et.getState().dbId,B_=FXe,RXe="coll-student",fZ=()=>{const{exams:e,loading:t,error:n,fetchExams:r,setError:s}=a2(),[a,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,h]=m.useState(null);m.useEffect(()=>{(async()=>{d(!0),h(null),s(null);try{const x=await Jo();if(!x){h("User not logged in or email not available."),d(!1);return}const y=await le.listDocuments(B_,RXe,[J.equal("stdEmail",x),J.limit(1)]);if(y.documents.length===0){h("Student profile not found for this email."),d(!1);return}const v=y.documents[0];o(v);const S=await le.getDocument(B_,tr,v.facultyId);c(S.name),r()}catch(x){console.error("Error loading student data or faculty:",x),h("Failed to load your profile data: "+(x.message||"Unknown error")),s("Failed to fetch exams: "+(x.message||"Unknown error"))}finally{d(!1)}})()},[r,s]);const p=m.useMemo(()=>{if(!a||!l||e.length===0)return[];const b=a.class,x=a.section;return e.filter(y=>{const v=y.faculty&&y.faculty.length===0||y.faculty&&y.faculty.includes(l),j=y.class&&y.class.length===0||y.class&&y.class.includes(b),S=y.section&&y.section.length===0||y.section&&y.section.includes(x);return v&&j&&S})},[e,a,l]);return u||t?i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(ct,{size:"lg"})," Loading your exams..."]}):f?i.jsxs("div",{className:"p-6 text-red-600 bg-red-100 rounded-md",children:["Error loading your data: ",f]}):n?i.jsxs("div",{className:"p-6 text-red-600 bg-red-100 rounded-md",children:["Error loading exams: ",n]}):p.length===0?i.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Exams"}),i.jsx("div",{className:"text-center text-gray-600 p-8 rounded-md border-2 border-dashed border-gray-300 bg-white",children:"No exams found for your Faculty, Class, and Section."})]}):i.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Exams"}),a&&l&&i.jsxs("div",{className:"mb-6 text-gray-700",children:["Viewing exams for: ",i.jsx("span",{className:"font-semibold",children:l})," Faculty, ",i.jsx("span",{className:"font-semibold",children:a.class})," Class, ",i.jsx("span",{className:"font-semibold",children:a.section})," Section."]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>i.jsx(cA,{exam:b,onEdit:()=>{},onDelete:()=>{},showActions:!1},b.$id))})]})},Es=e=>{if(!e)return null;const n=e.trim().match(/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/);if(n){const r=n[1],s=n[2].padStart(2,"0"),a=n[3].padStart(2,"0");return`${r}-${s}-${a}`}return null},l1=e=>{try{const t=Es(e);if(!t)return null;const[n,r,s]=t.split("-").map(Number),a=new Date(n,r-1,s);if(isNaN(a.getTime()))return null;const o=new Hn(a),l=o.getYear(),c=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0");return`${l}-${c}-${u}`}catch{return null}},Xf=e=>{try{const t=Es(e);if(!t)return null;const[n,r,s]=t.split("-").map(Number),o=new Hn(n,r-1,s).toJsDate();if(isNaN(o.getTime()))return null;const l=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0");return`${l}-${c}-${u}`}catch{return null}},hZ=(e,t)=>{const n=[],r=Es(e),s=Es(t);if(!r||!s)return n;let a=new Date(r.replace(/-/g,"/")),o=new Date(s.replace(/-/g,"/"));if(a=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())),o=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())),isNaN(a.getTime())||isNaN(o.getTime())||a>o)return n;for(;a<=o;){const l=a.getUTCFullYear(),c=(a.getUTCMonth()+1).toString().padStart(2,"0"),u=a.getUTCDate().toString().padStart(2,"0");n.push(`${l}-${c}-${u}`),a.setUTCDate(a.getUTCDate()+1)}return n},mZ=["बैशाख","जेठ","असार","श्रावण","भाद्र","आश्विन","कार्तिक","मंसिर","पौष","माघ","फाल्गुन","चैत्र"],pZ=e=>mZ[e-1]||"Unknown",BXe=["आइतवार","सोमवार","मंगलवार","बुधवार","बिहीवार","शुक्रवार","शनिवार"],zXe=({currentMonthData:e,bsMonthName:t,bsYear:n,gregorianInfo:r,availableYears:s,currentBsYear:a,currentBsMonth:o,onYearChange:l,onMonthChange:c,onPrevMonth:u,onNextMonth:d,canGoPrev:f,canGoNext:h,calendarData:p,todayStringAD:b,absentDatesAD:x,approvedLeaveDatesAD:y})=>{const v=()=>{var R;if(!e||!e.days||e.days.length===0)return i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No day data to display for this month."});const{days:C}=e,$=(R=C[0])==null?void 0:R.dayOfWeek;let P=$&&$>=1&&$<=7?$-1:0;const M=[...Array(P).fill(null),...C],A=(7-M.length%7)%7,I=Array(A).fill(null),L=[...M,...I];return i.jsx("div",{className:"bg-white rounded-b shadow-md font-sans",children:i.jsxs("table",{className:"table-fixed border-collapse w-full",children:[i.jsx("thead",{children:i.jsx("tr",{className:"bg-blue-500",children:BXe.map(F=>i.jsx("th",{className:"text-white p-2 text-center text-sm sm:text-base font-normal border border-blue-400",children:F},F))})}),i.jsx("tbody",{children:Array.from({length:Math.ceil(L.length/7)}).map((F,T)=>i.jsx("tr",{className:"text-center",children:L.slice(T*7,T*7+7).map((O,_)=>{var oe;if(!O)return i.jsx("td",{className:"border border-gray-200 h-20 sm:h-[5.5rem] w-[14.28%] bg-gray-50",children:i.jsx("div",{className:"h-full"})},`${T}-${_}-empty`);const W=O.en===b,z=O.dayOfWeek===7,U=Es(O.en);let H=!1,B=!1;U&&(H=x.includes(U),B=y.includes(U));const Y=W?"border-2 border-orange-400":"border border-gray-200",ae=z?"text-red-600":"";let ce=W?"text-orange-600 font-bold":ae||"text-gray-800";return i.jsxs("td",{className:`${Y} bg-white h-20 sm:h-[5.5rem] w-[14.28%] align-top p-1 transition-colors duration-150 relative`,children:[i.jsxs("div",{className:"flex flex-col h-full text-left text-xs sm:text-sm",children:[i.jsx("div",{className:`${ae} text-right text-gray-500 pr-1 truncate`,children:O.tithi||""}),i.jsx("div",{className:"flex-grow flex items-center justify-center",children:i.jsxs("span",{className:`text-lg sm:text-2xl ${ce}`,children:[O.day," "]})}),i.jsxs("div",{className:`${ae} text-right font-medium text-blue-700 mb-1 pr-1`,children:[((oe=O.en)==null?void 0:oe.split("/")[2])||""," "]})]}),i.jsxs("div",{className:"absolute bottom-1.5 right-1.5 flex space-x-1.5",children:[H&&i.jsx("div",{title:"Absent",className:"w-2.5 h-2.5 bg-red-500 rounded-full shadow-md"}),B&&i.jsx("div",{title:"Approved Leave",className:"w-2.5 h-2.5 bg-orange-500 rounded-full shadow-md"})]})]},`${T}-${_}-${O.day}`)})},T))})]})})},j="block w-full appearance-none rounded-md border-0 py-1.5 sm:py-2 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 text-sm sm:text-base sm:leading-6 disabled:bg-gray-100 disabled:cursor-not-allowed",S="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",N="h-5 w-5 text-gray-400";return i.jsxs("div",{className:"w-full sm:px-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 justify-center items-center mb-4 py-3 px-2 rounded-t-md bg-gray-100",children:[i.jsx(Se,{onClick:u,disabled:!f,"aria-label":"Previous Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(O$,{className:"h-6 w-6","aria-hidden":"true"})}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"year-select",value:a??"",onChange:l,className:j+" min-w-[80px]","aria-label":"Select Year",disabled:!a||!s.length,children:s.map(C=>i.jsx("option",{value:C,children:C},C))}),i.jsx("div",{className:S,children:i.jsx("svg",{className:N,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{id:"month-select",value:o??"",onChange:c,className:j+" min-w-[100px]","aria-label":"Select Month",disabled:!o||!a||!p,children:mZ.map((C,$)=>{var M;const P=$+1,E=((M=p==null?void 0:p[a??""])==null?void 0:M.some(k=>k.month===P))??!1;return i.jsxs("option",{value:P,disabled:!E,className:E?"":"text-gray-400 italic",children:[C," ",!E&&a?" (N/A)":""]},P)})}),i.jsx("div",{className:S,children:i.jsx("svg",{className:N,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.24a.75.75 0 011.06 0L10 14.148l2.7-2.908a.75.75 0 111.06 1.06l-3.25 3.5a.75.75 0 01-1.06 0l-3.25-3.5a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),i.jsx(Se,{onClick:d,disabled:!h,"aria-label":"Next Month",color:"secondary",variant:"flat",isIconOnly:!0,children:i.jsx(L$,{className:"h-6 w-6","aria-hidden":"true"})})]}),i.jsxs("div",{className:"flex-col text-white p-0 sm:px-0 flex justify-between items-center rounded-t-md -mt-4 relative pt-4",children:[i.jsxs("div",{className:"bg-orange-500 rounded-t-md w-full p-3 flex justify-between items-center",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:`${t} ${n}`}),i.jsx("span",{className:"text-xs sm:text-sm",children:r})]}),v()]})]})},VXe="https://back.soraddynamics.com",WXe=e=>pZ(e),UXe=(e=[])=>{if(!e||e.length===0)return"";const t=e[0],n=e[e.length-1];if(!(t!=null&&t.en)||!(n!=null&&n.en))return"AD Info Unavailable";try{const r=t.en.split("/"),s=n.en.split("/"),a=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2])).toLocaleString("en-US",{month:"short"}),o=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2])).toLocaleString("en-US",{month:"short"}),l=r[0],c=s[0];return l===c?a===o?`${a} ${l}`:`${a}/${o} ${l}`:`${a} ${l} / ${o} ${c}`}catch(r){return console.error("Error formatting Gregorian info:",t.en,n.en,r),"AD Info Error"}},KXe=(e,t)=>{var r;if(!e||!t)return null;let n=null;try{const[s,a,o]=t.split("/").map(Number),l=new Date(s,a-1,o);l.setHours(0,0,0,0),n=l.getTime()}catch(s){return console.error("Could not parse input gregorianDateString in findNepaliDateForGregorian:",t,s),null}if(n===null)return null;for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];for(const o of a)if((r=o.days)==null?void 0:r.find(c=>{if(!c.en)return!1;try{const[u,d,f]=c.en.split("/").map(Number),h=new Date(u,d-1,f);return h.setHours(0,0,0,0),h.getTime()===n}catch{return!1}}))return{year:s,month:o.month}}return null},gZ=({absentDatesAD:e,approvedLeaveDatesAD:t,onViewChange:n})=>{const[r,s]=m.useState(null),[a,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState([]),[f,h]=m.useState(!0),[p,b]=m.useState(null),[x,y]=m.useState(window.innerWidth<1020);m.useEffect(()=>{a&&l&&n&&n(a,l,r)},[a,l,r,n]),m.useEffect(()=>{(async()=>{h(!0),b(null);try{const F=`${VXe}/api/calendar`,T=await fetch(F);if(!T.ok)throw new Error(`HTTP error! Status: ${T.status} - ${T.statusText}`);const O=await T.json();s(O);const _=Object.keys(O||{}).sort((W,z)=>parseInt(W)-parseInt(z));if(d(_),_.length>0){const W=new Date,z=`${W.getFullYear()}/${W.getMonth()+1}/${W.getDate()}`,U=KXe(O,z);let H,B;if(U&&_.includes(U.year))H=U.year,B=U.month;else{console.warn(`Today's Gregorian date (${z}) not found in calendar data or year missing. Falling back to latest available year/month.`),H=_[_.length-1];const Y=O[H]||[];B=Y.length>0?Y[0].month:1}o(H),c(B)}else b("No calendar years found in the data.")}catch(F){console.error("Error during initial data fetch:",F),b(`Failed to load calendar data. Details: ${F.message}`)}finally{h(!1)}})()},[]),m.useEffect(()=>{const R=()=>y(window.innerWidth<1020);return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const v=m.useMemo(()=>{var R;if(!(!r||!a||l===null))return(R=r==null?void 0:r[a])==null?void 0:R.find(F=>F.month===l)},[r,a,l]),{canGoPrev:j,canGoNext:S}=m.useMemo(()=>{if(!r||!a||l===null)return{canGoPrev:!1,canGoNext:!1};const R=F=>{var _;let T=F==="prev"?l-1:l+1,O=a;return T<1?(T=12,O=(parseInt(a,10)-1).toString()):T>12&&(T=1,O=(parseInt(a,10)+1).toString()),((_=r[O])==null?void 0:_.some(W=>W.month===T))??!1};return{canGoPrev:R("prev"),canGoNext:R("next")}},[r,a,l]),N=m.useMemo(()=>l!==null?WXe(l):"...",[l]),C=m.useMemo(()=>UXe(v==null?void 0:v.days),[v]),$=m.useCallback(R=>{const F=R.target.value;if(o(F),l===null)return;const T=(r==null?void 0:r[F])||[];T.some(O=>O.month===l)||c(T.length>0?T[0].month:null)},[r,l]),P=m.useCallback(R=>{c(parseInt(R.target.value,10))},[]),E=m.useCallback(()=>{var T;if(!r||!a||l===null)return;let R=l-1,F=a;R<1&&(R=12,F=(parseInt(a,10)-1).toString()),(T=r==null?void 0:r[F])!=null&&T.some(O=>O.month===R)&&(o(F),c(R))},[l,a,r]),M=m.useCallback(()=>{var T;if(!r||!a||l===null)return;let R=l+1,F=a;R>12&&(R=1,F=(parseInt(a,10)+1).toString()),(T=r==null?void 0:r[F])!=null&&T.some(O=>O.month===R)&&(o(F),c(R))},[l,a,r]);if(f)return i.jsx("div",{className:"flex justify-center items-center h-96",children:i.jsx(ct,{color:"primary",size:"lg",label:"Loading Calendar..."})});if(p)return i.jsx("div",{className:"flex justify-center items-center h-96 p-4",children:i.jsxs("div",{className:"p-6 text-red-700 bg-red-100 border border-red-400 rounded max-w-lg text-center",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Error Loading Calendar"}),i.jsx("p",{children:p}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Try Again"})]})});if(!r||u.length===0||!a||l===null)return i.jsx("div",{className:"flex justify-center items-center h-96 p-4",children:i.jsxs("div",{className:"p-6 text-yellow-800 bg-yellow-100 border border-yellow-400 rounded max-w-lg text-center",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Calendar Data Unavailable"}),i.jsx("p",{children:"Could not display the calendar. Required data might be missing."})]})});const k=new Date,A=`${k.getFullYear()}/${k.getMonth()+1}/${k.getDate()}`,I={currentMonthData:v,bsMonthName:N,bsYear:a,gregorianInfo:C,availableYears:u,currentBsYear:a,currentBsMonth:l,onYearChange:$,onMonthChange:P,onPrevMonth:E,onNextMonth:M,canGoPrev:j,canGoNext:S,calendarData:r,todayStringAD:A,absentDatesAD:e,approvedLeaveDatesAD:t},L=()=>i.jsx("div",{className:"text-center p-6 bg-yellow-100 border border-yellow-400 rounded shadow-md w-full mt-4",children:`No calendar data available for ${N} ${a}.`});return i.jsx("div",{className:"flex flex-1 w-full h-full",children:i.jsx("div",{className:"bg-gray-50 flex-1 rounded-lg sm:p-3 w-full",children:i.jsx($t,{options:{wheelPropagation:!1},children:i.jsx("div",{className:"rounded-lg overflow-y-auto",children:v?i.jsx(zXe,{...I}):i.jsx(L,{})})})})})},bZ=({currentBsYear:e,currentBsMonth:t,absentDatesAD:n,allProcessedApprovedLeaves:r,bsCalendarDataForMonth:s})=>{var f;if(!s)return i.jsxs(mt,{className:"shadow-xl animate-pulse",children:[i.jsx(Un,{children:i.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4"})}),i.jsxs(yt,{className:"p-6 space-y-4",children:[i.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),i.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),i.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})]})]});const a=pZ(t);let o=null,l=null;const c=(f=s==null?void 0:s[e])==null?void 0:f.find(h=>h.month===t);if(c&&c.days.length>0){const h=c.days[0].en,p=c.days[c.days.length-1].en;o=Es(h),l=Es(p)}const u=[];if(o&&l){const h=new Date(o).getTime(),p=new Date(l).getTime();n.forEach(b=>{const x=Es(b);if(x){const y=new Date(x).getTime();if(y>=h&&y<=p){const v=l1(x);v&&u.push(v)}}})}u.sort();const d=[];if(o&&l&&r){const h=new Date(o).getTime(),p=new Date(l).getTime();r.forEach(b=>{const x=[];let y=!1;if(b.adDates.forEach(v=>{const j=Es(v);if(!j)return;const S=new Date(j).getTime();if(S>=h&&S<=p){y=!0;const N=l1(j);N&&x.push(N)}}),y&&x.length>0){const v=Array.from(new Set(x)).sort();d.push({...b,bsDatesDisplay:v})}})}return i.jsxs(mt,{className:"shadow-xl h-full",children:[" ",i.jsx(Un,{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 p-4",children:["Report: ",a," ",e]})}),i.jsxs(yt,{className:"p-4 sm:p-6 space-y-6 overflow-y-auto max-h-[calc(100vh-200px)]",children:[" ",u.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-600 mb-3 flex items-center",children:[i.jsx(ya,{className:"h-6 w-6 mr-2"}),"Absences"]}),i.jsx("div",{className:"space-y-2",children:u.map((h,p)=>i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700 flex items-center",children:[i.jsx(er,{className:"h-5 w-5 mr-2 text-red-500 flex-shrink-0"}),"Marked absent on: ",i.jsx("strong",{className:"ml-1",children:h})]},`absent-${p}`))})]}),d.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-orange-600 mb-3 flex items-center",children:[i.jsx(al,{className:"h-6 w-6 mr-2"}),"Approved Leaves"]}),i.jsx("div",{className:"space-y-4",children:d.map(h=>i.jsx(mt,{className:"bg-orange-50 border border-orange-200 shadow-md",children:i.jsxs(yt,{className:"p-4",children:[i.jsx("div",{className:"flex justify-between items-start mb-1",children:i.jsx("h4",{className:"font-semibold text-orange-800 text-md",children:h.title})}),i.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Applied: ",new Date(h.appliedAt).toLocaleDateString()]}),i.jsxs("p",{className:"text-sm text-slate-700 mb-1",children:[i.jsx("strong",{className:"font-medium",children:"Reason:"})," ",h.reason]}),i.jsxs("p",{className:"text-sm text-slate-700",children:[i.jsx("strong",{className:"font-medium",children:"Dates (BS):"})," ",h.bsDatesDisplay.join(", ")]})]})},h.leaveId))})]}),u.length===0&&d.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx(er,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-500",children:"No absences or approved leaves recorded for this month."})]})]})]})},HXe=()=>et.getState().dbId,qXe=HXe,xZ=()=>{const[e,t]=m.useState(null),[n,r]=m.useState([]),[s,a]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(null),[b,x]=m.useState(!0),[y,v]=m.useState(null);m.useEffect(()=>{(async()=>{var N;x(!0),v(null);try{const C=await ut.get();if(!C.email)throw new Error("User session not found. Please log in.");const $=await le.listDocuments(qXe,on,[J.equal("stdEmail",C.email),J.limit(1)]);if($.documents.length===0)throw new Error("Student record not found.");const P=$.documents[0];t(P);const E=((N=P.absent)==null?void 0:N.map(A=>Es(A)).filter(A=>A!==null))||[];r(E);const M=[],k=[];P.leave&&Array.isArray(P.leave)&&P.leave.forEach(A=>{let I=null;try{I=JSON.parse(A)}catch(L){console.error("Failed to parse leave string:",A,L);return}if(I&&I.status==="approved"){const L={...I,adDates:[],bsDatesDisplay:[]};let R=[],F=[];if(I.periodType==="dateRange"&&I.fromDate&&I.toDate){const T=Xf(I.fromDate),O=Xf(I.toDate);T&&O&&(R=hZ(T,O),F=R.map(_=>l1(_)).filter(_=>_!==null))}else if(I.date){const T=Xf(I.date);T&&(R=[T],F=[I.date])}L.adDates=R.map(T=>Es(T)).filter(T=>T!==null),L.bsDatesDisplay=F.map(T=>Es(T)).filter(T=>T!==null),L.adDates.length>0&&(M.push(L),k.push(...L.adDates))}}),l(M),a(Array.from(new Set(k)))}catch(C){v(C.message||"An unknown error occurred."),Ke.error(C.message||"Failed to load data.")}finally{x(!1)}})()},[]);const j=m.useCallback((S,N,C)=>{u(S),f(N),p(C)},[]);return b&&!e?i.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gray-100 p-4",children:[i.jsx(ct,{color:"primary",size:"lg"}),i.jsx("p",{className:"mt-4 text-lg text-gray-700",children:"Loading Your Attendance Data..."})]}):y?i.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gray-100 p-4",children:i.jsx(mt,{className:"w-full max-w-md bg-red-50 shadow-xl",children:i.jsxs(yt,{className:"p-6 text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-2",children:"Oops! Something went wrong."}),i.jsx("p",{className:"text-red-600",children:y}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Try Reloading"})]})})}):e?i.jsxs(i.Fragment,{children:[i.jsx(ia,{position:"top-center",reverseOrder:!1}),i.jsxs("div",{className:"h-full  p-4 sm:p-6 lg:p-8",children:[i.jsxs("header",{className:"mb-8 text-center",children:[i.jsx("h1",{className:"text-2xl  font-bold text-slate-800",children:"My Attendance Overview"}),i.jsxs("p",{className:"text-slate-600 text-sm",children:["Welcome, ",e.name,". View your attendance and leave records."]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[i.jsxs("div",{className:"lg:w-7/12 xl:w-8/12",children:[" ",i.jsx(mt,{className:"shadow-2xl overflow-hidden",children:i.jsxs(yt,{className:"p-0 sm:p-2",children:[" ",i.jsx(gZ,{absentDatesAD:n,approvedLeaveDatesAD:s,onViewChange:j})]})})]}),i.jsx("div",{className:"lg:w-5/12 xl:w-4/12",children:c&&d&&h?i.jsx(bZ,{currentBsYear:c,currentBsMonth:d,absentDatesAD:n,allProcessedApprovedLeaves:o,bsCalendarDataForMonth:h}):i.jsx(mt,{className:"shadow-xl",children:i.jsxs(yt,{className:"p-6 text-center text-slate-500",children:[i.jsx("p",{children:"Select a month on the calendar to view details."}),b&&i.jsx(ct,{color:"secondary",size:"md",className:"mt-4"})]})})})]})]})]}):i.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gray-100 p-4",children:i.jsx("p",{className:"text-center text-xl text-gray-600",children:"No student data found. Please ensure you are logged in correctly."})})},GXe=()=>et.getState().dbId,op=GXe,YXe=Gt((e,t)=>({studentName:null,studentRoutine:null,teachers:[],facultyNameCache:null,sectionNameCache:null,classNameCache:null,isLoading:!1,error:null,_getLoggedInStudent:async()=>{const n=await ut.get();if(!n.email)throw new Error("User email not found. Student might not be logged in properly.");const r=await le.listDocuments(op,on,[J.equal("stdEmail",n.email),J.limit(1)]);if(r.total===0)throw new Error("Student profile not found for the logged-in user.");return r.documents[0]},_fetchSectionDocumentId:async n=>{if(!n.facultyId||!n.class||!n.section)return console.warn("Student data missing facultyId, class name, or section name. Cannot find section document ID."),null;try{const r=await le.listDocuments(op,Qt,[J.equal("facultyId",n.facultyId),J.equal("class",n.class),J.equal("name",n.section),J.limit(1)]);return r.total>0?r.documents[0].$id:(console.warn(`No section document found in coll-section for facultyId: ${n.facultyId}, class: ${n.class}, sectionName: ${n.section}`),null)}catch(r){throw console.error("Error fetching section document ID:",r),r}},_fetchSupportingDataForRoutineDisplay:async(n,r)=>{try{const a=await le.listDocuments(op,Ga,[J.limit(200)]);e({teachers:a.documents})}catch(a){console.warn("Warning: Error fetching teachers for student routine:",a)}let s="N/A";if(n.facultyId)try{s=(await le.getDocument(op,tr,n.facultyId)).name}catch(a){console.warn(`Warning: Could not fetch faculty with ID '${n.facultyId}'. ${a.message}`)}else console.warn("Warning: Student document is missing facultyId for faculty name lookup.");e({facultyNameCache:s,sectionNameCache:n.section,classNameCache:n.class})},_parseRoutineDesc:n=>{if(!n||typeof n!="string")return[];try{const r=JSON.parse(n);return(Array.isArray(r)?r:[]).map(s=>({...s,id:s.id||wc()}))}catch(r){return console.error("Failed to parse routine description string:",r),[]}},_parseRoutineDescArrayOfStrings:n=>{if(!Array.isArray(n))return[];let r=[];try{r=n.map(s=>{const a=JSON.parse(s);return{id:wc(),...a}})}catch(s){console.error("Failed to parse 'desc' item string for routine:",n,s)}return r},_enrichRoutine:n=>{if(!n)return null;const{teachers:r,facultyNameCache:s,sectionNameCache:a,classNameCache:o}=t(),l=Array.isArray(n.desc)?n.desc:[];return{...n,facultyName:s||"N/A",sectionName:a||"N/A",class:o||n.class||"N/A",descDisplay:l.map(c=>{if(c.type==="period"){const u=r.find(d=>d.$id===c.teacherId);return{...c,teacherName:(u==null?void 0:u.name)||"N/A"}}return c})}},fetchStudentRoutine:async()=>{e({isLoading:!0,error:null,studentRoutine:null});try{const n=await t()._getLoggedInStudent();if(!n){e({isLoading:!1});return}e({studentName:n.name}),await t()._fetchSupportingDataForRoutineDisplay(n,null);const r=await t()._fetchSectionDocumentId(n);if(!r){e({isLoading:!1,studentRoutine:null,error:"Could not find your specific section details. Routine cannot be displayed."});return}const s=await le.listDocuments(op,ec,[J.equal("section",r),J.limit(1)]);if(s.total>0){let a=s.documents[0];Array.isArray(a.desc)&&a.desc.length>0&&typeof a.desc[0]=="string"?a.desc=t()._parseRoutineDescArrayOfStrings(a.desc):Array.isArray(a.desc)?a.desc=a.desc.map(l=>({id:l.id||wc(),...l})):a.desc=[];const o=t()._enrichRoutine(a);e({studentRoutine:o})}else e({studentRoutine:null});e({isLoading:!1})}catch(n){console.error("Error in fetchStudentRoutine main try-catch:",n),e({error:n.message||"An error occurred while fetching your routine.",isLoading:!1})}}})),IN=({routine:e,studentName:t})=>e?i.jsxs(mt,{className:"shadow-xl w-full max-w-2xl mx-auto my-8",children:[i.jsx(Un,{className:"p-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-t-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(er,{className:"w-7 h-7"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:"Class Routine"}),i.jsxs("p",{className:"text-xs opacity-90",children:[e.sectionName&&e.class?`${e.sectionName} - ${e.class}`:"Your Section",e.facultyName?` (${e.facultyName})`:""]})]})]})}),i.jsx(yt,{className:"p-0",children:e.descDisplay&&e.descDisplay.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:e.descDisplay.map((n,r)=>i.jsxs("li",{className:"p-4 hover:bg-gray-50/50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[i.jsxs("p",{className:"font-medium text-md text-indigo-700 capitalize",children:[r+1,". ",n.type==="period"?n.subject:n.name]}),i.jsxs(Jt,{size:"sm",variant:"flat",color:"default",className:"text-xs px-2 py-0.5",children:[i.jsx(ma,{className:"w-3 h-3 inline mr-1"})," ",n.fromTime," - ",n.toTime]})]}),n.type==="period"&&i.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5 pl-1",children:[i.jsxs("p",{className:"flex items-center gap-1.5",children:[i.jsx(Ji,{className:"w-3.5 h-3.5 text-gray-400"}),i.jsx("span",{className:"font-semibold",children:"Type:"})," Period"]}),i.jsxs("p",{className:"flex items-center gap-1.5",children:[i.jsx(I0,{className:"w-3.5 h-3.5 text-gray-400"}),i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",n.teacherName||"N/A"]})]}),n.type==="break"&&i.jsx("div",{className:"text-xs text-gray-600 pl-1",children:i.jsxs("p",{className:"flex items-center gap-1.5",children:[i.jsx(Ji,{className:"w-3.5 h-3.5 text-gray-400"}),i.jsx("span",{className:"font-semibold",children:"Type:"})," Break - ",n.name]})})]},n.id||r))}):i.jsxs("div",{className:"p-6 text-center",children:[i.jsx(er,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-sm text-gray-500",children:"No periods or breaks defined in the routine for your section."})]})})]}):i.jsxs(mt,{className:"shadow-lg w-full max-w-2xl mx-auto my-8",children:[i.jsx(Un,{className:"font-semibold text-gray-700 p-4",children:t?`${t}'s Routine`:"Class Routine"}),i.jsxs(yt,{className:"p-6 text-center",children:[i.jsx(er,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Your class routine is not available at the moment."}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Please check back later or contact administration."})]})]}),yZ=()=>{const{studentName:e,studentRoutine:t,isLoading:n,error:r,fetchStudentRoutine:s}=YXe();return m.useEffect(()=>{s()},[s]),n?i.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:i.jsx(ct,{label:"Loading your routine...",color:"primary",size:"lg"})}):r?i.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-red-50 p-4 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Oops! Could not load your routine."}),i.jsx("p",{className:"text-red-600 mb-4",children:r}),i.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}):i.jsxs("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:[i.jsxs("header",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:e?`Hello, ${e}!`:"My Routine"}),i.jsx("p",{className:"text-md text-gray-500 mt-1",children:"Here is your class schedule."})]}),i.jsx(IN,{routine:t,studentName:e})]})},XXe=()=>et.getState().dbId,Hl=XXe,bf="coll-notes",qx="buck-notes",o2=Gt((e,t)=>({notes:[],studentNotes:[],faculties:[],sections:[],currentUser:null,currentStudentProfile:null,isLoading:!1,isStudentDataLoading:!1,isFormLoading:!1,isFetchingFilters:!1,error:null,studentPageError:null,searchTerm:"",studentSearchTerm:"",filterFacultyId:null,filterClass:null,filterSectionId:null,isNoteFormOpen:!1,editingNote:null,fetchCurrentUser:async()=>{if(!t().currentUser){e({isLoading:!0});try{const n=await ut.get();e({currentUser:n,isLoading:!1})}catch(n){console.error("Error fetching current user:",n),e({error:"Failed to fetch user details.",isLoading:!1})}}},fetchCurrentStudentProfile:async()=>{const{currentUser:n}=t();if(!n||!n.email){e({studentPageError:"User not logged in or email not available.",isStudentDataLoading:!1});return}e({isStudentDataLoading:!0,studentPageError:null,currentStudentProfile:null});try{const r=await le.listDocuments(Hl,on,[J.equal("stdEmail",n.email),J.limit(1)]);r.documents.length>0?(e({currentStudentProfile:r.documents[0],isStudentDataLoading:!1}),t().fetchNotesForStudent()):e({studentPageError:"Student profile not found for the logged-in user.",isStudentDataLoading:!1})}catch(r){console.error("Error fetching student profile:",r),e({studentPageError:`Failed to fetch student profile: ${r.message}`,isStudentDataLoading:!1})}},fetchFaculties:async()=>{e({isFetchingFilters:!0,error:null});try{const n=await le.listDocuments(Hl,tr,[J.limit(100)]);e({faculties:n.documents})}catch(n){console.error("Error fetching faculties:",n),e({error:"Failed to fetch faculties."})}finally{e({isFetchingFilters:!1})}},fetchSections:async(n,r)=>{if(!n||!r){e({sections:[]});return}e({isFetchingFilters:!0,error:null});try{const s=[J.equal("facultyId",n),J.equal("class",r),J.limit(100)],a=await le.listDocuments(Hl,Qt,s);e({sections:a.documents})}catch(s){console.error("Error fetching sections:",s),e({error:"Failed to fetch sections."})}finally{e({isFetchingFilters:!1})}},fetchNotes:async()=>{e({isLoading:!0,error:null});try{const n=[J.orderDesc("$createdAt")],{filterFacultyId:r,filterClass:s,filterSectionId:a}=t();r&&n.push(J.equal("facultyId",r)),s&&n.push(J.equal("className",s)),a&&n.push(J.equal("sectionId",a)),n.push(J.limit(100));const o=await le.listDocuments(Hl,bf,n);e({notes:o.documents})}catch(n){console.error("Error fetching notes:",n),e({error:`Failed to fetch notes: ${n.message}`})}finally{e({isLoading:!1})}},fetchNotesForStudent:async()=>{const{currentStudentProfile:n}=t();if(!n){e({studentPageError:"Cannot fetch notes: Student profile not loaded.",studentNotes:[],isStudentDataLoading:!1});return}if(!n.facultyId){console.warn("[fetchNotesForStudent] Student profile is missing 'facultyId'. Cannot fetch faculty-specific notes."),e({studentNotes:[],isStudentDataLoading:!1,studentPageError:"Your faculty information is missing."});return}e({isStudentDataLoading:!0,studentPageError:null});try{const r=[J.orderDesc("$createdAt"),J.limit(200),J.equal("facultyId",n.facultyId)],s=await le.listDocuments(Hl,bf,r),a=n.class,o=n.sectionId,l=s.documents.filter(u=>{const d=!u.className||u.className===a,f=!u.sectionId||u.sectionId===o;let h=!0;return u.className&&a&&u.className!==a&&(h=!1),h&&u.sectionId&&o&&u.sectionId!==o&&(h=!1),!(a&&u.className&&u.className!==a||o&&u.sectionId&&u.sectionId!==o&&(a&&u.className&&u.className===a||!u.className))}),c=s.documents.filter(u=>u.facultyId===n.facultyId&&u.className===n.class&&u.sectionId===n.sectionId||u.facultyId===n.facultyId&&u.className===n.class&&(!u.sectionId||u.sectionId==="")||u.facultyId===n.facultyId&&(!u.className||u.className==="")&&(!u.sectionId||u.sectionId===""));e({studentNotes:c,isStudentDataLoading:!1})}catch(r){console.error("Error fetching notes for student:",r),e({studentPageError:`Failed to fetch notes: ${r.message}`,isStudentDataLoading:!1,studentNotes:[]})}},addNote:async(n,r)=>{const{currentUser:s}=t();if(!s){e({error:"User not logged in."});return}e({isFormLoading:!0,error:null});try{const a=[],o=[],l=[];for(const u of r){const d=await Qn.createFile(qx,dn.unique(),u);a.push(d.$id),o.push(u.name),l.push(u.type)}const c={...n,fileIds:a,fileNames:o,fileMimeTypes:l,uploadedById:s.$id,uploaderEmail:s.email};await le.createDocument(Hl,bf,dn.unique(),c),e({isNoteFormOpen:!1,editingNote:null}),t().fetchNotes()}catch(a){console.error("Error adding note:",a),a.message&&a.message.includes("Invalid `permissions` param")?e({error:`Failed to add note: A permissions issue occurred. Please check your Appwrite collection/bucket permissions. Original error: ${a.message}`}):e({error:`Failed to add note: ${a.message}`})}finally{e({isFormLoading:!1})}},updateNote:async(n,r,s,a,o,l)=>{const{currentUser:c,notes:u}=t();if(!c){e({error:"User not logged in."});return}e({isFormLoading:!0,error:null});try{const d=u.find(j=>j.$id===n);if(!d)throw new Error("Note not found for updating.");for(const j of a)await Qn.deleteFile(qx,j);const f=[],h=[],p=[];for(const j of s){const S=await Qn.createFile(qx,dn.unique(),j);f.push(S.$id),h.push(j.name),p.push(j.type)}const b=d.fileIds.filter(j=>!a.includes(j)).concat(f),x=d.fileNames.filter(j=>!o.includes(j)).concat(h),y=d.fileMimeTypes.filter(j=>!l.some((S,N)=>j===S&&d.fileNames[d.fileMimeTypes.indexOf(j)]===o[N])).concat(p),v={...r,fileIds:b,fileNames:x,fileMimeTypes:y};await le.updateDocument(Hl,bf,n,v),e({isNoteFormOpen:!1,editingNote:null}),t().fetchNotes()}catch(d){console.error("Error updating note:",d),e({error:`Failed to update note: ${d.message}`})}finally{e({isFormLoading:!1})}},deleteNote:async(n,r)=>{e({isLoading:!0,error:null});try{for(const s of r)try{await Qn.deleteFile(qx,s)}catch(a){console.error(`Failed to delete file ${s}:`,a)}await le.deleteDocument(Hl,bf,n),t().fetchNotes()}catch(s){console.error("Error deleting note:",s),e({error:`Failed to delete note: ${s.message}`})}finally{e({isLoading:!1})}},setSearchTerm:n=>e({searchTerm:n}),setStudentSearchTerm:n=>e({studentSearchTerm:n}),setFilterFacultyId:n=>{e({filterFacultyId:n,filterClass:null,filterSectionId:null,sections:[]}),t().fetchNotes()},setFilterClass:n=>{e({filterClass:n,filterSectionId:null,sections:[]}),n&&t().fetchSections(t().filterFacultyId,n),t().fetchNotes()},setFilterSectionId:n=>{e({filterSectionId:n}),t().fetchNotes()},openNoteForm:n=>e({isNoteFormOpen:!0,editingNote:n||null,error:null}),closeNoteForm:()=>e({isNoteFormOpen:!1,editingNote:null,error:null}),getFilteredNotes:()=>{const{notes:n,searchTerm:r}=t();if(!r.trim())return n;const s=r.toLowerCase();return n.filter(a=>a.title.toLowerCase().includes(s)||a.description&&a.description.toLowerCase().includes(s)||a.subject&&a.subject.toLowerCase().includes(s)||a.facultyName&&a.facultyName.toLowerCase().includes(s)||a.className&&a.className.toLowerCase().includes(s)||a.sectionName&&a.sectionName.toLowerCase().includes(s)||a.uploaderEmail&&a.uploaderEmail.toLowerCase().includes(s))},getFilteredStudentNotes:()=>{const{studentNotes:n,studentSearchTerm:r}=t();if(!r.trim())return n;const s=r.toLowerCase();return n.filter(a=>a.title.toLowerCase().includes(s)||a.description&&a.description.toLowerCase().includes(s)||a.subject&&a.subject.toLowerCase().includes(s)||a.facultyName&&a.facultyName.toLowerCase().includes(s)||a.uploaderEmail&&a.uploaderEmail.toLowerCase().includes(s))}})),ZXe="buck-notes",hA=({note:e})=>{const{openNoteForm:t,deleteNote:n,currentUser:r}=o2(),[s,a]=m.useState(!1),[o,l]=m.useState(!1),c=(r==null?void 0:r.$id)===e.uploadedById,u=(f,h)=>{try{const p=Qn.getFileDownload(ZXe,f),b=document.createElement("a");b.href=p,b.download=h,document.body.appendChild(b),b.click(),setTimeout(()=>{document.body.contains(b)&&document.body.removeChild(b)},100)}catch(p){console.error("Error generating download link or initiating download:",p),alert("Could not download file.")}},d=async()=>{l(!0),await n(e.$id,e.fileIds),l(!1),a(!1)};return i.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-5 border border-gray-200 hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.title}),c&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4"}),onClick:()=>t(e),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>a(!0),color:"red",isIconOnly:!0})]})]}),e.subject&&i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Subject:"})," ",e.subject]}),e.description&&i.jsx("p",{className:"text-gray-700 text-sm mb-3 whitespace-pre-wrap",children:e.description}),i.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Date: ",new Date(e.noteDate).toLocaleDateString()," ",i.jsx("br",{})," By: ",e.uploaderEmail]}),(e.facultyName||e.className||e.sectionName||e.subject)&&i.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[e.facultyName&&`Faculty: ${e.facultyName}`,e.className&&`${e.facultyName?" | ":""}Class: ${e.className}`]}),e.fileIds&&e.fileIds.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments:"}),i.jsx("ul",{className:"space-y-2",children:e.fileIds.map((f,h)=>i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center truncate",children:[i.jsx(K3,{className:"h-4 w-4 mr-2 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"truncate",title:e.fileNames[h],children:e.fileNames[h]})]}),i.jsxs("button",{onClick:()=>u(f,e.fileNames[h]),className:"ml-2 text-indigo-600 hover:text-indigo-800 font-medium text-xs p-1 rounded hover:bg-indigo-50 transition-colors",title:`Download ${e.fileNames[h]}`,children:[i.jsx(Nge,{className:"h-5 w-5 inline"}),i.jsx("span",{className:"sr-only",children:"Download"})]})]},f))})]}),i.jsx(Qi,{isOpen:s,onClose:()=>a(!1),onConfirm:d,title:"Delete Note",content:`Are you sure you want to delete the note "${e.title}"? This action cannot be undone.`,isConfirmLoading:o})]})},vZ=()=>{const{currentUser:e,currentStudentProfile:t,isStudentDataLoading:n,studentPageError:r,studentSearchTerm:s,fetchCurrentUser:a,fetchCurrentStudentProfile:o,fetchNotesForStudent:l,setStudentSearchTerm:c,getFilteredStudentNotes:u}=o2();m.useEffect(()=>{(async()=>{e||await a()})()},[a,e]),m.useEffect(()=>{e&&!t&&!n&&!r&&o()},[e,t,o,n,r]);const d=u(),f=()=>{t?l():e?o():a()};return i.jsx($t,{options:{suppressScrollX:!0,wheelSpeed:2},children:i.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[i.jsx("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["My Notes ",t?`(${t.name})`:""]}),i.jsx(st,{icon:i.jsx(vg,{className:"h-5 w-5"}),onClick:f,isLoading:n,color:"blue",tooltipText:"Reload My Notes"})]})}),r&&i.jsxs("p",{className:"text-red-500 bg-red-100 p-3 rounded-md mb-4",children:["Error: ",r]}),i.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg shadow",children:i.jsx(Bn,{placeholder:"Search your notes...",value:s,onValueChange:c,className:"w-full"})}),n&&!d.length&&!t?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{size:"lg",label:"Loading student details & notes..."})}):n&&t&&!d.length?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{size:"lg",label:"Loading your notes..."})}):d.length===0&&!r&&!n?i.jsx("p",{className:"text-center text-gray-500 py-10",children:"No notes found matching your profile or search term."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>i.jsx(hA,{note:h,allowAdminActions:!1},h.$id))})]})})},JXe=()=>et.getState().dbId,c5=JXe,c1=e=>{if(typeof e=="string"&&e.trim()!==""&&e.toLowerCase()!=="undefined")return e},z_=(e,t,n,r=75)=>{const s=c1(e);if(!s)return console.warn("getStudentFilePreviewUrl called with invalid fileId:",e),"/placeholder-image.png";try{return Qn.getFilePreview(hl,s,t,n,void 0,r)}catch(a){return console.error(`Error generating preview URL for fileId ${s}:`,a),"/placeholder-image-error.png"}},QXe=e=>{const t=c1(e);if(!t)return console.warn("getStudentFileViewUrl called with invalid fileId:",e),"/placeholder-image.png";try{return Qn.getFileView(hl,t)}catch(n){return console.error(`Error generating view URL for fileId ${t}:`,n),"/placeholder-image-error.png"}},eZe=Gt((e,t)=>({studentFacultyId:null,galleryGroups:[],photosByGroup:{},selectedFullScreenPhoto:null,isFetchingStudentInfo:!1,isLoadingGroups:!1,isLoadingPhotos:{},error:null,clearError:()=>e({error:null}),fetchStudentInfoAndSetFaculty:async()=>{e({isFetchingStudentInfo:!0,error:null});try{const n=await ut.get(),r=await le.listDocuments(c5,on,[J.equal("stdEmail",n.email),J.limit(1)]);if(r.documents.length>0){const s=r.documents[0];return s.facultyId?(e({studentFacultyId:s.facultyId,isFetchingStudentInfo:!1}),s.facultyId):(e({error:"Student faculty information not found in their record.",isFetchingStudentInfo:!1}),null)}else return e({error:"Student record not found for the logged-in user.",isFetchingStudentInfo:!1}),null}catch(n){return console.error("Error fetching student info:",n),e({error:"Failed to load student information. Please try again later.",isFetchingStudentInfo:!1}),null}},fetchGalleryGroupsForStudent:async n=>{const r=t().studentFacultyId;if(!r){e({error:"Cannot fetch gallery groups without student faculty information.",isLoadingGroups:!1});return}e({isLoadingGroups:!0,error:null});try{const s=[J.or([J.equal("visibleTo",Fo),J.equal("visibleTo",r)]),J.orderDesc("$createdAt"),J.limit(50)];n&&n.trim()!==""&&s.push(J.search("title",n.trim()));const o=(await le.listDocuments(c5,fi,s)).documents.map(l=>{const c=c1(l.coverImageFileId);return{...l,coverPreviewUrl:c?z_(c,200,150):void 0}});e({galleryGroups:o,isLoadingGroups:!1})}catch(s){console.error("Error fetching student gallery groups:",s),e({error:"Failed to load gallery albums.",isLoadingGroups:!1})}},fetchPhotosForGroup:async(n,r=!1)=>{var s;if(!r&&((s=t().photosByGroup[n])!=null&&s.length))return t().photosByGroup[n];e(a=>({isLoadingPhotos:{...a.isLoadingPhotos,[n]:!0},error:null}));try{const o=(await le.listDocuments(c5,di,[J.equal("groupId",n),J.orderAsc("$createdAt"),J.limit(500)])).documents.map(l=>{const c=c1(l.fileId);return{...l,fileId:c||"",previewUrl:c?z_(c,150,150):void 0,fullUrl:c?QXe(c):void 0}});return e(l=>({photosByGroup:{...l.photosByGroup,[n]:o},isLoadingPhotos:{...l.isLoadingPhotos,[n]:!1}})),o}catch(a){console.error(`Error fetching photos for group ${n}:`,a),e(o=>({error:"Failed to load photos for the selected album.",isLoadingPhotos:{...o.isLoadingPhotos,[n]:!1}}));return}},setFullScreenPhoto:n=>{e({selectedFullScreenPhoto:n})}})),wZ=({group:e,onViewPhotos:t})=>{const n=e.coverPreviewUrl&&!e.coverPreviewUrl.startsWith("/placeholder")?e.coverPreviewUrl:"/placeholder-image.png";return i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden flex flex-col cursor-pointer hover:shadow-xl transition-shadow duration-200",onClick:()=>t(e),title:`View photos from ${e.title}`,children:[i.jsxs("div",{className:"relative h-48 bg-gray-200",children:[" ",i.jsx("img",{src:n,alt:e.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-end justify-center p-4"})]}),i.jsxs("div",{className:"p-4 flex-grow",children:[i.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-1 truncate",children:e.title}),i.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[e.photoCount||0," photos"]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]})]})};function tZe(e,t){let n=null;return(...r)=>new Promise(s=>{n&&clearTimeout(n),n=setTimeout(()=>s(e(...r)),t)})}const SZ=()=>{const{studentFacultyId:e,galleryGroups:t,photosByGroup:n,selectedFullScreenPhoto:r,isFetchingStudentInfo:s,isLoadingGroups:a,isLoadingPhotos:o,error:l,fetchStudentInfoAndSetFaculty:c,fetchGalleryGroupsForStudent:u,fetchPhotosForGroup:d,setFullScreenPhoto:f,clearError:h}=eZe(),[p,b]=m.useState(null),[x,y]=m.useState("");m.useEffect(()=>{c()},[c]);const v=m.useCallback(tZe(E=>{e&&u(E)},300),[e,u]);m.useEffect(()=>{e&&v(x)},[e,x,v]),m.useEffect(()=>{l&&(Ke.error(l),h())},[l,h]);const j=E=>{var M;b(E),(!n[E.$id]||((M=n[E.$id])==null?void 0:M.length)===0)&&d(E.$id)},S=p?n[p.$id]||[]:[],N=r?S.findIndex(E=>E.$id===r.$id):-1,C=()=>{N>-1&&N<S.length-1&&f(S[N+1])},$=()=>{N>0&&f(S[N-1])},P=E=>{y(E)};return s?i.jsx("div",{className:"flex justify-center items-center min-h-screen p-4 bg-gray-50",children:i.jsx("p",{className:"text-lg text-gray-600 animate-pulse",children:"Loading your gallery..."})}):!e&&!l?i.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen p-4 text-center bg-gray-50",children:[i.jsx(Wo,{className:"w-16 h-16 text-gray-400 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Gallery Access Denied"}),i.jsx("p",{className:"text-gray-500",children:"We couldn't retrieve your faculty information to show relevant galleries."}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please ensure your student profile is complete or contact support."})]}):!e&&l?i.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen p-4 text-center bg-gray-50",children:[i.jsx(Wo,{className:"w-16 h-16 text-red-400 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error Loading Gallery"}),i.jsx("p",{className:"text-red-500",children:l})," ",i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try again later."})]}):i.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-50 min-h-screen",children:[p?i.jsxs("section",{className:"mt-2",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-start items-center mb-6 gap-3",children:[i.jsx(Se,{variant:"flat",color:"default",size:"md",onPress:()=>{b(null)},className:"whitespace-nowrap flex-shrink-0 font-semibold",startContent:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),children:"Back"}),i.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700 truncate",title:p.title,children:p.title})]}),p.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-6 prose max-w-none dark:text-gray-300",children:p.description}),o[p.$id]&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:[...Array(6)].map((E,M)=>i.jsx("div",{className:"aspect-square bg-gray-300 rounded-lg animate-pulse"},M))}),!o[p.$id]&&S.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Wo,{className:"mx-auto h-16 w-16 text-gray-400"}),i.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"This album is currently empty."}),i.jsx("p",{className:"text-sm text-gray-400",children:"No photos have been added yet."})]}),!o[p.$id]&&S.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:S.map(E=>i.jsx(q$,{photo:E,onView:f,isViewOnly:!0},E.$id))})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"School Photo Gallery"}),i.jsx(Bn,{placeholder:"Search albums...",value:x,onValueChange:P,className:"w-full sm:w-72",inputClassName:"bg-white"})]}),a&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(4)].map((E,M)=>i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden animate-pulse",children:[i.jsx("div",{className:"h-48 bg-gray-300"}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"})]})]},M))}),!a&&t.length===0&&!x&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Wo,{className:"mx-auto h-20 w-20 text-gray-400"}),i.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"No Photo Albums Found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"It looks like there are no albums available for you right now. Check back soon!"})]}),!a&&t.length===0&&x&&i.jsxs("p",{className:"text-center text-gray-500 py-8",children:['No albums found matching "',x,'". Try a different search.']}),!a&&t.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(E=>i.jsx(wZ,{group:E,onViewPhotos:j},E.$id))})]}),r&&i.jsx(Q$,{isOpen:!!r,photo:r,onClose:()=>f(null),onNext:N<S.length-1?C:void 0,onPrev:N>0?$:void 0,canNext:N<S.length-1,canPrev:N>0})]})},nZe=()=>et.getState().dbId,ju=nZe,jZ=Gt((e,t)=>({studentProfile:null,isLoadingStudentProfile:!1,fetchStudentProfile:async()=>{e({isLoadingStudentProfile:!0,error:null});try{const n=await ut.get(),r=await le.listDocuments(ju,on,[J.equal("stdEmail",n.email),J.limit(1)]);if(r.documents.length>0){const s=r.documents[0];e({studentProfile:s,isLoadingStudentProfile:!1}),t().fetchPublicLessonPlans()}else console.error(`Student profile not found for email: ${n.email}`),e({error:"Student profile not found. Please contact support.",isLoadingStudentProfile:!1})}catch(n){console.error("Error fetching student profile:",n),e({error:n.message||"Failed to load your profile.",isLoadingStudentProfile:!1})}},publicLessonPlans:[],isLoadingLessonPlans:!1,fetchPublicLessonPlans:async()=>{const n=t().studentProfile;if(!n){e({error:"Cannot fetch lesson plans without student profile.",isLoadingLessonPlans:!1});return}e({isLoadingLessonPlans:!0,error:null,publicLessonPlans:[]});try{const r=[J.equal("isPublic",!0),J.equal("facultyId",n.facultyId),J.equal("class",n.class)];let s=null;try{const h=await le.listDocuments(ju,Qt,[J.equal("name",n.section),J.equal("class",n.class),J.equal("facultyId",n.facultyId),J.limit(1)]);h.documents.length>0?(s=h.documents[0].$id,r.push(J.equal("sectionId",s))):console.warn(`Could not find section ID for section: ${n.section}, class: ${n.class}, faculty: ${n.facultyId}.`)}catch(h){console.error("Error fetching student's section ID:",h)}const{subject:a,searchText:o,teacherId:l}=t().currentFilters;a&&r.push(J.equal("subject",a)),l&&r.push(J.equal("teacherId",l)),o&&r.push(J.search("title",o)),r.push(J.orderDesc("$createdAt"));const c=await le.listDocuments(ju,Bu,r),u=await Promise.all(c.documents.map(async h=>{let p="N/A",b="N/A",x="N/A",y,v,j;try{if(h.teacherId&&(p=(await le.getDocument(ju,Ga,h.teacherId)).name||"N/A"),h.facultyId&&(b=(await le.getDocument(ju,tr,h.facultyId)).name||"N/A"),h.sectionId&&(x=(await le.getDocument(ju,Qt,h.sectionId)).name||"N/A"),n.$id&&h.$id){const S=await le.listDocuments(ju,Ru,[J.equal("lessonPlanId",h.$id),J.equal("studentId",n.$id),J.limit(1)]);if(S.documents.length>0){const N=S.documents[0];y=N.rating,v=N.comment,j=N.$createdAt}}}catch(S){console.warn(`Error enriching lesson plan ${h.$id}:`,S)}return{...h,teacherName:p,facultyName:b,sectionName:x,myReviewRating:y,myReviewComment:v,myReviewDate:j}}));e({publicLessonPlans:u,isLoadingLessonPlans:!1});const d=[...new Set(u.map(h=>h.subject))].filter(Boolean),f=u.reduce((h,p)=>(p.teacherId&&p.teacherName&&!h.find(b=>b.id===p.teacherId)&&h.push({id:p.teacherId,name:p.teacherName}),h),[]);e({availableSubjects:d,availableTeachers:f})}catch(r){console.error("Error fetching public lesson plans:",r),e({error:r.message||"Failed to load lesson plans.",isLoadingLessonPlans:!1})}},selectedLessonPlan:null,selectLessonPlan:n=>e({selectedLessonPlan:n,error:null}),currentFilters:{subject:null,searchText:null,teacherId:null},setFilter:(n,r)=>{e(s=>({currentFilters:{...s.currentFilters,[n]:r},error:null})),t().fetchPublicLessonPlans()},clearFilters:()=>{e({currentFilters:{subject:null,searchText:null,teacherId:null},error:null}),t().fetchPublicLessonPlans()},availableSubjects:[],availableTeachers:[],error:null,setError:n=>e({error:n})})),rZe={planned:"primary",completed:"success","partially-completed":"warning"},CZ=({plan:e,onViewDetails:t})=>i.jsxs(mt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full",children:[i.jsxs("div",{onClick:()=>t(e),className:"cursor-pointer flex-grow p-4",children:[" ",i.jsxs(Un,{className:"flex justify-between items-start pb-2 p-0",children:[" ",i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-indigo-600",children:e.title}),i.jsxs("p",{className:"text-xs text-gray-500",children:[e.facultyName||"Faculty N/A"," - Class ",e.class," - Section ",e.sectionName||"N/A"]})]}),e.status&&i.jsx(Jt,{color:rZe[e.status]||"default",size:"sm",variant:"flat",children:e.status.replace("-"," ")})]}),i.jsxs(yt,{className:"py-2 space-y-1 p-0",children:[" ",i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),i.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(iSe,{className:"h-4 w-4 mr-1 text-gray-400"})," Subject: ",e.subject]}),i.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(SSe,{className:"h-4 w-4 mr-1 text-gray-400"})," Teacher: ",e.teacherName||"N/A"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Date (BS): ",e.lessonDateBS]})]})]}),e.myReviewRating!==void 0&&i.jsxs("div",{className:"mt-auto p-3 border-t border-gray-200 bg-amber-50 rounded-b-lg",children:[i.jsxs("h4",{className:"text-xs font-semibold text-amber-700 mb-1 flex items-center",children:[i.jsx(H3,{className:"h-4 w-4 mr-1 text-amber-500"})," Your Feedback from Teacher:"]}),i.jsx("div",{className:"mb-1",children:i.jsx(yc,{rating:e.myReviewRating,max:5,size:16,color:"#f59e0b",readOnly:!0})}),e.myReviewComment&&i.jsxs("p",{className:"text-xs text-gray-600 italic line-clamp-2",children:['"',e.myReviewComment,'"']}),e.myReviewDate&&i.jsxs("p",{className:"text-xxs text-gray-400 mt-1",children:["Reviewed on: ",new Date(e.myReviewDate).toLocaleDateString()]})]}),e.myReviewRating===void 0&&e.isPublic&&i.jsx("div",{className:"mt-auto p-3 border-t border-gray-200 text-center",children:i.jsx("p",{className:"text-xs text-gray-400 italic",children:"No specific feedback yet for this lesson."})})]}),sZe={planned:"primary",completed:"success","partially-completed":"warning"},NZ=({plan:e,onBack:t})=>{const n=({label:r,value:s,children:a})=>!a&&(s==null||Array.isArray(s)&&s.length===0)?null:i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:r}),a?i.jsx("div",{className:"text-gray-700 mt-0.5",children:a}):Array.isArray(s)?i.jsx("ul",{className:"list-disc list-inside pl-1 text-gray-700",children:s.map((o,l)=>i.jsx("li",{children:o},l))}):i.jsx("p",{className:"text-gray-700",children:String(s)})]});return i.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(Se,{variant:"light",onClick:t,startContent:i.jsx(Hc,{className:"h-5 w-5"}),children:"Back to Lesson Plans"}),i.jsxs(rl,{color:"success",variant:"flat",size:"sm",className:"flex items-center",children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"})," Public Lesson Plan"]})]}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mb-4 text-sm text-gray-600",children:[e.status&&i.jsx(Jt,{color:sZe[e.status]||"default",size:"md",variant:"flat",className:"mr-2",children:e.status.replace("-"," ")}),i.jsxs("span",{children:[e.facultyName||"Faculty N/A"," - Class ",e.class," - Section ",e.sectionName||"N/A"]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ji,{className:"h-4 w-4 mr-1 text-gray-500"}),"Subject: ",e.subject]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(ls,{className:"h-4 w-4 mr-1 text-gray-500"}),"Teacher: ",e.teacherName||"N/A"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-1",children:[i.jsx(n,{label:"Lesson Date (B.S.)",value:e.lessonDateBS}),i.jsx(n,{label:"Estimated Periods",value:e.estimatedPeriods}),e.overallClassRating&&e.overallClassRating>0&&i.jsx(n,{label:"Overall Class Rating",children:i.jsx(yc,{rating:e.overallClassRating,max:5,size:20,color:"#22c55e"})}),e.actualPeriodsTaken&&i.jsx(n,{label:"Actual Periods Taken",value:e.actualPeriodsTaken}),i.jsx("div",{className:"md:col-span-2 mt-2",children:i.jsx(n,{label:"Description",value:e.description})}),i.jsx(n,{label:"Learning Objectives",value:e.learningObjectives}),i.jsx(n,{label:"Teaching Materials",value:e.teachingMaterials}),i.jsx(n,{label:"Assessment Methods",value:e.assessmentMethods}),e.teacherReflection&&i.jsx("div",{className:"md:col-span-2",children:i.jsx(n,{label:"Teacher's Reflection",value:e.teacherReflection})})]})]})},$Z=()=>{const{currentFilters:e,setFilter:t,clearFilters:n,availableSubjects:r,availableTeachers:s,isLoadingLessonPlans:a}=jZ(),o=m.useMemo(()=>r.map(c=>({id:c,name:c})),[r]),l=m.useMemo(()=>s.map(c=>({id:c.id,name:c.name})),[s]);return i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[i.jsx(dt,{label:"Subject",options:o,value:e.subject||null,onChange:c=>t("subject",c),placeholder:"All Subjects",disabled:a||o.length===0,allowClear:!0}),i.jsx(dt,{label:"Teacher",options:l,value:e.teacherId||null,onChange:c=>t("teacherId",c),placeholder:"All Teachers",disabled:a||l.length===0,allowClear:!0}),i.jsx(Bn,{placeholder:"Search by title...",value:e.searchText||"",onValueChange:c=>t("searchText",c),className:"sm:col-span-2 md:col-span-1"}),i.jsx(Se,{color:"default",variant:"ghost",onClick:n,className:"h-10 mt-auto",isDisabled:a,children:"Clear Filters"})]})})},EZ=()=>{const{studentProfile:e,fetchStudentProfile:t,isLoadingStudentProfile:n,publicLessonPlans:r,isLoadingLessonPlans:s,selectedLessonPlan:a,selectLessonPlan:o,error:l,setError:c}=jZ();return m.useEffect(()=>{t()},[t]),m.useEffect(()=>()=>{c(null)},[c,a]),n?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx(ct,{label:"Loading your profile...",size:"lg"})}):l&&!e?i.jsxs("div",{className:"p-6 text-center text-red-600",children:["Error: ",l]}):e?i.jsxs("div",{className:"p-4 md:p-6",children:[l&&i.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[i.jsx("span",{className:"block sm:inline",children:l}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>c(null),children:i.jsxs("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[i.jsx("title",{children:"Close"}),i.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),a?i.jsx(NZ,{plan:a,onBack:()=>o(null)}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h1",{className:"text-2xl font-semibold text-gray-800",children:["Public Lesson Plans for ",e.name]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Class: ",e.class,", Section: ",e.section]})]}),i.jsx($Z,{})," ",s&&i.jsx("div",{className:"flex justify-center p-10",children:i.jsx(ct,{label:"Loading lesson plans..."})}),!s&&r.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-10",children:"No public lesson plans found matching your class and section, or try adjusting filters."}),!s&&r.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(u=>i.jsx(CZ,{plan:u,onViewDetails:o},u.$id))})]})]}):i.jsx("div",{className:"p-6 text-center text-gray-600",children:"Could not load student information."})},aZe=Gt((e,t)=>({isLoading:!0,error:null,studentProfile:null,reviews:[],actions:{fetchStudentReviews:async()=>{e({isLoading:!0,error:null});try{const n=await ut.get(),r=await le.listDocuments(oc,on,[J.equal("stdEmail",n.email),J.limit(1)]);if(r.documents.length===0){console.warn(`No student profile found for email: ${n.email}`),e({isLoading:!1,error:"Your student profile could not be found with the logged-in email. Please contact administration.",studentProfile:null,reviews:[]});return}const s=r.documents[0];e({studentProfile:s});const a=await le.listDocuments(oc,Vi,[J.equal("studentId",s.$id),J.orderDesc("reviewDate")]),o=await Promise.all(a.documents.map(async l=>{let c="N/A",u="N/A";if(l.teacherId)try{const d=await le.listDocuments(oc,Ga,[J.equal("id",l.teacherId),J.limit(1)]);d.documents.length>0?c=d.documents[0].name:console.warn(`Teacher not found with custom ID: ${l.teacherId} for review ${l.$id}`)}catch(d){console.warn(`Failed to fetch teacher ${l.teacherId} for review ${l.$id}`,d)}if(l.sectionId)try{u=(await le.getDocument(oc,Qt,l.sectionId)).name}catch(d){console.warn(`Failed to fetch section ${l.sectionId} for review ${l.$id}`,d)}return{...l,teacherName:c,sectionName:u}}));e({reviews:o,isLoading:!1})}catch(n){console.error("Error fetching student reviews:",n),n.response&&console.error("Appwrite error response:",n.response),e({isLoading:!1,error:n.message||"An error occurred while fetching your reviews.",reviews:[]})}}}})),iZe=()=>et.getState().dbId,To=iZe,Ef=Gt((e,t)=>({isInitializing:!0,isClassTeacher:!1,classTeacherInfo:null,error:null,studentSearchTerm:"",searchedStudents:[],isLoadingStudents:!1,selectedStudent:null,reviews:[],isLoadingReviews:!1,isDrawerOpen:!1,drawerMode:"add",reviewToEdit:null,isSubmittingReview:!1,submitReviewError:null,isDeletePopoverOpen:!1,reviewToDelete:null,isDeletingReview:!1,actions:{checkAuthAndLoadTeacherInfo:async()=>{e({isInitializing:!0,error:null,submitReviewError:null});try{const n=await ut.get(),r=await le.listDocuments(To,Ga,[J.equal("email",n.email),J.limit(1)]);if(r.documents.length===0){e({isClassTeacher:!1,isInitializing:!1,error:"Access Denied: You are not registered as a teacher."});return}const s=r.documents[0],a=await le.listDocuments(To,Qt,[J.equal("class_teacher",s.id)]);if(a.documents.length===0){e({isClassTeacher:!1,isInitializing:!1,error:"Access Denied: You are not assigned as a class teacher to any section."});return}const o=a.documents.map(u=>({id:u.$id,name:u.name,className:u.class,facultyId:u.facultyId})),l=[...new Set(o.map(u=>u.facultyId).filter(Boolean))];let c=[];if(l.length>0){const u=l.map(f=>le.listDocuments(To,tr,[J.equal("id",f),J.limit(1)]));c=(await Promise.all(u)).flatMap(f=>f.documents.length>0?[{id:f.documents[0].id,name:f.documents[0].name}]:[]).filter(f=>f.id&&f.name)}e({isClassTeacher:!0,classTeacherInfo:{appwriteUserId:n.$id,teacherCustomId:s.id,name:s.name,email:s.email,managedSections:o,managedFaculties:c},isInitializing:!1})}catch(n){console.error("Auth check error:",n),e({isClassTeacher:!1,isInitializing:!1,error:n.message||"An error occurred during authentication."})}},setStudentSearchTerm:n=>e({studentSearchTerm:n}),searchStudents:async()=>{const{classTeacherInfo:n,studentSearchTerm:r}=t();if(e({error:null}),!n||n.managedSections.length===0){e({searchedStudents:[],isLoadingStudents:!1,error:"Not authorized or no sections managed."});return}const s=r.trim();if(!s){e({searchedStudents:[],selectedStudent:null,isLoadingStudents:!1});return}e({isLoadingStudents:!0});try{const a=[...new Set(n.managedSections.map(h=>h.className))],o=[...new Set(n.managedSections.map(h=>h.facultyId).filter(Boolean))],l=n.managedSections.map(h=>h.name),c=[J.equal("class",a),...o.length>0?[J.equal("facultyId",o)]:[],J.search("name",s)],d=(await le.listDocuments(To,on,c)).documents.filter(h=>l.includes(h.section)),f=await Promise.all(d.map(async h=>{let p="N/A";if(h.facultyId)try{const b=await le.listDocuments(To,tr,[J.equal("id",h.facultyId),J.limit(1)]);b.documents.length>0?p=b.documents[0].name:p=`ID ${h.facultyId} (Not Found)`}catch{p="Error fetching faculty"}return{...h,facultyName:p,sectionName:h.section}}));e({searchedStudents:f,isLoadingStudents:!1})}catch(a){console.error("Student search error in store:",a),e({searchedStudents:[],isLoadingStudents:!1,error:a.message||"Failed to search students. Please check console for details."})}},selectStudent:async n=>{e({selectedStudent:n,reviews:[],isLoadingReviews:!1,error:null}),n&&await t().actions.fetchReviewsForSelectedStudent()},fetchReviewsForSelectedStudent:async()=>{const{selectedStudent:n,classTeacherInfo:r}=t();if(!(!n||!r)){e({isLoadingReviews:!0,error:null});try{const s=await le.listDocuments(To,Vi,[J.equal("studentId",n.$id),J.orderDesc("reviewDate")]);e({reviews:s.documents,isLoadingReviews:!1})}catch(s){console.error("Fetch reviews error:",s),e({reviews:[],isLoadingReviews:!1,error:s.message||"Failed to fetch reviews."})}}},openDrawer:(n,r)=>{e({isDrawerOpen:!0,drawerMode:n,reviewToEdit:n==="edit"?r:null,submitReviewError:null})},closeDrawer:()=>{e({isDrawerOpen:!1,reviewToEdit:null,submitReviewError:null})},submitReview:async n=>{const{classTeacherInfo:r,selectedStudent:s,drawerMode:a,reviewToEdit:o}=t();if(!r||!s)return e({submitReviewError:"Critical error: Teacher or student context lost."}),!1;e({isSubmittingReview:!0,submitReviewError:null});let l;if(s.section&&s.class&&s.facultyId){const u=r.managedSections.find(d=>d.name===s.section&&d.className===s.class&&d.facultyId===s.facultyId);u&&(l=u.id)}if(!l)return console.error("SubmitReview Error: Could not determine the Section Document ID for the student's section.","Student's details:",{name:s.section,class:s.class,facultyId:s.facultyId}),e({isSubmittingReview:!1,submitReviewError:"Could not link review to a specific section document. Student's section details might be ambiguous or not managed by you."}),!1;const c={...n,studentId:s.$id,teacherId:r.teacherCustomId,sectionId:l};try{let u=null;if(a==="add"?u=await le.createDocument(To,Vi,dn.unique(),c):a==="edit"&&o&&(u=await le.updateDocument(To,Vi,o.$id,c)),e({isSubmittingReview:!1,isDrawerOpen:!1,reviewToEdit:null}),await t().actions.fetchReviewsForSelectedStudent(),a==="add"&&u)try{const d=r.email;if(!d)console.warn("Notification not sent: Sender email (teacher's email) could not be determined from classTeacherInfo.");else{const f={title:`New Review Added for ${s.name}`,msg:`A new performance review for "${n.type}" has been added for ${s.name} by teacher ${r.name}. Review Date: ${new Date(n.reviewDate).toLocaleDateString()}.`,to:[`id:${s.$id}`],valid:xc(),sender:d};await Yi(f)}}catch(d){console.error("Failed to send notification for new review:",d)}return!0}catch(u){return console.error("Submit review error:",u),e({isSubmittingReview:!1,submitReviewError:u.message||"Failed to submit review."}),!1}},openDeletePopover:n=>{e({isDeletePopoverOpen:!0,reviewToDelete:n})},closeDeletePopover:()=>{e({isDeletePopoverOpen:!1,reviewToDelete:null})},confirmDeleteReview:async()=>{const{reviewToDelete:n}=t();if(!n)return!1;e({isDeletingReview:!0});try{return await le.deleteDocument(To,Vi,n.$id),e({isDeletingReview:!1,isDeletePopoverOpen:!1,reviewToDelete:null}),await t().actions.fetchReviewsForSelectedStudent(),!0}catch(r){return console.error("Delete review error:",r),e({isDeletingReview:!1,error:r.message||"Failed to delete review."}),!1}},clearErrors:()=>e({error:null,submitReviewError:null})}})),Zf=[{id:"hygiene",name:"Hygiene"},{id:"discipline",name:"Discipline"},{id:"academic_performance",name:"Academic Performance"},{id:"class_participation",name:"Class Participation"},{id:"behavior",name:"Behavior"},{id:"responsibility",name:"Responsibility"},{id:"social_skills",name:"Social Skills"},{id:"homework_completion",name:"Homework Completion"},{id:"punctuality",name:"Punctuality"},{id:"other",name:"Other"}],l2=[{id:"excellent",name:"Excellent"},{id:"very_good",name:"Very Good"},{id:"good",name:"Good"},{id:"satisfactory",name:"Satisfactory"},{id:"needs_improvement",name:"Needs Improvement"},{id:"unsatisfactory",name:"Unsatisfactory"}],Gx=e=>{try{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}catch(t){return console.error("AD to BS Conversion Error:",t),""}},oZe=e=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return"";try{const[t,n,r]=e.split("-").map(Number),a=new Hn(t,n-1,r).toJsDate();return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(t){return console.error("BS to AD Conversion Error:",t),""}},lZe=()=>{var y;const{drawerMode:e,reviewToEdit:t,isSubmittingReview:n,submitReviewError:r,actions:s}=Ef(),[a,o]=m.useState(((y=Zf[0])==null?void 0:y.id.toString())||null),[l,c]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(Gx(new Date)),[p,b]=m.useState("");m.useEffect(()=>{var v;b(""),e==="edit"&&t?(o(t.type),c(t.description),d(t.rating||null),h(Gx(t.reviewDate))):(o(((v=Zf[0])==null?void 0:v.id.toString())||null),c(""),d(null),h(Gx(new Date)))},[e,t]);const x=async v=>{if(v.preventDefault(),b(""),s.clearErrors(),!a||!l){alert("Review Type and Description are required.");return}if(!/^\d{4}-\d{2}-\d{2}$/.test(f)){b("Review Date must be in YYYY-MM-DD BS format.");return}const j=oZe(f);if(!j){b("Invalid BS Date. Please check the year, month, and day.");return}await s.submitReview({type:a,description:l,rating:u||void 0,reviewDate:j})&&e==="add"&&h(Gx(new Date))};return i.jsxs("form",{onSubmit:x,className:"space-y-4 p-1",children:[i.jsx("div",{children:i.jsx(dt,{label:"Review Type *",options:Zf,value:a,onChange:v=>o(v),placeholder:"Select review type",disabled:n})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),i.jsx(Ss,{id:"description",value:l,onValueChange:c,placeholder:"Detailed review comments",rows:4,disabled:n,className:"w-full"})]}),i.jsx("div",{children:i.jsx(dt,{label:"Overall Rating (Optional)",options:l2,value:u,onChange:v=>d(v),placeholder:"Select rating",allowClear:!0,disabled:n})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"reviewDateInBS",className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Date (BS - YYYY-MM-DD) *"}),i.jsx(Ve,{id:"reviewDateInBS",type:"text",value:f,onValueChange:v=>{h(v),p&&b("")},placeholder:"e.g., 2081-01-15",disabled:n,className:"w-full max-w-[250px]",isInvalid:!!p}),p&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:p})]}),r&&i.jsx("p",{className:"text-sm text-red-600 mt-2",children:r}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-3",children:[i.jsx(Se,{type:"button",color:"default",variant:"flat",onPress:s.closeDrawer,disabled:n,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:n,disabled:n,children:e==="add"?"Add Review":"Save Changes"})]})]})},cZe=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} BS`}catch{return e.split("T")[0]+" (AD - Conv. Error)"}},AZ=()=>{const{isLoading:e,error:t,studentProfile:n,reviews:r,actions:s}=aZe();return m.useEffect(()=>{s.fetchStudentReviews()},[s]),e?i.jsx("div",{className:"flex min-h-screen flex-col justify-center items-center bg-gray-100 p-4",children:i.jsx(ct,{label:"Loading your reviews...",color:"primary",size:"lg"})}):t?i.jsx("div",{className:"flex min-h-screen flex-col justify-center items-center bg-gray-100 p-4 text-center",children:i.jsxs(mt,{className:"w-full max-w-md shadow-xl",children:[i.jsx(Un,{className:"bg-red-100 text-red-700 p-4",children:i.jsx("h1",{className:"text-xl font-semibold",children:"Error"})}),i.jsx(yt,{className:"p-6",children:i.jsx("p",{className:"text-gray-700",children:t})})]})}):n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6 sm:space-y-8",children:[i.jsxs("header",{className:"mb-6 sm:mb-8 p-6 bg-white rounded-xl shadow-lg border border-gray-200 text-center",children:[i.jsx(ls,{className:"w-20 h-20 mx-auto text-indigo-500 mb-3"}),i.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight",children:"My Performance Reviews"}),i.jsxs("p",{className:"text-lg text-slate-600 mt-1",children:["Hello, ",n.name,"!"]})]}),r.length===0&&i.jsx(mt,{className:"shadow-lg border border-gray-200 rounded-xl overflow-hidden",children:i.jsxs(yt,{className:"p-8 text-center",children:[i.jsx(Mc,{className:"w-24 h-24 mx-auto text-gray-300 mb-4"}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"No Reviews Found"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"There are currently no performance reviews available for you. Please check back later or contact your class teacher if you expect to see reviews."})]})}),r.length>0&&i.jsx("div",{className:"space-y-5",children:r.map(a=>{var o,l;return i.jsxs(mt,{className:"shadow-lg border border-gray-200 rounded-xl overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[i.jsx(Un,{className:"bg-slate-50 p-4 sm:p-5 border-b border-gray-200",children:i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 capitalize flex items-center",children:[i.jsx(yg,{className:"w-6 h-6 mr-2.5 text-amber-500 flex-shrink-0"}),((o=Zf.find(c=>c.id===a.type))==null?void 0:o.name)||a.type," Review"]})}),i.jsxs(yt,{className:"p-4 sm:p-6 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(er,{className:"w-5 h-5 mr-2 text-indigo-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Date:"})," ",cZe(a.reviewDate)]}),i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(ls,{className:"w-5 h-5 mr-2 text-teal-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"By Teacher:"})," ",a.teacherName||"N/A"]}),a.rating&&i.jsxs("p",{className:"flex items-center text-slate-600 sm:col-span-2",children:[i.jsx(yg,{className:"w-5 h-5 mr-2 text-yellow-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Overall Rating:"}),i.jsx("span",{className:"font-semibold text-indigo-700",children:((l=l2.find(c=>c.id===a.rating))==null?void 0:l.name)||a.rating})]}),i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(so,{className:"w-5 h-5 mr-2 text-purple-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Section at time of review:"})," ",a.sectionName||"N/A"]})]}),i.jsx(Ed,{className:"my-3"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-slate-700 mb-1.5 flex items-center",children:[i.jsx(Z1,{className:"w-5 h-5 mr-2 text-sky-500 flex-shrink-0"}),"Teacher's Comments:"]}),i.jsx("p",{className:"text-slate-700 leading-relaxed bg-slate-50 p-3 rounded-md border border-slate-200 whitespace-pre-wrap",children:a.description})]})]})]},a.$id)})}),i.jsxs("footer",{className:"text-center mt-10 py-4 text-sm text-slate-500",children:["School Management System © ",new Date().getFullYear()]})]})}):i.jsx("div",{className:"flex min-h-screen flex-col justify-center items-center bg-gray-100 p-4 text-center",children:i.jsx("p",{className:"text-lg text-gray-600",children:"Student profile not loaded. Please try again later."})})};function ad(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function mA(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function pA(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function gA(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function uZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function dZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function yd(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function c2(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function fZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function hZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function mZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(e)}function pZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function PZ(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function gZe(e){return xn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function bZe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const xZe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yZe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vZe={};function V_(e,t){return(vZe.jsx?yZe:xZe).test(e)}const wZe=/[ \t\n\f\r]/g;function SZe(e){return typeof e=="object"?e.type==="text"?W_(e.value):!1:W_(e)}function W_(e){return e.replace(wZe,"")===""}class Z0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Z0.prototype.normal={};Z0.prototype.property={};Z0.prototype.space=void 0;function DZ(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Z0(n,r,t)}function TN(e){return e.toLowerCase()}class Ys{constructor(t,n){this.attribute=n,this.property=t}}Ys.prototype.attribute="";Ys.prototype.booleanish=!1;Ys.prototype.boolean=!1;Ys.prototype.commaOrSpaceSeparated=!1;Ys.prototype.commaSeparated=!1;Ys.prototype.defined=!1;Ys.prototype.mustUseProperty=!1;Ys.prototype.number=!1;Ys.prototype.overloadedBoolean=!1;Ys.prototype.property="";Ys.prototype.spaceSeparated=!1;Ys.prototype.space=void 0;let jZe=0;const Mt=_d(),fr=_d(),MN=_d(),ze=_d(),$n=_d(),Jf=_d(),ra=_d();function _d(){return 2**++jZe}const ON=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mt,booleanish:fr,commaOrSpaceSeparated:ra,commaSeparated:Jf,number:ze,overloadedBoolean:MN,spaceSeparated:$n},Symbol.toStringTag,{value:"Module"})),u5=Object.keys(ON);class bA extends Ys{constructor(t,n,r,s){let a=-1;if(super(t,n),U_(this,"space",s),typeof r=="number")for(;++a<u5.length;){const o=u5[a];U_(this,u5[a],(r&ON[o])===ON[o])}}}bA.prototype.defined=!0;function U_(e,t,n){n&&(e[t]=n)}function om(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new bA(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[TN(r)]=r,n[TN(a.attribute)]=r}return new Z0(t,n,e.space)}const kZ=om({properties:{ariaActiveDescendant:null,ariaAtomic:fr,ariaAutoComplete:null,ariaBusy:fr,ariaChecked:fr,ariaColCount:ze,ariaColIndex:ze,ariaColSpan:ze,ariaControls:$n,ariaCurrent:null,ariaDescribedBy:$n,ariaDetails:null,ariaDisabled:fr,ariaDropEffect:$n,ariaErrorMessage:null,ariaExpanded:fr,ariaFlowTo:$n,ariaGrabbed:fr,ariaHasPopup:null,ariaHidden:fr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$n,ariaLevel:ze,ariaLive:null,ariaModal:fr,ariaMultiLine:fr,ariaMultiSelectable:fr,ariaOrientation:null,ariaOwns:$n,ariaPlaceholder:null,ariaPosInSet:ze,ariaPressed:fr,ariaReadOnly:fr,ariaRelevant:null,ariaRequired:fr,ariaRoleDescription:$n,ariaRowCount:ze,ariaRowIndex:ze,ariaRowSpan:ze,ariaSelected:fr,ariaSetSize:ze,ariaSort:null,ariaValueMax:ze,ariaValueMin:ze,ariaValueNow:ze,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function IZ(e,t){return t in e?e[t]:t}function TZ(e,t){return IZ(e,t.toLowerCase())}const CZe=om({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Jf,acceptCharset:$n,accessKey:$n,action:null,allow:null,allowFullScreen:Mt,allowPaymentRequest:Mt,allowUserMedia:Mt,alt:null,as:null,async:Mt,autoCapitalize:null,autoComplete:$n,autoFocus:Mt,autoPlay:Mt,blocking:$n,capture:null,charSet:null,checked:Mt,cite:null,className:$n,cols:ze,colSpan:null,content:null,contentEditable:fr,controls:Mt,controlsList:$n,coords:ze|Jf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mt,defer:Mt,dir:null,dirName:null,disabled:Mt,download:MN,draggable:fr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mt,formTarget:null,headers:$n,height:ze,hidden:MN,high:ze,href:null,hrefLang:null,htmlFor:$n,httpEquiv:$n,id:null,imageSizes:null,imageSrcSet:null,inert:Mt,inputMode:null,integrity:null,is:null,isMap:Mt,itemId:null,itemProp:$n,itemRef:$n,itemScope:Mt,itemType:$n,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mt,low:ze,manifest:null,max:null,maxLength:ze,media:null,method:null,min:null,minLength:ze,multiple:Mt,muted:Mt,name:null,nonce:null,noModule:Mt,noValidate:Mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mt,optimum:ze,pattern:null,ping:$n,placeholder:null,playsInline:Mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mt,referrerPolicy:null,rel:$n,required:Mt,reversed:Mt,rows:ze,rowSpan:ze,sandbox:$n,scope:null,scoped:Mt,seamless:Mt,selected:Mt,shadowRootClonable:Mt,shadowRootDelegatesFocus:Mt,shadowRootMode:null,shape:null,size:ze,sizes:null,slot:null,span:ze,spellCheck:fr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ze,step:null,style:null,tabIndex:ze,target:null,title:null,translate:null,type:null,typeMustMatch:Mt,useMap:null,value:fr,width:ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$n,axis:null,background:null,bgColor:null,border:ze,borderColor:null,bottomMargin:ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mt,declare:Mt,event:null,face:null,frame:null,frameBorder:null,hSpace:ze,leftMargin:ze,link:null,longDesc:null,lowSrc:null,marginHeight:ze,marginWidth:ze,noResize:Mt,noHref:Mt,noShade:Mt,noWrap:Mt,object:null,profile:null,prompt:null,rev:null,rightMargin:ze,rules:null,scheme:null,scrolling:fr,standby:null,summary:null,text:null,topMargin:ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mt,disableRemotePlayback:Mt,prefix:null,property:null,results:ze,security:null,unselectable:null},space:"html",transform:TZ}),NZe=om({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ra,accentHeight:ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ze,amplitude:ze,arabicForm:null,ascent:ze,attributeName:null,attributeType:null,azimuth:ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ze,by:null,calcMode:null,capHeight:ze,className:$n,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ze,diffuseConstant:ze,direction:null,display:null,dur:null,divisor:ze,dominantBaseline:null,download:Mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ze,enableBackground:null,end:null,event:null,exponent:ze,externalResourcesRequired:null,fill:null,fillOpacity:ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Jf,g2:Jf,glyphName:Jf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ze,horizOriginX:ze,horizOriginY:ze,id:null,ideographic:ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ze,k:ze,k1:ze,k2:ze,k3:ze,k4:ze,kernelMatrix:ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ze,overlineThickness:ze,paintOrder:null,panose1:null,path:null,pathLength:ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$n,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ze,pointsAtY:ze,pointsAtZ:ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ra,rev:ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ra,requiredFeatures:ra,requiredFonts:ra,requiredFormats:ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ze,specularExponent:ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ze,strikethroughThickness:ze,string:null,stroke:null,strokeDashArray:ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ze,strokeOpacity:ze,strokeWidth:null,style:null,surfaceScale:ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ra,tabIndex:ze,tableValues:null,target:null,targetX:ze,targetY:ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ze,underlineThickness:ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ze,values:null,vAlphabetic:ze,vMathematical:ze,vectorEffect:null,vHanging:ze,vIdeographic:ze,version:null,vertAdvY:ze,vertOriginX:ze,vertOriginY:ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:IZ}),MZ=om({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),OZ=om({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:TZ}),LZ=om({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),$Ze={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EZe=/[A-Z]/g,K_=/-[a-z]/g,AZe=/^data[-\w.:]+$/i;function PZe(e,t){const n=TN(t);let r=t,s=Ys;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&AZe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(K_,kZe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!K_.test(a)){let o=a.replace(EZe,DZe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=bA}return new s(r,t)}function DZe(e){return"-"+e.toLowerCase()}function kZe(e){return e.charAt(1).toUpperCase()}const IZe=DZ([kZ,CZe,MZ,OZ,LZ],"html"),xA=DZ([kZ,NZe,MZ,OZ,LZ],"svg");function TZe(e){return e.join(" ").trim()}var yA={},H_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,MZe=/\n/g,OZe=/^\s*/,LZe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_Ze=/^:\s*/,FZe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,RZe=/^[;\s]*/,BZe=/^\s+|\s+$/g,zZe=`
`,q_="/",G_="*",Fu="",VZe="comment",WZe="declaration",UZe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(b){var x=b.match(MZe);x&&(n+=x.length);var y=b.lastIndexOf(zZe);r=~y?b.length-y:r+b.length}function a(){var b={line:n,column:r};return function(x){return x.position=new o(b),u(),x}}function o(b){this.start=b,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(b){var x=new Error(t.source+":"+n+":"+r+": "+b);if(x.reason=b,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function c(b){var x=b.exec(e);if(x){var y=x[0];return s(y),e=e.slice(y.length),x}}function u(){c(OZe)}function d(b){var x;for(b=b||[];x=f();)x!==!1&&b.push(x);return b}function f(){var b=a();if(!(q_!=e.charAt(0)||G_!=e.charAt(1))){for(var x=2;Fu!=e.charAt(x)&&(G_!=e.charAt(x)||q_!=e.charAt(x+1));)++x;if(x+=2,Fu===e.charAt(x-1))return l("End of comment missing");var y=e.slice(2,x-2);return r+=2,s(y),e=e.slice(x),r+=2,b({type:VZe,comment:y})}}function h(){var b=a(),x=c(LZe);if(x){if(f(),!c(_Ze))return l("property missing ':'");var y=c(FZe),v=b({type:WZe,property:Y_(x[0].replace(H_,Fu)),value:y?Y_(y[0].replace(H_,Fu)):Fu});return c(RZe),v}}function p(){var b=[];d(b);for(var x;x=h();)x!==!1&&(b.push(x),d(b));return b}return u(),p()};function Y_(e){return e?e.replace(BZe,Fu):Fu}var KZe=la&&la.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yA,"__esModule",{value:!0});yA.default=qZe;var HZe=KZe(UZe);function qZe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,HZe.default)(e),s=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,l=a.value;s?t(o,l,a):l&&(n=n||{},n[o]=l)}}),n}var u2={};Object.defineProperty(u2,"__esModule",{value:!0});u2.camelCase=void 0;var GZe=/^--[a-zA-Z0-9_-]+$/,YZe=/-([a-z])/g,XZe=/^[^-]+$/,ZZe=/^-(webkit|moz|ms|o|khtml)-/,JZe=/^-(ms)-/,QZe=function(e){return!e||XZe.test(e)||GZe.test(e)},eJe=function(e,t){return t.toUpperCase()},X_=function(e,t){return"".concat(t,"-")},tJe=function(e,t){return t===void 0&&(t={}),QZe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(JZe,X_):e=e.replace(ZZe,X_),e.replace(YZe,eJe))};u2.camelCase=tJe;var nJe=la&&la.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},rJe=nJe(yA),sJe=u2;function LN(e,t){var n={};return!e||typeof e!="string"||(0,rJe.default)(e,function(r,s){r&&s&&(n[(0,sJe.camelCase)(r,t)]=s)}),n}LN.default=LN;var aJe=LN;const iJe=rn(aJe),_Z=FZ("end"),vA=FZ("start");function FZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oJe(e){const t=vA(e),n=_Z(e);if(t&&n)return{start:t,end:n}}function Zp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Z_(e.position):"start"in e||"end"in e?Z_(e):"line"in e||"column"in e?_N(e):""}function _N(e){return J_(e&&e.line)+":"+J_(e&&e.column)}function Z_(e){return _N(e&&e.start)+"-"+_N(e&&e.end)}function J_(e){return e&&typeof e=="number"?e:1}class us extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?s=t:!a.cause&&t&&(o=!0,s=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=l?l.line:void 0,this.name=Zp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}us.prototype.file="";us.prototype.name="";us.prototype.reason="";us.prototype.message="";us.prototype.stack="";us.prototype.column=void 0;us.prototype.line=void 0;us.prototype.ancestors=void 0;us.prototype.cause=void 0;us.prototype.fatal=void 0;us.prototype.place=void 0;us.prototype.ruleId=void 0;us.prototype.source=void 0;const wA={}.hasOwnProperty,lJe=new Map,cJe=/[A-Z]/g,uJe=new Set(["table","tbody","thead","tfoot","tr"]),dJe=new Set(["td","th"]),RZ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fJe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vJe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yJe(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xA:IZe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=BZ(s,e,void 0);return a&&typeof a!="string"?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function BZ(e,t,n){if(t.type==="element")return hJe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mJe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return gJe(e,t,n);if(t.type==="mdxjsEsm")return pJe(e,t);if(t.type==="root")return bJe(e,t,n);if(t.type==="text")return xJe(e,t)}function hJe(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=xA,e.schema=s),e.ancestors.push(t);const a=VZ(e,t.tagName,!1),o=wJe(e,t);let l=jA(e,t);return uJe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!SZe(c):!0})),zZ(e,o,a,t),SA(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function mJe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}i0(e,t.position)}function pJe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);i0(e,t.position)}function gJe(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=xA,e.schema=s),e.ancestors.push(t);const a=t.name===null?e.Fragment:VZ(e,t.name,!0),o=SJe(e,t),l=jA(e,t);return zZ(e,o,a,t),SA(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function bJe(e,t,n){const r={};return SA(r,jA(e,t)),e.create(t,e.Fragment,r,n)}function xJe(e,t){return t.value}function zZ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function SA(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yJe(e,t,n){return r;function r(s,a,o,l){const u=Array.isArray(o.children)?n:t;return l?u(a,o,l):u(a,o)}}function vJe(e,t){return n;function n(r,s,a,o){const l=Array.isArray(a.children),c=vA(r);return t(s,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function wJe(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&wA.call(t.properties,s)){const a=jJe(e,s,t.properties[s]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&dJe.has(t.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function SJe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else i0(e,t.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else i0(e,t.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function jA(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:lJe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=s.get(c)||0;o=c+"-"+u,s.set(c,u+1)}}const l=BZ(e,a,o);l!==void 0&&n.push(l)}return n}function jJe(e,t,n){const r=PZe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?bZe(n):TZe(n)),r.property==="style"){let s=typeof n=="object"?n:CJe(e,String(n));return e.stylePropertyNameCase==="css"&&(s=NJe(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?$Ze[r.property]||r.property:r.attribute,n]}}function CJe(e,t){try{return iJe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new us("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=RZ+"#cannot-parse-style-attribute",s}}function VZ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let a=-1,o;for(;++a<s.length;){const l=V_(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=V_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return wA.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);i0(e)}function i0(e,t){const n=new us("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=RZ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function NJe(e){const t={};let n;for(n in e)wA.call(e,n)&&(t[$Je(n)]=e[n]);return t}function $Je(e){let t=e.replace(cJe,EJe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function EJe(e){return"-"+e.toLowerCase()}const d5={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AJe={};function CA(e,t){const n=AJe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WZ(e,r,s)}function WZ(e,t,n){if(PJe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Q_(e.children,t,n)}return Array.isArray(e)?Q_(e,t,n):""}function Q_(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=WZ(e[s],t,n);return r.join("")}function PJe(e){return!!(e&&typeof e=="object")}const eF=document.createElement("i");function NA(e){const t="&"+e+";";eF.innerHTML=t;const n=eF.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ga(e,t,n,r){const s=e.length;let a=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function _a(e,t){return e.length>0?(ga(e,e.length,0,t),e):t}const tF={}.hasOwnProperty;function UZ(e){const t={};let n=-1;for(;++n<e.length;)DJe(t,e[n]);return t}function DJe(e,t){let n;for(n in t){const s=(tF.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){tF.call(s,o)||(s[o]=[]);const l=a[o];kJe(s[o],Array.isArray(l)?l:l?[l]:[])}}}function kJe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ga(e,0,0,r)}function KZ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const js=ru(/[A-Za-z]/),rs=ru(/[\dA-Za-z]/),IJe=ru(/[#-'*+\--9=?A-Z^-~]/);function u1(e){return e!==null&&(e<32||e===127)}const FN=ru(/\d/),TJe=ru(/[\dA-Fa-f]/),MJe=ru(/[!-/:-@[-`{-~]/);function ft(e){return e!==null&&e<-2}function Cn(e){return e!==null&&(e<0||e===32)}function zt(e){return e===-2||e===-1||e===32}const d2=ru(new RegExp("\\p{P}|\\p{S}","u")),vd=ru(/\s/);function ru(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function lm(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&rs(e.charCodeAt(n+1))&&rs(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),s=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Zt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return zt(c)?(e.enter(n),l(c)):t(c)}function l(c){return zt(c)&&a++<s?(e.consume(c),l):(e.exit(n),t(c))}}const OJe={tokenize:LJe};function LJe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Zt(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ft(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const _Je={tokenize:FJe},nF={tokenize:RJe};function FJe(e){const t=this,n=[];let r=0,s,a,o;return l;function l(S){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,c,u)(S)}return u(S)}function c(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&j();const N=t.events.length;let C=N,$;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){$=t.events[C][1].end;break}v(r);let P=N;for(;P<t.events.length;)t.events[P][1].end={...$},P++;return ga(t.events,C+1,0,t.events.slice(N)),t.events.length=P,u(S)}return l(S)}function u(S){if(r===n.length){if(!s)return h(S);if(s.currentConstruct&&s.currentConstruct.concrete)return b(S);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(nF,d,f)(S)}function d(S){return s&&j(),v(r),h(S)}function f(S){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,b(S)}function h(S){return t.containerState={},e.attempt(nF,p,b)(S)}function p(S){return r++,n.push([t.currentConstruct,t.containerState]),h(S)}function b(S){if(S===null){s&&j(),v(0),e.consume(S);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),x(S)}function x(S){if(S===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(S);return}return ft(S)?(e.consume(S),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(S),x)}function y(S,N){const C=t.sliceStream(S);if(N&&C.push(null),S.previous=a,a&&(a.next=S),a=S,s.defineSkip(S.start),s.write(C),t.parser.lazy[S.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<o&&(!s.events[$][1].end||s.events[$][1].end.offset>o))return;const P=t.events.length;let E=P,M,k;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(M){k=t.events[E][1].end;break}M=!0}for(v(r),$=P;$<t.events.length;)t.events[$][1].end={...k},$++;ga(t.events,E+1,0,t.events.slice(P)),t.events.length=$}}function v(S){let N=n.length;for(;N-- >S;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=S}function j(){s.write([null]),a=void 0,s=void 0,t.containerState._closeFlow=void 0}}function RJe(e,t,n){return Zt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Oh(e){if(e===null||Cn(e)||vd(e))return 1;if(d2(e))return 2}function f2(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const RN={name:"attention",resolveAll:BJe,tokenize:zJe};function BJe(e,t){let n=-1,r,s,a,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};rF(f,-c),rF(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=_a(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=_a(u,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=_a(u,f2(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=_a(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=_a(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ga(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zJe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Oh(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Oh(c),f=!d||d===2&&s||n.includes(c),h=!s||s===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(s||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(c)}}function rF(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const VJe={name:"autolink",tokenize:WJe};function WJe(e,t,n){let r=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return js(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||rs(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||rs(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||u1(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):IJe(p)?(e.consume(p),u):n(p)}function d(p){return rs(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||rs(p))&&r++<63){const b=p===45?h:f;return e.consume(p),b}return n(p)}}const J0={partial:!0,tokenize:UJe};function UJe(e,t,n){return r;function r(a){return zt(a)?Zt(e,s,"linePrefix")(a):s(a)}function s(a){return a===null||ft(a)?t(a):n(a)}}const HZ={continuation:{tokenize:HJe},exit:qJe,name:"blockQuote",tokenize:KJe};function KJe(e,t,n){const r=this;return s;function s(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return zt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function HJe(e,t,n){const r=this;return s;function s(o){return zt(o)?Zt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(HZ,t,n)(o)}}function qJe(e){e.exit("blockQuote")}const qZ={name:"characterEscape",tokenize:GJe};function GJe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),s}function s(a){return MJe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const GZ={name:"characterReference",tokenize:YJe};function YJe(e,t,n){const r=this;let s=0,a,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=rs,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=TJe,d):(e.enter("characterReferenceValue"),a=7,o=FN,d(f))}function d(f){if(f===59&&s){const h=e.exit("characterReferenceValue");return o===rs&&!NA(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&s++<a?(e.consume(f),d):n(f)}}const sF={partial:!0,tokenize:ZJe},aF={concrete:!0,name:"codeFenced",tokenize:XJe};function XJe(e,t,n){const r=this,s={partial:!0,tokenize:C};let a=0,o=0,l;return c;function c($){return u($)}function u($){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=$,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d($)}function d($){return $===l?(o++,e.consume($),d):o<3?n($):(e.exit("codeFencedFenceSequence"),zt($)?Zt(e,f,"whitespace")($):f($))}function f($){return $===null||ft($)?(e.exit("codeFencedFence"),r.interrupt?t($):e.check(sF,x,N)($)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h($))}function h($){return $===null||ft($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f($)):zt($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Zt(e,p,"whitespace")($)):$===96&&$===l?n($):(e.consume($),h)}function p($){return $===null||ft($)?f($):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b($))}function b($){return $===null||ft($)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f($)):$===96&&$===l?n($):(e.consume($),b)}function x($){return e.attempt(s,N,y)($)}function y($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),v}function v($){return a>0&&zt($)?Zt(e,j,"linePrefix",a+1)($):j($)}function j($){return $===null||ft($)?e.check(sF,x,N)($):(e.enter("codeFlowValue"),S($))}function S($){return $===null||ft($)?(e.exit("codeFlowValue"),j($)):(e.consume($),S)}function N($){return e.exit("codeFenced"),t($)}function C($,P,E){let M=0;return k;function k(F){return $.enter("lineEnding"),$.consume(F),$.exit("lineEnding"),A}function A(F){return $.enter("codeFencedFence"),zt(F)?Zt($,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):I(F)}function I(F){return F===l?($.enter("codeFencedFenceSequence"),L(F)):E(F)}function L(F){return F===l?(M++,$.consume(F),L):M>=o?($.exit("codeFencedFenceSequence"),zt(F)?Zt($,R,"whitespace")(F):R(F)):E(F)}function R(F){return F===null||ft(F)?($.exit("codeFencedFence"),P(F)):E(F)}}}function ZJe(e,t,n){const r=this;return s;function s(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const f5={name:"codeIndented",tokenize:QJe},JJe={partial:!0,tokenize:eQe};function QJe(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),Zt(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):ft(u)?e.attempt(JJe,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||ft(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function eQe(e,t,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):ft(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):Zt(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):ft(o)?s(o):n(o)}}const tQe={name:"codeText",previous:rQe,resolve:nQe,tokenize:sQe};function nQe(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function rQe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sQe(e,t,n){let r=0,s,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),s=0,d(f)):ft(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ft(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class aQe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&lp(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),lp(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),lp(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);lp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);lp(this.left,n.reverse())}}}function lp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function YZ(e){const t={};let n=-1,r,s,a,o,l,c,u;const d=new aQe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iQe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return ga(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function iQe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,f,h=-1,p=n,b=0,x=0;const y=[x];for(;p;){for(;e.get(++s)[1]!==p;);a.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(x=h+1,y.push(x),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const v=l.slice(y[h],y[h+1]),j=a.pop();c.push([j,j+v.length-1]),e.splice(j,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[b+c[h][0]]=b+c[h][1],b+=c[h][1]-c[h][0]-1;return u}const oQe={resolve:cQe,tokenize:uQe},lQe={partial:!0,tokenize:dQe};function cQe(e){return YZ(e),e}function uQe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?a(l):ft(l)?e.check(lQe,o,a)(l):(e.consume(l),s)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function dQe(e,t,n){const r=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Zt(e,a,"linePrefix")}function a(o){if(o===null||ft(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function XZ(e,t,n,r,s,a,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(s),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||u1(v)?n(v):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),h(v)):v===null||v===60||ft(v)?n(v):(e.consume(v),v===92?b:p)}function b(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function x(v){return!d&&(v===null||v===41||Cn(v))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,x):v===41?(e.consume(v),d--,x):v===null||v===32||v===40||u1(v)?n(v):(e.consume(v),v===92?y:x)}function y(v){return v===40||v===41||v===92?(e.consume(v),x):x(v)}}function ZZ(e,t,n,r,s,a){const o=this;let l=0,c;return u;function u(p){return e.enter(r),e.enter(s),e.consume(p),e.exit(s),e.enter(a),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):ft(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ft(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!zt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function JZ(e,t,n,r,s,a){let o;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(s),e.consume(h),e.exit(s),o=h===40?41:h,c):n(h)}function c(h){return h===o?(e.enter(s),e.consume(h),e.exit(s),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===o?(e.exit(a),c(o)):h===null?n(h):ft(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Zt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||ft(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===o||h===92?(e.consume(h),d):d(h)}}function Jp(e,t){let n;return r;function r(s){return ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):zt(s)?Zt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const fQe={name:"definition",tokenize:mQe},hQe={partial:!0,tokenize:pQe};function mQe(e,t,n){const r=this;let s;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return ZZ.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Cn(p)?Jp(e,u)(p):u(p)}function u(p){return XZ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(hQe,f,f)(p)}function f(p){return zt(p)?Zt(e,h,"whitespace")(p):h(p)}function h(p){return p===null||ft(p)?(e.exit("definition"),r.parser.defined.push(s),t(p)):n(p)}}function pQe(e,t,n){return r;function r(l){return Cn(l)?Jp(e,s)(l):n(l)}function s(l){return JZ(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return zt(l)?Zt(e,o,"whitespace")(l):o(l)}function o(l){return l===null||ft(l)?t(l):n(l)}}const gQe={name:"hardBreakEscape",tokenize:bQe};function bQe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),s}function s(a){return ft(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const xQe={name:"headingAtx",resolve:yQe,tokenize:vQe};function yQe(e,t){let n=e.length-2,r=3,s,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ga(e,r,n-r+1,[["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t]])),e}function vQe(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Cn(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ft(d)?(e.exit("atxHeading"),t(d)):zt(d)?Zt(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Cn(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const wQe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iF=["pre","script","style","textarea"],SQe={concrete:!0,name:"htmlFlow",resolveTo:NQe,tokenize:$Qe},jQe={partial:!0,tokenize:AQe},CQe={partial:!0,tokenize:EQe};function NQe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $Qe(e,t,n){const r=this;let s,a,o,l,c;return u;function u(B){return d(B)}function d(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),f}function f(B){return B===33?(e.consume(B),h):B===47?(e.consume(B),a=!0,x):B===63?(e.consume(B),s=3,r.interrupt?t:z):js(B)?(e.consume(B),o=String.fromCharCode(B),y):n(B)}function h(B){return B===45?(e.consume(B),s=2,p):B===91?(e.consume(B),s=5,l=0,b):js(B)?(e.consume(B),s=4,r.interrupt?t:z):n(B)}function p(B){return B===45?(e.consume(B),r.interrupt?t:z):n(B)}function b(B){const Y="CDATA[";return B===Y.charCodeAt(l++)?(e.consume(B),l===Y.length?r.interrupt?t:I:b):n(B)}function x(B){return js(B)?(e.consume(B),o=String.fromCharCode(B),y):n(B)}function y(B){if(B===null||B===47||B===62||Cn(B)){const Y=B===47,ae=o.toLowerCase();return!Y&&!a&&iF.includes(ae)?(s=1,r.interrupt?t(B):I(B)):wQe.includes(o.toLowerCase())?(s=6,Y?(e.consume(B),v):r.interrupt?t(B):I(B)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):a?j(B):S(B))}return B===45||rs(B)?(e.consume(B),o+=String.fromCharCode(B),y):n(B)}function v(B){return B===62?(e.consume(B),r.interrupt?t:I):n(B)}function j(B){return zt(B)?(e.consume(B),j):k(B)}function S(B){return B===47?(e.consume(B),k):B===58||B===95||js(B)?(e.consume(B),N):zt(B)?(e.consume(B),S):k(B)}function N(B){return B===45||B===46||B===58||B===95||rs(B)?(e.consume(B),N):C(B)}function C(B){return B===61?(e.consume(B),$):zt(B)?(e.consume(B),C):S(B)}function $(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),c=B,P):zt(B)?(e.consume(B),$):E(B)}function P(B){return B===c?(e.consume(B),c=null,M):B===null||ft(B)?n(B):(e.consume(B),P)}function E(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Cn(B)?C(B):(e.consume(B),E)}function M(B){return B===47||B===62||zt(B)?S(B):n(B)}function k(B){return B===62?(e.consume(B),A):n(B)}function A(B){return B===null||ft(B)?I(B):zt(B)?(e.consume(B),A):n(B)}function I(B){return B===45&&s===2?(e.consume(B),T):B===60&&s===1?(e.consume(B),O):B===62&&s===4?(e.consume(B),U):B===63&&s===3?(e.consume(B),z):B===93&&s===5?(e.consume(B),W):ft(B)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(jQe,H,L)(B)):B===null||ft(B)?(e.exit("htmlFlowData"),L(B)):(e.consume(B),I)}function L(B){return e.check(CQe,R,H)(B)}function R(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),F}function F(B){return B===null||ft(B)?L(B):(e.enter("htmlFlowData"),I(B))}function T(B){return B===45?(e.consume(B),z):I(B)}function O(B){return B===47?(e.consume(B),o="",_):I(B)}function _(B){if(B===62){const Y=o.toLowerCase();return iF.includes(Y)?(e.consume(B),U):I(B)}return js(B)&&o.length<8?(e.consume(B),o+=String.fromCharCode(B),_):I(B)}function W(B){return B===93?(e.consume(B),z):I(B)}function z(B){return B===62?(e.consume(B),U):B===45&&s===2?(e.consume(B),z):I(B)}function U(B){return B===null||ft(B)?(e.exit("htmlFlowData"),H(B)):(e.consume(B),U)}function H(B){return e.exit("htmlFlow"),t(B)}}function EQe(e,t,n){const r=this;return s;function s(o){return ft(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function AQe(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(J0,t,n)}}const PQe={name:"htmlText",tokenize:DQe};function DQe(e,t,n){const r=this;let s,a,o;return l;function l(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),c}function c(z){return z===33?(e.consume(z),u):z===47?(e.consume(z),C):z===63?(e.consume(z),S):js(z)?(e.consume(z),E):n(z)}function u(z){return z===45?(e.consume(z),d):z===91?(e.consume(z),a=0,b):js(z)?(e.consume(z),j):n(z)}function d(z){return z===45?(e.consume(z),p):n(z)}function f(z){return z===null?n(z):z===45?(e.consume(z),h):ft(z)?(o=f,O(z)):(e.consume(z),f)}function h(z){return z===45?(e.consume(z),p):f(z)}function p(z){return z===62?T(z):z===45?h(z):f(z)}function b(z){const U="CDATA[";return z===U.charCodeAt(a++)?(e.consume(z),a===U.length?x:b):n(z)}function x(z){return z===null?n(z):z===93?(e.consume(z),y):ft(z)?(o=x,O(z)):(e.consume(z),x)}function y(z){return z===93?(e.consume(z),v):x(z)}function v(z){return z===62?T(z):z===93?(e.consume(z),v):x(z)}function j(z){return z===null||z===62?T(z):ft(z)?(o=j,O(z)):(e.consume(z),j)}function S(z){return z===null?n(z):z===63?(e.consume(z),N):ft(z)?(o=S,O(z)):(e.consume(z),S)}function N(z){return z===62?T(z):S(z)}function C(z){return js(z)?(e.consume(z),$):n(z)}function $(z){return z===45||rs(z)?(e.consume(z),$):P(z)}function P(z){return ft(z)?(o=P,O(z)):zt(z)?(e.consume(z),P):T(z)}function E(z){return z===45||rs(z)?(e.consume(z),E):z===47||z===62||Cn(z)?M(z):n(z)}function M(z){return z===47?(e.consume(z),T):z===58||z===95||js(z)?(e.consume(z),k):ft(z)?(o=M,O(z)):zt(z)?(e.consume(z),M):T(z)}function k(z){return z===45||z===46||z===58||z===95||rs(z)?(e.consume(z),k):A(z)}function A(z){return z===61?(e.consume(z),I):ft(z)?(o=A,O(z)):zt(z)?(e.consume(z),A):M(z)}function I(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),s=z,L):ft(z)?(o=I,O(z)):zt(z)?(e.consume(z),I):(e.consume(z),R)}function L(z){return z===s?(e.consume(z),s=void 0,F):z===null?n(z):ft(z)?(o=L,O(z)):(e.consume(z),L)}function R(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Cn(z)?M(z):(e.consume(z),R)}function F(z){return z===47||z===62||Cn(z)?M(z):n(z)}function T(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function O(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),_}function _(z){return zt(z)?Zt(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):W(z)}function W(z){return e.enter("htmlTextData"),o(z)}}const $A={name:"labelEnd",resolveAll:MQe,resolveTo:OQe,tokenize:LQe},kQe={tokenize:_Qe},IQe={tokenize:FQe},TQe={tokenize:RQe};function MQe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&ga(e,0,e.length,n),e}function OQe(e,t){let n=e.length,r=0,s,a,o,l;for(;n--;)if(s=e[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=_a(l,e.slice(a+1,a+r+3)),l=_a(l,[["enter",d,t]]),l=_a(l,f2(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=_a(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=_a(l,e.slice(o+1)),l=_a(l,[["exit",c,t]]),ga(e,a,e.length,l),e}function LQe(e,t,n){const r=this;let s=r.events.length,a,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return l;function l(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(ji(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(kQe,d,o?d:f)(h):h===91?e.attempt(IQe,d,o?u:f)(h):o?d(h):f(h)}function u(h){return e.attempt(TQe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function _Qe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),s}function s(f){return Cn(f)?Jp(e,a)(f):a(f)}function a(f){return f===41?d(f):XZ(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Cn(f)?Jp(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?JZ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Cn(f)?Jp(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function FQe(e,t,n){const r=this;return s;function s(l){return ZZ.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(ji(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function RQe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),s}function s(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const BQe={name:"labelStartImage",resolveAll:$A.resolveAll,tokenize:zQe};function zQe(e,t,n){const r=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const VQe={name:"labelStartLink",resolveAll:$A.resolveAll,tokenize:WQe};function WQe(e,t,n){const r=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const h5={name:"lineEnding",tokenize:UQe};function UQe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Zt(e,t,"linePrefix")}}const xy={name:"thematicBreak",tokenize:KQe};function KQe(e,t,n){let r=0,s;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return s=u,l(u)}function l(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||ft(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===s?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),zt(u)?Zt(e,l,"whitespace")(u):l(u))}}const _s={continuation:{tokenize:YQe},exit:ZQe,name:"list",tokenize:GQe},HQe={partial:!0,tokenize:JQe},qQe={partial:!0,tokenize:XQe};function GQe(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return l;function l(p){const b=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:FN(p)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(xy,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return FN(p)&&++o<10?(e.consume(p),c):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(J0,r.interrupt?n:d,e.attempt(HQe,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return zt(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function YQe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(J0,s,a);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Zt(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!zt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qQe,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Zt(e,e.attempt(_s,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function XQe(e,t,n){const r=this;return Zt(e,s,"listItemIndent",r.containerState.size+1);function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function ZQe(e){e.exit(this.containerState.type)}function JQe(e,t,n){const r=this;return Zt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const o=r.events[r.events.length-1];return!zt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const oF={name:"setextUnderline",resolveTo:QQe,tokenize:eet};function QQe(e,t){let n=e.length,r,s,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",a?(e.splice(s,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function eet(e,t,n){const r=this;let s;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),s=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===s?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),zt(u)?Zt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ft(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const tet={tokenize:net};function net(e){const t=this,n=e.attempt(J0,r,e.attempt(this.parser.constructs.flowInitial,s,Zt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(oQe,s)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ret={resolveAll:eJ()},set=QZ("string"),aet=QZ("text");function QZ(e){return{resolveAll:eJ(e==="text"?iet:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],a=n.attempt(s,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=s[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function eJ(e){return t;function t(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return e?e(n,r):n}}function iet(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let a=s.length,o=-1,l=0,c;for(;a--;){const u=s[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const oet={42:_s,43:_s,45:_s,48:_s,49:_s,50:_s,51:_s,52:_s,53:_s,54:_s,55:_s,56:_s,57:_s,62:HZ},cet={91:fQe},uet={[-2]:f5,[-1]:f5,32:f5},det={35:xQe,42:xy,45:[oF,xy],60:SQe,61:oF,95:xy,96:aF,126:aF},fet={38:GZ,92:qZ},het={[-5]:h5,[-4]:h5,[-3]:h5,33:BQe,38:GZ,42:RN,60:[VJe,PQe],91:VQe,92:[gQe,qZ],93:$A,95:RN,96:tQe},met={null:[RN,ret]},pet={null:[42,95]},bet={null:[]},xet=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pet,contentInitial:cet,disable:bet,document:oet,flow:det,flowInitial:uet,insideSpan:met,string:fet,text:het},Symbol.toStringTag,{value:"Module"}));function yet(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let o=[],l=[];const c={attempt:P(C),check:P($),consume:j,enter:S,exit:N,interrupt:P($,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f(A){return o=_a(o,A),y(),o[o.length-1]!==null?[]:(E(t,0),u.events=f2(a,u.events,u),u.events)}function h(A,I){return wet(p(A),I)}function p(A){return vet(o,A)}function b(){const{_bufferIndex:A,_index:I,line:L,column:R,offset:F}=r;return{_bufferIndex:A,_index:I,line:L,column:R,offset:F}}function x(A){s[A.line]=A.column,k()}function y(){let A;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}function v(A){d=d(A)}function j(A){ft(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,k()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function S(A,I){const L=I||{};return L.type=A,L.start=b(),u.events.push(["enter",L,u]),l.push(L),L}function N(A){const I=l.pop();return I.end=b(),u.events.push(["exit",I,u]),I}function C(A,I){E(A,I.from)}function $(A,I){I.restore()}function P(A,I){return L;function L(R,F,T){let O,_,W,z;return Array.isArray(R)?H(R):"tokenize"in R?H([R]):U(R);function U(ce){return oe;function oe(Q){const K=Q!==null&&ce[Q],ne=Q!==null&&ce.null,te=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return H(te)(Q)}}function H(ce){return O=ce,_=0,ce.length===0?T:B(ce[_])}function B(ce){return oe;function oe(Q){return z=M(),W=ce,ce.partial||(u.currentConstruct=ce),ce.name&&u.parser.constructs.disable.null.includes(ce.name)?ae():ce.tokenize.call(I?Object.assign(Object.create(u),I):u,c,Y,ae)(Q)}}function Y(ce){return A(W,z),F}function ae(ce){return z.restore(),++_<O.length?B(O[_]):T}}}function E(A,I){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&ga(u.events,I,u.events.length-I,A.resolve(u.events.slice(I),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function M(){const A=b(),I=u.previous,L=u.currentConstruct,R=u.events.length,F=Array.from(l);return{from:R,restore:T};function T(){r=A,u.previous=I,u.currentConstruct=L,u.events.length=R,l=F,k()}}function k(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function vet(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let o;if(n===s)o=[e[n].slice(r,a)];else{if(o=e.slice(n,s),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[s].slice(0,a))}return o}function wet(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(a)}s=a===-2,r.push(o)}return r.join("")}function jet(e){const r={constructs:UZ([xet,...(e||{}).extensions||[]]),content:s(OJe),defined:[],document:s(_Je),flow:s(tet),lazy:{},string:s(set),text:s(aet)};return r;function s(a){return o;function o(l){return yet(r,a,l)}}}function Cet(e){for(;!YZ(e););return e}const lF=/[\0\t\n\r]/g;function Net(){let e=1,t="",n=!0,r;return s;function s(a,o,l){const c=[];let u,d,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(lF.lastIndex=f,u=lF.exec(a),h=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(h),!u){t=a.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(a.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const $et=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Eet(e){return e.replace($et,Aet)}function Aet(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return KZ(n.slice(a?2:1),a?16:10)}return NA(n)||e}const tJ={}.hasOwnProperty;function Pet(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Det(n)(Cet(jet(n).document().write(Net()(e,t,!0))))}function Det(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(me),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(Ne),blockQuote:a(ne),characterEscape:M,characterReference:M,codeFenced:a(te),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(te,o),codeText:a(X,o),codeTextData:M,data:M,codeFlowValue:M,definition:a(xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($e),hardBreakEscape:a(Le),hardBreakTrailing:a(Le),htmlFlow:a(we,o),htmlFlowData:M,htmlText:a(we,o),htmlTextData:M,image:a(fe),label:o,link:a(me),listItem:a(re),listItemValue:h,listOrdered:a(G,f),listUnordered:a(G),paragraph:a(ue),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(Ne),strong:a(ge),thematicBreak:a(je)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:K,autolinkProtocol:Q,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ce,characterReference:oe,codeFenced:c(y),codeFencedFence:x,codeFencedFenceInfo:p,codeFencedFenceMeta:b,codeFlowValue:k,codeIndented:c(v),codeText:c(F),codeTextData:k,data:k,definition:c(),definitionDestinationString:N,definitionLabelString:j,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(L),htmlFlowData:k,htmlText:c(R),htmlTextData:k,image:c(O),label:W,labelText:_,lineEnding:A,link:c(T),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Y,resourceDestinationString:z,resourceTitleString:U,resource:H,setextHeading:c(E),setextHeadingLineSequence:P,setextHeadingText:$,strong:c(),thematicBreak:c()}};nJ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let he={type:"root",children:[]};const ke={stack:[he],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},Be=[];let qe=-1;for(;++qe<ie.length;)if(ie[qe][1].type==="listOrdered"||ie[qe][1].type==="listUnordered")if(ie[qe][0]==="enter")Be.push(qe);else{const Et=Be.pop();qe=s(ie,Et,qe)}for(qe=-1;++qe<ie.length;){const Et=t[ie[qe][0]];tJ.call(Et,ie[qe][1].type)&&Et[ie[qe][1].type].call(Object.assign({sliceSerialize:ie[qe][2].sliceSerialize},ke),ie[qe][1])}if(ke.tokenStack.length>0){const Et=ke.tokenStack[ke.tokenStack.length-1];(Et[1]||cF).call(ke,void 0,Et[0])}for(he.position={start:ql(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:ql(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<t.transforms.length;)he=t.transforms[qe](he)||he;return he}function s(ie,he,ke){let Be=he-1,qe=-1,Et=!1,ln,Ht,vt,Re;for(;++Be<=ke;){const Ue=ie[Be];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?qe++:qe--,Re=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(ln&&!Re&&!qe&&!vt&&(vt=Be),Re=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Re=void 0}if(!qe&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||qe===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(ln){let it=Be;for(Ht=void 0;it--;){const ot=ie[it];if(ot[1].type==="lineEnding"||ot[1].type==="lineEndingBlank"){if(ot[0]==="exit")continue;Ht&&(ie[Ht][1].type="lineEndingBlank",Et=!0),ot[1].type="lineEnding",Ht=it}else if(!(ot[1].type==="linePrefix"||ot[1].type==="blockQuotePrefix"||ot[1].type==="blockQuotePrefixWhitespace"||ot[1].type==="blockQuoteMarker"||ot[1].type==="listItemIndent"))break}vt&&(!Ht||vt<Ht)&&(ln._spread=!0),ln.end=Object.assign({},Ht?ie[Ht][1].start:Ue[1].end),ie.splice(Ht||Be,0,["exit",ln,Ue[2]]),Be++,ke++}if(Ue[1].type==="listItemPrefix"){const it={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};ln=it,ie.splice(Be,0,["enter",it,Ue[2]]),Be++,ke++,vt=void 0,Re=!0}}}return ie[he][1]._spread=Et,ke}function a(ie,he){return ke;function ke(Be){l.call(this,ie(Be),Be),he&&he.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ie,he,ke){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([he,ke||void 0]),ie.position={start:ql(he.start),end:void 0}}function c(ie){return he;function he(ke){ie&&ie.call(this,ke),u.call(this,ke)}}function u(ie,he){const ke=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==ie.type&&(he?he.call(this,ie,Be[0]):(Be[1]||cF).call(this,ie,Be[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Zp({start:ie.start,end:ie.end})+"): it’s not open");ke.position.end=ql(ie.end)}function d(){return CA(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ie){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.lang=ie}function b(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.meta=ie}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.value=ie.replace(/(\r?\n|\r)$/g,"")}function j(ie){const he=this.resume(),ke=this.stack[this.stack.length-1];ke.label=he,ke.identifier=ji(this.sliceSerialize(ie)).toLowerCase()}function S(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.title=ie}function N(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.url=ie}function C(ie){const he=this.stack[this.stack.length-1];if(!he.depth){const ke=this.sliceSerialize(ie).length;he.depth=ke}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function P(ie){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ie){const ke=this.stack[this.stack.length-1].children;let Be=ke[ke.length-1];(!Be||Be.type!=="text")&&(Be=ye(),Be.position={start:ql(ie.start),end:void 0},ke.push(Be)),this.stack.push(Be)}function k(ie){const he=this.stack.pop();he.value+=this.sliceSerialize(ie),he.position.end=ql(ie.end)}function A(ie){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=he.children[he.children.length-1];ke.position.end=ql(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(he.type)&&(M.call(this,ie),k.call(this,ie))}function I(){this.data.atHardBreak=!0}function L(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.value=ie}function R(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.value=ie}function F(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.value=ie}function T(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=he,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function O(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=he,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function _(ie){const he=this.sliceSerialize(ie),ke=this.stack[this.stack.length-2];ke.label=Eet(he),ke.identifier=ji(he).toLowerCase()}function W(){const ie=this.stack[this.stack.length-1],he=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Be=ie.children;ke.children=Be}else ke.alt=he}function z(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.url=ie}function U(){const ie=this.resume(),he=this.stack[this.stack.length-1];he.title=ie}function H(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Y(ie){const he=this.resume(),ke=this.stack[this.stack.length-1];ke.label=he,ke.identifier=ji(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function ae(ie){this.data.characterReferenceType=ie.type}function ce(ie){const he=this.sliceSerialize(ie),ke=this.data.characterReferenceType;let Be;ke?(Be=KZ(he,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=NA(he);const qe=this.stack[this.stack.length-1];qe.value+=Be}function oe(ie){const he=this.stack.pop();he.position.end=ql(ie.end)}function Q(ie){k.call(this,ie);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ie)}function K(ie){k.call(this,ie);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ie)}function ne(){return{type:"blockquote",children:[]}}function te(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:0,children:[]}}function Le(){return{type:"break"}}function we(){return{type:"html",value:""}}function fe(){return{type:"image",title:null,url:"",alt:null}}function me(){return{type:"link",title:null,url:"",children:[]}}function G(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function re(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function ue(){return{type:"paragraph",children:[]}}function ge(){return{type:"strong",children:[]}}function ye(){return{type:"text",value:""}}function je(){return{type:"thematicBreak"}}}function ql(e){return{line:e.line,column:e.column,offset:e.offset}}function nJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nJ(e,r):ket(e,r)}}function ket(e,t){let n;for(n in t)if(tJ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cF(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zp({start:t.start,end:t.end})+") is still open")}function Iet(e){const t=this;t.parser=n;function n(r){return Pet(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Tet(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Met(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Oet(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Let(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _et(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fet(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=lm(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function Ret(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bet(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function zet(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rJ(e,t);const s={src:lm(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)}function Vet(e,t){const n={src:lm(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Wet(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Uet(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rJ(e,t);const s={href:lm(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Ket(e,t){const n={href:lm(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Het(e,t,n){const r=e.all(t),s=n?qet(n):sJ(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function qet(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=sJ(n[r])}return t}function sJ(e){const t=e.spread;return t??e.children.length>1}function Get(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Yet(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Xet(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Zet(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jet(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=vA(t.children[1]),c=_Z(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),s.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)}function Qet(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],h={},p=o?o[c]:void 0;p&&(h.align=p);let b={type:"element",tagName:a,properties:h,children:[]};f&&(b.children=e.all(f),e.patch(f,b),b=e.applyData(f,b)),u.push(b)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function ett(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const uF=9,dF=32;function ttt(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(fF(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(fF(t.slice(s),s>0,!1)),a.join("")}function fF(e,t,n){let r=0,s=e.length;if(t){let a=e.codePointAt(r);for(;a===uF||a===dF;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(s-1);for(;a===uF||a===dF;)s--,a=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function ntt(e,t){const n={type:"text",value:ttt(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function rtt(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const stt={blockquote:Tet,break:Met,code:Oet,delete:Let,emphasis:_et,footnoteReference:Fet,heading:Ret,html:Bet,imageReference:zet,image:Vet,inlineCode:Wet,linkReference:Uet,link:Ket,listItem:Het,list:Get,paragraph:Yet,root:Xet,strong:Zet,table:Jet,tableCell:ett,tableRow:Qet,text:ntt,thematicBreak:rtt,toml:Yx,yaml:Yx,definition:Yx,footnoteDefinition:Yx};function Yx(){}const aJ=-1,h2=0,Qp=1,d1=2,EA=3,AA=4,PA=5,DA=6,iJ=7,oJ=8,hF=typeof self=="object"?self:globalThis,att=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,o]=t[s];switch(a){case h2:case aJ:return n(o,s);case Qp:{const l=n([],s);for(const c of o)l.push(r(c));return l}case d1:{const l=n({},s);for(const[c,u]of o)l[r(c)]=r(u);return l}case EA:return n(new Date(o),s);case AA:{const{source:l,flags:c}=o;return n(new RegExp(l,c),s)}case PA:{const l=n(new Map,s);for(const[c,u]of o)l.set(r(c),r(u));return l}case DA:{const l=n(new Set,s);for(const c of o)l.add(r(c));return l}case iJ:{const{name:l,message:c}=o;return n(new hF[l](c),s)}case oJ:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new hF[a](o),s)};return r},mF=e=>att(new Map,e)(0),xf="",{toString:itt}={},{keys:ott}=Object,cp=e=>{const t=typeof e;if(t!=="object"||!e)return[h2,t];const n=itt.call(e).slice(8,-1);switch(n){case"Array":return[Qp,xf];case"Object":return[d1,xf];case"Date":return[EA,xf];case"RegExp":return[AA,xf];case"Map":return[PA,xf];case"Set":return[DA,xf];case"DataView":return[Qp,n]}return n.includes("Array")?[Qp,n]:n.includes("Error")?[iJ,n]:[d1,n]},Xx=([e,t])=>e===h2&&(t==="function"||t==="symbol"),ltt=(e,t,n,r)=>{const s=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},a=o=>{if(n.has(o))return n.get(o);let[l,c]=cp(o);switch(l){case h2:{let d=o;switch(c){case"bigint":l=oJ,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([aJ],o)}return s([l,d],o)}case Qp:{if(c){let h=o;return c==="DataView"?h=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(o)),s([c,[...h]],o)}const d=[],f=s([l,d],o);for(const h of o)d.push(a(h));return f}case d1:{if(c)switch(c){case"BigInt":return s([c,o.toString()],o);case"Boolean":case"Number":case"String":return s([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=s([l,d],o);for(const h of ott(o))(e||!Xx(cp(o[h])))&&d.push([a(h),a(o[h])]);return f}case EA:return s([l,o.toISOString()],o);case AA:{const{source:d,flags:f}=o;return s([l,{source:d,flags:f}],o)}case PA:{const d=[],f=s([l,d],o);for(const[h,p]of o)(e||!(Xx(cp(h))||Xx(cp(p))))&&d.push([a(h),a(p)]);return f}case DA:{const d=[],f=s([l,d],o);for(const h of o)(e||!Xx(cp(h)))&&d.push(a(h));return f}}const{message:u}=o;return s([l,{name:c,message:u}],o)};return a},pF=(e,{json:t,lossy:n}={})=>{const r=[];return ltt(!(t||n),!!t,new Map,r)(e),r},f1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?mF(pF(e,t)):structuredClone(e):(e,t)=>mF(pF(e,t));function ctt(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function utt(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dtt(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ctt,r=e.options.footnoteBackLabel||utt,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=lm(f.toLowerCase());let p=0;const b=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++p<=x;){b.length>0&&b.push({type:"text",value:" "});let j=typeof n=="string"?n:n(c,p);typeof j=="string"&&(j={type:"text",value:j}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const j=y.children[y.children.length-1];j&&j.type==="text"?j.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...b)}else d.push(...b);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...f1(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const m2=function(e){if(e==null)return ptt;if(typeof e=="function")return p2(e);if(typeof e=="object")return Array.isArray(e)?ftt(e):htt(e);if(typeof e=="string")return mtt(e);throw new Error("Expected function, string, or object as test")};function ftt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=m2(e[n]);return p2(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function htt(e){const t=e;return p2(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function mtt(e){return p2(t);function t(n){return n&&n.type===e}}function p2(e){return t;function t(n,r,s){return!!(gtt(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function ptt(){return!0}function gtt(e){return e!==null&&typeof e=="object"&&"type"in e}const lJ=[],btt=!0,BN=!1,xtt="skip";function cJ(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=m2(s),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=lJ,b,x,y;if((!t||a(c,u,d[d.length-1]||void 0))&&(p=ytt(n(c,d)),p[0]===BN))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==xtt)for(x=(r?v.children.length:-1)+o,y=d.concat(v);x>-1&&x<v.children.length;){const j=v.children[x];if(b=l(j,x,y)(),b[0]===BN)return b;x=typeof b[1]=="number"?b[1]:x+o}}return p}}}function ytt(e){return Array.isArray(e)?e:typeof e=="number"?[btt,e]:e==null?lJ:[e]}function kA(e,t,n,r){let s,a,o;typeof t=="function"?(a=void 0,o=t,s=n):(a=t,o=n,s=r),cJ(e,a,l,s);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return o(c,f,d)}}const zN={}.hasOwnProperty,vtt={};function wtt(e,t){const n=t||vtt,r=new Map,s=new Map,a=new Map,o={...stt,...n.handlers},l={all:u,applyData:jtt,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:Stt,wrap:Ntt};return kA(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:s,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),l;function c(d,f){const h=d.type,p=l.handlers[h];if(zN.call(l.handlers,h)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in d){const{children:x,...y}=d,v=f1(y);return v.children=l.all(d),v}return f1(d)}return(l.options.unknownHandler||Ctt)(l,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const b=l.one(h[p],d);if(b){if(p&&h[p-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=gF(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=gF(x.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function Stt(e,t){e.position&&(t.position=oJe(e))}function jtt(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,f1(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Ctt(e,t){const n=t.data||{},r="value"in t&&!(zN.call(n,"hProperties")||zN.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ntt(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function gF(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bF(e,t){const n=wtt(e,t),r=n.one(e,void 0),s=dtt(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function $tt(e,t){return e&&"run"in e?async function(n,r){const s=bF(n,{file:r,...t});await e.run(s,r)}:function(n,r){return bF(n,{file:r,...e||t})}}function xF(e){if(e)throw e}var yy=Object.prototype.hasOwnProperty,uJ=Object.prototype.toString,yF=Object.defineProperty,vF=Object.getOwnPropertyDescriptor,wF=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uJ.call(t)==="[object Array]"},SF=function(t){if(!t||uJ.call(t)!=="[object Object]")return!1;var n=yy.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&yy.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||yy.call(t,s)},jF=function(t,n){yF&&n.name==="__proto__"?yF(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},CF=function(t,n){if(n==="__proto__")if(yy.call(t,n)){if(vF)return vF(t,n).value}else return;return t[n]},Ett=function e(){var t,n,r,s,a,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=CF(l,n),s=CF(t,n),l!==s&&(d&&s&&(SF(s)||(a=wF(s)))?(a?(a=!1,o=r&&wF(r)?r:[]):o=r&&SF(r)?r:{},jF(l,{name:n,newValue:e(d,o,s)})):typeof s<"u"&&jF(l,{name:n,newValue:s}));return l};const m5=rn(Ett);function VN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Att(){const e=[],t={run:n,use:r};return t;function n(...s){let a=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...s);function l(c,...u){const d=e[++a];let f=-1;if(c){o(c);return}for(;++f<s.length;)(u[f]===null||u[f]===void 0)&&(u[f]=s[f]);s=u,d?Ptt(d,l)(...u):o(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function Ptt(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(s);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return s(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,s):c instanceof Error?s(c):a(c))}function s(o,...l){n||(n=!0,t(o,...l))}function a(o){s(null,o)}}const zi={basename:Dtt,dirname:ktt,extname:Itt,join:Ttt,sep:"/"};function Dtt(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Q0(e);let n=0,r=-1,s=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(a){n=s+1;break}}else o<0&&(a=!0,o=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(r=s):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function ktt(e){if(Q0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Itt(e){Q0(e);let t=e.length,n=-1,r=0,s=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?s<0?s=t:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function Ttt(...e){let t=-1,n;for(;++t<e.length;)Q0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Mtt(n)}function Mtt(e){Q0(e);const t=e.codePointAt(0)===47;let n=Ott(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Ott(e,t){let n="",r=0,s=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=o,a=0;continue}}else if(n.length>0){n="",r=0,s=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function Q0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ltt={cwd:_tt};function _tt(){return"/"}function WN(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ftt(e){if(typeof e=="string")e=new URL(e);else if(!WN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Rtt(e)}function Rtt(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const p5=["history","path","basename","stem","extname","dirname"];class dJ{constructor(t){let n;t?WN(t)?n={path:t}:typeof t=="string"||Btt(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ltt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<p5.length;){const a=p5[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)p5.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?zi.basename(this.path):void 0}set basename(t){b5(t,"basename"),g5(t,"basename"),this.path=zi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zi.dirname(this.path):void 0}set dirname(t){NF(this.basename,"dirname"),this.path=zi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zi.extname(this.path):void 0}set extname(t){if(g5(t,"extname"),NF(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){WN(t)&&(t=Ftt(t)),b5(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zi.basename(this.path,this.extname):void 0}set stem(t){b5(t,"stem"),g5(t,"stem"),this.path=zi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new us(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function g5(e,t){if(e&&e.includes(zi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zi.sep+"`")}function b5(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function NF(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Btt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ztt=function(e){const r=this.constructor.prototype,s=r[e],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Vtt={}.hasOwnProperty;class IA extends ztt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Att()}copy(){const t=new IA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(m5(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(v5("data",this.frozen),this.namespace[t]=n,this):Vtt.call(this.namespace,t)&&this.namespace[t]||void 0:t?(v5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Zx(t),r=this.parser||this.Parser;return x5("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),x5("process",this.parser||this.Parser),y5("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,o){const l=Zx(t),c=r.parse(l);r.run(c,l,function(d,f,h){if(d||!f||!h)return u(d);const p=f,b=r.stringify(p,h);Ktt(b)?h.value=b:h.result=b,u(d,h)});function u(d,f){d||!f?o(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),x5("processSync",this.parser||this.Parser),y5("processSync",this.compiler||this.Compiler),this.process(t,s),EF("processSync","process",n),r;function s(a,o){n=!0,xF(a),r=o}}run(t,n,r){$F(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const c=Zx(n);s.run(t,c,u);function u(d,f,h){const p=f||t;d?l(d):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,s;return this.run(t,n,a),EF("runSync","run",r),s;function a(o,l){xF(o),s=l,r=!0}}stringify(t,n){this.freeze();const r=Zx(n),s=this.compiler||this.Compiler;return y5("stringify",s),$F(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(v5("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(s.settings=m5(!0,s.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...b]=d;const x=r[h][1];VN(x)&&VN(p)&&(p=m5(!0,x,p)),r[h]=[u,p,...b]}}}}const Wtt=new IA().freeze();function x5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function y5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function v5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $F(e){if(!VN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function EF(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zx(e){return Utt(e)?e:new dJ(e)}function Utt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ktt(e){return typeof e=="string"||Htt(e)}function Htt(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qtt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AF=[],PF={allowDangerousHtml:!0},Gtt=/^(https?|ircs?|mailto|xmpp)$/i,Ytt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TA(e){const t=Xtt(e),n=Ztt(e);return Jtt(t.runSync(t.parse(n),n),e)}function Xtt(e){const t=e.rehypePlugins||AF,n=e.remarkPlugins||AF,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...PF}:PF;return Wtt().use(Iet).use(n).use($tt,r).use(t)}function Ztt(e){const t=e.children||"",n=new dJ;return typeof t=="string"&&(n.value=t),n}function Jtt(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||Qtt;for(const d of Ytt)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+qtt+d.id,void 0);return kA(e,u),fJe(e,{Fragment:i.Fragment,components:s,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in d5)if(Object.hasOwn(d5,p)&&Object.hasOwn(d.properties,p)){const b=d.properties[p],x=d5[p];(x===null||x.includes(d.tagName))&&(d.properties[p]=c(String(b||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return l&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Qtt(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||Gtt.test(e.slice(0,t))?e:""}function DF(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}function ent(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tnt(e,t,n){const s=m2((n||{}).ignore||[]),a=nnt(t);let o=-1;for(;++o<a.length;)cJ(e,"text",l);function l(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],b=h?h.children:void 0;if(s(p,b?b.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=a[o][0],p=a[o][1];let b=0;const y=f.children.indexOf(u);let v=!1,j=[];h.lastIndex=0;let S=h.exec(u.value);for(;S;){const N=S.index,C={index:S.index,input:S.input,stack:[...d,u]};let $=p(...S,C);if(typeof $=="string"&&($=$.length>0?{type:"text",value:$}:void 0),$===!1?h.lastIndex=N+1:(b!==N&&j.push({type:"text",value:u.value.slice(b,N)}),Array.isArray($)?j.push(...$):$&&j.push($),b=N+S[0].length,v=!0),!h.global)break;S=h.exec(u.value)}return v?(b<u.value.length&&j.push({type:"text",value:u.value.slice(b)}),f.children.splice(y,1,...j)):j=[u],y+j.length}}function nnt(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([rnt(s[0]),snt(s[1])])}return t}function rnt(e){return typeof e=="string"?new RegExp(ent(e),"g"):e}function snt(e){return typeof e=="function"?e:function(){return e}}const w5="phrasing",S5=["autolink","link","image","label"];function ant(){return{transforms:[fnt],enter:{literalAutolink:ont,literalAutolinkEmail:j5,literalAutolinkHttp:j5,literalAutolinkWww:j5},exit:{literalAutolink:dnt,literalAutolinkEmail:unt,literalAutolinkHttp:lnt,literalAutolinkWww:cnt}}}function int(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:w5,notInConstruct:S5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:w5,notInConstruct:S5},{character:":",before:"[ps]",after:"\\/",inConstruct:w5,notInConstruct:S5}]}}function ont(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function j5(e){this.config.enter.autolinkProtocol.call(this,e)}function lnt(e){this.config.exit.autolinkProtocol.call(this,e)}function cnt(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function unt(e){this.config.exit.autolinkEmail.call(this,e)}function dnt(e){this.exit(e)}function fnt(e){tnt(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hnt],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),mnt]],{ignore:["link","linkReference"]})}function hnt(e,t,n,r,s){let a="";if(!fJ(s)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!pnt(n)))return!1;const o=gnt(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function mnt(e,t,n,r){return!fJ(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function pnt(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gnt(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=DF(e,"(");let a=DF(e,")");for(;r!==-1&&s>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function fJ(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||vd(n)||d2(n))&&(!t||n!==47)}hJ.peek=Nnt;function bnt(){this.buffer()}function xnt(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function ynt(){this.buffer()}function vnt(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function wnt(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ji(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Snt(e){this.exit(e)}function jnt(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ji(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Cnt(e){this.exit(e)}function Nnt(){return"["}function hJ(e,t,n,r){const s=n.createTracker(r);let a=s.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return a+=s.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),o(),a+=s.move("]"),a}function $nt(){return{enter:{gfmFootnoteCallString:bnt,gfmFootnoteCall:xnt,gfmFootnoteDefinitionLabelString:ynt,gfmFootnoteDefinition:vnt},exit:{gfmFootnoteCallString:wnt,gfmFootnoteCall:Snt,gfmFootnoteDefinitionLabelString:jnt,gfmFootnoteDefinition:Cnt}}}function Ent(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:hJ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,a,o){const l=a.createTracker(o);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?mJ:Ant))),u(),c}}function Ant(e,t,n){return t===0?e:mJ(e,t,n)}function mJ(e,t,n){return(n?"":"    ")+e}const Pnt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];pJ.peek=Mnt;function Dnt(){return{canContainEols:["delete"],enter:{strikethrough:Int},exit:{strikethrough:Tnt}}}function knt(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Pnt}],handlers:{delete:pJ}}}function Int(e){this.enter({type:"delete",children:[]},e)}function Tnt(e){this.exit(e)}function pJ(e,t,n,r){const s=n.createTracker(r),a=n.enter("strikethrough");let o=s.move("~~");return o+=n.containerPhrasing(e,{...s.current(),before:o,after:"~"}),o+=s.move("~~"),a(),o}function Mnt(){return"~"}function Ont(e){return e.length}function Lnt(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||Ont,a=[],o=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const x=[],y=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const j=_nt(e[d][v]);if(n.alignDelimiters!==!1){const S=s(j);y[v]=S,(c[v]===void 0||S>c[v])&&(c[v]=S)}x.push(j)}o[d]=x,l[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=kF(r[f]);else{const x=kF(r);for(;++f<u;)a[f]=x}f=-1;const h=[],p=[];for(;++f<u;){const x=a[f];let y="",v="";x===99?(y=":",v=":"):x===108?y=":":x===114&&(v=":");let j=n.alignDelimiters===!1?1:Math.max(1,c[f]-y.length-v.length);const S=y+"-".repeat(j)+v;n.alignDelimiters!==!1&&(j=y.length+j+v.length,j>c[f]&&(c[f]=j),p[f]=j),h[f]=S}o.splice(1,0,h),l.splice(1,0,p),d=-1;const b=[];for(;++d<o.length;){const x=o[d],y=l[d];f=-1;const v=[];for(;++f<u;){const j=x[f]||"";let S="",N="";if(n.alignDelimiters!==!1){const C=c[f]-(y[f]||0),$=a[f];$===114?S=" ".repeat(C):$===99?C%2?(S=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(S=" ".repeat(C/2),N=S):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&j==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(S),v.push(j),n.alignDelimiters!==!1&&v.push(N),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}b.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return b.join(`
`)}function _nt(e){return e==null?"":String(e)}function kF(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Fnt(e,t,n,r){const s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),Rnt);return s(),o}function Rnt(e,t,n){return">"+(n?"":" ")+e}function Bnt(e,t){return IF(e,t.inConstruct,!0)&&!IF(e,t.notInConstruct,!1)}function IF(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function TF(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Bnt(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function znt(e,t){const n=String(e);let r=n.indexOf(t),s=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++a>o&&(o=a):a=1,s=r+t.length,r=n.indexOf(t,s);return o}function Vnt(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Wnt(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Unt(e,t,n,r){const s=Wnt(n),a=e.value||"",o=s==="`"?"GraveAccent":"Tilde";if(Vnt(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Knt);return f(),h}const l=n.createTracker(r),c=s.repeat(Math.max(znt(a,s)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function Knt(e,t,n){return(n?"":"    ")+e}function MA(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Hnt(e,t,n,r){const s=MA(n),a=s==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),o(),u}function qnt(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function o0(e){return"&#x"+e.toString(16).toUpperCase()+";"}function h1(e,t,n){const r=Oh(e),s=Oh(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}gJ.peek=Gnt;function gJ(e,t,n,r){const s=qnt(n),a=n.enter("emphasis"),o=n.createTracker(r),l=o.move(s);let c=o.move(n.containerPhrasing(e,{after:s,before:l,...o.current()}));const u=c.charCodeAt(0),d=h1(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=o0(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=h1(r.after.charCodeAt(0),f,s);h.inside&&(c=c.slice(0,-1)+o0(f));const p=o.move(s);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+p}function Gnt(e,t,n){return n.options.emphasis||"*"}function Ynt(e,t){let n=!1;return kA(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,BN}),!!((!e.depth||e.depth<3)&&CA(e)&&(t.options.setext||n))}function Xnt(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Ynt(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(s===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(s),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=o0(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),l(),u}bJ.peek=Znt;function bJ(e){return e.value||""}function Znt(){return"<"}xJ.peek=Jnt;function xJ(e,t,n,r){const s=MA(n),a=s==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+s),u+=c.move(n.safe(e.title,{before:u,after:s,...c.current()})),u+=c.move(s),l()),u+=c.move(")"),o(),u}function Jnt(){return"!"}yJ.peek=Qnt;function yJ(e,t,n,r){const s=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function Qnt(){return"!"}vJ.peek=ert;function vJ(e,t,n){let r=e.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],l=n.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return s+r+s}function ert(){return"`"}function wJ(e,t){const n=CA(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}SJ.peek=trt;function SJ(e,t,n,r){const s=MA(n),a=s==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,c;if(wJ(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=o.move(" "+s),u+=o.move(n.safe(e.title,{before:u,after:s,...o.current()})),u+=o.move(s),c()),u+=o.move(")"),l(),u}function trt(e,t,n){return wJ(e,n)?"<":"["}jJ.peek=nrt;function jJ(e,t,n,r){const s=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function nrt(){return"["}function OA(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function rrt(e){const t=OA(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function srt(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function CJ(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function art(e,t,n,r){const s=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?srt(n):OA(n);const l=e.ordered?o==="."?")":".":rrt(n);let c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),CJ(n)===o&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,s(),u}function irt(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ort(e,t,n,r){const s=irt(n);let a=n.bulletCurrent||OA(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(o-a.length)),l.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function lrt(e,t,n,r){const s=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),s(),o}const crt=m2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function urt(e,t,n,r){return(e.children.some(function(o){return crt(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function drt(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}NJ.peek=frt;function NJ(e,t,n,r){const s=drt(n),a=n.enter("strong"),o=n.createTracker(r),l=o.move(s+s);let c=o.move(n.containerPhrasing(e,{after:s,before:l,...o.current()}));const u=c.charCodeAt(0),d=h1(r.before.charCodeAt(r.before.length-1),u,s);d.inside&&(c=o0(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=h1(r.after.charCodeAt(0),f,s);h.inside&&(c=c.slice(0,-1)+o0(f));const p=o.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+p}function frt(e,t,n){return n.options.strong||"*"}function hrt(e,t,n,r){return n.safe(e.value,r)}function mrt(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function prt(e,t,n){const r=(CJ(n)+(n.options.ruleSpaces?" ":"")).repeat(mrt(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $J={blockquote:Fnt,break:TF,code:Unt,definition:Hnt,emphasis:gJ,hardBreak:TF,heading:Xnt,html:bJ,image:xJ,imageReference:yJ,inlineCode:vJ,link:SJ,linkReference:jJ,list:art,listItem:ort,paragraph:lrt,root:urt,strong:NJ,text:hrt,thematicBreak:prt};function grt(){return{enter:{table:brt,tableData:MF,tableHeader:MF,tableRow:yrt},exit:{codeText:vrt,table:xrt,tableData:C5,tableHeader:C5,tableRow:C5}}}function brt(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function xrt(e){this.exit(e),this.data.inTable=void 0}function yrt(e){this.enter({type:"tableRow",children:[]},e)}function C5(e){this.exit(e)}function MF(e){this.enter({type:"tableCell",children:[]},e)}function vrt(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,wrt));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function wrt(e,t){return t==="|"?t:e}function Srt(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:c,tableRow:l}};function o(p,b,x,y){return u(d(p,x,y),p.align)}function l(p,b,x,y){const v=f(p,x,y),j=u([v]);return j.slice(0,j.indexOf(`
`))}function c(p,b,x,y){const v=x.enter("tableCell"),j=x.enter("phrasing"),S=x.containerPhrasing(p,{...y,before:a,after:a});return j(),v(),S}function u(p,b){return Lnt(p,{align:b,alignDelimiters:r,padding:n,stringLength:s})}function d(p,b,x){const y=p.children;let v=-1;const j=[],S=b.enter("table");for(;++v<y.length;)j[v]=f(y[v],b,x);return S(),j}function f(p,b,x){const y=p.children;let v=-1;const j=[],S=b.enter("tableRow");for(;++v<y.length;)j[v]=c(y[v],p,b,x);return S(),j}function h(p,b,x){let y=$J.inlineCode(p,b,x);return x.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function jrt(){return{exit:{taskListCheckValueChecked:OF,taskListCheckValueUnchecked:OF,paragraph:Nrt}}}function Crt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:$rt}}}function OF(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Nrt(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let a=-1,o;for(;++a<s.length;){const l=s[a];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function $rt(e,t,n,r){const s=e.children[0],a=typeof e.checked=="boolean"&&s&&s.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(o);let c=$J.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+o}}function Ert(){return[ant(),$nt(),Dnt(),grt(),jrt()]}function Art(e){return{extensions:[int(),Ent(e),knt(),Srt(e),Crt()]}}const Prt={tokenize:Ort,partial:!0},EJ={tokenize:Lrt,partial:!0},AJ={tokenize:_rt,partial:!0},PJ={tokenize:Frt,partial:!0},Drt={tokenize:Rrt,partial:!0},DJ={name:"wwwAutolink",tokenize:Trt,previous:IJ},kJ={name:"protocolAutolink",tokenize:Mrt,previous:TJ},$l={name:"emailAutolink",tokenize:Irt,previous:MJ},fo={};function krt(){return{text:fo}}let Cu=48;for(;Cu<123;)fo[Cu]=$l,Cu++,Cu===58?Cu=65:Cu===91&&(Cu=97);fo[43]=$l;fo[45]=$l;fo[46]=$l;fo[95]=$l;fo[72]=[$l,kJ];fo[104]=[$l,kJ];fo[87]=[$l,DJ];fo[119]=[$l,DJ];function Irt(e,t,n){const r=this;let s,a;return o;function o(f){return!UN(f)||!MJ.call(r,r.previous)||LA(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return UN(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(Drt,d,u)(f):f===45||f===95||rs(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),s=!0,c}function d(f){return a&&s&&js(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Trt(e,t,n){const r=this;return s;function s(o){return o!==87&&o!==119||!IJ.call(r,r.previous)||LA(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Prt,e.attempt(EJ,e.attempt(AJ,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Mrt(e,t,n){const r=this;let s="",a=!1;return o;function o(f){return(f===72||f===104)&&TJ.call(r,r.previous)&&!LA(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(js(f)&&s.length<5)return s+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const h=s.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||u1(f)||Cn(f)||vd(f)||d2(f)?n(f):e.attempt(EJ,e.attempt(AJ,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Ort(e,t,n){let r=0;return s;function s(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),s):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function Lrt(e,t,n){let r,s,a;return o;function o(u){return u===46||u===95?e.check(PJ,c,l)(u):u===null||Cn(u)||vd(u)||u!==45&&d2(u)?c(u):(a=!0,e.consume(u),o)}function l(u){return u===95?r=!0:(s=r,r=void 0),e.consume(u),o}function c(u){return s||r||!a?n(u):t(u)}}function _rt(e,t){let n=0,r=0;return s;function s(o){return o===40?(n++,e.consume(o),s):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(PJ,t,a)(o):o===null||Cn(o)||vd(o)?t(o):(e.consume(o),s)}function a(o){return o===41&&r++,e.consume(o),s}}function Frt(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),s):l===60||l===null||Cn(l)||vd(l)?t(l):n(l)}function s(l){return l===null||l===40||l===91||Cn(l)||vd(l)?t(l):r(l)}function a(l){return js(l)?o(l):n(l)}function o(l){return l===59?(e.consume(l),r):js(l)?(e.consume(l),o):n(l)}}function Rrt(e,t,n){return r;function r(a){return e.consume(a),s}function s(a){return rs(a)?n(a):t(a)}}function IJ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Cn(e)}function TJ(e){return!js(e)}function MJ(e){return!(e===47||UN(e))}function UN(e){return e===43||e===45||e===46||e===95||rs(e)}function LA(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Brt={tokenize:Grt,partial:!0};function zrt(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Krt,continuation:{tokenize:Hrt},exit:qrt}},text:{91:{name:"gfmFootnoteCall",tokenize:Urt},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Vrt,resolveTo:Wrt}}}}function Vrt(e,t,n){const r=this;let s=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return n(c);const u=ji(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Wrt(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function Urt(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!o||f===null||f===91||Cn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return s.includes(ji(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Cn(f)||(o=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function Krt(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,l;return c;function c(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(b)}function d(b){if(o>999||b===93&&!l||b===null||b===91||Cn(b))return n(b);if(b===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return a=ji(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Cn(b)||(l=!0),o++,e.consume(b),b===92?f:d}function f(b){return b===91||b===92||b===93?(e.consume(b),o++,d):d(b)}function h(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),s.includes(a)||s.push(a),Zt(e,p,"gfmFootnoteDefinitionWhitespace")):n(b)}function p(b){return t(b)}}function Hrt(e,t,n){return e.check(J0,t,e.attempt(Brt,t,n))}function qrt(e){e.exit("gfmFootnoteDefinition")}function Grt(e,t,n){const r=this;return Zt(e,s,"gfmFootnoteDefinitionIndent",5);function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function Yrt(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},h=[["enter",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&ga(h,h.length,0,f2(p,o.slice(u+1,c),l)),ga(h,h.length,0,[["exit",f,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",d,l]]),ga(o,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,l,c){const u=this.previous,d=this.events;let f=0;return h;function h(b){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(b):(o.enter("strikethroughSequenceTemporary"),p(b))}function p(b){const x=Oh(u);if(b===126)return f>1?c(b):(o.consume(b),f++,p);if(f<2&&!n)return c(b);const y=o.exit("strikethroughSequenceTemporary"),v=Oh(b);return y._open=!v||v===2&&!!x,y._close=!x||x===2&&!!v,l(b)}}}class Xrt{constructor(){this.map=[]}add(t,n,r){Zrt(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const a of s)t.push(a);s=r.pop()}this.map.length=0}}function Zrt(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function Jrt(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Qrt(){return{flow:{null:{name:"table",tokenize:est,resolveAll:tst}}}}function est(e,t,n){const r=this;let s=0,a=0,o;return l;function l(k){let A=r.events.length-1;for(;A>-1;){const R=r.events[A][1].type;if(R==="lineEnding"||R==="linePrefix")A--;else break}const I=A>-1?r.events[A][1].type:null,L=I==="tableHead"||I==="tableRow"?$:c;return L===$&&r.parser.lazy[r.now().line]?n(k):L(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(o=!0,a+=1),d(k)}function d(k){return k===null?n(k):ft(k)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p):n(k):zt(k)?Zt(e,d,"whitespace")(k):(a+=1,o&&(o=!1,s+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(k)))}function f(k){return k===null||k===124||Cn(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?h:f)}function h(k){return k===92||k===124?(e.consume(k),f):f(k)}function p(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),o=!1,zt(k)?Zt(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):b(k))}function b(k){return k===45||k===58?y(k):k===124?(o=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),x):C(k)}function x(k){return zt(k)?Zt(e,y,"whitespace")(k):y(k)}function y(k){return k===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):k===45?(a+=1,v(k)):k===null||ft(k)?N(k):C(k)}function v(k){return k===45?(e.enter("tableDelimiterFiller"),j(k)):C(k)}function j(k){return k===45?(e.consume(k),j):k===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(k))}function S(k){return zt(k)?Zt(e,N,"whitespace")(k):N(k)}function N(k){return k===124?b(k):k===null||ft(k)?!o||s!==a?C(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):C(k)}function C(k){return n(k)}function $(k){return e.enter("tableRow"),P(k)}function P(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),P):k===null||ft(k)?(e.exit("tableRow"),t(k)):zt(k)?Zt(e,P,"whitespace")(k):(e.enter("data"),E(k))}function E(k){return k===null||k===124||Cn(k)?(e.exit("data"),P(k)):(e.consume(k),k===92?M:E)}function M(k){return k===92||k===124?(e.consume(k),E):E(k)}}function tst(e,t){let n=-1,r=!0,s=0,a=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,u,d,f;const h=new Xrt;for(;++n<e.length;){const p=e[n],b=p[1];p[0]==="enter"?b.type==="tableHead"?(l=!1,c!==0&&(LF(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",u,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",d,t]])),s=b.type==="tableDelimiterRow"?2:d?3:1):s&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=Jx(h,t,a,s,void 0,f),a=[0,0,0,0]),o[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=Jx(h,t,a,s,void 0,f)),a=o,o=[a[1],n,0,0])):b.type==="tableHead"?(l=!0,c=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(c=n,a[1]!==0?(o[0]=o[1],f=Jx(h,t,a,s,n,f)):o[1]!==0&&(f=Jx(h,t,o,s,n,f)),s=0):s&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&LF(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Jrt(t.events,n))}return e}function Jx(e,t,n,r,s,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},Af(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=Af(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Af(t.events,n[2]),d=Af(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,x=n[3]-n[2]-1;e.add(b,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return s!==void 0&&(a.end=Object.assign({},Af(t.events,s)),e.add(s,0,[["exit",a,t]]),a=void 0),a}function LF(e,t,n,r,s){const a=[],o=Af(t.events,n);s&&(s.end=Object.assign({},o),a.push(["exit",s,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Af(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nst={name:"tasklistCheck",tokenize:sst};function rst(){return{text:{91:nst}}}function sst(e,t,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Cn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return ft(c)?t(c):zt(c)?e.check({tokenize:ast},t,n)(c):n(c)}}function ast(e,t,n){return Zt(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function ist(e){return UZ([krt(),zrt(),Yrt(e),Qrt(),rst()])}const ost={};function _A(e){const t=this,n=e||ost,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(ist(n)),a.push(Ert()),o.push(Art(n))}const eg=async()=>{try{return await ut.get()}catch(e){return console.error("[appwriteAuth.ts] Error in getCurrentUser:",e),null}},lst=()=>et.getState().dbId,yf=lst,cst=e=>!e||e.length===0?{}:e.reduce((t,n)=>{const r=n.dateBS;return t[r]||(t[r]=[]),t[r].push(n),t},{}),OJ=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[s,a]=m.useState(null),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[b,x]=m.useState(!1),[y,v]=m.useState(null);m.useEffect(()=>{(async()=>{u(!0),v(null);try{const C=await eg();t(C),C||v("You are not logged in. Please log in to view assignments.")}catch(C){console.error("[StudentAssignmentsPage] Error fetching current user:",C),v("Failed to verify your login status. Please try again.")}finally{u(!1)}})()},[]),m.useEffect(()=>{if(!e||!e.email){!c&&!e&&v("Login required to fetch student profile.");return}(async()=>{if(f(!0),v(null),a(null),!yf){v("Student profile system is not configured correctly (DB/Collection ID missing)."),f(!1);return}try{const C=await le.listDocuments(yf,on,[J.equal("stdEmail",e.email),J.limit(1)]);if(C.documents.length>0){const $=C.documents[0];r($),(!$.section||!$.class||!$.facultyId)&&v("Your student profile is incomplete (missing section name, class, or faculty ID). Cannot fetch assignments. Please contact administration.")}else v(`Student profile not found for email: ${e.email}. Please contact administration if you are a registered student.`),r(null),console.warn(`[StudentAssignmentsPage] No student profile found for email: ${e.email}`)}catch(C){console.error("[StudentAssignmentsPage] Error fetching student profile:",C),v("Failed to fetch your student profile. Please try again."),r(null)}finally{f(!1)}})()},[e,c]),m.useEffect(()=>{if(!n||!n.section||!n.class||!n.facultyId){l([]),a(null);return}(async()=>{if(p(!0),!yf){v("Section data system is not configured correctly (DB/Collection ID missing)."),p(!1);return}try{const C=[J.equal("name",n.section),J.equal("class",n.class),J.equal("facultyId",n.facultyId),J.limit(1)],$=await le.listDocuments(yf,Qt,C);if($.documents.length>0){const P=$.documents[0].$id;a(P),v(null)}else v(`Could not find a matching section for "${n.section}" in class "${n.class}" (Faculty ID: ${n.facultyId.substring(0,6)}...). Please check your profile or contact administration.`),a(null),console.warn(`[StudentAssignmentsPage] No matching section document found for Name='${n.section}', Class='${n.class}', Faculty='${n.facultyId}'`)}catch(C){console.error("[StudentAssignmentsPage] Error fetching section ID:",C),v("An error occurred while trying to identify your section. Please try again."),a(null)}finally{p(!1)}})()},[n,d]),m.useEffect(()=>{if(!n||!s||!n.facultyId||!n.class){l([]);return}(async()=>{if(x(!0),!yf){v("Assignment system is not configured correctly (DB/Collection ID missing)."),x(!1);return}try{const C=[J.equal("facultyId",n.facultyId),J.equal("className",n.class),J.equal("sectionId",s),J.orderDesc("dateBS")],$=await le.listDocuments(yf,tc,C);l($.documents),$.documents.length>0&&v(null)}catch(C){console.error("[StudentAssignmentsPage] Error fetching assignments:",C),v("Failed to fetch assignments. Please try again later."),l([])}finally{x(!1)}})()},[n,s,h]);const j=m.useMemo(()=>o?cst(o):{},[o]),S=(N,C)=>{if(!N){Ke.error("Invalid file reference for download.");return}try{const $=Qn.getFileDownload(zu,N),P=document.createElement("a");P.href=$,P.setAttribute("download",C||`file_${N.substring(0,8)}`),document.body.appendChild(P),P.click(),document.body.removeChild(P),Ke.success(`Downloading ${C||"file"}...`)}catch($){console.error("Download error:",$),Ke.error(`Failed to initiate download: ${$ instanceof Error?$.message:"An unknown error occurred."}`)}};return c||d||h?i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen flex flex-col items-center justify-center",children:[i.jsx(yd,{className:"animate-spin mx-auto h-12 w-12 text-indigo-500 mb-4"}),i.jsx("p",{className:"text-lg text-slate-600",children:c?"Verifying your identity...":d?"Loading your profile...":"Identifying your section..."})]}):y&&!b?i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen flex flex-col items-center justify-center text-center",children:[i.jsx(ad,{className:"mx-auto h-16 w-16 text-red-400 mb-5"}),i.jsx("p",{className:"text-xl font-semibold text-red-700 mb-2",children:"An Error Occurred"}),i.jsx("p",{className:"text-red-600 max-w-md",children:y})]}):!e&&!c?i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen flex flex-col items-center justify-center text-center",children:[i.jsx(ad,{className:"mx-auto h-16 w-16 text-red-400 mb-5"}),i.jsx("p",{className:"text-xl font-semibold text-red-700 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-red-600 max-w-md",children:"Please log in to view assignments."})]}):!n&&!d&&!y?i.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen flex flex-col items-center justify-center text-center",children:[i.jsx(pZe,{className:"mx-auto h-16 w-16 text-orange-400 mb-5"}),i.jsx("p",{className:"text-xl font-semibold text-orange-700 mb-2",children:"Student Profile Issue"}),i.jsx("p",{className:"text-orange-600 max-w-md",children:"Could not load your student profile. Please ensure you are logged in with the correct student account."})]}):i.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-7xl",children:[i.jsxs("header",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"My Assignments"}),n&&i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Showing assignments for:",n.class?` Class ${n.class}`:"",n.section?`, Section ${n.section}`:", Section (N/A)"]})]}),b&&i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(yd,{className:"animate-spin mx-auto h-10 w-10 text-indigo-500 mb-3"}),i.jsx("p",{className:"text-lg",children:"Loading your assignments..."})]}),!b&&!y&&o.length===0&&n&&s&&i.jsxs("div",{className:"text-center py-16 text-slate-500 bg-white rounded-xl shadow-lg p-8",children:[i.jsx(Mh,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),i.jsx("p",{className:"text-2xl font-semibold",children:"No Assignments Found"}),i.jsx("p",{className:"text-slate-600 mt-2",children:"There are currently no assignments posted for your class and section."})]}),!b&&!y&&o.length===0&&n&&!s&&!h&&i.jsxs("div",{className:"text-center py-16 text-slate-500 bg-white rounded-xl shadow-lg p-8",children:[i.jsx(ad,{className:"mx-auto h-16 w-16 text-orange-400 mb-4"}),i.jsx("p",{className:"text-2xl font-semibold",children:"Section Not Identified"}),i.jsxs("p",{className:"text-slate-600 mt-2",children:[`We couldn't identify a specific section ID based on your profile (Name: "`,n.section,'", Class: "',n.class,'"). Please check your details or contact administration.']})]}),j&&typeof j=="object"&&Object.entries(j).map(([N,C])=>i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"flex  mb pl-1 border-b-2 border-indigo-200 pb-2",children:[i.jsx(pA,{className:"text-2xl sm:text-3xl text-indigo-600 mr-3 "}),i.jsxs("div",{className:" flex-row",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Due Date (BS)"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-700",children:N})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:C.map($=>{var P;return i.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col overflow-hidden group",children:i.jsxs("div",{className:"p-5 sm:p-6 flex-grow",children:[i.jsxs("div",{className:" flex gap-4 mb-1.5",children:[i.jsxs("span",{className:"flex items-center whitespace-nowrap text-xl ",children:[i.jsx(mA,{className:"mr-1.5 h-5 w-5 mt-1"}),$.subjectName]}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-700 leading-tight     group-hover:text-sky-600 transition-colors",children:$.title})]}),i.jsxs("div",{className:"flex flex-wrap items-center text-xs text-slate-500 mb-3 space-x-2",children:[i.jsx("span",{className:"text-slate-300",children:"|"}),i.jsxs("span",{className:"whitespace-nowrap",children:["Class: ",$.className]}),i.jsxs("span",{className:"whitespace-nowrap",children:["/ Section: ",$.sectionName||"N/A"]})]}),$.description&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wider",children:"Instructions:"}),i.jsx("div",{className:"prose prose-sm max-w-none prose-slate custom-scrollbar max-h-40 overflow-y-auto pr-2 rounded-md bg-slate-50 p-3 border border-slate-200",children:i.jsx(TA,{remarkPlugins:[_A],children:$.description})})]}),!$.description&&i.jsxs("div",{className:"mb-4 text-sm text-slate-500 italic flex items-center bg-slate-50 p-3 rounded-md border border-slate-200",children:[i.jsx(Mh,{className:"mr-2 h-4 w-4 flex-shrink-0"})," No detailed instructions provided."]}),$.fileIds&&$.fileIds.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wider",children:["Attachments: (",$.fileIds.length,")"]}),i.jsx("div",{className:"space-y-2",children:$.fileIds.map((E,M)=>{var k,A;return i.jsxs("button",{onClick:()=>{var I;return S(E,((I=$.fileNames)==null?void 0:I[M])||"download")},className:"w-full flex items-center text-sm text-sky-700 hover:text-sky-900 bg-sky-50 hover:bg-sky-100 p-2.5 rounded-md transition-colors border border-sky-200 hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 group",children:[i.jsx(c2,{className:"mr-2.5 h-4 w-4 flex-shrink-0 text-sky-600"}),i.jsx("span",{className:"truncate",title:((k=$.fileNames)==null?void 0:k[M])||`File ${M+1}`,children:((A=$.fileNames)==null?void 0:A[M])||`File ${M+1}`}),i.jsx(gA,{className:"ml-auto h-4 w-4 flex-shrink-0 text-slate-400 group-hover:text-sky-600 transition-colors"})]},E)})})]}),!((P=$.fileIds)!=null&&P.length)&&i.jsx("div",{className:"mb-3 text-xs text-slate-400 italic",children:"No attachments for this assignment."})]})},$.$id)})})]},N))]})})},N5=e=>e==null||isNaN(e)||e<0?{grade:"N/A",point:0}:e>90?{grade:"A+",point:4}:e>80?{grade:"A",point:3.6}:e>70?{grade:"B+",point:3.2}:e>60?{grade:"B",point:2.8}:e>50?{grade:"C+",point:2.4}:e>40?{grade:"C",point:2}:e>=35?{grade:"D",point:1.6}:{grade:"NG",point:0},LJ=e=>{try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>({name:String(n.name),date:String(n.date),theoryFM:Number(n.theoryFM),theoryPM:Number(n.theoryPM),hasPractical:!!n.hasPractical,practicalFM:n.hasPractical&&n.practicalFM!=null?Number(n.practicalFM):null,practicalPM:n.hasPractical&&n.practicalPM!=null?Number(n.practicalPM):null})):[]}catch(t){return console.error("Error parsing subject details:",t),[]}},m1=(e,t,n)=>{var f,h;let r=!0;const s=[];let a=0,o=0,l=0,c=0;for(const p of e){const b=t.find(E=>E.subjectName===p.name),x=Number(p.theoryFM),y=Number(p.theoryPM),v=p.hasPractical,j=v&&p.practicalFM!=null?Number(p.practicalFM):null,S=v&&p.practicalPM!=null?Number(p.practicalPM):null,N=b&&!b.isAbsent?b.theoryMarksObtained:null,C=v&&b&&!b.isAbsent?b.practicalMarksObtained:null,$=(b==null?void 0:b.isAbsent)??!1,P={subjectName:p.name,theoryFM:x,theoryPM:y,practicalFM:j,practicalPM:S,hasPractical:v,theoryMarksObtained:N,practicalMarksObtained:C,isAbsent:$,subjectFullMarks:x+(v&&j?j:0)};if($)n?(P.theoryGpa={grade:"ABS",point:0},v&&(P.practicalGpa={grade:"ABS",point:0}),P.subjectAverageGpaPoint=0,P.subjectOverallLetterGrade="ABS",P.subjectGpaStatus="Absent"):(P.subjectTotalMarksObtained=null,P.subjectMarksStatus="Absent"),r=!1;else if(n){const E=x>0&&N!==null?N/x*100:null;P.theoryPercentage=E,P.theoryGpa=N5(E);let M=P.theoryGpa.point,k=1,A=P.theoryGpa.grade==="NG";if(v){const R=j&&j>0&&C!==null?C/j*100:null;P.practicalPercentage=R,P.practicalGpa=N5(R),P.practicalGpa?(M+=P.practicalGpa.point,k++,P.practicalGpa.grade==="NG"&&(A=!0)):P.practicalGpa={grade:"N/A",point:0}}P.subjectAverageGpaPoint=k>0?M/k:0;const I=P.subjectAverageGpaPoint!=null?P.subjectAverageGpaPoint/4*100:null,L=N5(I);P.subjectOverallLetterGrade=L.grade,A||P.subjectOverallLetterGrade==="NG"?(P.subjectGpaStatus="NG",r=!1):P.subjectGpaStatus="Passed",P.subjectGpaStatus==="Passed"&&(a+=P.subjectAverageGpaPoint,o++)}else{let E=!0;(N===null||N<y)&&(E=!1),v&&S!==null&&(C===null||C<S)&&(E=!1),P.subjectTotalMarksObtained=(N??0)+(C??0),P.subjectMarksStatus=E?"Passed":"Failed",E||(r=!1),l+=P.subjectTotalMarksObtained,c+=P.subjectFullMarks}s.push(P)}const u={examId:((f=t[0])==null?void 0:f.examId)||((h=e[0])==null?void 0:h.name)||"unknown_exam",isGpa:n,overallResultStatus:"Awaited"};return e.length===0?u.overallResultStatus="Awaited":s.every(p=>p.isAbsent)?u.overallResultStatus="Failed":s.some(p=>p.isAbsent&&p.subjectGpaStatus==="Absent"||p.subjectMarksStatus==="Absent")&&(r=!1),n?(u.finalGpa=o>0?parseFloat((a/o).toFixed(2)):0,o===0&&e.length>0&&!s.every(p=>p.isAbsent)?u.overallResultStatus="Failed":r&&o>0?u.overallResultStatus="Passed":!r&&e.length>0&&(u.overallResultStatus="Failed"),u.overallResultStatus==="Passed"&&u.finalGpa<1.6&&(u.overallResultStatus="Failed")):(u.grandTotalMarks=l,u.totalFullMarks=c,u.totalPercentage=c>0?parseFloat((l/c*100).toFixed(2)):0,e.length>0&&(u.overallResultStatus=r?"Passed":"Failed")),s.length>0&&s.every(p=>!p.isAbsent&&p.theoryMarksObtained===null&&(!p.hasPractical||p.practicalMarksObtained===null))&&(u.overallResultStatus="Awaited"),{processedSubjects:s,summary:u}},_J=({exam:e,onSelect:t})=>{const n=e.summaryForStudent;let r="default",s="Status Unknown",a=i.jsx(Ks,{className:"h-5 w-5 mr-1.5"});return n?(s=n.overallResultStatus,n.overallResultStatus==="Passed"?(r="success",a=i.jsx(al,{className:"h-5 w-5 mr-1.5"})):n.overallResultStatus==="Failed"?(r="danger",a=i.jsx(ya,{className:"h-5 w-5 mr-1.5"})):n.overallResultStatus==="Awaited"?(r="warning",a=i.jsx(ma,{className:"h-5 w-5 mr-1.5"})):r="primary"):(s="Awaited",r="warning",a=i.jsx(ma,{className:"h-5 w-5 mr-1.5"})),i.jsxs(mt,{isPressable:!0,onPress:()=>t(e),className:"w-full bg-white dark:bg-gray-800 shadow-lg rounded-xl overflow-hidden transition-all duration-300 ease-in-out hover:shadow-xl hover:scale-[1.02] border border-gray-200 dark:border-gray-700",children:[i.jsxs(Un,{className:"p-5 border-b border-gray-100 justify-between dark:border-gray-700",children:[i.jsx("h4",{className:"font-bold text-lg text-indigo-700 dark:text-indigo-400 truncate",title:e.title,children:e.title}),i.jsx(Jt,{size:"sm",color:"secondary",variant:"flat",className:"mt-1",children:e.type})]}),i.jsxs(yt,{className:"p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.isGpa?i.jsx(Wwe,{className:"h-5 w-5 mr-2 text-blue-500"}):i.jsx(Wr,{className:"h-5 w-5 mr-2 text-green-500"}),i.jsxs("span",{children:["Format: ",i.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:e.isGpa?"GPA System":"Marks System"})]})]}),n&&i.jsxs(i.Fragment,{children:[e.isGpa&&n.finalGpa!==void 0&&i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Final GPA: ",i.jsx("span",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:n.finalGpa.toFixed(2)})]}),!e.isGpa&&n.totalPercentage!==void 0&&i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Percentage: ",i.jsxs("span",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:[n.totalPercentage.toFixed(2),"%"]})]}),i.jsx(Jt,{color:r,variant:"light",size:"md",className:"mt-2 px-3 py-1",children:i.jsxs("div",{className:"flex items-center",children:[a,i.jsxs("span",{children:["Result: ",s]})]})})]}),!n&&i.jsxs(Jt,{color:"warning",variant:"light",size:"md",className:"mt-2 px-3 py-1",children:[i.jsx(ma,{className:"h-5 w-5 mr-1.5"}),"Result: Awaited"]})]})]})},ust=({columns:e,data:t,isLoading:n=!1,loadingMessage:r="Loading data...",emptyStateMessage:s="No data available.",emptyStateIcon:a,tableClassName:o="min-w-full",headerRowClassName:l="bg-gray-100 dark:bg-gray-800",bodyRowClassName:c,ariaLabel:u})=>n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-500 dark:text-gray-400",children:[i.jsxs("svg",{className:"animate-spin h-8 w-8 text-indigo-600 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:r})]}):!t||t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-500 dark:text-gray-400",children:[a&&i.jsx("div",{className:"mb-3",children:a}),i.jsx("span",{children:s})]}):i.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("table",{className:o,"aria-label":u,children:[i.jsx("thead",{className:l,children:i.jsx("tr",{className:"border-b border-gray-300 dark:border-gray-700",children:e.map(d=>i.jsx("th",{scope:"col",className:`px-3 py-3.5 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider ${d.headerClassName||""} ${d.isNumeric?"text-right":"text-left"}`,children:d.header},d.key))})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-900",children:t.map((d,f)=>i.jsx("tr",{className:`border-b border-gray-200 dark:border-gray-700 last:border-b-0 transition-colors hover:bg-gray-50 dark:hover:bg-gray-800
                ${c?c(d,f):f%2===0?"":"bg-gray-50 dark:bg-gray-850"}
              `,children:e.map(h=>i.jsx("td",{className:`px-3 py-3 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300 ${h.cellClassName||""} ${h.isNumeric?"text-right":"text-left"}`,children:h.cell(d,f)},`${h.key}-cell-${f}`))},`row-${f}-${d.subjectName}`))})]})}),dst=(e,t=!1)=>{const n="font-medium px-2 py-0.5 text-xs";return t||e==="Absent"?i.jsx(Jt,{size:"sm",color:"warning",variant:"flat",startContent:i.jsx(aH,{className:"h-3.5 w-3.5"}),className:n,children:"Absent"}):!e||e==="N/A"?i.jsx(Jt,{size:"sm",color:"default",variant:"flat",className:n,children:"-"}):e==="Passed"?i.jsx(Jt,{size:"sm",color:"success",variant:"flat",startContent:i.jsx(J1,{className:"h-3.5 w-3.5"}),className:n,children:"Passed"}):e==="Failed"||e==="NG"?i.jsx(Jt,{size:"sm",color:"danger",variant:"flat",startContent:i.jsx(T$,{className:"h-3.5 w-3.5"}),className:n,children:e}):i.jsx(Jt,{size:"sm",color:"default",variant:"flat",className:n,children:e})},_F=({fm:e,pm:t,label:n})=>i.jsxs("div",{className:"text-center text-xs text-gray-600 dark:text-gray-400 leading-tight",children:[n&&i.jsx("div",{className:"font-medium text-gray-500 dark:text-gray-300",children:n}),i.jsxs("div",{children:["FM: ",e??"-"]}),i.jsxs("div",{children:["PM: ",t??"-"]})]}),Qx=({value:e,grade:t,isGpa:n,isAbsent:r})=>r?i.jsx("span",{className:"font-semibold text-sm text-yellow-600 dark:text-yellow-400",children:"ABS"}):n?i.jsx("span",{className:`font-semibold text-sm ${(t==null?void 0:t.grade)==="NG"||(t==null?void 0:t.grade)==="ABS"?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-100"}`,children:(t==null?void 0:t.grade)??"-"}):i.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-100",children:e??"-"}),FJ=({exam:e,processedResults:t,summary:n,studentName:r,isLoading:s})=>{var c,u;const a=e.isGpa,o=m.useMemo(()=>t.some(d=>d.hasPractical),[t]),l=m.useMemo(()=>{const d=[{key:"subjectName",header:"Subject",cell:f=>i.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:f.subjectName}),headerClassName:"text-left sticky left-0 bg-gray-100 dark:bg-gray-800 z-10 pl-4 pr-2 py-3.5 w-2/6 md:w-3/12",cellClassName:"text-left sticky left-0 bg-white dark:bg-gray-900 group-hover:bg-gray-50 dark:group-hover:bg-gray-850 z-10 pl-4 pr-2 py-3 align-middle"},{key:"theoryInfo",header:"Theory (FM/PM)",cell:f=>i.jsx(_F,{fm:f.theoryFM,pm:f.theoryPM}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"},{key:"theoryObtained",header:a?"TH Grade":"TH Marks",cell:f=>i.jsx(Qx,{value:f.theoryMarksObtained,grade:f.theoryGpa,isGpa:a,isAbsent:f.isAbsent}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"}];return o&&(d.push({key:"practicalInfo",header:"Practical (FM/PM)",cell:f=>f.hasPractical?i.jsx(_F,{fm:f.practicalFM,pm:f.practicalPM}):i.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"}),d.push({key:"practicalObtained",header:a?"PR Grade":"PR Marks",cell:f=>f.hasPractical?i.jsx(Qx,{value:f.practicalMarksObtained,grade:f.practicalGpa,isGpa:a,isAbsent:f.isAbsent}):i.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"-"}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"})),a?d.push({key:"subjectOverallGradeDisplay",header:"Subject Grade",cell:f=>f.isAbsent?i.jsx(Qx,{isGpa:!0,isAbsent:!0}):i.jsx("span",{className:`font-semibold text-sm ${f.subjectOverallLetterGrade==="NG"||f.subjectOverallLetterGrade==="ABS"?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-100"}`,children:f.subjectOverallLetterGrade??"-"}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"}):d.push({key:"totalMarks",header:"Total Marks",cell:f=>i.jsx("div",{className:"text-center",children:f.isAbsent?i.jsx(Qx,{isGpa:!1,isAbsent:!0}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-100",children:f.subjectTotalMarksObtained??"-"}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" / ",f.subjectFullMarks]})]})}),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"}),d.push({key:"result",header:"Result",cell:f=>dst(a?f.subjectGpaStatus:f.subjectMarksStatus,f.isAbsent),headerClassName:"text-center py-3.5",cellClassName:"text-center py-3 align-middle"}),d},[a,o]);return s?i.jsx("div",{className:"flex justify-center items-center h-64 py-10",children:i.jsx(ct,{color:"primary",size:"lg",label:"Loading Detailed Results..."})}):!n||t.length===0&&!s?i.jsx(mt,{className:"shadow-lg dark:bg-gray-800",children:i.jsxs(yt,{className:"p-10 text-center",children:[i.jsx(mSe,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-xl text-gray-700 dark:text-gray-300 mb-2",children:"No Result Details"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Detailed marks for this examination are not yet available or not applicable."})]})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs(mt,{className:"shadow-xl dark:bg-gray-800 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsx(Un,{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750 p-5 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-indigo-700 dark:text-indigo-400",children:e.title}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 space-x-3",children:[i.jsxs("span",{children:["Student: ",i.jsx("strong",{children:r})]}),i.jsxs("span",{children:["Exam Type: ",i.jsx("strong",{children:e.type})]})]})]}),i.jsxs(Jt,{color:n.overallResultStatus==="Passed"?"success":n.overallResultStatus==="Failed"?"danger":"warning",variant:"flat",size:"lg",className:"font-semibold px-3 py-1.5",startContent:n.overallResultStatus==="Passed"?i.jsx(J1,{className:"h-5 w-5"}):n.overallResultStatus==="Failed"?i.jsx(T$,{className:"h-5 w-5"}):i.jsx(aH,{className:"h-5 w-5"}),children:["Overall: ",n.overallResultStatus]})]})}),i.jsx(yt,{className:"p-0",children:i.jsx(ust,{columns:l,data:t,isLoading:s,ariaLabel:`Detailed results for ${e.title}`,tableClassName:"min-w-full",headerRowClassName:"bg-gray-100 dark:bg-gray-800",bodyRowClassName:(d,f)=>`group ${f%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-850"}`})})]}),i.jsxs(mt,{className:"shadow-xl dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[i.jsx(Un,{className:"bg-gray-50 dark:bg-gray-750 p-5 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 flex items-center",children:[i.jsx(Z2e,{className:"h-6 w-6 mr-2 text-indigo-600 dark:text-indigo-400"}),"Exam Summary"]})}),i.jsx(yt,{className:"p-5 grid grid-cols-1 md:grid-cols-3 gap-5",children:[{label:a?"Final GPA":"Grand Total",value:a?((c=n.finalGpa)==null?void 0:c.toFixed(2))??"N/A":`${n.grandTotalMarks??"N/A"} / ${n.totalFullMarks??"N/A"}`,color:a?"blue":"green"},...a?[]:[{label:"Overall Percentage",value:`${((u=n.totalPercentage)==null?void 0:u.toFixed(2))??"N/A"}%`,color:"teal"}],{label:"Final Result",value:n.overallResultStatus,color:n.overallResultStatus==="Passed"?"green":n.overallResultStatus==="Failed"?"red":"yellow"}].map(d=>i.jsxs("div",{className:`p-4 rounded-lg shadow-md bg-${d.color}-50 dark:bg-${d.color}-900/30 border border-${d.color}-200 dark:border-${d.color}-700`,children:[i.jsx("p",{className:`text-sm font-medium text-${d.color}-700 dark:text-${d.color}-300`,children:d.label}),i.jsx("p",{className:`text-2xl font-bold mt-1 text-${d.color}-600 dark:text-${d.color}-400`,children:d.value})]},d.label))})]})]})},fst=()=>et.getState().dbId,up=fst,FF="68316dd1002f05fcd202",RJ=()=>{const{user:e,isLoading:t,fetchUser:n}=tE(),[r,s]=m.useState(null),[a,o]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(!0),[p,b]=m.useState(!1),[x,y]=m.useState(!1),[v,j]=m.useState(null),[S,N]=m.useState(!1);m.useEffect(()=>{n().finally(()=>N(!0))},[n]),m.useEffect(()=>{if(!S||t||!(e!=null&&e.email)){S&&!t&&!e&&(h(!1),j("Please log in to view your results."));return}h(!0),j(null),(async()=>{try{const A=await le.listDocuments(up,on,[J.equal("stdEmail",e.email),J.limit(1)]);if(A.documents.length===0){j("Student profile not found for your email."),s(null);return}const I=A.documents[0];let L=null;if(I.class&&I.section)try{const R=await le.listDocuments(up,Qt,[J.equal("name",I.section),J.equal("class",I.class),J.limit(1)]);R.documents.length>0?L=R.documents[0].$id:console.warn(`Section ID not found for section: "${I.section}" in class: "${I.class}"`)}catch(R){console.error("Error fetching student's section ID:",R)}s({id:I.$id,name:I.name,email:I.stdEmail,className:I.class,sectionName:I.section,sectionId:L,facultyId:I.facultyId})}catch(A){console.error("Error fetching student details:",A),j(`Failed to load student profile: ${A.message||"Unknown error"}`),s(null)}finally{h(!1)}})()},[e,t,S]);const C=m.useCallback(async(k=!1)=>{if(r){b(!0),k||(j(null),o([]));try{const A=[J.equal("isPublished",!0),J.orderDesc("$createdAt"),J.limit(100)],T=(await le.listDocuments(up,zo,A)).documents.filter(_=>{const W=_.faculty||[],z=_.class||[],U=_.section||[];if(W.length===0&&z.length===0&&U.length===0)return!0;let B=!1;return W.length>0&&r.facultyId&&W.includes(r.facultyId)&&(B=!0),!B&&z.length>0&&r.className&&z.includes(r.className)&&(B=!0),!B&&U.length>0&&r.sectionId&&U.includes(r.sectionId)&&(B=!0),B}).map(_=>({..._,subjectDetails:LJ(_.subjectDetails_json)})).map(async _=>{try{const W=await le.listDocuments(up,FF,[J.equal("examId",_.$id),J.equal("studentId",r.id),J.limit(_.subjectDetails.length||50)]),{summary:z,processedSubjects:U}=m1(_.subjectDetails,W.documents,_.isGpa);return U.length>0&&U.every(H=>H.isAbsent)?{..._,summaryForStudent:{...z,overallResultStatus:"Failed"}}:{..._,summaryForStudent:z}}catch(W){return console.error(`Error fetching/processing marks for exam ${_.title}:`,W),{..._,summaryForStudent:{examId:_.$id,isGpa:_.isGpa,overallResultStatus:"Awaited"}}}}),O=await Promise.all(T);o(O),O.length}catch(A){console.error("Error fetching published exams:",A),j(`Failed to load exams: ${A.message||"Unknown error"}`),o([])}finally{b(!1)}}},[r,f]);m.useEffect(()=>{r&&!l&&C()},[r,l,C]);const $=m.useCallback(async k=>{if(r){c(k),y(!0),d(null);try{const A=await le.listDocuments(up,FF,[J.equal("examId",k.$id),J.equal("studentId",r.id),J.limit(k.subjectDetails.length||50)]),I=m1(k.subjectDetails,A.documents,k.isGpa);d(I)}catch(A){console.error("Error fetching detailed results:",A),j(`Failed to load detailed results for ${k.title}: ${A.message||"Unknown error"}`)}finally{y(!1)}}},[r]),P=()=>{c(null),d(null),r&&C()},E=()=>{j(null),l?$(l):r?C(!0):e&&!r&&!t?(N(!1),n().finally(()=>N(!0))):!e&&!t&&n().finally(()=>N(!0))};return!S||t||f?i.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:i.jsx(ct,{label:"Loading Your Data...",size:"lg",color:"primary"})}):e?v&&!l&&!p&&a.length===0?i.jsxs("div",{className:"container mx-auto p-6 text-center min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900",children:[i.jsx(za,{className:"h-16 w-16 text-red-500 dark:text-red-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"An Error Occurred"}),i.jsx("p",{className:"text-red-600 dark:text-red-500",children:v}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:E,color:"blue",isLoading:p||x||f,className:"mt-6",children:" Try Reloading "})]}):!r&&!f?i.jsxs("div",{className:"container mx-auto p-6 text-center min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900",children:[i.jsx(Ks,{className:"h-16 w-16 text-blue-500 dark:text-blue-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Student Profile Not Found"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:["We couldn't find a student profile associated with your account (",e.email,"). Please ensure your email is correctly registered with the school system."]}),i.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-1",children:"If you believe this is an error, please contact administration."}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:E,color:"blue",isLoading:f||t,className:"mt-6",children:" Reload Profile "})]}):i.jsxs("div",{className:"container mx-auto p-4 md:p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[i.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[l&&i.jsx(Se,{variant:"light",color:"primary",className:"mr-3 p-2 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-800/30 focus:ring-2 focus:ring-indigo-300",onPress:P,"aria-label":"Go back to exam list",children:i.jsx(Hc,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 flex-grow",children:l?`Result: ${l.title}`:"Your Exam Results"}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:E,color:"blue",variant:"light",isLoading:p||x||f,tooltipText:"Reload Data",className:"text-white  dark:text-indigo-400 dark:hover:text-indigo-300"})]}),v&&l&&i.jsx(Jt,{color:"danger",className:"mb-4 w-full p-3 text-center text-sm",children:v})," ",l?r&&u?i.jsx(FJ,{exam:l,processedResults:u.processedSubjects,summary:u.summary,studentName:r.name,isLoading:x}):x?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{label:"Loading Detailed Results...",size:"lg",color:"primary"})}):!v&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:"Could not load detailed results for this exam."}):i.jsx(i.Fragment,{children:p?i.jsx("div",{className:"flex justify-center items-center h-60",children:i.jsx(ct,{label:"Loading Exams...",size:"lg",color:"primary"})}):a.length===0?i.jsxs("div",{className:"text-center py-10",children:[i.jsx(so,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"No published exam results found for you."}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Please check back later or contact administration if you expect results."})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(k=>i.jsx(_J,{exam:k,onSelect:$},k.$id))})})]}):i.jsxs("div",{className:"container mx-auto p-6 text-center min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900",children:[i.jsx(za,{className:"h-16 w-16 text-yellow-500 dark:text-yellow-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please log in to view your results."})]})},hst=({initialMenuItem:e})=>{const[t,n]=m.useState(()=>e!==void 0?e:localStorage.getItem("generalComponentMenuItem")||null),[r,s]=m.useState(()=>{const h=localStorage.getItem("expandedSubMenus");return h?JSON.parse(h):[]});m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",t||""),localStorage.setItem("expandedSubMenus",JSON.stringify(r))},[t,r]);const a=h=>{s(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},l={General:{menu:[{name:"Assignment",icon:i.jsx(Za,{className:"h-5 w-5"}),component:OJ,onClick:()=>{}},{name:"Attendance",icon:i.jsx(dA,{className:"h-5 w-5"}),onClick:()=>{},subMenu:[{name:"Details",icon:i.jsx(Wr,{className:"h-5 w-5"}),component:xZ,onClick:()=>{}},{name:"Leave Form",icon:i.jsx(Ir,{className:"h-5 w-5"}),component:dZ,onClick:()=>{}},{name:"Leave Details",icon:i.jsx(os,{className:"h-5 w-5"}),component:fA,onClick:()=>{}}]},{name:"Bus Location",icon:i.jsx($i,{className:"h-5 w-5"}),component:oo,onClick:()=>{}},{name:"Calendar",icon:i.jsx(Tr,{className:"h-5 w-5"}),component:Ld,onClick:()=>{}},{name:"Exam",icon:i.jsx(Wc,{className:"h-5 w-5"}),component:fZ,onClick:()=>{}},{name:"Gallery",icon:i.jsx(bl,{className:"h-5 w-5"}),component:SZ,onClick:()=>{}},{name:"Lessons",icon:i.jsx(Ja,{className:"h-5 w-5"}),component:EZ,onClick:()=>{}},{name:"Notes",icon:i.jsx(Ya,{className:"h-5 w-5"}),component:vZ,onClick:()=>{}},{name:"Result",icon:i.jsx(wa,{className:"h-5 w-5"}),component:RJ,onClick:()=>{}},{name:"Review",icon:i.jsx(Xc,{className:"h-5 w-5"}),component:AZ,onClick:()=>{}},{name:"Routine",icon:i.jsx(R1,{className:"h-5 w-5"}),component:yZ,onClick:()=>{}},{name:"Profile",icon:i.jsx(Bc,{className:"h-5 w-5"}),component:YGe,onClick:()=>{}}]}}.General.menu,c=h=>{n(h)},u=()=>{n(null)},d=()=>{if(t){const h=f(l,t);if(h&&h.component)return i.jsxs("div",{children:[i.jsx(M0,{title:t,onBack:u}),i.jsx("div",{className:" mt-[3.25rem] w-full h-fulll",children:Z.createElement(h.component)})]})}return i.jsx("div",{className:"",children:i.jsx(T0,{menuItems:l.map(h=>({...h,onClick:()=>{h.subMenu?a(h.name):c(h.name)},isSubMenuOpen:r.includes(h.name),onSubMenuItemClick:b=>{c(b)}})),selectedMenuItemName:t,expandedSubMenus:r})})},f=(h,p)=>{for(const b of h){if(b.name===p)return b;if(b.subMenu){const x=f(b.subMenu,p);if(x)return x}}};return i.jsx("div",{className:"",children:d()})},mst=[{id:"1",icon:Ds,title:"Dashboard",description:"Student dashboard overview",location:"Dashboard",generalMenuLocation:"Dashboard"},{id:"2",icon:Za,title:"Assignment",description:"View your assignments",location:"Assignment",generalMenuLocation:"Assignment"},{id:"3",icon:Tr,title:"Attendance >> Details",description:"Daily attendance details",location:"Attendance",generalMenuLocation:"Details"},{id:"4",icon:Uf,title:"Attendance >> Leave Form",description:"Submit a leave request",location:"Attendance",generalMenuLocation:"Leave Form"},{id:"5",icon:_1,title:"Attendance >> Leave Details",description:"Track your leave records",location:"Attendance",generalMenuLocation:"Leave Details"},{id:"6",icon:$i,title:"Bus Location",description:"Live bus tracking for students",location:"Transport",generalMenuLocation:"Bus Location"},{id:"7",icon:Tr,title:"Calendar",description:"View academic calendar",location:"Calendar",generalMenuLocation:"Calendar"},{id:"8",icon:Wc,title:"Exam",description:"View your exam schedule and results",location:"Exam",generalMenuLocation:"Exam"},{id:"9",icon:bl,title:"Gallery",description:"Explore the image gallery",location:"Gallery",generalMenuLocation:"Gallery"},{id:"10",icon:Ja,title:"Lessons",description:"Review your lesson plans",location:"Lessons",generalMenuLocation:"Lessons"},{id:"11",icon:Ya,title:"Notes",description:"Access your study notes",location:"Notes",generalMenuLocation:"Notes"},{id:"12",icon:wa,title:"Result",description:"View your academic results",location:"Result",generalMenuLocation:"Result"},{id:"13",icon:Xc,title:"Review",description:"Manage and view your reviews",location:"Review",generalMenuLocation:"Review"},{id:"14",icon:R1,title:"Routine",description:"Check your class routine",location:"Routine",generalMenuLocation:"Routine"}],pst=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=m.useRef(null);m.useEffect(()=>{r.current&&r.current.focus()},[]);const s=t?mst.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())):[],a=o=>{e(o.location,o.generalMenuLocation),n("")};return i.jsx("div",{className:"flex items-center justify-center w-full px-4 py-2",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ua,{ref:r,placeholder:"Search...",startContent:i.jsx(Ai,{className:"w-5 h-5 text-gray-400"}),type:"text",value:t,onChange:o=>n(o.target.value),className:"w-full shadow-black shadow-large text-gray-800 border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.trim()!==""&&i.jsx("div",{className:"absolute left-0 right-0 z-10 mt-2 bg-gray-50/50 border border-gray-200 rounded-lg shadow-lg max-h-[84vh] overflow-y-auto",children:s.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 text-blue-500 transition-all",onClick:()=>a(o),children:[i.jsx(o.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),i.jsx("div",{className:"text-xs text-gray-500",children:o.description})]})]},o.id))}):i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results found."})})]})})},RF={studentDetails:null,upcomingAssignments:[],upcomingExams:[],loading:!0,error:null},g2=Gt(e=>({...RF,setStudentDetails:t=>e({studentDetails:t}),setUpcomingAssignments:t=>e({upcomingAssignments:t}),setUpcomingExams:t=>e({upcomingExams:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),reset:()=>e(RF)})),gst=()=>{const e=g2(n=>n.studentDetails);if(!e)return i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg text-gray-500 animate-pulse min-h-[200px] flex items-center justify-center h-full",children:"Loading details..."});const t=[{label:"Class",value:e.className},{label:"Section",value:e.sectionName},{label:"Faculty",value:e.facultyName}];return i.jsxs("div",{className:" sm:gap-6 bg-gradient-to-br from-sky-500 to-indigo-600 p-6 rounded-xl shadow-xl text-white transform hover:scale-105 transition-transform duration-300 ease-out h-full flex flex-col md:flex-row md:items-stretch",children:[" ",i.jsx("div",{className:"flex-shrink-0 flex flex-col items-center justify-center mb-4 md:mb-0 md:mr-6 lg:mr-8 md:py-4",children:i.jsx(Sge,{className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 text-sky-100"})}),i.jsxs("div",{className:"flex flex-col flex-grow justify-center text-center md:text-left md:py-4",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl md:text-3xl lg:text-4xl font-bold tracking-tight mb-1 md:mb-2",children:e.name}),i.jsx("div",{className:"mt-2 space-y-2 md:mt-3 md:space-y-3",children:t.map(n=>i.jsxs("div",{className:"flex gap-2 justify-center sm:flex-row sm:justify-start",children:[i.jsxs("p",{className:"text-base sm:text-lg font-medium text-sky-200",children:[n.label,": "]}),i.jsx("p",{className:"text-base sm:text-lg md:text-xl font-semibold",children:n.value})]},n.label))})]})]})},bst=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),xst=()=>{const t=[...g2(n=>n.upcomingAssignments)].sort((n,r)=>new Date(n.dateAD).getTime()-new Date(r.dateAD).getTime());return i.jsxs("div",{className:"bg-white flex flex-col p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 h-full max-h-96",children:[i.jsxs("div",{className:"flex items-center mb-5 flex-shrink-0",children:[" ",i.jsx(bst,{className:"w-7 h-7 mr-3 text-amber-500"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Assignments"})]}),i.jsxs("div",{className:"flex-grow overflow-hidden",children:[" ",t.length===0?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming assignments."})}):i.jsx($t,{options:{suppressScrollX:!0},className:"h-full",children:i.jsxs("ul",{className:"space-y-4 pr-2",children:[" ",t.map(n=>i.jsxs("li",{className:"bg-amber-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[i.jsx("h3",{className:"font-medium text-gray-800 text-md mb-1",children:n.title}),i.jsxs("p",{className:"text-sm text-amber-700",children:[i.jsx("span",{className:"font-normal text-gray-600",children:"Subject:"})," ",n.subjectName]}),i.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[i.jsx("span",{className:"font-normal text-gray-600",children:"Due Date (BS):"})," ",n.dateBS]})]},n.id))]})})]})]})},yst=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})}),vst=()=>{const e=g2(t=>t.upcomingExams);return i.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 h-full max-h-96 flex flex-col",children:[i.jsxs("div",{className:"flex items-center mb-5 flex-shrink-0",children:[" ",i.jsx(yst,{className:"w-7 h-7 mr-3 text-purple-600"}),i.jsx("h2",{className:"text-xl font-semibold text-purple-800",children:"Upcoming Exams"})]}),i.jsxs("div",{className:"flex-grow overflow-hidden",children:[" ",e.length===0?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming exams scheduled."})}):i.jsx($t,{options:{suppressScrollX:!0},className:"h-full",children:i.jsxs("ul",{className:"space-y-4 pr-2",children:[" ",e.map(t=>i.jsxs("li",{className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 border border-purple-200",children:[i.jsx("p",{className:"font-medium text-gray-800 text-md mb-1",children:t.examTitle}),i.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:[i.jsx("span",{className:"font-normal text-gray-600",children:"Date:"})," ",new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]},t.id))]})})]})]})},wst=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Sst=()=>i.jsxs("div",{className:"bg-gray-100 p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center justify-center text-center h-full min-h-[200px]",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-gray-400 mb-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Coming Soon..."}),i.jsx("p",{className:"text-gray-500",children:"New tools, components and updates are coming soon!"})]}),BJ=()=>{const{loading:e,error:t,studentDetails:n,setLoading:r,setError:s,setStudentDetails:a,setUpcomingAssignments:o,setUpcomingExams:l,reset:c}=g2();return m.useEffect(()=>((async()=>{r(!0),s(null);try{const f=(await ut.get()).email;if(!f){s("User email not found. Please log in."),r(!1);return}const h=await le.listDocuments(oc,on,[J.equal("stdEmail",f),J.limit(1)]);if(h.documents.length===0){s("Student record not found."),r(!1);return}const p=h.documents[0];let b="N/A";if(p.facultyId)try{b=(await le.getDocument(oc,tr,p.facultyId)).name}catch{b="N/A"}a({name:p.name,className:p.class,facultyName:b,sectionName:p.section});const x=new Date().toISOString().split("T")[0],y=await le.listDocuments(oc,tc,[J.equal("className",p.class),J.equal("sectionName",p.section),J.greaterThanEqual("dateAD",x),J.orderAsc("dateAD"),J.limit(5)]);o(y.documents.map(C=>({id:C.$id,title:C.title,subjectName:C.subjectName,dateAD:C.dateAD,dateBS:C.dateBS})));const v=await le.listDocuments(oc,zo,[J.contains("class",p.class),J.limit(20)]),j=[],S=new Date().getTime();v.documents.forEach(C=>{try{if(C.subjectDetails_json&&C.subjectDetails_json.trim()!==""){const $=JSON.parse(C.subjectDetails_json);let P=null;$.forEach(E=>{const M=new Date(E.date).getTime();M>=S&&(P===null||M<new Date(P).getTime())&&(P=E.date)}),P&&j.push({id:C.$id,examTitle:C.title,date:P})}}catch{}}),j.sort((C,$)=>new Date(C.date).getTime()-new Date($.date).getTime());const N=j.slice(0,5);l(N)}catch(d){s(d.code===401?"Session expired. Please log in.":`Failed to load data: ${d.message||"Unknown error"}`)}finally{r(!1)}})(),()=>{c()}),[c,s,r,a,o,l]),e?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Dashboard..."}),i.jsx("p",{className:"text-gray-500",children:"Fetching your details, please wait."})]})}):t?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-md text-center",children:[i.jsx(wst,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-semibold text-red-700 mb-2",children:"Oops! Something went wrong."}),i.jsx("p",{className:"text-gray-600 mb-6",children:t}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Try Again"})]})}):i.jsxs($t,{options:{suppressScrollX:!0},className:"h-screen",children:[" ",i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-sky-100 min-h-full py-8",children:[" ",i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("header",{className:"mb-8 md:mb-12 text-center",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 pb-2",children:"Student Dashboard"}),n&&i.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["Welcome back, ",i.jsx("span",{className:"font-semibold",children:n.name}),"!"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8",children:[i.jsx(gst,{}),i.jsx(xst,{}),i.jsx(vst,{}),i.jsx(Sst,{})]})]})]})]})},jst=()=>et.getState().dbId,Cst=jst,BF=Cst,Nst="coll-student",zJ=m.createContext(void 0),FA=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,o]=m.useState(null),l=m.useCallback(async()=>{if(!BF){console.error("StudentContext Error: Database ID or Student Collection ID missing from .env"),o(new Error("Application configuration error (Student Context).")),n(null),s(!1);return}s(!0),o(null);try{const u=await ut.get();if(!(u!=null&&u.$id))n(null);else{const d=await le.listDocuments(BF,Nst,[J.equal("id",u.$id),J.limit(1)]);if(d.documents.length===0)console.warn(`StudentProvider: No student document found for user ID: ${u.$id}.`),n(null);else{const f=d.documents[0],h={...f,id:u.$id,labels:u.labels||[],$id:f.$id};n(h)}}}catch(u){console.error("StudentProvider: Error fetching student data:",u),o(u),n(null)}finally{s(!1)}},[]);m.useEffect(()=>{l()},[l]);const c={studentData:t,loading:r,error:a,refetchStudentData:l};return i.jsx(zJ.Provider,{value:c,children:e})},VJ=()=>{const e=m.useContext(zJ);if(e===void 0)throw new Error("useStudentData must be used within a StudentProvider");return e},$st=()=>et.getState().dbId,Est=$st,$5=Est,Ast="coll-parent",Pst="coll-student",WJ=m.createContext(void 0),UJ=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,o]=m.useState(null),l=m.useCallback(async()=>{if(!$5){console.error("ParentContext Error: Appwrite config IDs missing from .env"),o(new Error("Application configuration error (Parent Context).")),n(null),s(!1);return}s(!0),o(null);try{const u=await ut.get();if(!(u!=null&&u.$id)){n(null),s(!1);return}const d=await le.listDocuments($5,Ast,[J.equal("id",u.$id),J.limit(1)]);if(d.documents.length===0){n(null),s(!1);return}const f=d.documents[0],h=[];if(f.students&&f.students.length>0)for(const b of f.students)try{const y=await le.getDocument($5,Pst,b);y&&y.id?h.push({$docId:y.$id,userId:y.id,name:y.name,class:y.class,section:y.section,facultyId:y.facultyId}):console.warn(`ParentProvider: Student document ${b} missing 'id' (UserID) field or not found.`)}catch(x){console.error(`ParentProvider: Error fetching student document ${b}:`,x)}const p={...f,id:u.$id,labels:u.labels||[],childrenDetails:h};n(p)}catch(u){console.error("ParentProvider: Error fetching parent data:",u),o(u),n(null)}finally{s(!1)}},[]);m.useEffect(()=>{l()},[l]);const c={parentData:t,loading:r,error:a,refetchParentData:l};return i.jsx(WJ.Provider,{value:c,children:e})},KJ=()=>{const e=m.useContext(WJ);return e===void 0?{parentData:null,loading:!1,error:null,refetchParentData:async()=>{}}:e},Dst=()=>et.getState().dbId,kst=Dst,zF=kst,Ist="coll-teacher",HJ=m.createContext(void 0),Tst=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,o]=m.useState(null),l=m.useCallback(async()=>{if(!zF){console.error("TeacherContext Error: Appwrite config IDs missing (DATABASE_ID or TEACHER_COLLECTION_ID)."),o(new Error("Application configuration error (Teacher Context).")),n(null),s(!1);return}s(!0),o(null);try{const d=await ut.get();if(!(d!=null&&d.$id)){n(null),s(!1);return}if(!d.labels||!d.labels.includes("teacher")){console.warn(`TeacherContext: User ${d.$id} (Email: ${d.email}) does NOT have 'teacher' label. Labels:`,d.labels),n(null),s(!1);return}const f=await le.listDocuments(zF,Ist,[J.equal("id",d.$id),J.limit(1)]);if(f.documents.length===0){console.warn(`TeacherContext: No document found in coll-teacher for user ID: ${d.$id} (who has 'teacher' label). Ensure 'id' field in coll-teacher matches Appwrite User ID, or that a record exists.`),n(null),s(!1);return}const h=f.documents[0],p={...h,$id:h.$id,id:d.$id,labels:d.labels||[],name:h.name||d.name,email:h.email||d.email,facultyId:h.facultyId,assignedClasses:h.assignedClasses};n(p)}catch(d){console.error("TeacherContext: Error fetching teacher data:",d),o(d),n(null)}finally{s(!1)}},[]);m.useEffect(()=>{l()},[l]);const c=m.useCallback(async()=>{await l()},[l]),u={teacherData:t,loading:r,error:a,refetchTeacherData:c};return i.jsx(HJ.Provider,{value:u,children:e})},qJ=()=>{const e=m.useContext(HJ);return e===void 0?(console.warn("useTeacherData used outside of TeacherProvider. Returning default empty state."),{teacherData:null,loading:!1,error:null,refetchTeacherData:async()=>{}}):e},Mst=()=>et.getState().dbId,Ost=Mst,vf=Ost,ey="coll-notify",p1="tauriDisplayedNotifications",RA=()=>{try{const e=localStorage.getItem(p1);if(e)return JSON.parse(e)}catch(e){console.error("Error reading displayed Tauri notifications from LS:",e),localStorage.removeItem(p1)}return{}},Lst=(e,t)=>{const n=RA();n[e]=t;try{localStorage.setItem(p1,JSON.stringify(n))}catch(r){console.error("Error saving displayed Tauri notification to LS:",r)}},_st=e=>!!RA()[e],VF=()=>{const e=RA(),t=new Date;let n=!1;const r={};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];try{const o=new Date(a);!isNaN(o.getTime())&&o>t?r[s]=a:n=!0}catch{console.warn(`NotificationContext: Error parsing date string for ${s} in LS: ${a}. Removing.`),n=!0}}if(n)try{localStorage.setItem(p1,JSON.stringify(r))}catch(s){console.error("Error during cleanup of displayed Tauri notifications in LS:",s)}},GJ=m.createContext(void 0),E5=(e,t,n,r)=>{var o,l,c,u,d;if(!t)return!1;const s=new Date,a=new Date(e.valid);if(s>a||!e.to||e.to.length===0)return!1;for(const f of e.to){const[h,p]=f.split(":",2);switch(h.toLowerCase()){case"id":if(p===t.id||n==="parent"&&r&&r.some(j=>j.userId===p))return!0;break;case"role":const b=p.toLowerCase();if(b==="all"||t.labels&&t.labels.map(j=>j.toLowerCase()).includes(b)||n==="parent"&&b==="student"&&r&&r.length>0)return!0;break;case"facultyid":const x=p.toLowerCase();if(x==="all"||n==="student"&&((o=t.facultyId)==null?void 0:o.toLowerCase())===x||n==="parent"&&r&&r.some(j=>{var S;return((S=j.facultyId)==null?void 0:S.toLowerCase())===x})||n==="teacher"&&((l=t.facultyId)==null?void 0:l.toLowerCase())===x)return!0;break;case"class":const y=p.toLowerCase();if(y==="all"||n==="student"&&((c=t.class)==null?void 0:c.toLowerCase())===y||n==="parent"&&r&&r.some(j=>{var S;return((S=j.class)==null?void 0:S.toLowerCase())===y})||n==="teacher"&&((u=t.assignedClasses)!=null&&u.map(j=>j.toLowerCase()).includes(y)))return!0;break;case"section":const v=p.toLowerCase();if(v==="all"||n==="student"&&((d=t.section)==null?void 0:d.toLowerCase())===v||n==="parent"&&r&&r.some(j=>{var S;return((S=j.section)==null?void 0:S.toLowerCase())===v}))return!0;break}}return!1},BA=({children:e})=>{const[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(null),[l,c]=m.useState(!1),{studentData:u,loading:d}=VJ(),{parentData:f,loading:h}=KJ(),{teacherData:p,loading:b}=qJ(),[x,y]=m.useState(null),[v,j]=m.useState(null),[S,N]=m.useState(void 0),[C,$]=m.useState(!0);m.useEffect(()=>{!d&&u?(y(u),j("student"),N(void 0),$(!1)):!h&&f?(y(f),j("parent"),N(f.childrenDetails),$(!1)):!b&&p?(y(p),j("teacher"),N(void 0),$(!1)):!d&&!h&&!b?(y(null),j(null),N(void 0),$(!1)):(d||h||b)&&$(!0)},[u,d,f,h,p,b]),m.useEffect(()=>{(async()=>{try{let A=await poe();A||(A=await goe()==="granted"),c(A)}catch(A){console.error("Error checking/requesting Tauri notification permission:",A),c(!1)}VF()})()},[]);const P=m.useCallback(async k=>{if(l&&(VF(),!_st(k.$id)))try{await moe({title:k.title||"New Notification",body:k.msg}),Lst(k.$id,k.valid)}catch(A){console.error(`NotificationContext: Failed to send Tauri notification for ${k.$id}:`,A)}},[l]),E=m.useCallback(async k=>{const A=new Date,I=new Date(k.valid);A>I||x&&E5(k,x,v,S)&&(n(L=>{if(L.some(T=>T.$id===k.$id))return L;const F=[k,...L];return F.sort((T,O)=>new Date(O.date||O.$createdAt).getTime()-new Date(T.date||T.$createdAt).getTime()),F}),await P(k))},[x,v,S,P]),M=m.useCallback(async()=>{if(!vf){console.error("NotificationContext: fetchNotifications - Error: Database ID or Notify Collection ID missing from .env"),o(new Error("App configuration error.")),s(!1);return}if(C){s(!0);return}if(!x){n([]),s(!1);return}s(!0),o(null);try{const k=new Date().toISOString(),A=new Set;if(A.add(`id:${x.id}`),x.labels&&x.labels.length>0&&x.labels.forEach(T=>A.add(`role:${T.toLowerCase()}`)),A.add("role:all"),A.add("class:all"),A.add("section:all"),A.add("facultyid:all"),v==="student"){const T=x;T.class&&A.add(`class:${T.class.toLowerCase()}`),T.section&&A.add(`section:${T.section.toLowerCase()}`),T.facultyId&&A.add(`facultyid:${T.facultyId.toLowerCase()}`)}else if(v==="parent"&&S)S.forEach(T=>{A.add(`id:${T.userId}`),T.class&&A.add(`class:${T.class.toLowerCase()}`),T.section&&A.add(`section:${T.section.toLowerCase()}`),T.facultyId&&A.add(`facultyid:${T.facultyId.toLowerCase()}`)}),A.add("role:student");else if(v==="teacher"){const T=x;T.facultyId&&A.add(`facultyid:${T.facultyId.toLowerCase()}`),T.assignedClasses&&T.assignedClasses.length>0&&T.assignedClasses.forEach(O=>A.add(`class:${O.toLowerCase()}`))}const I=Array.from(A),L=[J.greaterThanEqual("valid",k),J.orderDesc("date"),J.limit(100),J.contains("to",I)],F=(await le.listDocuments(vf,ey,L)).documents.filter(T=>E5(T,x,v,S));F.sort((T,O)=>new Date(O.date||O.$createdAt).getTime()-new Date(T.date||T.$createdAt).getTime()),n(F)}catch(k){console.error(`NotificationContext: fetchNotifications - Failed to fetch for ${v}:`,k),k.message&&k.message.includes("index")&&k.message.includes("to")?o(new Error("Database index missing or misconfigured for 'to' attribute in notifications.")):o(k)}finally{s(!1)}},[x,v,S,C]);return m.useEffect(()=>{!C&&x?M():!C&&!x&&(n([]),s(!1))},[C,x,M]),m.useEffect(()=>{r||C||!x||t.length===0||t.forEach(k=>{E5(k,x,v,S)&&P(k)})},[t,x,v,S,r,C,P]),m.useEffect(()=>{if(!vf||!x)return;const k=`databases.${vf}.collections.${ey}.documents`,A=e4.subscribe(k,I=>{if(I.events.includes(`databases.${vf}.collections.${ey}.documents.*.create`)){const L=I.payload;E(L)}});return()=>{A()}},[vf,ey,x,E]),i.jsx(GJ.Provider,{value:{notifications:t,loading:r,userLoading:C,error:a,fetchNotifications:M,addNotification:E,hasNotificationPermission:l,currentUser:x,currentUserType:v},children:e})},cm=()=>{const e=m.useContext(GJ);if(e===void 0)throw new Error("useNotificationContext must be used within a NotificationProvider");return e},Fst=Z.memo(({notification:e,senderRole:t})=>{const n=uZ(new Date(e.date),{addSuffix:!0}),r=t===void 0?"Loading...":t||"System/User",s=e.title.toLowerCase().includes("alert")?Hh:k0;return i.jsxs("div",{className:"flex items-start p-3 border-b border-gray-200 hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700 transition duration-150 ease-in-out space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(s,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[" ",i.jsx("p",{className:"font-semibold text-sm text-gray-800 dark:text-gray-100 truncate",children:e.title}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1 break-words",children:e.msg})," ",i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:[" ","From: ",i.jsx("span",{className:"font-medium",children:r})]}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2",children:n})," "]})]})]})}),YJ=()=>{const{notifications:e,loading:t,error:n,fetchNotifications:r}=cm(),[s,a]=m.useState({}),[o,l]=m.useState(!1),c=m.useMemo(()=>{const u=new Set;return e.forEach(d=>{d.sender&&typeof d.sender=="string"&&d.sender.trim()!==""&&s[d.sender]===void 0&&(["system","admin"].includes(d.sender.toLowerCase())||u.add(d.sender))}),Array.from(u)},[e,s]);return m.useEffect(()=>{if(c.length===0||o)return;(async()=>{l(!0);try{const d="YOUR_FUNCTION_ID";if(d==="YOUR_FUNCTION_ID"){console.error("!!! Notification.tsx Error: Appwrite Function ID not set. Replace 'YOUR_FUNCTION_ID'. !!!");const h=c.reduce((p,b)=>(p[b]=null,p),{});a(p=>({...p,...h})),l(!1);return}const f=await coe.createExecution(d,JSON.stringify({senderIds:c}),!1);if(f.status==="completed")try{const h=JSON.parse(f.responseBody);a(p=>({...p,...h}))}catch(h){console.error("Failed to parse function response JSON:",f.responseBody,h);const p=c.reduce((b,x)=>(b[x]=null,b),{});a(b=>({...b,...p}))}else{console.error(`Appwrite Function execution failed with status: ${f.status}`),console.error("Function Logs:",f.logs),console.error("Function Errors:",f.errors),console.error("Function Response Status Code:",f.responseStatusCode),console.error("Function Response Body:",f.responseBody);const h=c.reduce((p,b)=>(p[b]=null,p),{});a(p=>({...p,...h}))}}catch(d){console.error("Error calling cloud function (functions.createExecution):",d);const f=c.reduce((h,p)=>(h[p]=null,h),{});a(h=>({...h,...f}))}finally{l(!1)}})()},[c,o]),i.jsx("div",{className:" flex justify-center ",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg overflow-hidden dark:bg-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-700",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200",children:"Notifications"}),(t||o)&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading..."}),i.jsx("button",{onClick:r,disabled:t||o,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh notifications",children:"Refresh"})]}),i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[n&&i.jsxs("p",{className:"p-4 text-center text-red-500 text-sm",children:["Error: ",n.message||"Failed to load notifications."]}),!t&&!n&&e.length===0&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No new notifications."}),!n&&e.length>0&&i.jsx("div",{children:e.map(u=>i.jsx(Fst,{notification:u,senderRole:s[u.sender]},u.$id))}),t&&e.length===0&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"Loading notifications..."})]})]})})},Rst=()=>{const[e,t]=m.useState(()=>localStorage.getItem("activeMobileMenu")||"Dashboard"),[n,r]=m.useState(()=>localStorage.getItem("generalComponentMenuItem")||null),s=m.useRef(!0);m.useEffect(()=>{if(s.current){s.current=!1;const h=localStorage.getItem("activeMobileMenu"),p=localStorage.getItem("generalComponentMenuItem");h&&["Dashboard","Search","Menu","Notification","Braimy","Class","Subjects","CenterAction"].includes(h)?t(h):t("Dashboard"),p&&r(p)}},[]),m.useEffect(()=>{localStorage.setItem("activeMobileMenu",e)},[e]),m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",n||"")},[n]);const a=(h,p)=>{t(h),h==="Menu"?p?r(p):!p&&localStorage.getItem("generalComponentMenuItem")?r(localStorage.getItem("generalComponentMenuItem")):r(null):r(null)},o=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Braimy Settings"}),i.jsx("p",{className:"text-gray-700",children:"Configure Braimy related settings."})]}),l=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Classes"}),i.jsx("p",{className:"text-gray-700",children:"Manage your classes and schedules."})]}),c=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Subjects"}),i.jsx("p",{className:"text-gray-700",children:"View and manage subjects."})]}),d=[{name:"Dashboard",icon:i.jsx(y0,{className:"h-5 w-5"}),onClick:()=>a("Dashboard")},{name:"Search",icon:i.jsx(v0,{className:"h-5 w-5"}),onClick:()=>a("Search")},{name:"Menu",icon:i.jsx(x0,{className:"h-5 w-5"}),onClick:()=>a("Menu")},{name:"Notification",icon:i.jsx(O1,{className:"h-5 w-5"}),onClick:()=>a("Notification")}],f=()=>{switch(e){case"Dashboard":return i.jsx(BJ,{});case"Search":return i.jsx(pst,{setActiveItem:a});case"Menu":return i.jsx(hst,{initialMenuItem:n});case"Notification":return i.jsx(YJ,{});case"Braimy":return i.jsx(o,{});case"Class":return i.jsx(l,{});case"Subjects":return i.jsx(c,{});case"CenterAction":return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:"Center Action Content"});default:return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border text-center text-gray-500",children:"Select a menu item from below."})}};return i.jsx(uA,{children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[i.jsx("div",{className:"flex-1 overflow-x-hidden overflow-y-auto p-2",children:i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[f(),i.jsx(no,{})]})}),i.jsx("div",{className:"sticky bottom-0 bg-slate-300/90 rounded-t-lg backdrop-blur-sm border-t border-gray-200",children:i.jsx("div",{className:"container mx-auto max-w-3xl",children:i.jsx(P0,{menuItems:d,activeItemName:e,setActiveItemName:a})})})]})})},Bst=[{id:"1",icon:Ds,title:"Dashboard",description:"View your student dashboard",location:"Dashboard"},{id:"2",icon:Za,title:"Assignment",description:"View your assignments",location:"Assignment"},{id:"3",icon:Tr,title:"Attendance >> Details",description:"View attendance details",location:"Details"},{id:"4",icon:Uf,title:"Attendance >> Leave Form",description:"Submit leave form",location:"Leave Form"},{id:"5",icon:_1,title:"Attendance >> Leave Details",description:"View leave history and status",location:"Leave Details"},{id:"6",icon:$i,title:"Bus Location",description:"Track your school bus location",location:"Bus Location"},{id:"7",icon:Tr,title:"Calendar",description:"View academic calendar",location:"Calendar"},{id:"8",icon:Wc,title:"Exam",description:"View exam details and schedule",location:"Exam"},{id:"9",icon:bl,title:"Gallery",description:"Browse school gallery",location:"Gallery"},{id:"10",icon:Ja,title:"Lessons",description:"Access lesson plans",location:"Lessons"},{id:"11",icon:Ya,title:"Notes",description:"View class notes and materials",location:"Notes"},{id:"12",icon:wa,title:"Result",description:"View your exam results",location:"Result"},{id:"13",icon:Xc,title:"Review",description:"Check your reviews and feedback",location:"Review"},{id:"14",icon:R1,title:"Routine",description:"View your daily class routine",location:"Routine"}],zst=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=t?Bst.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())):[],s=a=>{e(a.location),n("")};return i.jsxs("div",{className:"relative flex-col w-full max-w-lg mx-auto flex items-center",children:[i.jsx(Ua,{placeholder:"Search",startContent:i.jsx(Ai,{className:"w-5 h-5 text-default-400 pointer-events-none flex-shrink-0"}),type:"text",isClearable:!0,variant:"flat",value:t,onChange:a=>n(a.target.value),onClear:()=>n(""),className:"shadow-gray-600/10 hover:shadow-gray-300/10 bg-slate-200 shadow-md rounded-xl"}),t.trim()!==""&&i.jsx("div",{className:"results z-10 mt-12 absolute w-full bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.length>0?i.jsx("ul",{children:r.map(a=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 cursor-pointer text-blue-500 hover:bg-gray-100",onClick:()=>s(a),children:[i.jsx(a.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:a.title}),i.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No results found."})})]})},Vst=({toggleSidebar:e,setActiveItem:t})=>{const[n,r]=m.useState(null);Lh();const s=()=>l(!0),a=()=>l(!1),[o,l]=m.useState(!1),{studentData:c,loading:u,error:d}=VJ(),{notifications:f,loading:h}=cm(),p=f.length,b=async()=>{try{await ut.deleteSession("current"),Ge.success("Logged out successfully!"),window.location.reload()}catch(x){console.error("Logout failed:",x),Ge.error(x.message||"Logout failed!")}};return m.useEffect(()=>{let x=!0;return ut.get().then(y=>{x&&y?r(y.email):x&&r(null)}).catch(y=>{x&&(console.error("Navbar: Failed to get user email:",y),r(null))}),()=>{x=!1}},[]),i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:"flex flex-row m-3 gap-4 sm:gap-6 items-center justify-between pr-2 rounded bg-white  dark:bg-gray-800",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-700 hover:text-gray-900 font-semibold bg-gray-100 hover:bg-gray-200 rounded-md active:scale-95 transition-colors duration-150 ease-in-out dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600","aria-label":"Toggle sidebar",children:i.jsx(D0,{className:"w-6 h-6"})}),i.jsx("div",{className:"flex-grow min-w-0 px-2",children:i.jsx(zst,{setActiveItem:t})}),i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-shrink-0",children:[i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsxs(Se,{isIconOnly:!0,variant:"light",className:"relative text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1 rounded-full dark:text-gray-400 dark:hover:text-gray-100","aria-label":"Notifications",children:[i.jsx(P$,{className:"w-6 h-6"}),!h&&p>0&&i.jsx("span",{className:"absolute top-[5px] right-[5px] flex items-center justify-center h-[1.08rem] w-4.5 min-w-[1rem] rounded-full font-medium bg-red-500 text-white text-[13px] leading-none px-1 ring-2 ring-white dark:ring-gray-800 animate-bounce",title:`${p} new notifications`,children:p>9?"9+":p})]})}),i.jsx(Pc,{"aria-label":"Notification menu",className:"p-0 max-w-sm w-screen sm:w-auto dark:bg-gray-800",children:i.jsx(kr,{isReadOnly:!0,className:"p-0 focus:bg-transparent focus:outline-none cursor-default",children:i.jsx(YJ,{})},"notification-center")})]}),i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsx(Ha,{as:"button",showFallback:!0,name:u?void 0:(c==null?void 0:c.name)||"",classNames:{base:"bg-gradient-to-br from-blue-500 to-indigo-600 transition-transform ring-2 ring-offset-1 ring-transparent group-hover:ring-indigo-300 dark:ring-offset-gray-800",name:"text-xs font-semibold text-white"},className:"cursor-pointer hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1 rounded-full","aria-label":"User menu"})}),i.jsxs(Pc,{"aria-label":"User actions",variant:"faded",className:"dark:bg-gray-800",children:[i.jsx(As,{showDivider:!0,children:i.jsxs(kr,{isReadOnly:!0,className:"h-14 gap-2 opacity-90 cursor-default dark:text-gray-400",children:[i.jsx("p",{className:"font-semibold text-gray-800 truncate dark:text-gray-200",children:u?"Loading...":(c==null?void 0:c.name)||"Student User"}),i.jsxs("p",{className:"font-normal text-gray-500 text-xs truncate dark:text-gray-400",children:[n||"...","  "]})]},"profile")}),i.jsx(As,{title:"Settings",children:i.jsx(kr,{className:"cursor-pointer",onPress:s,children:"Reset Password"},"reset-password")}),i.jsx(As,{title:"Actions",children:i.jsx(kr,{className:"text-danger dark:text-danger-400",color:"danger",startContent:i.jsx(S0,{className:"w-5 h-5 mr-1"}),onPress:b,children:"Logout"},"logout")})]})]})]})]}),i.jsx(Zc,{isOpen:o,onClose:a})]})};function Wst(){const[e,t]=m.useState(()=>{const c=localStorage.getItem("sidebarState");return c?parseInt(c,10):0}),[n,r]=m.useState("Dashboard"),s=()=>{t(c=>{const u=c===0?1:0;return localStorage.setItem("sidebarState",u.toString()),u})},a=[{name:"Dashboard",icon:Ds,component:BJ},{name:"Assignment",icon:Za,component:OJ},{name:"Attendance",icon:dA,children:[{name:"Details",icon:Tr,component:xZ},{name:"Leave Form",icon:Uf,component:dZ},{name:"Leave Details",icon:_1,component:fA}]},{name:"Bus Location",icon:$i,component:oo},{name:"Calendar",icon:Tr,component:Ld},{name:"Exam",icon:Wc,component:fZ},{name:"Gallery",icon:bl,component:SZ},{name:"Lessons",icon:Ja,component:EZ},{name:"Notes",icon:Ya,component:vZ},{name:"Result",icon:wa,component:RJ},{name:"Review",icon:Xc,component:AZ},{name:"Routine",icon:R1,component:yZ}],l=(()=>{const c=a.find(u=>u.name===n);if(c&&c.component)return c.component;for(const u of a)if(u.children){const d=u.children.find(f=>f.name===n);if(d&&d.component)return d.component}return()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Content Not Found"}),i.jsx("p",{children:"No component defined for this menu item."})]})})();return i.jsxs(uA,{children:["  ",i.jsxs("div",{className:"flex h-screen bg-gray-100/40",children:[i.jsx(Y0,{sidebarState:e,toggleSidebar:s,setActiveItem:r,activeItem:n,sidebarItems:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Vst,{toggleSidebar:s,setActiveItem:r}),i.jsxs("main",{className:"flex-1 overflow-auto mb-2 mr-2 max-w-full",children:[i.jsx(l,{}),i.jsx(no,{})]})]})]})]})}const Ust=()=>{const e=A0({minWidth:767});return i.jsx(FA,{children:i.jsx(BA,{children:i.jsxs(i.Fragment,{children:[" ",e?i.jsx(Wst,{}):i.jsx(Rst,{})]})})})};function XJ(e,t){return function(){return e.apply(t,arguments)}}const{toString:Kst}=Object.prototype,{getPrototypeOf:zA}=Object,{iterator:b2,toStringTag:ZJ}=Symbol,x2=(e=>t=>{const n=Kst.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Di=e=>(e=e.toLowerCase(),t=>x2(t)===e),y2=e=>t=>typeof t===e,{isArray:um}=Array,l0=y2("undefined");function Hst(e){return e!==null&&!l0(e)&&e.constructor!==null&&!l0(e.constructor)&&Ws(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JJ=Di("ArrayBuffer");function qst(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&JJ(e.buffer),t}const Gst=y2("string"),Ws=y2("function"),QJ=y2("number"),v2=e=>e!==null&&typeof e=="object",Yst=e=>e===!0||e===!1,vy=e=>{if(x2(e)!=="object")return!1;const t=zA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ZJ in e)&&!(b2 in e)},Xst=Di("Date"),Zst=Di("File"),Jst=Di("Blob"),Qst=Di("FileList"),eat=e=>v2(e)&&Ws(e.pipe),tat=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ws(e.append)&&((t=x2(e))==="formdata"||t==="object"&&Ws(e.toString)&&e.toString()==="[object FormData]"))},nat=Di("URLSearchParams"),[rat,sat,aat,iat]=["ReadableStream","Request","Response","Headers"].map(Di),oat=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eb(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),um(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function eQ(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tQ=e=>!l0(e)&&e!==ed;function KN(){const{caseless:e}=tQ(this)&&this||{},t={},n=(r,s)=>{const a=e&&eQ(t,s)||s;vy(t[a])&&vy(r)?t[a]=KN(t[a],r):vy(r)?t[a]=KN({},r):um(r)?t[a]=r.slice():t[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&eb(arguments[r],n);return t}const lat=(e,t,n,{allOwnKeys:r}={})=>(eb(t,(s,a)=>{n&&Ws(s)?e[a]=XJ(s,n):e[a]=s},{allOwnKeys:r}),e),cat=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uat=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dat=(e,t,n,r)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&zA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},fat=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},hat=e=>{if(!e)return null;if(um(e))return e;let t=e.length;if(!QJ(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mat=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zA(Uint8Array)),pat=(e,t)=>{const r=(e&&e[b2]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},gat=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},bat=Di("HTMLFormElement"),xat=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),WF=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yat=Di("RegExp"),nQ=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};eb(n,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(r[a]=o||s)}),Object.defineProperties(e,r)},vat=e=>{nQ(e,(t,n)=>{if(Ws(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ws(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wat=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return um(e)?r(e):r(String(e).split(t)),n},Sat=()=>{},jat=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cat(e){return!!(e&&Ws(e.append)&&e[ZJ]==="FormData"&&e[b2])}const Nat=e=>{const t=new Array(10),n=(r,s)=>{if(v2(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const a=um(r)?[]:{};return eb(r,(o,l)=>{const c=n(o,s+1);!l0(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},$at=Di("AsyncFunction"),Eat=e=>e&&(v2(e)||Ws(e))&&Ws(e.then)&&Ws(e.catch),rQ=((e,t)=>e?setImmediate:t?((n,r)=>(ed.addEventListener("message",({source:s,data:a})=>{s===ed&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ed.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ws(ed.postMessage)),Aat=typeof queueMicrotask<"u"?queueMicrotask.bind(ed):typeof process<"u"&&process.nextTick||rQ,Pat=e=>e!=null&&Ws(e[b2]),Ee={isArray:um,isArrayBuffer:JJ,isBuffer:Hst,isFormData:tat,isArrayBufferView:qst,isString:Gst,isNumber:QJ,isBoolean:Yst,isObject:v2,isPlainObject:vy,isReadableStream:rat,isRequest:sat,isResponse:aat,isHeaders:iat,isUndefined:l0,isDate:Xst,isFile:Zst,isBlob:Jst,isRegExp:yat,isFunction:Ws,isStream:eat,isURLSearchParams:nat,isTypedArray:mat,isFileList:Qst,forEach:eb,merge:KN,extend:lat,trim:oat,stripBOM:cat,inherits:uat,toFlatObject:dat,kindOf:x2,kindOfTest:Di,endsWith:fat,toArray:hat,forEachEntry:pat,matchAll:gat,isHTMLForm:bat,hasOwnProperty:WF,hasOwnProp:WF,reduceDescriptors:nQ,freezeMethods:vat,toObjectSet:wat,toCamelCase:xat,noop:Sat,toFiniteNumber:jat,findKey:eQ,global:ed,isContextDefined:tQ,isSpecCompliantForm:Cat,toJSONObject:Nat,isAsyncFn:$at,isThenable:Eat,setImmediate:rQ,asap:Aat,isIterable:Pat};function kt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Ee.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const sQ=kt.prototype,aQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aQ[e]={value:e}});Object.defineProperties(kt,aQ);Object.defineProperty(sQ,"isAxiosError",{value:!0});kt.from=(e,t,n,r,s,a)=>{const o=Object.create(sQ);return Ee.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),kt.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Dat=null;function HN(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function iQ(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function UF(e,t,n){return e?e.concat(t).map(function(s,a){return s=iQ(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function kat(e){return Ee.isArray(e)&&!e.some(HN)}const Iat=Ee.toFlatObject(Ee,{},null,function(t){return/^is[A-Z]/.test(t)});function w2(e,t,n){if(!Ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!Ee.isUndefined(y[x])});const r=n.metaTokens,s=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(t);if(!Ee.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(Ee.isDate(b))return b.toISOString();if(!c&&Ee.isBlob(b))throw new kt("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(b)||Ee.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,x,y){let v=b;if(b&&!y&&typeof b=="object"){if(Ee.endsWith(x,"{}"))x=r?x:x.slice(0,-2),b=JSON.stringify(b);else if(Ee.isArray(b)&&kat(b)||(Ee.isFileList(b)||Ee.endsWith(x,"[]"))&&(v=Ee.toArray(b)))return x=iQ(x),v.forEach(function(S,N){!(Ee.isUndefined(S)||S===null)&&t.append(o===!0?UF([x],N,a):o===null?x:x+"[]",u(S))}),!1}return HN(b)?!0:(t.append(UF(y,x,a),u(b)),!1)}const f=[],h=Object.assign(Iat,{defaultVisitor:d,convertValue:u,isVisitable:HN});function p(b,x){if(!Ee.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(b),Ee.forEach(b,function(v,j){(!(Ee.isUndefined(v)||v===null)&&s.call(t,v,Ee.isString(j)?j.trim():j,x,h))===!0&&p(v,x?x.concat(j):[j])}),f.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return p(e),t}function KF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function VA(e,t){this._pairs=[],e&&w2(e,this,t)}const oQ=VA.prototype;oQ.append=function(t,n){this._pairs.push([t,n])};oQ.toString=function(t){const n=t?function(r){return t.call(this,r,KF)}:KF;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Tat(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lQ(e,t,n){if(!t)return e;const r=n&&n.encode||Tat;Ee.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=Ee.isURLSearchParams(t)?t.toString():new VA(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class HF{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mat=typeof URLSearchParams<"u"?URLSearchParams:VA,Oat=typeof FormData<"u"?FormData:null,Lat=typeof Blob<"u"?Blob:null,_at={isBrowser:!0,classes:{URLSearchParams:Mat,FormData:Oat,Blob:Lat},protocols:["http","https","file","blob","url","data"]},WA=typeof window<"u"&&typeof document<"u",qN=typeof navigator=="object"&&navigator||void 0,Fat=WA&&(!qN||["ReactNative","NativeScript","NS"].indexOf(qN.product)<0),Rat=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bat=WA&&window.location.href||"http://localhost",zat=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WA,hasStandardBrowserEnv:Fat,hasStandardBrowserWebWorkerEnv:Rat,navigator:qN,origin:Bat},Symbol.toStringTag,{value:"Module"})),ts={...zat,..._at};function Vat(e,t){return w2(e,new ts.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return ts.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Wat(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Uat(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function uQ(e){function t(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&Ee.isArray(s)?s.length:o,c?(Ee.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!Ee.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],a)&&Ee.isArray(s[o])&&(s[o]=Uat(s[o])),!l)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const n={};return Ee.forEachEntry(e,(r,s)=>{t(Wat(r),s,n,0)}),n}return null}function Kat(e,t,n){if(Ee.isString(e))try{return(t||JSON.parse)(e),Ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const tb={transitional:cQ,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Ee.isObject(t);if(a&&Ee.isHTMLForm(t)&&(t=new FormData(t)),Ee.isFormData(t))return s?JSON.stringify(uQ(t)):t;if(Ee.isArrayBuffer(t)||Ee.isBuffer(t)||Ee.isStream(t)||Ee.isFile(t)||Ee.isBlob(t)||Ee.isReadableStream(t))return t;if(Ee.isArrayBufferView(t))return t.buffer;if(Ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Vat(t,this.formSerializer).toString();if((l=Ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return w2(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),Kat(t)):t}],transformResponse:[function(t){const n=this.transitional||tb.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Ee.isResponse(t)||Ee.isReadableStream(t))return t;if(t&&Ee.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?kt.from(l,kt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{tb.headers[e]={}});const Hat=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qat=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&Hat[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},qF=Symbol("internals");function dp(e){return e&&String(e).trim().toLowerCase()}function wy(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(wy):String(e)}function Gat(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Yat=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function A5(e,t,n,r,s){if(Ee.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!Ee.isString(t)){if(Ee.isString(r))return t.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(t)}}function Xat(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Zat(e,t){const n=Ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,o){return this[r].call(this,t,s,a,o)},configurable:!0})})}let Us=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const d=dp(c);if(!d)throw new Error("header name must be a non-empty string");const f=Ee.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=wy(l))}const o=(l,c)=>Ee.forEach(l,(u,d)=>a(u,d,c));if(Ee.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ee.isString(t)&&(t=t.trim())&&!Yat(t))o(qat(t),n);else if(Ee.isObject(t)&&Ee.isIterable(t)){let l={},c,u;for(const d of t){if(!Ee.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Ee.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=dp(t),t){const r=Ee.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Gat(s);if(Ee.isFunction(n))return n.call(this,s,r);if(Ee.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dp(t),t){const r=Ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||A5(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(o){if(o=dp(o),o){const l=Ee.findKey(r,o);l&&(!n||A5(r,r[l],l,n))&&(delete r[l],s=!0)}}return Ee.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||A5(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return Ee.forEach(this,(s,a)=>{const o=Ee.findKey(r,a);if(o){n[o]=wy(s),delete n[a];return}const l=t?Xat(a):String(a).trim();l!==a&&delete n[a],n[l]=wy(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ee.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[qF]=this[qF]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=dp(o);r[l]||(Zat(s,o),r[l]=!0)}return Ee.isArray(t)?t.forEach(a):a(t),this}};Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(Us.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ee.freezeMethods(Us);function P5(e,t){const n=this||tb,r=t||n,s=Us.from(r.headers);let a=r.data;return Ee.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function dQ(e){return!!(e&&e.__CANCEL__)}function dm(e,t,n){kt.call(this,e??"canceled",kt.ERR_CANCELED,t,n),this.name="CanceledError"}Ee.inherits(dm,kt,{__CANCEL__:!0});function fQ(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Jat(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qat(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];o||(o=u),n[s]=c,r[s]=u;let f=a,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function eit(e,t){let n=0,r=1e3/t,s,a;const o=(u,d=Date.now())=>{n=d,s=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},r-f)))},()=>s&&o(s)]}const g1=(e,t,n=3)=>{let r=0;const s=Qat(50,250);return eit(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},GF=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},YF=e=>(...t)=>Ee.asap(()=>e(...t)),tit=ts.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ts.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,nit=ts.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];Ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&o.push("path="+r),Ee.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rit(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sit(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hQ(e,t,n){let r=!rit(t);return e&&(r||n==!1)?sit(e,t):t}const XF=e=>e instanceof Us?{...e}:e;function wd(e,t){t=t||{};const n={};function r(u,d,f,h){return Ee.isPlainObject(u)&&Ee.isPlainObject(d)?Ee.merge.call({caseless:h},u,d):Ee.isPlainObject(d)?Ee.merge({},d):Ee.isArray(d)?d.slice():d}function s(u,d,f,h){if(Ee.isUndefined(d)){if(!Ee.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function a(u,d){if(!Ee.isUndefined(d))return r(void 0,d)}function o(u,d){if(Ee.isUndefined(d)){if(!Ee.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(XF(u),XF(d),f,!0)};return Ee.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||s,h=f(e[d],t[d],d);Ee.isUndefined(h)&&f!==l||(n[d]=h)}),n}const mQ=e=>{const t=wd({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=Us.from(o),t.url=lQ(hQ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ee.isFormData(n)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ts.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(t)),r||r!==!1&&tit(t.url))){const u=s&&a&&nit.read(a);u&&o.set(s,u)}return t},ait=typeof XMLHttpRequest<"u",iit=ait&&function(e){return new Promise(function(n,r){const s=mQ(e);let a=s.data;const o=Us.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,b;function x(){p&&p(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function v(){if(!y)return;const S=Us.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};fQ(function(P){n(P),x()},function(P){r(P),x()},C),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new kt("Request aborted",kt.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||cQ;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new kt(N,C.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ee.forEach(o.toJSON(),function(N,C){y.setRequestHeader(C,N)}),Ee.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([h,b]=g1(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=g1(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=S=>{y&&(r(!S||S.type?new dm(null,e,y):S),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=Jat(s.url);if(j&&ts.protocols.indexOf(j)===-1){r(new kt("Unsupported protocol "+j+":",kt.ERR_BAD_REQUEST,e));return}y.send(a||null)})},oit=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof kt?d:new dm(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new kt(`timeout ${t} of ms exceeded`,kt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>Ee.asap(l),c}},lit=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},cit=async function*(e,t){for await(const n of uit(e))yield*lit(n,t)},uit=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ZF=(e,t,n,r)=>{const s=cit(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},S2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pQ=S2&&typeof ReadableStream=="function",dit=S2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gQ=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fit=pQ&&gQ(()=>{let e=!1;const t=new Request(ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),JF=64*1024,GN=pQ&&gQ(()=>Ee.isReadableStream(new Response("").body)),b1={stream:GN&&(e=>e.body)};S2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!b1[t]&&(b1[t]=Ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new kt(`Response type '${t}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})})(new Response);const hit=async e=>{if(e==null)return 0;if(Ee.isBlob(e))return e.size;if(Ee.isSpecCompliantForm(e))return(await new Request(ts.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(e)||Ee.isArrayBuffer(e))return e.byteLength;if(Ee.isURLSearchParams(e)&&(e=e+""),Ee.isString(e))return(await dit(e)).byteLength},mit=async(e,t)=>{const n=Ee.toFiniteNumber(e.getContentLength());return n??hit(t)},pit=S2&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=mQ(e);u=u?(u+"").toLowerCase():"text";let p=oit([s,a&&a.toAbortSignal()],o),b;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&fit&&n!=="get"&&n!=="head"&&(y=await mit(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),$;if(Ee.isFormData(r)&&($=C.headers.get("content-type"))&&d.setContentType($),C.body){const[P,E]=GF(y,g1(YF(c)));r=ZF(C.body,JF,P,E)}}Ee.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;b=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let j=await fetch(b);const S=GN&&(u==="stream"||u==="response");if(GN&&(l||S&&x)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=j[M]});const $=Ee.toFiniteNumber(j.headers.get("content-length")),[P,E]=l&&GF($,g1(YF(l),!0))||[];j=new Response(ZF(j.body,JF,P,()=>{E&&E(),x&&x()}),C)}u=u||"text";let N=await b1[Ee.findKey(b1,u)||"text"](j,e);return!S&&x&&x(),await new Promise((C,$)=>{fQ(C,$,{data:N,headers:Us.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:b})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,e,b),{cause:v.cause||v}):kt.from(v,v&&v.code,e,b)}}),YN={http:Dat,xhr:iit,fetch:pit};Ee.forEach(YN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const QF=e=>`- ${e}`,git=e=>Ee.isFunction(e)||e===null||e===!1,bQ={getAdapter:e=>{e=Ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){n=e[a];let o;if(r=n,!git(n)&&(r=YN[(o=String(n)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(QF).join(`
`):" "+QF(a[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:YN};function D5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dm(null,e)}function eR(e){return D5(e),e.headers=Us.from(e.headers),e.data=P5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bQ.getAdapter(e.adapter||tb.adapter)(e).then(function(r){return D5(e),r.data=P5.call(e,e.transformResponse,r),r.headers=Us.from(r.headers),r},function(r){return dQ(r)||(D5(e),r&&r.response&&(r.response.data=P5.call(e,e.transformResponse,r.response),r.response.headers=Us.from(r.response.headers))),Promise.reject(r)})}const xQ="1.9.0",j2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{j2[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const tR={};j2.transitional=function(t,n,r){function s(a,o){return"[Axios v"+xQ+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new kt(s(o," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!tR[o]&&(tR[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};j2.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function bit(e,t,n){if(typeof e!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new kt("option "+a+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+a,kt.ERR_BAD_OPTION)}}const Sy={assertOptions:bit,validators:j2},Fi=Sy.validators;let id=class{constructor(t){this.defaults=t||{},this.interceptors={request:new HF,response:new HF}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wd(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Sy.assertOptions(r,{silentJSONParsing:Fi.transitional(Fi.boolean),forcedJSONParsing:Fi.transitional(Fi.boolean),clarifyTimeoutError:Fi.transitional(Fi.boolean)},!1),s!=null&&(Ee.isFunction(s)?n.paramsSerializer={serialize:s}:Sy.assertOptions(s,{encode:Fi.function,serialize:Fi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sy.assertOptions(n,{baseUrl:Fi.spelling("baseURL"),withXsrfToken:Fi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Ee.merge(a.common,a[n.method]);a&&Ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=Us.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const b=[eR.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),h=b.length,d=Promise.resolve(n);f<h;)d=d.then(b[f++],b[f++]);return d}h=l.length;let p=n;for(f=0;f<h;){const b=l[f++],x=l[f++];try{p=b(p)}catch(y){x.call(this,y);break}}try{d=eR.call(this,p)}catch(b){return Promise.reject(b)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=wd(this.defaults,t);const n=hQ(t.baseURL,t.url,t.allowAbsoluteUrls);return lQ(n,t.params,t.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(t){id.prototype[t]=function(n,r){return this.request(wd(r||{},{method:t,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,l){return this.request(wd(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}id.prototype[t]=n(),id.prototype[t+"Form"]=n(!0)});let xit=class yQ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new dm(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new yQ(function(s){t=s}),cancel:t}}};function yit(e){return function(n){return e.apply(null,n)}}function vit(e){return Ee.isObject(e)&&e.isAxiosError===!0}const XN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XN).forEach(([e,t])=>{XN[t]=e});function vQ(e){const t=new id(e),n=XJ(id.prototype.request,t);return Ee.extend(n,id.prototype,t,{allOwnKeys:!0}),Ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return vQ(wd(e,s))},n}const cr=vQ(tb);cr.Axios=id;cr.CanceledError=dm;cr.CancelToken=xit;cr.isCancel=dQ;cr.VERSION=xQ;cr.toFormData=w2;cr.AxiosError=kt;cr.Cancel=cr.CanceledError;cr.all=function(t){return Promise.all(t)};cr.spread=yit;cr.isAxiosError=vit;cr.mergeConfig=wd;cr.AxiosHeaders=Us;cr.formToJSON=e=>uQ(Ee.isHTMLForm(e)?new FormData(e):e);cr.getAdapter=bQ.getAdapter;cr.HttpStatusCode=XN;cr.default=cr;const{Axios:Oct,AxiosError:Lct,CanceledError:_ct,isCancel:Fct,CancelToken:Rct,VERSION:Bct,all:zct,Cancel:Vct,isAxiosError:Wct,spread:Uct,toFormData:Kct,AxiosHeaders:Hct,HttpStatusCode:qct,formToJSON:Gct,getAdapter:Yct,mergeConfig:Xct}=cr,wit="https://back.soraddynamics.com/api",Fd=cr.create({baseURL:wit});Fd.interceptors.request.use(async e=>{if(e.baseURL?e.baseURL+(e.url||""):e.url,!ut)return console.error("[AxiosInterceptor] CRITICAL FAILURE: `appwriteAccount` service is undefined. Check import from `lib/appwrite.ts`. No token will be attached."),e.headers&&delete e.headers.Authorization,e;try{const t=await ut.getSession("current");if(t&&t.jwt){const n=t.jwt;e.headers?e.headers.Authorization=`Bearer ${n}`:console.warn("[AxiosInterceptor] Axios request config.headers is undefined. Cannot set Authorization header.")}else console.warn("[AxiosInterceptor] No active Appwrite session found, or session object does not contain JWT. Request will be unauthenticated."),e.headers&&delete e.headers.Authorization}catch(t){console.warn("[AxiosInterceptor] Error retrieving Appwrite session (likely indicates no user is logged in):",t),e.headers&&delete e.headers.Authorization}return e},e=>(console.error("[AxiosInterceptor] Error in request setup:",e),Promise.reject(e)));const fm=e=>{if(e.response){const t=e.response.data;return console.error("[handleError] Server Error Response:",{status:e.response.status,data:t,headers:e.response.headers}),{message:(t==null?void 0:t.message)||e.message||"An unknown server error occurred.",error:(t==null?void 0:t.error)||t}}else return e.request?(console.error("[handleError] Network Error (No Response):",e.request),{message:"Network error: No response received from server. Check server status and network connection."}):(console.error("[handleError] Request Setup Error:",e.message),{message:`Request setup error: ${e.message}`})},Sit=async e=>{var t,n;try{const r={};return(t=e==null?void 0:e.name)!=null&&t.trim()&&(r.name=e.name.trim()),(n=e==null?void 0:e.status)!=null&&n.trim()&&(r.status=e.status.trim()),(await Fd.get("/clients",{params:Object.keys(r).length>0?r:void 0})).data}catch(r){throw console.error("[ApiService] fetchClients FAILED."),fm(r)}},jit=async e=>{try{return(await Fd.get(`/clients/${e}`)).data}catch(t){throw console.error(`[ApiService] fetchClientById FAILED for ID: ${e}.`),fm(t)}},Cit=async e=>{const t=new FormData;t.append("name",e.name),e.desc&&t.append("desc",e.desc),t.append("domain",e.domain),t.append("admin_name",e.admin_name),t.append("license_date",e.license_date),t.append("byName",e.byName),t.append("byContact",e.byContact),e.logoImage&&t.append("logoImage",e.logoImage,e.logoImage.name);try{return(await Fd.post("/clients",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("[ApiService] addClient FAILED."),fm(n)}},Nit=async(e,t)=>{try{return(await Fd.put(`/clients/${e}`,t)).data}catch(n){throw console.error(`[ApiService] updateClientDetails FAILED for ID: ${e}.`),fm(n)}},$it=async(e,t)=>{try{return(await Fd.put(`/clients/${e}/license`,{license_date:t})).data}catch(n){throw console.error(`[ApiService] updateClientLicense FAILED for ID: ${e}.`),fm(n)}},Eit=async(e,t)=>{try{return(await Fd.post(`/clients/${e}/notes`,{note:t})).data}catch(n){throw console.error(`[ApiService] addClientNoteApi FAILED for ID: ${e}.`),fm(n)}},wQ=e=>{if(!e)return null;try{return Qn.getFilePreview(uoe,e,200,0,void 0,85)}catch(t){return console.error(`[Util] Error getting file preview for Appwrite File ID ${e}:`,t),null}},Ait=({client:e,onClick:t})=>{var h;const n=e.logo_image_id?(h=wQ(e.logo_image_id))==null?void 0:h.href:void 0,r={active:"text-green-700 bg-green-100",expired:"text-red-700 bg-red-100",pending_setup:"text-yellow-700 bg-yellow-100",setup_failed:"text-orange-700 bg-orange-100",default:"text-gray-700 bg-gray-100"},s={active:i.jsx(D$,{className:"h-4 w-4 mr-1 inline-block"}),expired:i.jsx(za,{className:"h-4 w-4 mr-1 inline-block"}),pending_setup:i.jsx(za,{className:"h-4 w-4 mr-1 inline-block"}),setup_failed:i.jsx(za,{className:"h-4 w-4 mr-1 inline-block"}),default:i.jsx(M2e,{className:"h-4 w-4 mr-1 inline-block"})},a=(p,b)=>p?p.length<=b?p:p.substring(0,b)+"...":"N/A";let o,l,c;e.status&&typeof e.status=="string"?(o=e.status.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase()),l=r[e.status]||r.default,c=s[e.status]||s.default):(o="Status Unknown",l=r.default,c=s.default);const u=e.name||"Unnamed Client",d=e.domain||"N/A",f=e.desc||"No description provided.";return i.jsxs("div",{onClick:t,className:"bg-white shadow-lg rounded-xl p-5 flex flex-col justify-between h-full cursor-pointer hover:shadow-xl transition-shadow duration-200 ease-in-out transform hover:-translate-y-1",title:`View details for ${u}`,children:[i.jsxs("div",{children:[" ",i.jsxs("div",{className:"flex items-start space-x-4 mb-3",children:[n?i.jsx("img",{src:n,alt:`${u} logo`,className:"w-16 h-16 object-contain rounded-md border border-slate-200 bg-slate-50 p-0.5 flex-shrink-0",onError:p=>{p.currentTarget.style.display="none"}}):i.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-md flex items-center justify-center text-slate-400 flex-shrink-0",children:i.jsx(Wo,{className:"h-8 w-8"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[" ",i.jsx("h3",{className:"text-lg font-semibold text-slate-800 truncate",title:u,children:u}),i.jsxs("p",{className:`text-xs font-medium px-2 py-0.5 rounded-full inline-block mt-1 ${l}`,children:[c,o]})]})]}),i.jsx("div",{className:"mb-3 text-sm text-slate-600",children:i.jsx("p",{className:"line-clamp-3",title:f,children:e.desc?a(e.desc,100):i.jsx("span",{className:"italic",children:"No description provided."})})})]}),i.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-200 space-y-1.5 text-xs text-slate-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(hy,{className:"h-4 w-4 text-slate-400 mr-1.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",title:d,children:["Domain: ",d]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(er,{className:"h-4 w-4 text-slate-400 mr-1.5 flex-shrink-0"}),i.jsxs("span",{children:["Expires: ",e.license_date?new Date(e.license_date).toLocaleDateString():"N/A"]})]})]})]})},Pit=({clients:e,onClientSelect:t})=>e.length===0?i.jsx("p",{className:"text-center text-slate-500 py-8",children:"No clients found matching your criteria."}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(n=>i.jsx(Ait,{client:n,onClick:()=>t(n)},n.$id))}),hc=({size:e="md"})=>{const t={sm:"h-5 w-5",md:"h-8 w-8",lg:"h-12 w-12"};return i.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-blue-500 ${t[e]}`})},mc=({message:e})=>e?i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(dSe,{className:"h-5 w-5 text-red-500 mr-2"}),i.jsx("span",{className:"block sm:inline",children:e})]})}):null,Dit=({client:e,onNoteAdded:t,currentUser:n})=>{const[r,s]=m.useState(""),[a,o]=m.useState(!1),[l,c]=m.useState(null),u=n.labels.includes("pro")||e.by===n.$id,d=async()=>{if(!(!r.trim()||!u)){o(!0),c(null);try{const f=await Eit(e.$id,r);t(f),s("")}catch(f){c(f.message||"Failed to add note.")}finally{o(!1)}}};return i.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[i.jsxs("h4",{className:"text-lg font-semibold text-slate-700 mb-3 flex items-center",children:[i.jsx(Kwe,{className:"h-6 w-6 mr-2 text-blue-500"}),"Client Notes"]}),e.client_notes&&e.client_notes.length>0?i.jsx("ul",{className:"space-y-3",children:e.client_notes.slice().reverse().map((f,h)=>i.jsx("li",{className:"p-3 bg-slate-50 rounded-md border border-slate-200 text-sm text-slate-600",children:f.includes(":")?i.jsxs(i.Fragment,{children:[i.jsxs("strong",{className:"text-slate-700 block mb-0.5",children:[new Date(f.substring(0,f.indexOf(":"))).toLocaleString(),":"]}),f.substring(f.indexOf(":")+1).trim()]}):f},h))}):i.jsx("p",{className:"text-sm text-slate-500",children:"No notes added yet."}),u&&i.jsxs("div",{className:"mt-4",children:[i.jsx("textarea",{value:r,onChange:f=>s(f.target.value),placeholder:"Add a new note...",rows:3,className:"w-full p-2 border border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500 shadow-sm sm:text-sm",disabled:a}),i.jsx("button",{type:"button",onClick:d,disabled:a||!r.trim(),className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?i.jsxs(i.Fragment,{children:[i.jsx(hc,{size:"sm"}),i.jsx("span",{className:"ml-2",children:"Adding..."})]}):i.jsxs(i.Fragment,{children:[" ",i.jsx(I$,{className:"h-5 w-5 mr-2"})," Add Note "]})}),l&&i.jsx(mc,{message:l})]})]})},ZN=({message:e})=>e?i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(J1,{className:"h-5 w-5 text-green-500 mr-2"}),i.jsx("span",{className:"block sm:inline",children:e})]})}):null,Nu=({icon:e,label:t,value:n,className:r})=>i.jsxs("div",{className:`flex items-start py-2 ${r}`,children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 text-slate-500 mr-3 mt-0.5",children:e}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-sm font-medium text-slate-500",children:t}),i.jsx("dd",{className:"mt-0.5 text-sm text-slate-900",children:n==null||n===""?"N/A":n})]})]}),kit=({client:e,onBack:t,onClientUpdate:n,currentUser:r})=>{var O;const[s,a]=m.useState(e),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[b,x]=m.useState(null),[y,v]=m.useState(null),[j,S]=m.useState(null),[N,C]=m.useState(!1);m.useEffect(()=>{a(e),e.license_date&&typeof e.license_date=="string"?l(e.license_date.substring(0,10)):l("")},[e]);const $=s.logo_image_id?(O=wQ(s.logo_image_id))==null?void 0:O.href:void 0,P=r.labels.includes("pro"),E=s.by===r.$id,M=P||E,k=async()=>{if(M){u(!0),p(null),v(null);try{const _=await $it(s.$id,o);a(_),n(_),v("License date updated successfully!"),setTimeout(()=>v(null),3e3)}catch(_){p(_.message||"Failed to update license.")}finally{u(!1)}}},A=_=>{a({...s,[_.target.name]:_.target.value})},I=async()=>{if(M){f(!0),x(null),S(null);try{const{name:_,desc:W}=s,z=await Nit(s.$id,{name:_,desc:W});a(z),n(z),C(!1),S("Client details updated successfully!"),setTimeout(()=>S(null),3e3)}catch(_){x(_.message||"Failed to update details.")}finally{f(!1)}}},L=_=>{a(_),n(_)},R={active:{text:"Active",color:"text-green-700 bg-green-100",icon:i.jsx(Jy,{className:"h-5 w-5 mr-1 inline-block"})},expired:{text:"Expired",color:"text-red-700 bg-red-100",icon:i.jsx(T6,{className:"h-5 w-5 mr-1 inline-block"})},pending_setup:{text:"Pending Setup",color:"text-yellow-700 bg-yellow-100",icon:i.jsx(ma,{className:"h-5 w-5 mr-1 inline-block"})},setup_failed:{text:"Setup Failed",color:"text-orange-700 bg-orange-100",icon:i.jsx(T6,{className:"h-5 w-5 mr-1 inline-block"})}};let T={text:"Status Unknown",color:"text-slate-700 bg-slate-100",icon:i.jsx(Ks,{className:"h-5 w-5 mr-1 inline-block"})};return s.status&&typeof s.status=="string"&&R.hasOwnProperty(s.status)&&(T=R[s.status]),i.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8 max-w-3xl mx-auto",children:[i.jsxs("button",{type:"button",onClick:t,className:"mb-6 inline-flex items-center px-3 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(Hc,{className:"h-5 w-5 mr-2 text-slate-500"}),"Back to List"]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6 mb-6",children:[$&&i.jsx("img",{src:$,alt:`${s.name||"Client"} logo`,className:"w-24 h-24 object-contain rounded-lg border border-slate-200 mb-4 md:mb-0 flex-shrink-0"}),i.jsx("div",{className:"flex-1",children:N&&M?i.jsxs("div",{className:"space-y-3",children:[i.jsx(mc,{message:b}),i.jsx(ZN,{message:j}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"detail-name",className:"block text-sm font-medium text-slate-700",children:"Name:"}),i.jsx("input",{type:"text",id:"detail-name",name:"name",value:s.name||"",onChange:A,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"detail-desc",className:"block text-sm font-medium text-slate-700",children:"Description:"}),i.jsx("textarea",{id:"detail-desc",name:"desc",value:s.desc||"",onChange:A,rows:3,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{type:"button",onClick:I,disabled:d,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[d?i.jsx(hc,{size:"sm"}):i.jsx(Xwe,{className:"h-4 w-4 mr-1"})," Save"]}),i.jsxs("button",{type:"button",onClick:()=>{C(!1),a(e),x(null)},disabled:d,className:"inline-flex items-center px-3 py-1.5 border border-slate-300 text-xs font-medium rounded shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[i.jsx(ng,{className:"h-4 w-4 mr-1"})," Cancel"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.name||"N/A"}),M&&i.jsx("button",{onClick:()=>{C(!0),x(null)},title:"Edit Name/Description",className:"p-1.5 rounded-md text-slate-500 hover:text-blue-600 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.jsx(ao,{className:"h-5 w-5"})})]}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:s.desc||"No description provided."})]})})]}),i.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-1",children:[i.jsx(Nu,{icon:i.jsxs("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${T.color}`,children:[T.icon," ",T.text]}),label:"Status",value:"",className:" gap-6"}),i.jsx(Nu,{icon:i.jsx(hy,{}),label:"Domain Slug",value:s.domain}),i.jsx(Nu,{icon:i.jsx(hy,{}),label:"By",value:s.byName}),i.jsx(Nu,{icon:i.jsx(hy,{}),label:"Domain Slug",value:s.domain}),i.jsx(Nu,{icon:i.jsx(ls,{}),label:"Client Admin Username",value:s.admin_name}),i.jsx(Nu,{icon:i.jsx(ma,{}),label:"Created At",value:s.$createdAt?new Date(s.$createdAt).toLocaleString():void 0}),i.jsx(Nu,{icon:i.jsx(ma,{}),label:"Last Updated",value:s.$updatedAt?new Date(s.$updatedAt).toLocaleString():void 0})]}),M&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[i.jsxs("h4",{className:"text-lg font-semibold text-slate-700 mb-2 flex items-center",children:[i.jsx(er,{className:"h-6 w-6 mr-2 text-blue-500"}),"Manage License"]}),i.jsx(mc,{message:h}),i.jsx(ZN,{message:y}),i.jsxs("div",{className:"flex items-end space-x-3",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("label",{htmlFor:"license-date",className:"block text-sm font-medium text-slate-700",children:"License Expiry Date:"}),i.jsx("input",{type:"date",id:"license-date",value:o,onChange:_=>l(_.target.value),className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsx("button",{type:"button",onClick:k,disabled:c,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?i.jsxs(i.Fragment,{children:[" ",i.jsx(hc,{size:"sm"})," ",i.jsx("span",{className:"ml-2",children:"Updating..."})]}):"Update License"})]})]}),i.jsx(Dit,{client:s,onNoteAdded:L,currentUser:r})]})},Iit=({isOpen:e,onClose:t,title:n,children:r,size:s="md"})=>{const a={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},o=()=>{};return i.jsx(Up,{appear:!0,show:e,as:m.Fragment,children:i.jsxs(py,{as:"div",className:"relative z-10",onClose:o,children:[i.jsx(Up.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:i.jsx(Up.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsxs(py.Panel,{className:`w-full ${a[s]} transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n&&i.jsx(py.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:n}),i.jsx("button",{type:"button",className:"p-1 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:t,children:i.jsx(ng,{className:"h-6 w-6","aria-hidden":"true"})})]}),r]})})})})]})})},Tit=({isOpen:e,onClose:t,onClientAdded:n})=>{const[r,s]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,b]=m.useState(null),[x,y]=m.useState(null),[v,j]=m.useState(""),[S,N]=m.useState(""),[C,$]=m.useState(!1),[P,E]=m.useState(null),[M,k]=m.useState(null),A=()=>{s(""),o(""),c(""),d(""),h(""),b(null),y(null),E(null)},I=async L=>{if(L.preventDefault(),E(null),k(null),u.includes(" ")){E("Admin name cannot contain spaces.");return}const R={name:r,desc:a,domain:`${l.toLowerCase()}.edu`,admin_name:u,license_date:f,logoImage:p||void 0,byName:v,byContact:S};$(!0);try{const F=await Cit(R);k(`${F.message}. Client Admin Email: ${u}@${l}.edu. Initial Password: ${F.adminPassword||"Not provided (see server logs)"}. And Libriary email: library@${l}.edu and Password: ${F.libPassword||"Not provided (see server logs)"}.  PLEASE SAVE THIS PASSWORD SECURELY.`),n(F.client,F.adminPassword),A()}catch(F){E(F.message||"Failed to add client.")}finally{$(!1)}};return i.jsx(Iit,{isOpen:e,onClose:()=>{A(),t(),k(null)},title:"Add New Client",size:"lg",children:i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsx(mc,{message:P}),i.jsx(ZN,{message:M}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-name",className:"block text-sm font-medium text-slate-700",children:"Client Name *"}),i.jsx("input",{id:"client-name",type:"text",value:r,onChange:L=>s(L.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-desc",className:"block text-sm font-medium text-slate-700",children:"Description"}),i.jsx("textarea",{id:"client-desc",value:a,onChange:L=>o(L.target.value),rows:3,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:" address, contact, social media of client etc"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-domain",className:"block text-sm font-medium text-slate-700",children:"Unique Domain Slug *"}),i.jsx("input",{id:"client-domain",type:"text",value:l,onChange:L=>c(L.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"e.g., myschool (dont write .com or .edu)",required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Used for DB IDs, bucket IDs (e.g., db_myschool). Letters, numbers, hyphens only."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-admin-name",className:"block text-sm font-medium text-slate-700",children:"Client Admin Username *"}),i.jsx("input",{id:"client-admin-name",type:"text",value:u,onChange:L=>d(L.target.value.replace(/\s+/g,"")),placeholder:"e.g., schooladmin (school admin user name)",required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),i.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No spaces. Will be used for admin email: username@",l||"yourdomain",".edu"]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-license-date",className:"block text-sm font-medium text-slate-700",children:"License Expiry Date *"}),i.jsx("input",{id:"client-license-date",type:"date",value:f,onChange:L=>h(L.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-admin-name",className:"block text-sm font-medium text-slate-700",children:"By: *"}),i.jsx("input",{id:"client-admin-name",type:"text",value:v,onChange:L=>j(L.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:" Your name"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"client-admin-name",className:"block text-sm font-medium text-slate-700",children:"Your conatct: *"}),i.jsx("input",{id:"client-admin-name",type:"text",value:S,onChange:L=>N(L.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:" Your contact information"}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"This will be displayed to client to contact you"})]}),i.jsx("div",{className:"pt-2",children:i.jsx("button",{type:"submit",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:C,children:C?i.jsxs(i.Fragment,{children:[" ",i.jsx(hc,{size:"sm"})," ",i.jsx("span",{className:"ml-2",children:"Adding Client..."})," "]}):i.jsxs(i.Fragment,{children:[" ",i.jsx(sH,{className:"h-5 w-5 mr-2"})," Add Client "]})})})]})})},Mit=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0);return m.useEffect(()=>{(async()=>{r(!0);try{const a=await ut.get();t({$id:a.$id,labels:a.labels||[],name:a.name,email:a.email})}catch(a){t(null),console.warn("No active Appwrite session or failed to get user:",a)}finally{r(!1)}})()},[]),{currentUser:e,isLoading:n,isAuthenticated:!!e}},Oit=()=>{const{currentUser:e,isLoading:t,isAuthenticated:n}=Mit(),[r,s]=m.useState([]),[a,o]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,h]=m.useState(null),[p,b]=m.useState(null),[x,y]=m.useState(!1),[v,j]=m.useState(""),[S,N]=m.useState(""),C=m.useCallback(async I=>{if(!e||!e.labels.includes("manage")){h("You are not authorized to view this page."),d(!1);return}d(!0),h(null);try{const L=I||{name:v.trim()?v.trim():void 0,status:S||void 0},R=await Sit(L);s(R),o(R)}catch(L){h(L.message||"Failed to load clients"),s([]),o([])}finally{d(!1)}},[e,v,S]);m.useEffect(()=>{t||(n&&e&&e.labels.includes("manage")?C({name:v,status:S}):n&&e&&!e.labels.includes("manage")?(h("You are not authorized to manage clients."),d(!1)):n||(h("Please log in to manage clients."),d(!1)))},[e,n,t]);const $=()=>{!t&&n&&C({name:v,status:S})},P=async I=>{if(!e)return;if(e.labels.includes("pro")||I.by===e.$id){d(!0),b(null);try{const R=await jit(I.$id);c(R)}catch(R){b(R.message||"Failed to load client details"),c(null)}finally{d(!1)}}else alert("You don't have permission to view details for this client.")},E=()=>{c(null),b(null),!t&&n&&C({name:v,status:S})},M=(I,L)=>{!t&&n&&C({name:v,status:S})},k=I=>{c(I),s(L=>L.map(R=>R.$id===I.$id?I:R)),o(L=>L.map(R=>R.$id===I.$id?I:R))};if(t)return i.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[i.jsx(hc,{size:"lg"})," ",i.jsx("span",{className:"ml-3 text-slate-600",children:"Authenticating..."})]});if(!n)return i.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:i.jsx(mc,{message:f||"Please log in to access this page."})});if(e&&!e.labels.includes("manage"))return i.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:i.jsx(mc,{message:f||"You are not authorized to access this page."})});if(u&&!l&&r.length===0&&!f)return i.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:[i.jsx(hc,{size:"lg"})," ",i.jsx("span",{className:"ml-3 text-slate-600",children:"Loading Clients..."})]});if(l&&e)return i.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-8",children:[i.jsx(mc,{message:p}),u&&i.jsx("div",{className:"fixed top-4 right-4 z-50",children:i.jsx(hc,{size:"sm"})}),i.jsx(kit,{client:l,onBack:E,onClientUpdate:k,currentUser:e})]});const A=async()=>{try{await ut.deleteSession("current"),Ke.success("Logged out successfully!"),window.location.reload()}catch(I){console.error("Logout failed:",I),Ke.error(I.message||"Logout failed!")}};return i.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Client Management"}),i.jsxs("button",{type:"button",onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(ch,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Client"]}),i.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[i.jsx(zge,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Logout"]})]}),e&&i.jsx(Tit,{isOpen:x,onClose:()=>y(!1),onClientAdded:M}),i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 md:p-6 mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name-filter",className:"block text-sm font-medium text-slate-700",children:"Filter by name"}),i.jsx("input",{type:"text",id:"name-filter",placeholder:"Enter client name...",value:v,onChange:I=>j(I.target.value),className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-slate-700",children:"Filter by status"}),i.jsxs("select",{id:"status-filter",value:S,onChange:I=>N(I.target.value),className:"mt-1 block w-full px-3 py-2 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[i.jsx("option",{value:"",children:"All Statuses"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"expired",children:"Expired"}),i.jsx("option",{value:"pending_setup",children:"Pending Setup"}),i.jsx("option",{value:"setup_failed",children:"Setup Failed"})]})]}),i.jsxs("button",{type:"button",onClick:$,className:"md:mt-0 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[i.jsx(Ai,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Apply Filters"]})]})]}),u&&i.jsx("div",{className:"text-center py-4",children:i.jsx(hc,{})}),f&&!u&&i.jsx(mc,{message:f}),!u&&!f&&r.length===0&&i.jsx("p",{className:"text-center text-slate-500 py-8",children:"No clients found."}),!u&&!f&&r.length>0&&i.jsx(Pit,{clients:a,onClientSelect:P})]})},Lit=()=>i.jsx("div",{children:i.jsx(Oit,{})}),_it=()=>{const e=et(f=>f.domain),[t,n]=m.useState(null),[r,s]=m.useState(!1),[a,o]=m.useState(null),l="SchoolSystemDB",c="schools_metadata",u=m.useRef(null);m.useEffect(()=>{const f=e;if(u.current=f,!f){t!==null&&n(null),a!==null&&o(null),r&&s(!1);return}return(async()=>{s(!0),o(null),n(null);try{const p=await le.listDocuments(l,c,[J.equal("domain",f)]);u.current===f&&(p.documents.length>0?n(p.documents[0].byContact):o("Contact information not found for this school."))}catch(p){console.error("Failed to fetch school contact information:",p),u.current===f&&o(p.message||"Error fetching contact details.")}finally{u.current===f&&s(!1)}})(),()=>{}},[e,l,c]);const d=()=>!e&&!r?i.jsx("span",{className:"font-semibold text-blue-600 hover:underline",children:"your school administration"}):r?i.jsx("span",{className:"font-semibold italic",children:"Loading contact..."}):a?i.jsx("span",{className:"font-semibold text-blue-600 hover:underline",children:"your school administration"}):t?i.jsx("span",{className:"font-semibold text-blue-600 hover:underline",children:t}):e&&!t&&!r&&!a?i.jsx("span",{className:"font-semibold text-blue-600 hover:underline",children:"your school administration (details not found)"}):i.jsx("span",{className:"font-semibold text-blue-600 hover:underline",children:"your school administration"});return i.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-lg max-w-md w-full border-l-4 border-red-500",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-3xl sm:text-4xl text-red-500",role:"img","aria-label":"Warning",children:"⚠️"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-800 mb-2",children:"License Expired"}),i.jsx("p",{className:"text-slate-600 text-sm sm:text-base mb-3",children:"Your software license has unfortunately expired. To continue using our services and features, please renew your license."}),i.jsxs("p",{className:"text-slate-600 text-sm sm:text-base",children:["Please contact"," ",d()," ","for assistance with your license renewal."]})]})]})})},SQ=m.createContext(void 0),k5="lastSelectedStudentId_global",Fit=({children:e})=>{const[t,n]=m.useState(()=>localStorage.getItem(k5)||null);m.useEffect(()=>{t?localStorage.setItem(k5,t):localStorage.removeItem(k5)},[t]);const r=s=>{n(s)};return i.jsx(SQ.Provider,{value:{selectedStudentId:t,setSelectedStudentId:r},children:e})},ho=()=>{const e=m.useContext(SQ);if(e===void 0)throw new Error("useSelectedStudent must be used within a SelectedStudentProvider");return e},Rit=()=>et.getState().dbId,Bit=Rit,nR=Bit,zit="coll-student",Vit="coll-parent",mo=({label:e="Select Student:",placeholder:t="Select a student..."})=>{const{selectedStudentId:n,setSelectedStudentId:r}=ho(),[s,a]=m.useState([]),[o,l]=m.useState(!0),[c,u]=m.useState(null),d=m.useCallback(async()=>{l(!0),u(null);try{const p=await ut.get();if(!p||!p.email){u("User not logged in or email not available."),l(!1);return}const b=await le.listDocuments(nR,Vit,[J.equal("email",p.email),J.limit(1)]);if(b.documents.length===0){u("No parent record found for the logged-in user."),a([]),l(!1);return}const x=b.documents[0];if(x.$id){const v=(await le.listDocuments(nR,zit,[J.equal("parentId",x.$id),J.orderAsc("name")])).documents;a(v);const j=localStorage.getItem("lastSelectedStudentId_global");j&&v.some(S=>S.$id===j)?n!==j&&r(j):v.length>0?(!n||!v.some(S=>S.$id===n))&&r(v[0].$id):r(null)}else u("Parent ID missing."),a([])}catch(p){console.error("Error fetching students:",p),u(p.message||"Failed to load students."),a([])}finally{l(!1)}},[r,n]);m.useEffect(()=>{d()},[d]);const f=p=>{r(p)};if(o)return i.jsxs("div",{className:"w-full animate-pulse",children:[i.jsx("div",{className:"h-5 bg-gray-300 rounded w-1/3 mb-2"}),i.jsx("div",{className:"h-12 bg-gray-300 rounded-md w-full"})]});if(c)return i.jsxs("p",{className:"text-red-500 text-sm",children:["Error: ",c]});const h=s&&s.length>0;return i.jsxs("div",{className:"flex items-center mb-5 gap-6 p-4 bg-white rounded-lg shadow-md border border-gray-200",children:[i.jsx("label",{htmlFor:"student-select-component",className:"block text-gray-700 text-xl font-semibold whitespace-nowrap",children:e}),i.jsxs("div",{className:"relative flex-1 max-w-[300px]",children:[i.jsxs("select",{id:"student-select-component",value:n||"",onChange:p=>f(p.target.value||null),disabled:!h||o,className:`
        w-full pl-4 pr-10 py-3 text-base
        border border-gray-300 bg-white text-gray-800
        rounded-lg shadow-sm transition-all duration-200
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        appearance-none
        ${!h||o?"bg-gray-50 cursor-not-allowed":"hover:border-gray-400"}
        ${n?"":"text-gray-500"}
        `,children:[i.jsx("option",{value:"",disabled:!0,className:"text-gray-400",children:t}),h?s.map(p=>i.jsx("option",{value:p.$id,className:"text-gray-800",children:p.name},p.$id)):i.jsx("option",{value:"",disabled:!0,className:"text-gray-400",children:"No students available for this parent"})]}),i.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:i.jsx(cSe,{className:"h-5 w-5","aria-hidden":"true"})})]}),!h&&!o&&i.jsx("p",{className:"text-sm text-gray-500",children:"No students linked to your account."})]})},Wit=()=>et.getState().dbId,Uit=Wit,Kit=Uit,Hit="coll-student",jQ=()=>{const{selectedStudentId:e}=ho(),{exams:t,loading:n,error:r,fetchExams:s,faculties:a,fetchFaculties:o,setError:l}=a2(),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState(null),[b,x]=m.useState(null),[y,v]=m.useState(!1);m.useEffect(()=>{s(),o()},[s,o]);const j=m.useCallback(async()=>{if(!e){u(null),x(null),p(null),f(!1);return}f(!0),p(null),x(null);try{const P=await le.getDocument(Kit,Hit,e);u(P);const E=a.find(M=>M.$id===P.facultyId);E?x(E.name):(console.warn(`Faculty not found in store for student's facultyId: ${P.facultyId}`),x(null),p("Selected student's assigned faculty not found."))}catch(P){console.error("Error fetching selected student details or faculty:",P),p("Failed to load student details: "+(P.message||"Unknown error")),u(null),x(null)}finally{f(!1)}},[e,a]);m.useEffect(()=>{j()},[j]);const S=m.useMemo(()=>{if(n||d||!c||!b||t.length===0)return[];const P=c.class,E=c.section,M=b;return t.filter(k=>{const A=k.faculty&&k.faculty.length===0||k.faculty&&k.faculty.includes(M),I=k.class&&k.class.length===0||k.class&&k.class.includes(P),L=k.section&&k.section.length===0||k.section&&k.section.includes(E);return A&&I&&L})},[t,c,b,n,d]),N=async()=>{if(!(y||n||d)){v(!0),p(null),l(null);try{e&&await j(),await s()}catch(P){console.error("Failed to refresh data:",P)}finally{v(!1)}}},C=d||n||y,$=h||r;return C&&!c&&t.length===0&&!e?i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(ct,{size:"lg"})," Loading data..."]}):$&&!C?i.jsxs("div",{className:"p-6 text-red-600 bg-red-100 rounded-md",children:["Error: ",$]}):i.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen relative",children:[" ",i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Parent Dashboard"}),i.jsxs("div",{className:"flex items-center gap-2",children:[y&&i.jsx(ct,{size:"sm"})," ",i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),color:"blue",onClick:N,isIconOnly:!0})]})]}),i.jsx(mo,{}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Exams for Selected Student"}),e?S.length===0&&!C?i.jsx("div",{className:"text-center text-gray-600 p-8 rounded-md border-2 border-dashed border-gray-300 bg-white",children:"No exams found for the selected student's criteria."}):i.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${C?"opacity-50 pointer-events-none":""}`,children:S.map(P=>i.jsx(cA,{exam:P,onEdit:()=>{},onDelete:()=>{},showActions:!1},P.$id))}):i.jsxs("div",{className:"p-8 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 text-center",children:[i.jsx(Ks,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-800",children:"No Student Selected"}),i.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Please select a student above to see their exams."})]}),C&&i.jsxs("div",{className:"absolute inset-0 flex justify-center items-center bg-gray-200 bg-opacity-60 z-10 rounded-md",children:[i.jsx(ct,{size:"lg"})," Loading..."]})]})},qit=()=>et.getState().dbId,Git=qit,CQ=()=>{const{selectedStudentId:e}=ho(),[t,n]=m.useState(null),[r,s]=m.useState([]),[a,o]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,b]=m.useState(null),[x,y]=m.useState(!1),[v,j]=m.useState(null),S=m.useCallback(async()=>{var C;if(!e){n(null),s([]),o([]),c([]),j(null);return}y(!0),j(null);try{const $=await le.getDocument(Git,on,e);n($);const P=((C=$.absent)==null?void 0:C.map(k=>Es(k)).filter(k=>k!==null))||[];s(P);const E=[],M=[];$.leave&&Array.isArray($.leave)&&$.leave.forEach(k=>{let A=null;try{A=JSON.parse(k)}catch(I){console.error("[PARENT_ATTENDANCE] Failed to parse leave string:",k,I);return}if(A&&A.status==="approved"){const I={...A,adDates:[],bsDatesDisplay:[]};let L=[],R=[];if(A.periodType==="dateRange"&&A.fromDate&&A.toDate){const F=Xf(A.fromDate),T=Xf(A.toDate);F&&T&&(L=hZ(F,T),R=L.map(O=>l1(O)).filter(O=>O!==null))}else if(A.date){const F=Xf(A.date);F&&(L=[F],R=[A.date])}I.adDates=L.map(F=>Es(F)).filter(F=>F!==null),I.bsDatesDisplay=R.map(F=>Es(F)).filter(F=>F!==null),I.adDates.length>0&&(E.push(I),M.push(...I.adDates))}}),c(E),o(Array.from(new Set(M)))}catch($){console.error(`[PARENT_ATTENDANCE] Error fetching attendance for student ${e}:`,$),j($.message||"Failed to load attendance data for the selected student."),Ke.error($.message||"Failed to load student's attendance."),n(null),s([]),o([]),c([])}finally{y(!1)}},[e]);m.useEffect(()=>{S()},[S]);const N=m.useCallback((C,$,P)=>{d(C),h($),b(P)},[]);return i.jsxs(i.Fragment,{children:[i.jsx(ia,{position:"top-center",reverseOrder:!1}),i.jsxs("div",{className:"h-full  p-4 sm:p-6 lg:p-8",children:[i.jsx("header",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold text-slate-800 text-center",children:"Student Attendance Portal"})}),i.jsx("div",{className:"mb-",children:i.jsx(mo,{})}),!e&&i.jsx(mt,{className:"shadow-xl",children:i.jsxs(yt,{className:"p-8 text-center",children:[i.jsx(Ks,{className:"mx-auto h-16 w-16 text-blue-400 mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-slate-700",children:"No Student Selected"}),i.jsx("p",{className:"text-slate-500 mt-2",children:"Please select one of your children from the dropdown above to view their attendance details."})]})}),e&&x&&i.jsxs("div",{className:"flex flex-col justify-center items-center py-10",children:[i.jsx(ct,{color:"primary",size:"lg"}),i.jsxs("p",{className:"mt-3 text-slate-600",children:["Loading attendance for ",(t==null?void 0:t.name)||"selected student","..."]})]}),e&&v&&i.jsx(mt,{className:"w-full bg-red-50 shadow-xl",children:i.jsxs(yt,{className:"p-6 text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-500 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-1",children:"Error Loading Attendance"}),i.jsx("p",{className:"text-red-600 text-sm",children:v})]})}),e&&!x&&!v&&t&&i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[i.jsx("div",{className:"lg:w-7/12 xl:w-8/12",children:i.jsx(mt,{className:"shadow-2xl overflow-hidden",children:i.jsx(yt,{className:"p-0 sm:p-2",children:i.jsx(gZ,{absentDatesAD:r,approvedLeaveDatesAD:a,onViewChange:N})})})}),i.jsx("div",{className:"lg:w-5/12 xl:w-4/12",children:u&&f&&p?i.jsx(bZ,{currentBsYear:u,currentBsMonth:f,absentDatesAD:r,allProcessedApprovedLeaves:l,bsCalendarDataForMonth:p}):i.jsx(mt,{className:"shadow-xl",children:i.jsx(yt,{className:"p-6 text-center text-slate-500",children:i.jsx("p",{children:"Calendar is loading or month not selected."})})})})]})]})]})},Yit=()=>et.getState().dbId,fp=Yit,Xit=Gt((e,t)=>({selectedStudentDetails:null,studentRoutine:null,teachers:[],facultyNameCache:null,sectionNameCache:null,classNameCache:null,isLoading:!1,error:null,clearRoutine:()=>{e({studentRoutine:null,selectedStudentDetails:null,facultyNameCache:null,sectionNameCache:null,classNameCache:null,error:null,isLoading:!1})},_fetchFullStudentDetails:async n=>{try{return await databases.getDocument(fp,on,n)}catch(r){throw console.error(`Error fetching details for student ID ${n} (parent view):`,r),new Error("Failed to load details for the selected student.")}},_fetchSectionDocumentId:async n=>{if(!n.facultyId||!n.class||!n.section)return console.warn("Selected student data incomplete (facultyId, class name, or section name). Cannot find section document ID."),null;try{const r=await databases.listDocuments(fp,Qt,[J.equal("facultyId",n.facultyId),J.equal("class",n.class),J.equal("name",n.section),J.limit(1)]);return r.total>0?r.documents[0].$id:(console.warn(`No section document found for student: ${n.name} (facultyId: ${n.facultyId}, class: ${n.class}, sectionName: ${n.section})`),null)}catch(r){throw console.error("Error fetching section document ID (parent view):",r),r}},_fetchSupportingDataForRoutineDisplay:async n=>{try{const s=await databases.listDocuments(fp,Ga,[J.limit(200)]);e({teachers:s.documents})}catch(s){console.warn("Warning: Error fetching teachers (parent view):",s)}let r="N/A";if(n.facultyId)try{r=(await databases.getDocument(fp,tr,n.facultyId)).name}catch(s){console.warn(`Warning: Could not fetch faculty (ID: ${n.facultyId}) for student ${n.name}. ${s.message}`)}e({facultyNameCache:r,sectionNameCache:n.section,classNameCache:n.class})},_parseRoutineDescArrayOfStrings:n=>{if(!Array.isArray(n))return[];let r=[];try{r=n.map(s=>{const a=JSON.parse(s);return{id:wc(),...a}})}catch(s){console.error("Failed to parse 'desc' item string for routine (parent view):",n,s)}return r},_enrichRoutine:n=>{if(!n)return null;const{teachers:r,facultyNameCache:s,sectionNameCache:a,classNameCache:o}=t(),l=Array.isArray(n.desc)?n.desc:[];return{...n,facultyName:s||"N/A",sectionName:a||"N/A",class:o||n.class||"N/A",descDisplay:l.map(c=>{if(c.type==="period"){const u=r.find(d=>d.$id===c.teacherId);return{...c,teacherName:(u==null?void 0:u.name)||"N/A"}}return c})}},fetchRoutineForSelectedStudent:async n=>{if(!n){t().clearRoutine();return}e({isLoading:!0,error:null,studentRoutine:null,selectedStudentDetails:null});try{const r=await t()._fetchFullStudentDetails(n);if(!r){e({isLoading:!1,error:"Selected student's details could not be found."});return}e({selectedStudentDetails:r}),await t()._fetchSupportingDataForRoutineDisplay(r);const s=await t()._fetchSectionDocumentId(r);if(!s){e({isLoading:!1,studentRoutine:null,error:`Could not find specific section details for ${r.name}. Routine cannot be displayed.`});return}const a=await databases.listDocuments(fp,ec,[J.equal("section",s),J.limit(1)]);if(a.total>0){let o=a.documents[0];Array.isArray(o.desc)&&o.desc.length>0&&typeof o.desc[0]=="string"?o.desc=t()._parseRoutineDescArrayOfStrings(o.desc):Array.isArray(o.desc)?o.desc=o.desc.map(c=>({id:c.id||wc(),...c})):o.desc=[];const l=t()._enrichRoutine(o);e({studentRoutine:l})}else e({studentRoutine:null,error:`Routine is not available for ${r.name}.`});e({isLoading:!1})}catch(r){console.error(`Error fetching routine for student ID ${n} (parent view):`,r),e({error:r.message||"An error occurred while fetching routine for the selected student.",isLoading:!1})}}})),NQ=()=>{const{selectedStudentId:e}=ho(),{selectedStudentDetails:t,studentRoutine:n,isLoading:r,error:s,fetchRoutineForSelectedStudent:a,clearRoutine:o}=Xit();return m.useEffect(()=>{e?a(e):o()},[e]),i.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-6 lg:p-8",children:[i.jsxs("header",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 text-center",children:"Student's Class Routine"}),i.jsx("p",{className:"text-center text-gray-600 mt-1",children:"Select a student to view their schedule."})]}),i.jsx("div",{className:"mb-6 md:mb-8 max-w-xl mx-auto",children:i.jsx(mo,{label:"Viewing Routine For:",placeholder:"Choose your child..."})}),i.jsxs("div",{className:"mt-0",children:[" ",r&&i.jsx("div",{className:"flex justify-center items-center py-10",children:i.jsx(ct,{label:"Loading routine...",color:"primary",size:"lg"})}),!r&&s&&i.jsxs("div",{className:"max-w-2xl mx-auto bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative text-center",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error: "}),i.jsx("span",{className:"block sm:inline",children:s})]}),!r&&!s&&e&&!n&&i.jsx(IN,{routine:null,studentName:t==null?void 0:t.name}),!r&&!s&&e&&n&&i.jsx(IN,{routine:n,studentName:t==null?void 0:t.name}),!r&&!e&&i.jsxs("div",{className:"max-w-2xl mx-auto p-8 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 text-center mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"No Student Selected"}),i.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Please select a student from the dropdown above to see their routine."})]})]})]})},Zit=()=>et.getState().dbId,rR=Zit,Jit=Gt((e,t)=>({selectedStudentIdForNotes:null,selectedStudentProfile:null,selectedStudentNotes:[],isLoadingProfile:!1,isLoadingNotes:!1,error:null,searchTerm:"",setSelectedStudentIdForNotes:n=>{e({selectedStudentIdForNotes:n,selectedStudentProfile:null,selectedStudentNotes:[],searchTerm:"",error:null,isLoadingProfile:!!n,isLoadingNotes:!1}),n&&t().fetchSelectedStudentProfile(n)},fetchSelectedStudentProfile:async n=>{e({isLoadingProfile:!0,error:null,selectedStudentProfile:null});try{const r=await le.getDocument(rR,on,n);e({selectedStudentProfile:r,isLoadingProfile:!1}),t().fetchNotesForSelectedStudent()}catch(r){console.error("Error fetching profile for selected student:",r),e({error:`Failed to load details for selected student: ${r.message}`,isLoadingProfile:!1})}},fetchNotesForSelectedStudent:async()=>{const{selectedStudentProfile:n}=t();if(!n){e({error:"Cannot fetch notes: Selected student profile not loaded.",selectedStudentNotes:[],isLoadingNotes:!1});return}if(!n.facultyId){console.warn("[ParentStore] Selected student profile is missing 'facultyId'. Cannot fetch faculty-specific notes effectively."),e({selectedStudentNotes:[],isLoadingNotes:!1,error:"Selected student's faculty information is missing."});return}e({isLoadingNotes:!0,error:null});try{const r=[J.orderDesc("$createdAt"),J.limit(200),J.equal("facultyId",n.facultyId)],s=await le.listDocuments(rR,doe,r),a=n.class,o=n.sectionId,l=s.documents.filter(c=>c.className===a&&c.sectionId===o||c.className===a&&(!c.sectionId||c.sectionId==="")||(!c.className||c.className==="")&&(!c.sectionId||c.sectionId===""));e({selectedStudentNotes:l,isLoadingNotes:!1})}catch(r){console.error("Error fetching notes for selected student (parent view):",r),e({error:`Failed to fetch notes: ${r.message}`,isLoadingNotes:!1,selectedStudentNotes:[]})}},setSearchTerm:n=>e({searchTerm:n}),getFilteredNotes:()=>{const{selectedStudentNotes:n,searchTerm:r}=t();if(!r.trim())return n;const s=r.toLowerCase();return n.filter(a=>a.title.toLowerCase().includes(s)||a.description&&a.description.toLowerCase().includes(s)||a.subject&&a.subject.toLowerCase().includes(s)||a.facultyName&&a.facultyName.toLowerCase().includes(s)||a.uploaderEmail&&a.uploaderEmail.toLowerCase().includes(s))},clearParentViewData:()=>{e({selectedStudentIdForNotes:null,selectedStudentProfile:null,selectedStudentNotes:[],searchTerm:"",error:null,isLoadingProfile:!1,isLoadingNotes:!1})}})),$Q=()=>{const{selectedStudentId:e}=ho(),{isLoadingProfile:t,isLoadingNotes:n,error:r,searchTerm:s,setSelectedStudentIdForNotes:a,fetchNotesForSelectedStudent:o,setSearchTerm:l,getFilteredNotes:c,clearParentViewData:u}=Jit();m.useEffect(()=>(a(e),()=>{e||u()}),[e,a,u]);const d=c(),f=t||n,h=()=>{e&&o()};return i.jsx($t,{options:{suppressScrollX:!0,wheelSpeed:2},children:i.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[i.jsx(mo,{}),e&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pt-4 border-t mt-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"Notes for Selected Student"}),i.jsx(st,{icon:i.jsx(vg,{className:"h-5 w-5"}),onClick:h,isLoading:n,color:"blue",tooltipText:"Reload Student's Notes"})]}),r&&i.jsxs("p",{className:"text-red-500 bg-red-100 p-3 rounded-md mb-4",children:["Error: ",r]}),i.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg shadow",children:i.jsx(Bn,{placeholder:"Search notes for this student...",value:s,onValueChange:l,className:"w-full"})}),f&&!d.length?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx(ct,{size:"lg",label:"Loading student data & notes..."})}):d.length===0&&!r&&!f?i.jsx("p",{className:"text-center text-gray-500 py-10",children:"No notes found for the selected student or your search term."}):!f&&d.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map(p=>i.jsx(hA,{note:p,allowAdminActions:!1},p.$id))}):null]}),!e&&!f&&i.jsx("div",{className:"text-center py-10 text-gray-500 mt-6 border-t pt-6",children:i.jsx("p",{children:"Please select a student to view their associated notes."})})]})})},Qit=()=>et.getState().dbId,ty=Qit,x1=e=>{if(typeof e=="string"&&e.trim()!==""&&e.toLowerCase()!=="undefined")return e},sR=(e,t,n,r=75)=>{const s=x1(e);if(!s)return"/placeholder-image.png";try{return Qn.getFilePreview(hl,s,t,n,void 0,r)}catch{return"/placeholder-image-error.png"}},eot=e=>{const t=x1(e);if(!t)return"/placeholder-image.png";try{return Qn.getFileView(hl,t)}catch{return"/placeholder-image-error.png"}},tot=Gt((e,t)=>({parentAssociatedFacultyIds:[],galleryGroups:[],photosByGroup:{},selectedFullScreenPhoto:null,isFetchingParentInfo:!1,isLoadingGroups:!1,isLoadingPhotos:{},error:null,clearError:()=>e({error:null}),fetchParentInfoAndFaculties:async()=>{e({isFetchingParentInfo:!0,error:null,parentAssociatedFacultyIds:[]});try{const n=await ut.get(),r=await le.listDocuments(ty,foe,[J.equal("email",n.email),J.limit(1)]);if(r.documents.length===0)return e({error:"Parent record not found for the logged-in user.",isFetchingParentInfo:!1}),null;const a=r.documents[0].students||[];if(a.length===0)return e({error:"No students are associated with this parent account.",isFetchingParentInfo:!1}),[];const o=a.map(u=>le.getDocument(ty,on,u).then(d=>d.facultyId).catch(d=>(console.warn(`Could not fetch student ${u} or their facultyId:`,d),null))),l=await Promise.all(o),c=Array.from(new Set(l.filter(u=>u!==null)));return e({parentAssociatedFacultyIds:c,isFetchingParentInfo:!1}),c}catch(n){return console.error("Error fetching parent/student info:",n),e({error:"Failed to load your family information. Please try again.",isFetchingParentInfo:!1}),null}},fetchGalleryGroupsForParent:async n=>{const r=t().parentAssociatedFacultyIds;e({isLoadingGroups:!0,error:null});try{const s=r.map(u=>J.equal("visibleTo",u));let o=[J.or([J.equal("visibleTo",Fo),...s]),J.orderDesc("$createdAt"),J.limit(50)];s.length===0&&(o=[J.equal("visibleTo",Fo),J.orderDesc("$createdAt"),J.limit(50)]),n&&n.trim()!==""&&o.push(J.search("title",n.trim()));const c=(await le.listDocuments(ty,fi,o)).documents.map(u=>{const d=x1(u.coverImageFileId);return{...u,coverPreviewUrl:d?sR(d,200,150):void 0}});e({galleryGroups:c,isLoadingGroups:!1})}catch(s){console.error("Error fetching parent gallery groups:",s),e({error:"Failed to load gallery albums for your family.",isLoadingGroups:!1})}},fetchPhotosForGroup:async(n,r=!1)=>{var s;if(!r&&((s=t().photosByGroup[n])!=null&&s.length))return t().photosByGroup[n];e(a=>({isLoadingPhotos:{...a.isLoadingPhotos,[n]:!0},error:null}));try{const o=(await le.listDocuments(ty,di,[J.equal("groupId",n),J.orderAsc("$createdAt"),J.limit(500)])).documents.map(l=>{const c=x1(l.fileId);return{...l,fileId:c||"",previewUrl:c?sR(c,150,150):void 0,fullUrl:c?eot(c):void 0}});return e(l=>({photosByGroup:{...l.photosByGroup,[n]:o},isLoadingPhotos:{...l.isLoadingPhotos,[n]:!1}})),o}catch(a){console.error(`Error fetching photos for group ${n}:`,a),e(o=>({error:"Failed to load photos for the selected album.",isLoadingPhotos:{...o.isLoadingPhotos,[n]:!1}}));return}},setFullScreenPhoto:n=>{e({selectedFullScreenPhoto:n})}}));function not(e,t){let n=null;return(...r)=>new Promise(s=>{n&&clearTimeout(n),n=setTimeout(()=>s(e(...r)),t)})}const EQ=()=>{const{parentAssociatedFacultyIds:e,galleryGroups:t,photosByGroup:n,selectedFullScreenPhoto:r,isFetchingParentInfo:s,isLoadingGroups:a,isLoadingPhotos:o,error:l,fetchParentInfoAndFaculties:c,fetchGalleryGroupsForParent:u,fetchPhotosForGroup:d,setFullScreenPhoto:f,clearError:h}=tot(),[p,b]=m.useState(null),[x,y]=m.useState("");m.useEffect(()=>{c()},[c]);const v=m.useCallback(not(E=>{u(E)},300),[u]);m.useEffect(()=>{s||v(x)},[s,x,v]),m.useEffect(()=>{l&&(Ke.error(l),h())},[l,h]);const j=E=>{var M;b(E),(!n[E.$id]||((M=n[E.$id])==null?void 0:M.length)===0)&&d(E.$id)},S=p?n[p.$id]||[]:[],N=r?S.findIndex(E=>E.$id===r.$id):-1,C=()=>{N>-1&&N<S.length-1&&f(S[N+1])},$=()=>{N>0&&f(S[N-1])},P=E=>{y(E)};return s?i.jsx("div",{className:"flex justify-center items-center min-h-screen p-4 bg-gray-50",children:i.jsx("p",{className:"text-lg text-gray-600 animate-pulse",children:"Loading gallery for your family..."})}):!s&&t.length===0&&!a&&!l&&e.length===0&&!x?i.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen p-4 text-center bg-gray-50",children:[i.jsx(I0,{className:"w-16 h-16 text-gray-400 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Albums to Display"}),i.jsx("p",{className:"text-gray-500",children:"There are currently no photo albums relevant to your children or shared publicly."}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This could be because no students are linked to your account, or no relevant albums exist."})]}):i.jsxs("div",{className:"p-4 md:p-6 lg:p-8 bg-gray-50 min-h-screen",children:[p?i.jsxs("section",{className:"mt-2",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-start items-center mb-6 gap-3",children:[i.jsx(Se,{variant:"flat",color:"default",size:"md",onPress:()=>b(null),className:"whitespace-nowrap flex-shrink-0 font-bold",startContent:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),children:"Back"}),i.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700 truncate",title:p.title,children:p.title})]}),p.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-6 prose max-w-none dark:text-gray-300",children:p.description}),o[p.$id]&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:[...Array(6)].map((E,M)=>i.jsx("div",{className:"aspect-square bg-gray-300 rounded-lg animate-pulse"},M))}),!o[p.$id]&&S.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Wo,{className:"mx-auto h-16 w-16 text-gray-400"}),i.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"This album is currently empty."})]}),!o[p.$id]&&S.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 md:gap-4",children:S.map(E=>i.jsx(q$,{photo:E,onView:f,isViewOnly:!0},E.$id))})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Family Photo Gallery"}),i.jsx(Bn,{placeholder:"Search albums...",value:x,onValueChange:P,className:"w-full sm:w-72",inputClassName:"bg-white"})]}),a&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(4)].map((E,M)=>i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden animate-pulse",children:[i.jsx("div",{className:"h-48 bg-gray-300"}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]},M))}),!a&&t.length===0&&!x&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Wo,{className:"mx-auto h-20 w-20 text-gray-400"}),i.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"No Photo Albums Available"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No albums relevant to your family are currently available. Please check back later."})]}),!a&&t.length===0&&x&&i.jsxs("p",{className:"text-center text-gray-500 py-8",children:['No albums found matching "',x,'" for your family.']}),!a&&t.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(E=>i.jsx(wZ,{group:E,onViewPhotos:j},E.$id))})]}),r&&i.jsx(Q$,{isOpen:!!r,photo:r,onClose:()=>f(null),onNext:N<S.length-1?C:void 0,onPrev:N>0?$:void 0,canNext:N<S.length-1,canPrev:N>0})]})},rot=()=>et.getState().dbId,$u=rot,sot=Gt((e,t)=>({selectedStudentDetails:null,isLoadingStudentDetails:!1,fetchSelectedStudentDetails:async n=>{if(!n)return e({selectedStudentDetails:null,publicLessonPlans:[]}),null;e({isLoadingStudentDetails:!0,error:null});try{const r=await le.getDocument($u,on,n);return e({selectedStudentDetails:r,isLoadingStudentDetails:!1}),t().fetchPublicLessonPlansForStudent(r),r}catch(r){return console.error(`Error fetching details for student ${n}:`,r),e({error:`Failed to load details for student ${n}.`,isLoadingStudentDetails:!1,selectedStudentDetails:null,publicLessonPlans:[]}),null}},publicLessonPlans:[],isLoadingLessonPlans:!1,fetchPublicLessonPlansForStudent:async n=>{if(!n){e({publicLessonPlans:[],isLoadingLessonPlans:!1});return}e({isLoadingLessonPlans:!0,error:null,publicLessonPlans:[]});try{const r=[J.equal("isPublic",!0),J.equal("facultyId",n.facultyId),J.equal("class",n.class)];let s=null;try{const h=await le.listDocuments($u,Qt,[J.equal("name",n.section),J.equal("class",n.class),J.equal("facultyId",n.facultyId),J.limit(1)]);h.documents.length>0?(s=h.documents[0].$id,r.push(J.equal("sectionId",s))):console.warn(`Could not find section ID for student: ${n.name}, section: ${n.section}.`)}catch(h){console.error("Error fetching student's section ID:",h)}const{subject:a,searchText:o,teacherId:l}=t().currentFilters;a&&r.push(J.equal("subject",a)),l&&r.push(J.equal("teacherId",l)),o&&r.push(J.search("title",o)),r.push(J.orderDesc("$createdAt"));const c=await le.listDocuments($u,Bu,r),u=await Promise.all(c.documents.map(async h=>{let p="N/A",b="N/A",x="N/A",y,v,j;try{h.teacherId&&(p=(await le.getDocument($u,Ga,h.teacherId)).name||"N/A"),h.facultyId&&(b=(await le.getDocument($u,tr,h.facultyId)).name||"N/A"),h.sectionId&&(x=(await le.getDocument($u,Qt,h.sectionId)).name||"N/A");const S=await le.listDocuments($u,Ru,[J.equal("lessonPlanId",h.$id),J.equal("studentId",n.$id),J.limit(1)]);if(S.documents.length>0){const N=S.documents[0];y=N.rating,v=N.comment,j=N.$createdAt}}catch(S){console.warn(`Error enriching LP ${h.$id}:`,S)}return{...h,teacherName:p,facultyName:b,sectionName:x,childsReviewRating:y,childsReviewComment:v,childsReviewDate:j}}));e({publicLessonPlans:u,isLoadingLessonPlans:!1});const d=[...new Set(u.map(h=>h.subject))].filter(Boolean),f=u.reduce((h,p)=>(p.teacherId&&p.teacherName&&!h.find(b=>b.id===p.teacherId)&&h.push({id:p.teacherId,name:p.teacherName}),h),[]);e({availableSubjects:d,availableTeachers:f})}catch(r){console.error("Error fetching public lesson plans for student:",r),e({error:r.message||"Failed to load lesson plans.",isLoadingLessonPlans:!1})}},currentLessonPlan:null,selectCurrentLessonPlan:n=>e({currentLessonPlan:n,error:null}),currentFilters:{subject:null,searchText:null,teacherId:null},setFilter:(n,r)=>{e(a=>({currentFilters:{...a.currentFilters,[n]:r},error:null}));const s=t().selectedStudentDetails;s&&t().fetchPublicLessonPlansForStudent(s)},clearFilters:()=>{e({currentFilters:{subject:null,searchText:null,teacherId:null},error:null});const n=t().selectedStudentDetails;n&&t().fetchPublicLessonPlansForStudent(n)},availableSubjects:[],availableTeachers:[],error:null,setError:n=>e({error:n})})),AQ=()=>{const{selectedStudentId:e}=ho(),{selectedStudentDetails:t,fetchSelectedStudentDetails:n,isLoadingStudentDetails:r,publicLessonPlans:s,isLoadingLessonPlans:a,currentLessonPlan:o,selectCurrentLessonPlan:l,error:c,setError:u}=sot();m.useEffect(()=>{e&&n(e)},[e,n]),m.useEffect(()=>()=>{u(null)},[u,o,e]);const d=h=>{l(h)},f=h=>i.jsx(CZ,{plan:{...h,myReviewRating:h.childsReviewRating,myReviewComment:h.childsReviewComment,myReviewDate:h.childsReviewDate},onViewDetails:()=>d(h)},h.$id);return i.jsxs("div",{className:"p-4 md:p-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Parent Dashboard"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"View lesson plans for your children."}),i.jsx(mo,{}),c&&i.jsxs("div",{className:"my-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",c]}),e&&r&&i.jsx("div",{className:"flex justify-center items-center py-10",children:i.jsx(ct,{label:"Loading details for selected student...",size:"lg"})}),e&&t&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("h2",{className:"text-2xl font-semibold text-gray-700 mb-1",children:["Lesson Plans for ",t.name]}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Class: ",t.class,", Section: ",t.section]}),o?i.jsx(NZ,{plan:{...o},onBack:()=>l(null)}):i.jsxs(i.Fragment,{children:[i.jsx($Z,{})," ",a&&i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(ct,{label:"Loading lesson plans..."})}),!a&&s.length===0&&i.jsxs("p",{className:"text-center text-gray-500 py-10",children:["No public lesson plans found for ",t.name,", or try adjusting filters."]}),!a&&s.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(f)})]})]}),!e&&i.jsx("div",{className:"mt-8 p-8 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 text-center",children:i.jsx("p",{className:"text-lg text-gray-600",children:"Please select a student to view their lesson plans."})})]})},aot=et.getState().dbId,aR=aot,iot="coll-faculty",oot="coll-section",hp=({icon:e,label:t,value:n,isLoading:r=!1,highlight:s=!1})=>r?i.jsxs("div",{className:"flex items-start space-x-3 py-3 sm:py-4 animate-pulse",children:[i.jsx(e,{className:"h-6 w-6 flex-shrink-0 text-gray-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:t}),i.jsx("div",{className:"h-5 bg-gray-300 rounded w-32 mt-1"})]})]}):n==null||n===""||Array.isArray(n)&&n.length===0?null:i.jsxs("div",{className:"flex items-start space-x-3 py-3 sm:py-4",children:[i.jsx(e,{className:`h-6 w-6 flex-shrink-0 ${s?"text-indigo-600":"text-gray-500"} mt-0.5`}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:t}),i.jsx("p",{className:`text-sm sm:text-base ${s?"font-semibold text-indigo-700":"text-gray-800"}`,children:n})]})]}),PQ=({student:e,isLoading:t})=>{const[n,r]=m.useState(null),[s,a]=m.useState([]),[o,l]=m.useState(!1);return m.useEffect(()=>{r(null),a([]),e&&(async()=>{l(!0);const u=[];e.facultyId&&u.push(le.getDocument(aR,iot,e.facultyId).then(d=>r(d.name)).catch(d=>{console.error("Error fetching faculty:",d),r("N/A")})),e.class&&e.section&&e.facultyId?u.push(le.listDocuments(aR,oot,[J.equal("class",e.class),J.equal("name",e.section),J.equal("facultyId",e.facultyId),J.limit(1)]).then(d=>{d.documents.length>0&&d.documents[0].subjects?a(d.documents[0].subjects):(console.warn(`No section document found for class: ${e.class}, section: ${e.section}`),a([]))}).catch(d=>{console.error("Error fetching subjects:",d),a([])})):console.warn("Student document is missing 'class', 'section', or 'facultyId'. Cannot fetch subjects."),await Promise.all(u),l(!1)})()},[e]),t?i.jsx("div",{className:"bg-white shadow-xl rounded-xl p-8 animate-pulse"}):e?i.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 sm:p-8",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-5",children:[i.jsx(ls,{className:"h-20 w-20 text-white opacity-90 rounded-full border-2 border-white/50"}),i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white tracking-tight",children:e.name}),i.jsx("p",{className:"text-sm text-indigo-200",children:"Student Record Overview"})]})]})}),i.jsxs("div",{className:"p-6 md:p-8",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 border-b border-gray-200 pb-3",children:"Academic Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[i.jsx(hp,{icon:so,label:"Class",value:e.class,highlight:!0}),i.jsx(hp,{icon:L2e,label:"Section",value:e.section,highlight:!0}),i.jsx(hp,{icon:I0,label:"Faculty",value:n,isLoading:o&&!!e.facultyId}),i.jsx(hp,{icon:Ji,label:"Subjects",value:s.length>0?s.join(", "):"Not assigned",isLoading:o&&!!e.section}),i.jsx(hp,{icon:k0,label:"Student Email",value:e.stdEmail})]})]})]}):i.jsxs("div",{className:"p-8 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 text-center",children:[i.jsx(Ks,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-800",children:"No Student Selected"}),i.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Please select a student to view their records."})]})},lot=()=>et.getState().dbId,I5=lot,cot=Gt((e,t)=>({isLoadingReviews:!1,reviewsError:null,reviewsForSelectedStudent:[],currentFetchingStudentId:null,actions:{fetchReviewsForStudent:async n=>{if(!n){e({reviewsForSelectedStudent:[],isLoadingReviews:!1,reviewsError:null,currentFetchingStudentId:null});return}if(!(t().isLoadingReviews&&t().currentFetchingStudentId===n)){e({isLoadingReviews:!0,reviewsError:null,currentFetchingStudentId:n});try{const r=await le.listDocuments(I5,Vi,[J.equal("studentId",n),J.orderDesc("reviewDate")]),s=await Promise.all(r.documents.map(async a=>{let o="N/A",l="N/A";if(a.teacherId)try{const c=await le.listDocuments(I5,Ga,[J.equal("id",a.teacherId),J.limit(1)]);c.documents.length>0&&(o=c.documents[0].name)}catch(c){console.warn(`Failed to fetch teacher ${a.teacherId}`,c)}if(a.sectionId)try{l=(await le.getDocument(I5,Qt,a.sectionId)).name}catch(c){console.warn(`Failed to fetch section ${a.sectionId}`,c)}return{...a,teacherName:o,sectionName:l}}));e({reviewsForSelectedStudent:s,isLoadingReviews:!1,reviewsError:null,currentFetchingStudentId:n})}catch(r){console.error("Parent View: Error fetching student reviews:",r),e({isLoadingReviews:!1,reviewsError:r.message||"An error occurred while fetching reviews.",reviewsForSelectedStudent:[]})}}},clearReviews:()=>{e({reviewsForSelectedStudent:[],isLoadingReviews:!1,reviewsError:null,currentFetchingStudentId:null})}}})),uot=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} BS`}catch{return e.split("T")[0]+" (AD - Conv. Error)"}},DQ=()=>{const{selectedStudentId:e}=ho(),{isLoadingReviews:t,reviewsError:n,reviewsForSelectedStudent:r,actions:s}=cot();return m.useEffect(()=>{e?s.fetchReviewsForStudent(e):s.clearReviews()},[e,s]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-slate-100 p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"container mx-auto max-w-5xl space-y-6 sm:space-y-8",children:[i.jsxs("header",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight",children:"Student Performance Reviews"}),i.jsx("p",{className:"text-lg text-slate-600 mt-1",children:"View reviews for your child."})]}),i.jsx(mo,{label:"Viewing Reviews For:",placeholder:"Select your child..."}),e&&i.jsxs("div",{className:"mt-0 mb-6",children:[" ",i.jsx(PQ,{})]}),e&&i.jsxs(mt,{className:"shadow-xl border border-gray-200 rounded-xl overflow-hidden",children:[i.jsx(Un,{className:"bg-slate-50 p-4 sm:p-5 border-b border-gray-200",children:i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 flex items-center",children:[i.jsx(Mc,{className:"w-6 h-6 mr-2.5 text-indigo-600 flex-shrink-0"}),"Review Details"]})}),i.jsxs(yt,{className:"p-4 sm:p-6",children:[t&&i.jsx("div",{className:"text-center py-10",children:i.jsx(ct,{label:"Loading reviews...",size:"lg",color:"primary"})}),!t&&n&&i.jsxs("div",{className:"p-6 border border-red-300 bg-red-50 rounded-lg text-red-700 text-center",children:[i.jsx("p",{className:"font-semibold",children:"Error loading reviews:"}),i.jsx("p",{className:"text-sm",children:n})]}),!t&&!n&&r.length===0&&i.jsxs("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg",children:[i.jsx(Mc,{className:"w-16 h-16 mx-auto text-gray-300"}),i.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"No Reviews Found"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"There are currently no performance reviews available for the selected student."})]}),!t&&!n&&r.length>0&&i.jsx("div",{className:"space-y-5",children:r.map(a=>{var o,l;return i.jsxs(mt,{className:"shadow-lg bg-white border border-gray-200 rounded-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsx(Un,{className:"p-3 sm:p-4 border-b border-gray-100",children:i.jsxs("h3",{className:"font-semibold text-md sm:text-lg text-slate-800 capitalize flex items-center",children:[i.jsx(yg,{className:"w-5 h-5 mr-2 text-amber-500 flex-shrink-0"}),((o=Zf.find(c=>c.id===a.type))==null?void 0:o.name)||a.type]})}),i.jsxs(yt,{className:"p-3 sm:p-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(er,{className:"w-5 h-5 mr-2 text-indigo-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Date:"})," ",uot(a.reviewDate)]}),i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(ls,{className:"w-5 h-5 mr-2 text-teal-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Teacher:"})," ",a.teacherName||"N/A"]}),i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(so,{className:"w-5 h-5 mr-2 text-purple-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Section (at review):"})," ",a.sectionName||"N/A"]}),a.rating&&i.jsxs("p",{className:"flex items-center text-slate-600",children:[i.jsx(yg,{className:"w-5 h-5 mr-2 text-yellow-500 flex-shrink-0"}),i.jsx("span",{className:"font-medium mr-1",children:"Rating:"}),i.jsx("span",{className:"font-semibold text-indigo-700",children:((l=l2.find(c=>c.id===a.rating))==null?void 0:l.name)||a.rating})]})]}),i.jsx(Ed,{className:"my-2 md:my-3"}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center",children:[i.jsx(Z1,{className:"w-5 h-5 mr-1.5 text-sky-600 flex-shrink-0"}),"Comments:"]}),i.jsx("p",{className:"text-slate-700 text-sm leading-relaxed bg-slate-50 p-3 rounded-md border border-slate-200 whitespace-pre-wrap",children:a.description})]})]})]},a.$id)})})]})]}),!e&&i.jsxs("div",{className:"text-center py-10 px-6 bg-white rounded-xl shadow-lg border border-gray-200",children:[i.jsx(ls,{className:"w-16 h-16 mx-auto text-gray-300"})," ",i.jsx("p",{className:"mt-4 text-xl font-semibold text-gray-700",children:"Select Your Child"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please select your child from the dropdown above to view their reviews."})]}),i.jsxs("footer",{className:"text-center mt-10 py-4 text-sm text-slate-500",children:["School Management System © ",new Date().getFullYear()]})]})})},dot=()=>et.getState().dbId,wf=dot,fot=e=>!e||e.length===0?{}:e.reduce((t,n)=>{const r=n.dateBS;return t[r]||(t[r]=[]),t[r].push(n),t},{}),kQ=()=>{const{selectedStudentId:e}=ho(),[t,n]=m.useState(null),[r,s]=m.useState(null),[a,o]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,b]=m.useState(null);m.useEffect(()=>{if(!e){n(null),s(null),o([]),b(null);return}(async()=>{if(c(!0),b(null),s(null),o([]),!wf){b("Student data system is not configured correctly."),c(!1);return}try{const S=await le.getDocument(wf,on,e);n(S),(!S.section||!S.class||!S.facultyId)&&b(`Selected student's profile (${S.name}) is incomplete (missing section name, class, or faculty ID). Cannot fetch assignments.`)}catch(S){console.error("[ParentAssignmentsPage] Error fetching selected student profile:",S),b("Failed to load details for the selected student."),n(null)}finally{c(!1)}})()},[e]),m.useEffect(()=>{if(!t||!t.section||!t.class||!t.facultyId){o([]),s(null);return}(async()=>{if(d(!0),!wf){b("Section data system is not configured correctly."),d(!1);return}try{const S=[J.equal("name",t.section),J.equal("class",t.class),J.equal("facultyId",t.facultyId),J.limit(1)],N=await le.listDocuments(wf,Qt,S);if(N.documents.length>0){const C=N.documents[0].$id;s(C),(p&&p.startsWith("Selected student's profile")||p&&p.startsWith("Could not find a matching section"))&&b(null)}else b(`Could not find a matching section for "${t.section}" in class "${t.class}" (Faculty ID: ${t.facultyId.substring(0,6)}...). Assignments cannot be loaded.`),s(null)}catch(S){console.error("[ParentAssignmentsPage] Error fetching section ID:",S),b("An error occurred while trying to identify the student's section."),s(null)}finally{d(!1)}})()},[t,l]),m.useEffect(()=>{if(!t||!r||!t.facultyId||!t.class){o([]);return}(async()=>{if(h(!0),!wf){b("Assignment system is not configured correctly."),h(!1);return}try{const S=[J.equal("facultyId",t.facultyId),J.equal("className",t.class),J.equal("sectionId",r),J.orderDesc("dateBS")],N=await le.listDocuments(wf,tc,S);o(N.documents),N.documents.length>0&&b(null)}catch(S){console.error(`[ParentAssignmentsPage] Error fetching assignments for ${t.name}:`,S),b(`Failed to fetch assignments for ${t.name}.`),o([])}finally{h(!1)}})()},[t,r,u]);const x=m.useMemo(()=>a?fot(a):{},[a]),y=(j,S)=>{if(!j){Ke.error("Invalid file reference for download.");return}try{const N=Qn.getFileDownload(zu,j),C=document.createElement("a");C.href=N,C.setAttribute("download",S||`file_${j.substring(0,8)}`),document.body.appendChild(C),C.click(),document.body.removeChild(C),Ke.success(`Downloading ${S||"file"}...`)}catch(N){console.error("Download error:",N),Ke.error(`Failed to initiate download: ${N instanceof Error?N.message:"An unknown error occurred."}`)}},v=()=>l?"Loading student details...":u?"Identifying student's section...":f?"Loading assignments...":"";return i.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-7xl",children:[i.jsx("header",{className:"mb-6 md:mb-8",children:i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Child's Assignments"})}),i.jsx(mo,{}),i.jsxs("div",{className:"mt-8",children:[!e&&i.jsxs("div",{className:"p-8 border-2 border-dashed border-gray-300 rounded-xl bg-gray-100 text-center",children:[i.jsx(PZ,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-800",children:"Select a Student"}),i.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Please select one of your children from the dropdown above to view their assignments."})]}),(l||u||f)&&e&&i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(yd,{className:"animate-spin mx-auto h-10 w-10 text-indigo-500 mb-3"}),i.jsx("p",{className:"text-lg",children:v()})]}),p&&e&&!f&&!u&&!l&&i.jsxs("div",{className:"my-8 p-6 text-center bg-red-50 border border-red-200 rounded-lg shadow-sm",children:[i.jsx(ad,{className:"mx-auto h-12 w-12 text-red-400 mb-3"}),i.jsx("p",{className:"text-xl font-semibold text-red-700",children:"Assignments Could Not Be Loaded"}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:p})]}),!f&&!u&&!l&&!p&&e&&a.length===0&&i.jsxs("div",{className:"text-center py-16 text-slate-500 bg-white rounded-xl shadow-lg p-8",children:[i.jsx(Mh,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),i.jsx("p",{className:"text-2xl font-semibold",children:"No Assignments Found"}),i.jsxs("p",{className:"text-slate-600 mt-2",children:["There are currently no assignments posted for ",(t==null?void 0:t.name)||"the selected student","'s class and section."]})]}),e&&!p&&!f&&!u&&!l&&a.length>0&&Object.entries(x).map(([j,S])=>i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(pA,{className:"text-xl text-indigo-600 mr-2"}),i.jsxs("h2",{className:"text-xl font-semibold text-slate-700",children:["Due Date (BS): ",j,t&&i.jsxs("span",{className:"text-base font-normal text-slate-500 ml-2",children:[" (For: ",t.name,")"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(N=>{var C;return i.jsx("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col overflow-hidden group",children:i.jsxs("div",{className:"p-5 sm:p-6 flex-grow",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-700 leading-tight mb-1.5 group-hover:text-sky-600 transition-colors",children:N.title}),i.jsxs("div",{className:"flex flex-wrap items-center text-xs text-slate-500 mb-3 space-x-2",children:[i.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[i.jsx(mA,{className:"mr-1 h-3.5 w-3.5"}),N.subjectName]}),i.jsx("span",{className:"text-slate-300",children:"|"}),i.jsxs("span",{className:"whitespace-nowrap",children:["Class: ",N.className]}),i.jsxs("span",{className:"whitespace-nowrap",children:["/ Section: ",N.sectionName||"N/A"]})]}),N.description&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wider",children:"Instructions:"}),i.jsx("div",{className:"prose prose-sm max-w-none prose-slate custom-scrollbar max-h-40 overflow-y-auto pr-2 rounded-md bg-slate-50 p-3 border border-slate-200",children:i.jsx(TA,{remarkPlugins:[_A],children:N.description})})]}),!N.description&&i.jsxs("div",{className:"mb-4 text-sm text-slate-500 italic flex items-center bg-slate-50 p-3 rounded-md border border-slate-200",children:[i.jsx(Mh,{className:"mr-2 h-4 w-4 flex-shrink-0"})," No detailed instructions provided."]}),N.fileIds&&N.fileIds.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wider",children:["Attachments: (",N.fileIds.length,")"]}),i.jsx("div",{className:"space-y-2",children:N.fileIds.map(($,P)=>{var E,M;return i.jsxs("button",{onClick:()=>{var k;return y($,((k=N.fileNames)==null?void 0:k[P])||"download")},className:"w-full flex items-center text-sm text-sky-700 hover:text-sky-900 bg-sky-50 hover:bg-sky-100 p-2.5 rounded-md transition-colors border border-sky-200 hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 group",children:[i.jsx(c2,{className:"mr-2.5 h-4 w-4 flex-shrink-0 text-sky-600"}),i.jsx("span",{className:"truncate",title:((E=N.fileNames)==null?void 0:E[P])||`File ${P+1}`,children:((M=N.fileNames)==null?void 0:M[P])||`File ${P+1}`}),i.jsx(gA,{className:"ml-auto h-4 w-4 flex-shrink-0 text-slate-400 group-hover:text-sky-600 transition-colors"})]},$)})})]}),!((C=N.fileIds)!=null&&C.length)&&i.jsx("div",{className:"mb-3 text-xs text-slate-400 italic",children:"No attachments for this assignment."})]})},N.$id)})})]},j))]})]})})},hot=()=>et.getState().dbId,mp=hot,iR="68316dd1002f05fcd202",IQ=()=>{const{user:e,isLoading:t,fetchUser:n}=tE(),{selectedStudentId:r}=ho(),[s,a]=m.useState(null),[o,l]=m.useState([]),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(!1),[b,x]=m.useState(!1),[y,v]=m.useState(!1),[j,S]=m.useState(null),[N,C]=m.useState(!1);m.useEffect(()=>{n().finally(()=>C(!0))},[n]),m.useEffect(()=>{if(!r){a(null),l([]),u(null),f(null),S(null);return}p(!0),S(null),u(null),f(null),(async()=>{try{const I=await le.getDocument(mp,on,r);if(!I){S(`Student profile not found for ID: ${r}.`),a(null);return}let L=null;if(I.class&&I.section)try{const R=await le.listDocuments(mp,Qt,[J.equal("name",I.section),J.equal("class",I.class),J.limit(1)]);R.documents.length>0?L=R.documents[0].$id:console.warn(`Section ID not found for section: "${I.section}" in class: "${I.class}" for student ${I.name}`)}catch(R){console.error("Error fetching selected student's section ID:",R)}a({id:I.$id,name:I.name,email:I.stdEmail,className:I.class,sectionName:I.section,sectionId:L,facultyId:I.facultyId})}catch(I){console.error("Error fetching selected student details:",I),S(`Failed to load profile for selected student: ${I.message||"Unknown error"}`),a(null)}finally{p(!1)}})()},[r]);const $=m.useCallback(async(A=!1)=>{if(s){x(!0),A||(S(null),l([]));try{const I=[J.equal("isPublished",!0),J.orderDesc("$createdAt"),J.limit(100)],F=(await le.listDocuments(mp,zo,I)).documents.filter(W=>{const z=W.faculty||[],U=W.class||[],H=W.section||[];if(z.length===0&&U.length===0&&H.length===0)return!0;let Y=!1;return z.length>0&&s.facultyId&&z.includes(s.facultyId)&&(Y=!0),!Y&&U.length>0&&s.className&&U.includes(s.className)&&(Y=!0),!Y&&H.length>0&&s.sectionId&&H.includes(s.sectionId)&&(Y=!0),Y}),O=F.map(W=>({...W,subjectDetails:LJ(W.subjectDetails_json)})).map(async W=>{try{const z=await le.listDocuments(mp,iR,[J.equal("examId",W.$id),J.equal("studentId",s.id),J.limit(W.subjectDetails.length||50)]),{summary:U}=m1(W.subjectDetails,z.documents,W.isGpa);return{...W,summaryForStudent:U}}catch(z){return console.error(`Error fetching/processing marks for exam ${W.title} (student ${s.name}):`,z),{...W,summaryForStudent:{examId:W.$id,isGpa:W.isGpa,overallResultStatus:"Awaited"}}}}),_=await Promise.all(O);l(_),_.length===0&&!j&&F.length>0||F.length}catch(I){console.error("Error fetching published exams for selected student:",I),S(`Failed to load exams for ${s.name}: ${I.message||"Unknown error"}`),l([])}finally{x(!1)}}},[s]);m.useEffect(()=>{s&&!c&&$()},[s,c,$]);const P=m.useCallback(async A=>{if(s){u(A),v(!0),f(null);try{const I=await le.listDocuments(mp,iR,[J.equal("examId",A.$id),J.equal("studentId",s.id),J.limit(A.subjectDetails.length||50)]),L=m1(A.subjectDetails,I.documents,A.isGpa);f(L)}catch(I){console.error("Error fetching detailed results for parent's selected student:",I),S(`Failed to load detailed results for ${A.title} (Student: ${s.name}): ${I.message||"Unknown error"}`)}finally{v(!1)}}},[s]),E=()=>{u(null),f(null),s&&$()},M=()=>{S(null),c&&s?P(c):s?$(!0):!r&&e&&n().finally(()=>C(!0))};return!N||t?i.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:i.jsx(ct,{label:"Authenticating Parent...",size:"lg",color:"primary"})}):e?i.jsxs("div",{className:"container mx-auto p-4 md:p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[i.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex items-center flex-grow",children:[" ",c&&s&&i.jsx(Se,{variant:"light",color:"primary",className:"mr-3 p-2 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-800/30 focus:ring-2 focus:ring-indigo-300",onPress:E,"aria-label":"Go back to exam list",children:i.jsx(Hc,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:c&&s?`Result: ${c.title}`:"Parent Dashboard: Student Results"})]}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:M,color:"blue",variant:"light",isLoading:b||y||h,tooltipText:"Reload All Data",className:"text-white dark:text-indigo-400 dark:hover:text-indigo-300 self-end md:self-center"})]}),i.jsx("div",{className:"mt-6",children:i.jsx(mo,{})})]}),j&&i.jsx(Jt,{color:"danger",className:"my-4 w-full p-3 text-center text-sm",children:j}),!r&&!h&&i.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 shadow-md rounded-lg p-8",children:[i.jsx(I0,{className:"h-16 w-16 text-indigo-400 dark:text-indigo-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-lg font-medium",children:"Please select a student from the dropdown above."}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Once a student is selected, their exam results will be displayed here."})]}),h&&i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx(ct,{label:"Loading selected student's profile...",size:"lg",color:"primary"})}),s&&i.jsx(i.Fragment,{children:c?d?i.jsx(FJ,{exam:c,processedResults:d.processedSubjects,summary:d.summary,studentName:s.name,isLoading:y}):y?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{label:`Loading detailed results for ${s.name}...`,size:"lg",color:"primary"})}):!j&&i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:"Could not load detailed results for this exam."}):i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-1",children:["Results for: ",i.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:s.name})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:["Class: ",s.className," - Section: ",s.sectionName]}),b?i.jsx("div",{className:"flex justify-center items-center h-60",children:i.jsx(ct,{label:`Loading exams for ${s.name}...`,size:"lg",color:"primary"})}):o.length===0?i.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 shadow-md rounded-lg p-6",children:[i.jsx(so,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:["No published exam results found for ",s.name,"."]})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(A=>i.jsx(_J,{exam:A,onSelect:P},A.$id))})]})})]}):i.jsxs("div",{className:"container mx-auto p-6 text-center min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900",children:[i.jsx(za,{className:"h-16 w-16 text-yellow-500 dark:text-yellow-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Parent Portal Access Denied"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please log in as a parent to view student results."})]})},mot=()=>et.getState().dbId,pot=mot,T5=pot,got="coll-parent",bot="coll-student",UA=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[s,a]=m.useState([]),[o,l]=m.useState(null),[c,u]=m.useState(!0),[d,f]=m.useState(!1),[h,p]=m.useState(null),b=m.useCallback(async(v,j)=>{u(!0),f(!0),p(null);let S=null;try{const N=await le.listDocuments(T5,got,[J.equal("email",v),J.limit(1)]);if(N.documents.length>0&&(S=N.documents[0]),S)if(r(S),S.$id){const C=await le.listDocuments(T5,bot,[J.equal("parentId",S.$id),J.orderAsc("name")]);a(C.documents),C.documents.length>0?l(C.documents[0].$id):l(null)}else p("Parent data found, but missing ID to fetch students."),a([]),l(null);else p(`No parent record found for user ${v}. Please contact support if this is an error.`),a([]),l(null)}catch(N){console.error("Error fetching parent or student data:",N),p(N.message||"Failed to load dashboard data. Please try again."),a([]),l(null)}finally{u(!1),f(!1)}},[]);m.useEffect(()=>{if(!T5){p("Appwrite configuration missing. Please check environment variables."),u(!1),f(!1);return}(async()=>{try{const j=await ut.get();t(j),j.email?b(j.email,j.$id):(p("Could not retrieve current user's email. Please log in again."),u(!1),f(!1))}catch{p("You are not logged in or session expired. Please log in."),u(!1),f(!1)}})()},[b]);const x=v=>{l(v)},y=s.find(v=>v.$id===o)||null;return i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx("header",{className:"bg-white shadow-md"}),i.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[c&&!h&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your information..."})]}),h&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow-md",role:"alert"}),!c&&!h&&n&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-8 p-6 bg-white shadow rounded-lg",children:[i.jsxs("h1",{className:"text-2xl font-semibold text-gray-800 mb-1",children:["Hello, ",n.name,"!"]}),i.jsx("p",{className:"text-gray-600",children:"Manage your student's records and stay updated."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[i.jsxs("div",{className:"lg:col-span-1 bg-white p-6 shadow rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Select Student"}),i.jsx(mo,{students:s,selectedStudentId:o,onStudentSelect:x,isLoading:d})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(PQ,{student:y,isLoading:d&&!!o})})]})]})]}),i.jsxs("footer",{className:"py-6 mt-10 text-center text-sm text-gray-500 border-t border-gray-200",children:["© ",new Date().getFullYear()," School Management System. All rights reserved."]})]})},xot=()=>et.getState().dbId,yot=xot,M5=yot,oR="coll-student",vot="coll-notify",lR=e=>e?e.map(t=>{try{return JSON.parse(t)}catch(n){return console.error("LV: Failed to parse leave string:",t,n),null}}).filter(Boolean):[],wot=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]},Sot=e=>{const t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");return`${t}-${n}-${r} ${s}:${a}:${o}`},jot=e=>{let t="bg-gray-100",n="text-gray-800",r=Ks,s=e.charAt(0).toUpperCase()+e.slice(1);switch(e){case"pending":t="bg-yellow-100",n="text-yellow-700",r=ma,s="Awaiting Action";break;case"validated":t="bg-sky-100",n="text-sky-700",r=al,s="You Validated";break;case"rejected":t="bg-red-100",n="text-red-700",r=ya,s="You Rejected";break;case"approved":t="bg-green-100",n="text-green-700",r=al,s="Admin Approved";break}return i.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${t} ${n} whitespace-nowrap`,children:[i.jsx(r,{className:"h-4 w-4 mr-1.5"}),s]})},Cot=()=>{const{selectedStudentId:e}=ho(),[t,n]=m.useState(null),[r,s]=m.useState([]),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState({isOpen:!1,leaveId:null,actionType:null,rejectionReason:""}),p=m.useCallback(async(S=!0)=>{if(!e){n(null),s([]),c(null);return}S&&o(!0),c(null);try{const N=await le.getDocument(M5,oR,e);n(N);const $=lR(N.leave).filter(P=>["pending","validated","rejected","approved"].includes(P.status)).sort((P,E)=>new Date(E.appliedAt).getTime()-new Date(P.appliedAt).getTime());s($)}catch(N){console.error("LV: Error fetching student data:",N),c(N.message||"Failed to load applications."),n(null),s([])}finally{S&&o(!1)}},[e]);m.useEffect(()=>{p()},[p]);const b=()=>{p(!0)},x=async(S,N,C,$)=>{const P=S.id;if(!P){console.warn("LV: Student custom ID missing for notification.",S);return}if(!S.parentId){console.warn("LV: Parent ID (sender) missing from student.",S);return}let E=`Your leave application for "${N}" has been ${C} by your parent.`;C==="rejected"&&$?E+=` Reason: ${$}`:C==="rejected"&&(E+=" Please see details or contact them.");const M={title:`Leave Application ${C.charAt(0).toUpperCase()+C.slice(1)}`,msg:E,to:[String(P)],valid:wot(),sender:String(S.parentId),date:Sot(new Date)};try{await le.createDocument(M5,vot,dn.unique(),M)}catch(k){console.error(`LV: Failed to send ${C} notification:`,k)}},y=async()=>{if(!t||!f.leaveId||!f.actionType)return;d(f.leaveId);const{leaveId:S,actionType:N,rejectionReason:C}=f;let $;const P=(t.leave||[]).map(E=>{try{const M=JSON.parse(E);if(M.leaveId===S){$={...M};const k={...M};return N==="validate"?(k.status="validated",k.validatedAt=new Date().toISOString()):N==="reject"&&(k.status="rejected",k.rejectedAt=new Date().toISOString(),C!=null&&C.trim()?k.rejectionReason=C.trim():delete k.rejectionReason),JSON.stringify(k)}return E}catch(M){return console.error("LV: Error processing leave string:",M),E}});try{await le.updateDocument(M5,oR,t.$id,{leave:P});const M=lR(P).filter(k=>["pending","validated","rejected","approved"].includes(k.status)).sort((k,A)=>new Date(A.appliedAt).getTime()-new Date(k.appliedAt).getTime());s(M),n(k=>k?{...k,leave:P}:null),$&&t&&(N==="validate"?await x(t,$.title,"validated"):N==="reject"&&await x(t,$.title,"rejected",C==null?void 0:C.trim()))}catch(E){console.error(`LV: Failed to ${N} leave:`,E),c(E.message||"Update failed.")}finally{d(null),j()}},v=(S,N)=>h({isOpen:!0,leaveId:S,actionType:N,rejectionReason:""}),j=()=>h({isOpen:!1,leaveId:null,actionType:null,rejectionReason:""});return e?i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center px-1 mb-6 gap-3",children:[i.jsxs("h3",{className:"text-xl font-semibold text-slate-800",children:["Leave Requests for ",(t==null?void 0:t.name)||"..."]}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:b,isIconOnly:!0})]}),a&&r.length===0?i.jsx("div",{className:"animate-pulse space-y-6",children:[...Array(2)].map((S,N)=>i.jsx("div",{className:"bg-gray-200 p-6 rounded-xl shadow-lg h-72"},N))}):l?i.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded-md shadow",children:i.jsxs("p",{children:[i.jsx("strong",{className:"font-semibold",children:"Error:"})," ",l]})}):r.length===0&&!a?i.jsxs("div",{className:"text-center py-16 sm:py-20 bg-white rounded-xl shadow-lg",children:[i.jsx(al,{className:"mx-auto h-16 w-16 text-green-500"}),i.jsx("h3",{className:"mt-4 text-xl font-semibold text-slate-700",children:"All Clear!"}),i.jsxs("p",{className:"mt-2 text-md text-slate-500",children:["No actionable leave applications for ",(t==null?void 0:t.name)||"this student","."]})]}):i.jsx($t,{options:{suppressScrollX:!0,wheelSpeed:.5},className:"pr-2 -mr-2",style:{maxHeight:"calc(100vh - 280px)"},children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:r.map(S=>i.jsxs("div",{className:`bg-white rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300 overflow-hidden flex flex-col group
                ${u===S.leaveId?"opacity-60 cursor-wait":"opacity-100"}`,children:[i.jsx("div",{className:`px-5 py-4 border-l-4 ${S.status==="approved"?"border-green-500":S.status==="rejected"?"border-red-500":S.status==="validated"?"border-sky-500":S.status==="pending"?"border-yellow-500":"border-slate-300"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1.5",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 group-hover:text-indigo-600 transition-colors duration-200",children:S.title}),jot(S.status)]})}),i.jsxs("div",{className:"px-5 py-4 flex-grow space-y-3.5",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx(Z1,{className:"h-5 w-5 text-slate-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Reason"}),i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:S.reason})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx(er,{className:"h-5 w-5 text-slate-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Period"}),i.jsx("p",{className:"text-sm text-slate-700",children:S.periodType==="dateRange"?`${S.fromDate} to ${S.toDate}`:`${S.date} ${S.periodType==="halfDay"?"(Half Day)":`(${S.periodType.charAt(0).toUpperCase()+S.periodType.slice(1)})`}`})]})]}),S.status==="rejected"&&S.rejectionReason&&i.jsx("div",{className:"mt-2 pt-2 border-t border-slate-100",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(ya,{className:"h-5 w-5 text-red-400 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs font-medium text-red-500 uppercase tracking-wider",children:"Your Rejection Reason"}),i.jsx("p",{className:"text-sm text-red-700 leading-relaxed",children:S.rejectionReason})]})]})}),S.status==="validated"&&S.validatedAt&&i.jsx("div",{className:"mt-2",children:i.jsxs("p",{className:"text-xs text-sky-600",children:[i.jsx("span",{className:"font-medium",children:"You Validated:"})," ",(S.validatedAt,!0)]})}),S.status==="approved"&&S.approvedAt&&i.jsx("div",{className:"mt-2",children:i.jsxs("p",{className:"text-xs text-green-600",children:[i.jsx("span",{className:"font-medium",children:"Admin Approved:"})," ",(S.approvedAt,!0)]})})]}),S.status==="pending"&&i.jsx("div",{className:"px-5 pt-3 pb-4 border-t border-slate-100 bg-slate-50",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[i.jsxs(Se,{variant:"flat",color:"danger",size:"sm",onPress:()=>v(S.leaveId,"reject"),isLoading:u===S.leaveId&&f.actionType==="reject",isDisabled:!!u,className:"w-full sm:w-auto",children:[" ",i.jsx(ya,{className:"h-4 w-4 mr-1.5"})," Reject "]}),i.jsxs(Se,{variant:"solid",color:"success",size:"sm",onPress:()=>v(S.leaveId,"validate"),isLoading:u===S.leaveId&&f.actionType==="validate",isDisabled:!!u,className:"w-full sm:w-auto",children:[" ",i.jsx(al,{className:"h-4 w-4 mr-1.5"})," Validate "]})]})}),i.jsxs("div",{className:"bg-slate-100 px-5 py-2.5 text-xs text-slate-500 border-t border-slate-200 mt-auto",children:["Applied on: ",(S.appliedAt,!0)]})]},S.leaveId))})}),i.jsx(Qi,{isOpen:f.isOpen,onClose:j,onConfirm:y,title:i.jsx("span",{className:`font-semibold ${f.actionType==="reject"?"text-red-600":"text-green-700"}`,children:f.actionType==="reject"?"Confirm Rejection":"Confirm Validation"}),content:i.jsxs("div",{children:[i.jsxs("p",{className:"mb-3 text-gray-600",children:["Are you sure you want to ",f.actionType," this leave application?"]}),f.actionType==="reject"&&i.jsx("div",{children:i.jsx(Ss,{label:"Reason for Rejection (Optional):",value:f.rejectionReason,onValueChange:S=>h(N=>({...N,rejectionReason:S})),placeholder:"Enter reason...",minRows:2,fullWidth:!0,variant:"bordered",className:"mt-2"})})]}),isConfirmLoading:!!u})]}):i.jsxs("div",{className:"mt-6 p-6 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 text-center",children:[i.jsx($2e,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-3 text-lg font-medium text-gray-800",children:"Validate Leave Applications"}),i.jsx("p",{className:"mt-1.5 text-sm text-gray-600",children:"Select a student to view and manage their leave applications."})]})},TQ=()=>i.jsx("div",{className:" overflow-hidden",children:i.jsxs("div",{className:"container  h-full overflow-hidden p-3 pl-5",children:[i.jsx(mo,{}),i.jsx(Cot,{})]})}),Not=()=>{const[e,t]=m.useState(null),n=()=>a(!0),r=()=>a(!1),[s,a]=m.useState(!1);m.useEffect(()=>{let l=!0;return ut.get().then(c=>{l&&c?t(c.email):l&&t(null)}).catch(c=>{l&&(console.error("Navbar: Failed to get user email:",c),t(null))}),()=>{l=!1}},[]);const o=async()=>{try{await ut.deleteSession("current"),Ke.success("Logged out successfully!"),window.location.reload()}catch(l){console.error("Logout failed:",l),Ke.error(l.message||"Logout failed!")}};return i.jsxs("div",{children:[i.jsx("div",{className:"p-4 bg-white rounded-md shadow-sm border mb-4",children:i.jsxs("div",{className:"flex items-center mb-2 gap-1",children:[i.jsx(Ha,{classNames:{base:"bg-gradient-to-br from-[#FFB457] to-[#FF705B]",icon:"text-black/80"},className:"cursor-pointer mr-2",icon:i.jsx($0,{})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Parent User"}),i.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})}),i.jsx(Se,{className:`w-full p-7 bg-white justify-start rounded-md shadow-sm border mb-4 
          transition-all duration-200 active:scale-[0.98] hover:bg-gray-50`,onClick:n,variant:"ghost",children:i.jsx("p",{className:"font-normal text-base",children:"Reset Password"})}),i.jsx("div",{className:" w-full flex justify-center pt-8 pb-5",children:i.jsxs(Se,{variant:"ghost",color:"danger",onPress:o,children:[i.jsx(A$,{className:"h-5 w-5"}),"Logout"]})}),i.jsx(Zc,{isOpen:s,onClose:r})]})},$ot=({initialMenuItem:e})=>{const[t,n]=m.useState(()=>e!==void 0?e:localStorage.getItem("generalComponentMenuItem")||null),[r,s]=m.useState(()=>{const h=localStorage.getItem("expandedSubMenus");return h?JSON.parse(h):[]});m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",t||""),localStorage.setItem("expandedSubMenus",JSON.stringify(r))},[t,r]);const a=h=>{s(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},l={General:{menu:[{name:"Dashboard",icon:i.jsx(Ds,{className:"h-5 w-5"}),component:UA,onClick:()=>{}},{name:"Attendance",icon:i.jsx(os,{className:"h-5 w-5"}),component:CQ,onClick:()=>{}},{name:"Leave Validation",icon:i.jsx(Vc,{className:"h-5 w-5"}),component:TQ,onClick:()=>{}},{name:"Bus Location",icon:i.jsx($i,{className:"h-5 w-5"}),component:oo,onClick:()=>{}},{name:"Calendar",icon:i.jsx(Tr,{className:"h-5 w-5"}),component:Ld,onClick:()=>{}},{name:"Routine",icon:i.jsx(Yc,{className:"h-5 w-5"}),component:NQ,onClick:()=>{}},{name:"Notes",icon:i.jsx(Ya,{className:"h-5 w-5"}),component:$Q,onClick:()=>{}},{name:"Assignment",icon:i.jsx(Za,{className:"h-5 w-5"}),component:kQ,onClick:()=>{}},{name:"Gallery",icon:i.jsx(bl,{className:"h-5 w-5"}),component:EQ,onClick:()=>{}},{name:"Lesson",icon:i.jsx(Ja,{className:"h-5 w-5"}),component:AQ,onClick:()=>{}},{name:"Review",icon:i.jsx(Xc,{className:"h-5 w-5"}),component:DQ,onClick:()=>{}},{name:"Exam",icon:i.jsx(Wc,{className:"h-5 w-5"}),component:jQ,onClick:()=>{}},{name:"Result",icon:i.jsx(wa,{className:"h-5 w-5"}),component:IQ,onClick:()=>{}},{name:"Profile",icon:i.jsx(Bc,{className:"h-5 w-5"}),component:Not,onClick:()=>{}}]}}.General.menu,c=h=>{n(h)},u=()=>{n(null)},d=()=>{if(t){const h=f(l,t);if(h&&h.component)return i.jsxs("div",{children:[i.jsx(M0,{title:t,onBack:u}),i.jsx("div",{className:" mt-[3.25rem] w-full h-fulll",children:Z.createElement(h.component)})]})}return i.jsx("div",{className:"",children:i.jsx(T0,{menuItems:l.map(h=>({...h,onClick:()=>{h.subMenu?a(h.name):c(h.name)},isSubMenuOpen:r.includes(h.name),onSubMenuItemClick:b=>{c(b)}})),selectedMenuItemName:t,expandedSubMenus:r})})},f=(h,p)=>{for(const b of h){if(b.name===p)return b;if(b.subMenu){const x=f(b.subMenu,p);if(x)return x}}};return i.jsx("div",{className:"",children:d()})},Eot=[{id:"101",icon:Ds,title:"Dashboard",description:"View your dashboard",location:"Menu",generalMenuLocation:"Dashboard"},{id:"102",icon:os,title:"Attendance",description:"View student's attendance",location:"Menu",generalMenuLocation:"Attendance"},{id:"103",icon:Vc,title:"Leave Validation",description:"View leave requests and validations",location:"Menu",generalMenuLocation:"Leave Validation"},{id:"104",icon:$i,title:"Bus Location",description:"Track school bus location",location:"Menu",generalMenuLocation:"Bus Location"},{id:"105",icon:Yc,title:"Routine",description:"View class routine",location:"Menu",generalMenuLocation:"Routine"},{id:"106",icon:Ya,title:"Notes",description:"Access class notes",location:"Menu",generalMenuLocation:"Notes"},{id:"107",icon:Za,title:"Assignment",description:"Check your assignments",location:"Menu",generalMenuLocation:"Assignment"},{id:"108",icon:bl,title:"Gallery",description:"View photo gallery",location:"Menu",generalMenuLocation:"Gallery"},{id:"109",icon:Ja,title:"Lesson",description:"Access lesson plans",location:"Menu",generalMenuLocation:"Lesson"},{id:"110",icon:Xc,title:"Review",description:"Review student performance",location:"Menu",generalMenuLocation:"Review"},{id:"111",icon:Wc,title:"Exam",description:"Check upcoming exams",location:"Menu",generalMenuLocation:"Exam"},{id:"112",icon:wa,title:"Result",description:"View student results",location:"Menu",generalMenuLocation:"Result"},{id:"113",icon:X1,title:"Calendar",description:"View calendar of school events",location:"Menu",generalMenuLocation:"Calendar"}],Aot=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=m.useRef(null);m.useEffect(()=>{r.current&&r.current.focus()},[]);const s=t?Eot.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())):[],a=o=>{e(o.location,o.generalMenuLocation),n("")};return i.jsx("div",{className:"flex items-center justify-center w-full px-4 py-2",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ua,{ref:r,placeholder:"Search...",startContent:i.jsx(Ai,{className:"w-5 h-5 text-gray-400"}),type:"text",value:t,onChange:o=>n(o.target.value),className:"w-full shadow-black shadow-large text-gray-800 border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.trim()!==""&&i.jsx("div",{className:"absolute left-0 right-0 z-10 mt-2 bg-gray-50/50 border border-gray-200 rounded-lg shadow-lg max-h-[84vh] overflow-y-auto",children:s.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 text-blue-500 transition-all",onClick:()=>a(o),children:[i.jsx(o.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),i.jsx("div",{className:"text-xs text-gray-500",children:o.description})]})]},o.id))}):i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results found."})})]})})},MQ=Z.memo(({notification:e,senderRole:t})=>{const n=uZ(new Date(e.date),{addSuffix:!0}),r=t===void 0?"Loading...":t||"System/User",s=e.title.toLowerCase().includes("alert")?Hh:e.title.toLowerCase().includes("message")?k0:ls;return i.jsxs("div",{className:"flex items-start p-3 border-b border-gray-200 hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700 transition duration-150 ease-in-out space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(s,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-semibold text-sm text-gray-800 dark:text-gray-100 truncate",children:e.title}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1 break-words",children:e.msg}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:["From: ",i.jsx("span",{className:"font-medium",children:r})]}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 flex-shrink-0 ml-2",children:n})]})]})]})}),OQ=()=>{const{notifications:e,loading:t,userLoading:n,error:r,fetchNotifications:s,currentUser:a,currentUserType:o}=cm(),[l,c]=m.useState({}),[u,d]=m.useState(!1),f=m.useMemo(()=>{const p=new Set;return e.forEach(b=>{b.sender&&typeof b.sender=="string"&&b.sender.trim()!==""&&l[b.sender]===void 0&&(["system","admin"].includes(b.sender.toLowerCase())||p.add(b.sender))}),Array.from(p)},[e,l]);m.useEffect(()=>{if(f.length===0||u)return;(async()=>{d(!0);{console.error("!!! ParentNotificationPage Error: Appwrite Function ID for sender roles not set. Replace 'YOUR_FUNCTION_ID' or set VITE_APPWRITE_SENDER_ROLE_FUNCTION_ID. !!!");const b=f.reduce((x,y)=>(x[y]=null,x),{});c(x=>({...x,...b})),d(!1);return}})()},[f,u]);const h=t||n||u;return i.jsx("div",{className:" flex justify-center",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg overflow-hidden dark:bg-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-700",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200",children:o==="parent"?"Parent Notifications":"Notifications"}),h&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading..."}),i.jsx("button",{onClick:s,disabled:h,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh notifications",children:"Refresh"})]}),i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[r&&i.jsxs("p",{className:"p-4 text-center text-red-500 text-sm",children:["Error: ",r.message||"Failed to load notifications."]}),!h&&!r&&e.length===0&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No new notifications."}),!r&&e.length>0&&i.jsx("div",{children:e.map(p=>i.jsx(MQ,{notification:p,senderRole:l[p.sender]},p.$id))}),h&&e.length===0&&!r&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"Loading notifications..."})]})]})})},Pot=()=>{const[e,t]=m.useState(()=>localStorage.getItem("activeMobileMenu")||"Dashboard"),[n,r]=m.useState(()=>localStorage.getItem("generalComponentMenuItem")||null),s=m.useRef(!0);m.useEffect(()=>{if(s.current){s.current=!1;const h=localStorage.getItem("activeMobileMenu"),p=localStorage.getItem("generalComponentMenuItem");h&&["Dashboard","Search","Menu","Notification","Braimy","Class","Subjects","CenterAction"].includes(h)?t(h):t("Dashboard"),p&&r(p)}},[]),m.useEffect(()=>{localStorage.setItem("activeMobileMenu",e)},[e]),m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",n||"")},[n]);const a=(h,p)=>{t(h),h==="Menu"?p?r(p):!p&&localStorage.getItem("generalComponentMenuItem")?r(localStorage.getItem("generalComponentMenuItem")):r(null):r(null)},o=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Braimy Settings"}),i.jsx("p",{className:"text-gray-700",children:"Configure Braimy related settings."})]}),l=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Classes"}),i.jsx("p",{className:"text-gray-700",children:"Manage your classes and schedules."})]}),c=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Subjects"}),i.jsx("p",{className:"text-gray-700",children:"View and manage subjects."})]}),d=[{name:"Dashboard",icon:i.jsx(y0,{className:"h-5 w-5"}),onClick:()=>a("Dashboard")},{name:"Search",icon:i.jsx(v0,{className:"h-5 w-5"}),onClick:()=>a("Search")},{name:"Menu",icon:i.jsx(x0,{className:"h-5 w-5"}),onClick:()=>a("Menu")},{name:"Notification",icon:i.jsx(O1,{className:"h-5 w-5"}),onClick:()=>a("Notification")}],f=()=>{switch(e){case"Dashboard":return i.jsx(UA,{});case"Search":return i.jsx(Aot,{setActiveItem:a});case"Menu":return i.jsx($ot,{initialMenuItem:n});case"Notification":return i.jsx(OQ,{});case"Braimy":return i.jsx(o,{});case"Class":return i.jsx(l,{});case"Subjects":return i.jsx(c,{});case"CenterAction":return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:"Center Action Content"});default:return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border text-center text-gray-500",children:"Select a menu item from below."})}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[i.jsx("div",{className:"flex-1 overflow-x-hidden overflow-y-auto p-2",children:i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[f(),i.jsx(no,{})]})}),i.jsx("div",{className:"sticky bottom-0 bg-slate-300/90 rounded-t-lg backdrop-blur-sm border-t border-gray-200",children:i.jsx("div",{className:"container mx-auto max-w-3xl",children:i.jsx(P0,{menuItems:d,activeItemName:e,setActiveItemName:a})})})]})},Dot=[{id:"1",icon:Ds,title:"Dashboard",description:"View your parent dashboard",location:"Dashboard"},{id:"2",icon:os,title:"Attendance",description:"View your child's attendance records",location:"Attendance"},{id:"3",icon:Vc,title:"Leave Validation",description:"Review and validate student leave requests",location:"Leave Validation"},{id:"4",icon:$i,title:"Bus Location",description:"Check live location of the school bus",location:"Bus Location"},{id:"5",icon:Yc,title:"Routine",description:"View your child's class routine",location:"Routine"},{id:"6",icon:Ya,title:"Notes",description:"Access notes shared by teachers",location:"Notes"},{id:"7",icon:Za,title:"Assignment",description:"View and track assignments",location:"Assignment"},{id:"8",icon:bl,title:"Gallery",description:"Explore photos from school events",location:"Gallery"},{id:"9",icon:Ja,title:"Lesson",description:"View lesson plans and study materials",location:"Lesson"},{id:"10",icon:Xc,title:"Review",description:"Check student performance reviews",location:"Review"},{id:"11",icon:Wc,title:"Exam",description:"View upcoming exams and schedule",location:"Exam"},{id:"12",icon:wa,title:"Result",description:"View academic results and report cards",location:"Result"},{id:"13",icon:Tr,title:"Calendar",description:"View calendar of school events",location:"Calendar"}],kot=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=t?Dot.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())):[],s=a=>{e(a.location),n("")};return i.jsxs("div",{className:"relative flex-col w-full max-w-lg mx-auto flex items-center",children:[i.jsx(Ua,{placeholder:"Search",startContent:i.jsx(Ai,{className:"w-5 h-5 text-default-400 pointer-events-none flex-shrink-0"}),type:"text",isClearable:!0,variant:"flat",value:t,onChange:a=>n(a.target.value),onClear:()=>n(""),className:"shadow-gray-600/10 hover:shadow-gray-300/10 bg-slate-200 shadow-md rounded-xl"}),t.trim()!==""&&i.jsx("div",{className:"results z-10 mt-12 absolute w-full bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.length>0?i.jsx("ul",{children:r.map(a=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 cursor-pointer text-blue-500 hover:bg-gray-100",onClick:()=>s(a),children:[i.jsx(a.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:a.title}),i.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No results found."})})]})},Iot=({toggleSidebar:e,setActiveItem:t=()=>{}})=>{const[n,r]=m.useState(null);Lh();const[s,a]=m.useState(!1),{parentData:o,loading:l,error:c}=KJ(),{notifications:u,loading:d}=cm(),f=u.length,h=async()=>{try{await ut.deleteSession("current"),Ge.success("Logged out successfully!"),window.location.reload()}catch(x){console.error("Logout failed:",x),Ge.error(x.message||"Logout failed!")}},p=()=>a(!0),b=()=>a(!1);return m.useEffect(()=>{let x=!0;return ut.get().then(y=>{x&&y?r(y.email):x&&r(null)}).catch(y=>{x&&(console.error("ParentNavbar: Failed to get user email:",y),r(null))}),()=>{x=!1}},[]),i.jsxs(i.Fragment,{children:[" ",i.jsxs("nav",{className:"flex flex-row m-3 gap-4 sm:gap-6 items-center justify-between pr-2 rounded bg-white dark:bg-gray-800",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-700 hover:text-gray-900 font-semibold bg-gray-100 hover:bg-gray-200 rounded-md active:scale-95 transition-colors duration-150 ease-in-out dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600","aria-label":"Toggle sidebar",children:i.jsx(D0,{className:"w-6 h-6"})}),i.jsx("div",{className:"flex-grow min-w-0 px-2",children:i.jsx(kot,{setActiveItem:t})}),i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-shrink-0",children:[i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsxs(Se,{isIconOnly:!0,variant:"light",className:"relative text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1 rounded-full dark:text-gray-400 dark:hover:text-gray-100","aria-label":"Notifications",children:[i.jsx(P$,{className:"w-6 h-6"}),!d&&f>0&&i.jsx("span",{className:"absolute top-[5px] right-[5px] flex items-center justify-center h-[1.08rem] w-4.5 min-w-[1rem] rounded-full font-medium bg-red-500 text-white text-[13px] leading-none px-1 ring-2 ring-white dark:ring-gray-800 animate-bounce",title:`${f} new notifications`,children:f>9?"9+":f})]})}),i.jsx(Pc,{"aria-label":"Notification menu",className:"p-0 max-w-sm w-screen sm:w-auto dark:bg-gray-800",children:i.jsx(kr,{isReadOnly:!0,className:"p-0 focus:bg-transparent focus:outline-none cursor-default",children:i.jsx(OQ,{})},"notification-center")})]}),i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsx(Ha,{as:"button",showFallback:!0,name:l?void 0:(o==null?void 0:o.name)||"",classNames:{base:"bg-gradient-to-br from-green-500 to-teal-600 transition-transform ring-2 ring-offset-1 ring-transparent group-hover:ring-teal-300 dark:ring-offset-gray-800",name:"text-xs font-semibold text-white"},className:"cursor-pointer hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-1 rounded-full","aria-label":"User menu"})}),i.jsxs(Pc,{"aria-label":"User actions",variant:"faded",className:"dark:bg-gray-800",children:[i.jsx(As,{showDivider:!0,children:i.jsxs(kr,{isReadOnly:!0,className:"h-14 gap-2 opacity-90 cursor-default dark:text-gray-400",children:[i.jsx("p",{className:"font-semibold text-gray-800 truncate dark:text-gray-200",children:l?"Loading...":(o==null?void 0:o.name)||"Parent User"}),i.jsx("p",{className:"font-normal text-gray-500 text-xs truncate dark:text-gray-400",children:n||"..."})]},"profile")}),i.jsx(As,{title:"Settings",children:i.jsx(kr,{className:"cursor-pointer",onPress:p,children:"Reset Password"},"reset-password")}),i.jsx(As,{title:"Actions",children:i.jsx(kr,{className:"text-danger dark:text-danger-400",color:"danger",startContent:i.jsx(S0,{className:"w-5 h-5 mr-1"}),onPress:h,children:"Logout"},"logout")})]})]})]})]}),i.jsx(Zc,{isOpen:s,onClose:b})]})};function Tot(){const[e,t]=m.useState(()=>{const c=localStorage.getItem("sidebarState");return c?parseInt(c,10):0}),[n,r]=m.useState("Dashboard"),s=()=>{t(c=>{const u=c===0?1:0;return localStorage.setItem("sidebarState",u.toString()),u})},a=[{name:"Dashboard",icon:Ds,component:UA},{name:"Attendance",icon:Q2e,component:CQ},{name:"Leave Validation",icon:Vc,component:TQ},{name:"Bus Location",icon:$i,component:oo},{name:"Calendar",icon:Tr,component:Ld},{name:"Routine",icon:Yc,component:NQ},{name:"Notes",icon:Ya,component:$Q},{name:"Assignment",icon:Za,component:kQ},{name:"Gallery",icon:bl,component:EQ},{name:"Lesson",icon:Ja,component:AQ},{name:"Review",icon:Xc,component:DQ},{name:"Exam",icon:Wc,component:jQ},{name:"Result",icon:wa,component:IQ}],l=(()=>{const c=a.find(u=>u.name===n);if(c&&c.component)return c.component;for(const u of a);return()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Content Not Found"}),i.jsx("p",{children:"No component defined for this menu item."})]})})();return i.jsx(uA,{children:i.jsxs("div",{className:"flex min-h-screen max-h-screen bg-gray-100/40",children:[i.jsx(Y0,{sidebarState:e,toggleSidebar:s,setActiveItem:r,activeItem:n,sidebarItems:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Iot,{toggleSidebar:s,setActiveItem:r}),i.jsxs("main",{className:"flex-1 overflow-auto mb-2 mr-2 max-w-full",children:[i.jsx(l,{}),i.jsx(no,{})]})]})]})})}const Mot=()=>{const e=A0({minWidth:767});return i.jsx(i.Fragment,{children:i.jsx(Fit,{children:i.jsx(UJ,{children:i.jsx(FA,{children:i.jsx(BA,{children:e?i.jsxs("div",{children:[i.jsx(Tot,{})," "]}):i.jsx("div",{children:i.jsx(Pot,{})})})})})})})},O5=20,Sf=Gt((e,t)=>({currentUserEmail:null,currentUserRole:"admin",teacherDetails:null,teacherAssignedSectionIds:[],teacherAssignedSectionsData:[],allStudents:[],rawLeaveRequests:[],processedAndFilteredLeaves:[],displayableLeaveRequests:[],totalProcessedLeavesCount:0,currentlyDisplayedCount:0,modifiedLeaves:new Map,isLoading:!0,isFetchingMore:!1,error:null,filters:{facultyId:null,class:null,section:null,searchText:""},faculties:[],sections:[],classes:[],setLoading:n=>e({isLoading:n}),setError:n=>e({error:n,isLoading:!1}),setInitialData:({students:n,allFacultiesFromDB:r,allSectionsFromDB:s,userEmail:a,teacherDoc:o,assignedSectionIdsForTeacher:l,assignedSectionsDataForTeacher:c})=>{const u=o?"teacher":"admin";let d,f,h;if(u==="teacher"){f=c||[],h=[...new Set((c||[]).map(x=>x.class).filter(Boolean))].sort();const b=new Set((c||[]).map(x=>x.facultyId).filter(Boolean));if(b.size>0)d=r.filter(x=>b.has(x.$id));else{const x=new Set(n.map(y=>y.facultyId).filter(Boolean));d=r.filter(y=>x.has(y.$id))}}else d=r,f=s,h=[...new Set(n.map(b=>b.class).concat(s.map(b=>b.class)))].filter(Boolean).sort();e({allStudents:n,faculties:d,sections:f,classes:h,currentUserEmail:a,currentUserRole:u,teacherDetails:o,teacherAssignedSectionIds:l,teacherAssignedSectionsData:c,isLoading:!1,error:null,filters:{facultyId:null,class:null,section:null,searchText:""},rawLeaveRequests:[],processedAndFilteredLeaves:[],displayableLeaveRequests:[],totalProcessedLeavesCount:0,currentlyDisplayedCount:0,modifiedLeaves:new Map}),t().initializeAllLeaveData()},initializeAllLeaveData:()=>{const{allStudents:n,currentUserRole:r}=t(),s=[];n.forEach(a=>{!a.leave||!Array.isArray(a.leave)||a.leave.length===0||a.leave.forEach(o=>{try{const l=JSON.parse(o);if(!l.leaveId||!l.title){console.warn(`[Store.initializeAllLeaveData] Parsed leave data for student ${a.$id} is missing essential fields.`);return}const c={...l,studentId:a.$id,studentName:a.name,studentClass:a.class,studentFacultyId:a.facultyId,studentSection:a.section};s.push(c)}catch(l){console.error(`[Store.initializeAllLeaveData] Failed to parse leave string for student ${a.$id}: "${o}"`,l)}})}),s.sort((a,o)=>{const l=a.periodType==="today"?a.date:a.fromDate,c=o.periodType==="today"?o.date:o.fromDate,u=l?new Date(l).getTime():0;return(c?new Date(c).getTime():0)-u}),s.length>0&&s.length<3,e({rawLeaveRequests:s}),t().applyFiltersAndPrepareDisplay()},applyFiltersAndPrepareDisplay:()=>{const{rawLeaveRequests:n,filters:r,sections:s}=t();let a=[...n];if(r.facultyId&&(a=a.filter(o=>o.studentFacultyId===r.facultyId)),r.class&&(a=a.filter(o=>o.studentClass===r.class)),r.section){const o=s.find(l=>l.$id===r.section);if(o){const l=o.name;a=a.filter(c=>c.studentSection===l)}else console.warn(`[Store.applyFiltersAndPrepareDisplay] No section document found in store for $ID: ${r.section}. Section filter ineffective.`)}if(r.searchText){const o=r.searchText.toLowerCase();a=a.filter(l=>l.title.toLowerCase().includes(o)||l.reason.toLowerCase().includes(o)||l.studentName&&l.studentName.toLowerCase().includes(o))}e({processedAndFilteredLeaves:a,totalProcessedLeavesCount:a.length,currentlyDisplayedCount:Math.min(a.length,O5),displayableLeaveRequests:a.slice(0,Math.min(a.length,O5)),isFetchingMore:!1})},setFilter:(n,r)=>{e(s=>{const a={...s.filters,[n]:r};if(n==="class")if(r===null)a.section=null;else{const o=s.filters.section;if(o){const l=s.sections.find(c=>c.$id===o);(!l||l.class!==r)&&(a.section=null)}}return{filters:a}}),t().applyFiltersAndPrepareDisplay()},loadMoreLeaves:()=>{const{processedAndFilteredLeaves:n,currentlyDisplayedCount:r,totalProcessedLeavesCount:s,isFetchingMore:a}=t();if(r>=s||a)return;e({isFetchingMore:!0});const o=Math.min(r+O5,s);e(l=>({displayableLeaveRequests:l.processedAndFilteredLeaves.slice(0,o),currentlyDisplayedCount:o,isFetchingMore:!1}))},updateLeaveStatus:(n,r,s,a)=>{e(o=>{var h;const l=o.rawLeaveRequests.find(p=>p.leaveId===n&&p.studentId===r);if(!l)return console.warn("Leave not found in raw requests for update:",n,r),o;const c=new Map(o.modifiedLeaves);let u=c.get(n);const d=o.currentUserRole==="teacher"?((h=o.teacherDetails)==null?void 0:h.name)||"Class Teacher":"Admin";u?u.status=s:u={...l,originalStatus:l.status,status:s},s==="rejected"?(u.rejectionReason=a||`Rejected by ${d}`,u.rejectedAt=new Date().toISOString(),u.rejectedBy=d,delete u.approvedAt,delete u.approvedBy):s==="approved"&&(delete u.rejectionReason,delete u.rejectedAt,delete u.rejectedBy,u.approvedAt=new Date().toISOString(),u.approvedBy=d),u.status===u.originalStatus?c.delete(n):c.set(n,u);const f=o.displayableLeaveRequests.map(p=>{if(p.leaveId===n){const b=c.get(n);return b?{...b}:{...l,status:s}}return p});return{modifiedLeaves:c,displayableLeaveRequests:f}})},getLeaveById:n=>{const r=t().modifiedLeaves.get(n);if(r)return r;let s=t().displayableLeaveRequests.find(a=>a.leaveId===n);return s||t().rawLeaveRequests.find(a=>a.leaveId===n)},resetModifications:()=>{t().modifiedLeaves.size!==0&&(e({modifiedLeaves:new Map}),t().applyFiltersAndPrepareDisplay())},clearModifications:()=>e({modifiedLeaves:new Map}),hasPendingChanges:()=>t().modifiedLeaves.size>0})),Oot=()=>et.getState().dbId,_c=Oot,Lot=async()=>{let e=[],t=0;const n=100;let r;try{do r=await le.listDocuments(_c,on,[J.limit(n),J.offset(t)]),e=e.concat(r.documents),t+=r.documents.length;while(r.documents.length>=n&&e.length<r.total);return e}catch(s){throw console.error("[Service.getAllStudents] Error fetching students:",s),s}},_ot=async()=>{try{return(await le.listDocuments(_c,tr,[J.limit(100)])).documents}catch(e){throw console.error("[Service.getAllFaculties] Error fetching faculties:",e),e}},Fot=async()=>{try{return(await le.listDocuments(_c,Qt,[J.limit(200)])).documents}catch(e){throw console.error("[Service.getAllSections] Error fetching sections:",e),e}},Rot=async(e,t)=>{try{return await le.updateDocument(_c,on,e,{leave:t})}catch(n){throw console.error(`[Service.updateStudentLeaveData] Error updating leave data for student ${e}:`,n),n}},Bot=async e=>{try{const t=await le.listDocuments(_c,Ga,[J.equal("email",e),J.limit(1)]);return t.documents.length>0?t.documents[0]:null}catch(t){return console.error(`[Service.getTeacherByEmail] Error fetching teacher by email ${e}:`,t),null}},zot=async e=>{try{return(await le.listDocuments(_c,Qt,[J.equal("class_teacher",e),J.limit(50)])).documents}catch(t){throw console.error(`[Service.getSectionsByClassTeacherId] Error fetching sections for teacher ID ${e}:`,t),t}},Vot=async(e,t,n)=>{if(!e||e.length===0)return console.warn("[Service.getStudentsBySectionDetails] No section names provided. Returning empty array."),[];if(!_c)return console.error("[Service.getStudentsBySectionDetails] STUDENTS_COLLECTION_ID or APPWRITE_DATABASE_ID is not defined!"),[];let r=[];const s=50,a=[J.equal("section",e)];t&&t.length>0&&a.push(J.equal("facultyId",t)),n&&n.length>0&&a.push(J.equal("class",n)),a.push(J.limit(s));try{let o=0,l;do l=await le.listDocuments(_c,on,[...a,J.offset(o)]),l.documents.length>0,r=r.concat(l.documents),o+=l.documents.length;while(l.documents.length>=s&&(l.total===0||r.length<l.total));return r.length>0&&r.length<3,r}catch(o){return console.error("[Service.getStudentsBySectionDetails] Error fetching students by section details:",o),o.response&&console.error("[Service.getStudentsBySectionDetails] Appwrite error details:",JSON.stringify(o.response,null,2)),(o.code===401||o.type==="user_unauthorized"||o.message&&o.message.toLowerCase().includes("permission"))&&console.error("[Service.getStudentsBySectionDetails] POTENTIAL PERMISSION ISSUE."),[]}},LQ=()=>{const{displayableLeaveRequests:e,totalProcessedLeavesCount:t,currentlyDisplayedCount:n,modifiedLeaves:r,isLoading:s,isFetchingMore:a,error:o,filters:l,faculties:c,sections:u,classes:d,currentUserRole:f,teacherAssignedSectionIds:h,allStudents:p,setLoading:b,setError:x,setFilter:y,updateLeaveStatus:v,resetModifications:j,clearModifications:S,hasPendingChanges:N,getLeaveById:C,loadMoreLeaves:$}=Sf(),[P,E]=m.useState(!1),[M,k]=m.useState({leaveId:"",studentId:"",isOpen:!1}),[A,I]=m.useState(""),[L,R]=m.useState(!1),F=m.useRef(null),T=m.useCallback(Q=>{s||a||(F.current&&F.current.disconnect(),F.current=new IntersectionObserver(K=>{K[0].isIntersecting&&n<t&&$()}),Q&&F.current.observe(Q))},[s,a,$,n,t]),O=m.useCallback(async(Q=!1)=>{const ne=!Sf.getState().allStudents.length&&!Q;ne?b(!0):Q&&R(!0),x(null);try{const te=await Jo();if(!te){x("Unable to identify current user. Please log in again."),ne&&b(!1),Q&&R(!1);return}let X=null,xe=[],$e=[],Ne=[],Le=[],we=[],fe=!1;try{X=await Bot(te)}catch(re){console.warn("[FetchData] Error fetching teacher by email:",re),X=null}if(X&&X.id)try{const re=await zot(X.id);re&&re.length>0?(fe=!0,xe=re,$e=re.map(ue=>ue.name).filter(Boolean),Ne=[...new Set(re.map(ue=>ue.facultyId).filter(Boolean))],Le=[...new Set(re.map(ue=>ue.class).filter(Boolean))],$e.length>0?(we=await Vot($e,Ne.length>0?Ne:void 0,Le.length>0?Le:void 0),we.length>0&&we.length<3):we=[]):(we=[],X&&(fe=!0))}catch(re){console.error("[FetchData] Error during teacher's section/student data retrieval:",re),we=[],X&&(fe=!0)}!fe&&!X&&(we=await Lot());const[me,G]=await Promise.all([_ot(),Fot()]);Sf.getState().setInitialData({students:we,allFacultiesFromDB:me,allSectionsFromDB:G,userEmail:te,teacherDoc:X,assignedSectionIdsForTeacher:xe.map(re=>re.$id),assignedSectionsDataForTeacher:xe})}catch(te){console.error("[FetchData] Overall error in fetchData pipeline:",te);const X=te instanceof Error?te.message:"Failed to load data.";x(X)}finally{ne&&b(!1),Q&&R(!1)}},[b,x]);m.useEffect(()=>{O()},[O]);const _=()=>{if(N()){if(!window.confirm("You have unsaved changes. Are you sure you want to refresh and discard them?"))return;j()}O(!0)},W=(Q,K)=>v(Q,K,"approved"),z=(Q,K)=>{var ne;k({leaveId:Q,studentId:K,isOpen:!0}),I(((ne=C(Q))==null?void 0:ne.rejectionReason)||"")},U=()=>{if(!M.leaveId||!A.trim()){alert("Rejection reason cannot be empty.");return}v(M.leaveId,M.studentId,"rejected",A),k({leaveId:"",studentId:"",isOpen:!1}),I("")},H=async()=>{var me;if(E(!1),r.size===0){alert("No changes to apply.");return}R(!0),x(null);let Q=0,K=0;const ne=new Map,te=[],X=await Jo();if(!X){console.error("[ApplyChanges] Could not get logged-in user email for notification sender."),x("Could not identify current user for sending notifications. Please try again."),R(!1);return}const xe=X,$e=Sf.getState().currentUserRole==="teacher"?((me=Sf.getState().teacherDetails)==null?void 0:me.name)||"Class Teacher":"Admin",Ne=Sf.getState().allStudents,Le=xc();for(const G of r.values()){let re=ne.get(G.studentId);if(!re){const ge=Ne.find(ye=>ye.$id===G.studentId);if(ge){const ye=JSON.parse(JSON.stringify(ge));re={doc:ye,newLeaveArray:[...ye.leave]},ne.set(G.studentId,re)}else{console.error(`[ApplyChanges] Student ${G.studentId} not found in store for leave ${G.leaveId}.`),K++;continue}}const ue=re.newLeaveArray.findIndex(ge=>{try{return JSON.parse(ge).leaveId===G.leaveId}catch{return!1}});if(ue!==-1)try{const ge=JSON.parse(re.newLeaveArray[ue]);ge.status=G.status,G.status==="rejected"?(ge.rejectionReason=G.rejectionReason,ge.rejectedAt=G.rejectedAt||new Date().toISOString(),ge.rejectedBy=$e,delete ge.approvedAt,delete ge.approvedBy):G.status==="approved"?(delete ge.rejectionReason,delete ge.rejectedAt,delete ge.rejectedBy,ge.approvedAt=G.approvedAt||new Date().toISOString(),ge.approvedBy=$e):(delete ge.rejectionReason,delete ge.rejectedAt,delete ge.rejectedBy,delete ge.approvedAt,delete ge.approvedBy),re.newLeaveArray[ue]=JSON.stringify(ge);const ye=`Leave application ${G.status}`,je=`Your leave request for "${G.title}" (${G.periodType==="today"?G.date:`${G.fromDate} to ${G.toDate}`}) has been ${G.status}${$e?` by ${$e}`:""}.`+(G.status==="rejected"&&G.rejectionReason?` Reason: ${G.rejectionReason}`:""),ie=G.studentId;te.push({title:ye,msg:je,to:[`id:${ie}`],valid:Le,sender:xe})}catch(ge){console.error(`[ApplyChanges] Error processing leave for update (student: ${G.studentId}, leaveId: ${G.leaveId}):`,ge),K++}else console.warn(`[ApplyChanges] Leave ${G.leaveId} not found in student ${G.studentId}'s current leave array for update.`)}const we=Array.from(ne.entries()).map(async([G,{newLeaveArray:re}])=>{try{await Rot(G,re),Q++}catch(ue){console.error(`[ApplyChanges] Failed to update student ${G} in DB:`,ue),K++}});await Promise.all(we);const fe=te.map(G=>Yi(G).catch(re=>{console.error(`[ApplyChanges] Failed to send notification for title "${G.title}" to "${G.to.join(", ")}":`,re)}));await Promise.all(fe),K>0?x(`Applied ${Q} leave changes successfully, but ${K} errors occurred with student data updates. Check console.`):Q>0?alert(`Successfully applied ${Q} leave changes. Notifications sent.`):alert("No leave changes were applied. This might indicate an issue or no actual modifications were made."),S(),await O(!0),R(!1)},B=m.useMemo(()=>{const Q={};return e.forEach(K=>{const ne=K.periodType==="today"?K.date:K.fromDate;if(!ne){console.warn("Leave missing date/fromDate:",K);return}Q[ne]||(Q[ne]=[]),Q[ne].push(K)}),Object.entries(Q).sort(([K],[ne])=>new Date(ne).getTime()-new Date(K).getTime())},[e]),Y=m.useMemo(()=>c.map(Q=>({id:Q.$id,name:Q.name})),[c]),ae=m.useMemo(()=>d.map(Q=>({id:Q,name:Q})),[d]),ce=m.useMemo(()=>u.filter(Q=>!l.class||Q.class===l.class).map(Q=>({id:Q.$id,name:`${Q.name} (Class ${Q.class})`})),[u,l.class]),oe=f==="teacher"?"Leave Approval (My Sections)":"Leave Approval Dashboard";return s&&e.length===0&&!o?i.jsx("div",{className:"p-6 text-center text-lg font-semibold",children:"Loading leave requests..."}):o&&!L?i.jsxs("div",{className:"p-6 text-center text-red-600",children:[i.jsxs("p",{children:["Error: ",o]}),i.jsx(Se,{onPress:()=>O(!0),children:"Retry"})]}):i.jsxs("div",{className:"p-4 md:p-6 bg-gray-100 min-h-screen pb-24",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:oe}),i.jsx(st,{icon:i.jsx(wi,{className:"h-5 w-5"}),onClick:_,color:"blue",isIconOnly:!0,buttonText:"Refresh",disabled:L||s})]}),i.jsxs("div",{className:"mb-6 p-4 bg-white shadow-md rounded-lg grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[i.jsx(Bn,{placeholder:"Search...",value:l.searchText,onValueChange:Q=>y("searchText",Q),className:"w-full"}),i.jsx(dt,{label:"Faculty",placeholder:"All Faculties",options:Y,value:l.facultyId,onChange:Q=>y("facultyId",Q),className:"w-full",isDisabled:f==="teacher"&&c.length<=1}),i.jsx(dt,{label:"Class",placeholder:"All Classes",options:ae,value:l.class,onChange:Q=>y("class",Q),className:"w-full",isDisabled:f==="teacher"&&d.length<=1}),i.jsx(dt,{label:"Section",placeholder:"All Sections",options:ce,value:l.section,onChange:Q=>y("section",Q),className:"w-full",isDisabled:f==="teacher"&&u.length<=1||ce.length===0})]}),s&&e.length>0&&!L&&i.jsx("div",{className:"text-center p-4",children:"Loading..."}),B.length===0&&!s&&!a&&i.jsxs("div",{className:"text-center text-gray-500 py-10 bg-white shadow rounded-lg",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-20 h-20 mx-auto mb-4 text-gray-400",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.125 0 1.131.094 1.976 1.057 1.976 2.192V7.5m0 4.5h.008m-1.008 0H7.5a2.25 2.25 0 0 0-2.25 2.25v.75c0 1.108.892 2.006 1.996 2.006H12c1.104 0 1.996-.898 1.996-2.006v-.75a2.25 2.25 0 0 0-2.25-2.25H7.5m8.25-4.5h.008M12 10.5h.008m-3.75 0h.008m0 0h.008m2.742 0H12m4.5 0h.008m-1.008 0H12a2.25 2.25 0 0 0-2.25 2.25v.75M7.5 10.5h.008M12 7.5h.008m2.242 0H12m0 0h.008M12 7.5a2.25 2.25 0 0 0-2.25 2.25v.75"})}),i.jsx("p",{className:"text-xl",children:"No leave requests found."}),i.jsx("p",{className:"text-sm",children:"Try adjusting filters or check back later."}),f==="teacher"&&h.length===0&&i.jsx("p",{className:"text-sm mt-2 text-orange-600",children:"You are not currently assigned as a class teacher to any section."}),f==="teacher"&&h.length>0&&p.length===0&&i.jsx("p",{className:"text-sm mt-2 text-orange-600",children:"You are assigned to sections, but no students were found in them based on current criteria, or data is inaccessible."}),p.length>0&&e.length===0&&i.jsx("p",{className:"text-sm mt-2 text-orange-600",children:"Students found, but no leave applications match current filters or none exist."})]}),B.map(([Q,K])=>i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4 pb-2 border-b-2 border-indigo-600",children:Q||"Unspecified Date"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:K.map(ne=>{const te=r.get(ne.leaveId),X=te||ne;return i.jsx(pH,{leave:X,onApprove:()=>W(X.leaveId,X.studentId),onReject:()=>z(X.leaveId,X.studentId),isModified:!!te,originalStatus:(te==null?void 0:te.originalStatus)||ne.status},X.leaveId+(te?"-mod":""))})})]},Q)),n<t&&!a&&!s&&i.jsx("div",{ref:T,className:"flex justify-center py-8",children:i.jsx(Se,{variant:"ghost",color:"primary",onPress:$,isLoading:a,children:"Load More"})}),a&&i.jsx("div",{className:"text-center py-8 font-semibold",children:"Loading more..."}),N()&&i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm p-4 border-t shadow-lg flex flex-col sm:flex-row justify-end gap-3 z-30",children:[i.jsxs(Se,{variant:"bordered",onPress:j,startContent:i.jsx(ya,{className:"h-5"}),isDisabled:L,children:["Cancel (",r.size,")"]}),i.jsxs(Se,{color:"primary",onPress:()=>E(!0),startContent:i.jsx(E$,{className:"h-5"}),isLoading:L,isDisabled:L,children:["Apply (",r.size,") Changes"]})]}),i.jsx(wg,{isOpen:P,onClose:()=>E(!1),onConfirm:H,title:"Confirm Changes",content:`Apply ${r.size} change(s)?`,isConfirmLoading:L}),i.jsx(wg,{isOpen:M.isOpen,onClose:()=>k(Q=>({...Q,isOpen:!1})),onConfirm:U,title:"Rejection Reason",content:i.jsx(Ve,{label:"Reason",placeholder:"Enter reason",value:A,onValueChange:I,fullWidth:!0,autoFocus:!0,isRequired:!0})})]})},Wot=()=>et.getState().dbId,Yr=Wot,Uot={facultyId:null,className:null,sectionId:null,subjectName:null},Dp=Gt((e,t)=>({faculties:[],classesForFilter:[],sectionsForFilter:[],subjectsForFilter:[],assignments:[],filters:Uot,isLoading:!1,isSubmitting:!1,error:null,isDrawerOpen:!1,editingAssignment:null,fetchFaculties:async()=>{e({isLoading:!0,error:null});try{if(!Yr||!tr)throw new Error("System Configuration Error: Faculty Collection ID or Database ID is missing.");const n=await le.listDocuments(Yr,tr);e({faculties:n.documents,isLoading:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to fetch faculties.";console.error("Error fetching faculties:",n),e({error:r,isLoading:!1}),Ke.error(r)}},fetchClassesForFaculty:async n=>{const r=t().faculties.find(s=>s.$id===n);e({classesForFilter:(r==null?void 0:r.classes)||[]})},fetchSectionsForClassAndFaculty:async(n,r)=>{if(!n||!r){e({sectionsForFilter:[],subjectsForFilter:[]});return}e({isLoading:!0,error:null});try{if(!Yr||!Qt)throw new Error("System Configuration Error: Section Collection ID or Database ID is missing.");const s=await le.listDocuments(Yr,Qt,[J.equal("facultyId",n),J.equal("class",r)]);e({sectionsForFilter:s.documents,isLoading:!1})}catch(s){const a=s instanceof Error?s.message:"Failed to fetch sections.";console.error("Error fetching sections:",s),e({error:a,isLoading:!1,sectionsForFilter:[]}),Ke.error(a)}},fetchSubjectsForSection:async n=>{if(!n){e({subjectsForFilter:[]});return}const r=t().sectionsForFilter.find(s=>s.$id===n);e({subjectsForFilter:(r==null?void 0:r.subjects)||[]})},setFilter:(n,r)=>{const s={...t().filters,[n]:r};e({filters:s}),n==="facultyId"?(e({filters:{...s,className:null,sectionId:null,subjectName:null}}),r?t().fetchClassesForFaculty(r):e({classesForFilter:[],sectionsForFilter:[],subjectsForFilter:[]})):n==="className"?(e({filters:{...s,sectionId:null,subjectName:null}}),r&&s.facultyId?t().fetchSectionsForClassAndFaculty(s.facultyId,r):e({sectionsForFilter:[],subjectsForFilter:[]})):n==="sectionId"&&(e({filters:{...s,subjectName:null}}),r?t().fetchSubjectsForSection(r):e({subjectsForFilter:[]})),t().fetchAssignments()},fetchAssignments:async()=>{e({isLoading:!0,error:null});const{facultyId:n,className:r,sectionId:s,subjectName:a}=t().filters,o=[J.orderDesc("dateBS")];n&&o.push(J.equal("facultyId",n)),r&&o.push(J.equal("className",r)),s&&o.push(J.equal("sectionId",s)),a&&o.push(J.equal("subjectName",a));try{if(!Yr||!tc)throw new Error("System Configuration Error: Assignment Collection ID or Database ID is missing.");const l=await le.listDocuments(Yr,tc,o);e({assignments:l.documents,isLoading:!1})}catch(l){const c=l instanceof Error?l.message:"Failed to fetch assignments.";console.error("Error fetching assignments:",l),e({error:c,isLoading:!1,assignments:[]}),Ke.error(c)}},openDrawer:n=>{e({isDrawerOpen:!0,editingAssignment:n||null,error:null}),n?(n.facultyId&&t().fetchClassesForFaculty(n.facultyId),n.facultyId&&n.className&&t().fetchSectionsForClassAndFaculty(n.facultyId,n.className),n.sectionId&&t().fetchSubjectsForSection(n.sectionId)):e({classesForFilter:[],sectionsForFilter:[],subjectsForFilter:[]})},closeDrawer:()=>{e({isDrawerOpen:!1,editingAssignment:null}),e({classesForFilter:[],sectionsForFilter:[],subjectsForFilter:[]})},addAssignment:async n=>{e({isSubmitting:!0,error:null});const r=await eg();if(!r||!r.$id||!r.email){const s="Authentication error. Please log in again to add an assignment.";return e({error:s,isSubmitting:!1}),Ke.error(s),!1}if(!Yr){const s="System configuration error (ID missing). Cannot add assignment.";return e({error:s,isSubmitting:!1}),Ke.error(s),!1}try{const{files:s,...a}=n;let o="N/A";try{o=(await le.getDocument(Yr,Qt,a.sectionId)).name}catch(C){console.warn(`Could not fetch section name for ID ${a.sectionId} during add:`,C),Ke.warn("Could not verify section name. Using default 'N/A'.")}const[l,c,u]=a.dateBS.split("-").map(Number),f=new Hn(l,c-1,u).toJsDate(),h=f.getFullYear(),p=String(f.getMonth()+1).padStart(2,"0"),b=String(f.getDate()).padStart(2,"0"),x=`${h}-${p}-${b}`,y=[],v=[];if(s&&s.length>0)for(const C of s){const $=await Qn.createFile(zu,dn.unique(),C);y.push($.$id),v.push(C.name)}const j={...a,sectionName:o,assignedById:r.$id,assignedByEmail:r.email,dateAD:x,fileIds:y.length>0?y:void 0,fileNames:v.length>0?v:void 0,status:"Published"},S=await le.createDocument(Yr,tc,dn.unique(),j),N=await t().getStudentsForNotification(S.facultyId,S.className,S.sectionId);return N.length>0&&await Yi({title:`New Assignment: ${S.title}`,msg:`A new assignment "${S.title}" for ${S.subjectName} has been posted. Due: ${S.dateBS}.`,to:N,valid:xc(),sender:r.email}),Ke.success("Assignment added successfully!"),e({isSubmitting:!1}),t().fetchAssignments(),!0}catch(s){const a=s instanceof Error?s.message:"An unknown error occurred while adding the assignment.";return console.error("Error in addAssignment:",s),e({error:a,isSubmitting:!1}),Ke.error(a),!1}},updateAssignment:async(n,r)=>{e({isSubmitting:!0,error:null});const s=await eg();if(!s||!s.$id||!s.email){const o="Authentication error. Please log in again to update.";return e({error:o,isSubmitting:!1}),Ke.error(o),!1}const a=t().assignments.find(o=>o.$id===n);if(!a)return Ke.error("Assignment not found. It might have been deleted."),e({isSubmitting:!1}),!1;if(a.assignedById!==s.$id)return Ke.error("You do not have permission to edit this assignment."),e({isSubmitting:!1}),!1;if(!Yr){const o="System configuration error (ID missing). Cannot update assignment.";return e({error:o,isSubmitting:!1}),Ke.error(o),!1}try{const{newFiles:o,filesToDelete:l,...c}=r;let u=a.sectionName;if(c.sectionId&&c.sectionId!==a.sectionId)try{u=(await le.getDocument(Yr,Qt,c.sectionId)).name}catch(y){console.warn(`Could not fetch section name for ID ${c.sectionId} during update:`,y),Ke.warn("Could not verify updated section name. Previous name retained if section ID didn't change, else 'N/A'."),c.sectionId&&(u="N/A")}let d=a.dateAD;if(c.dateBS){const[y,v,j]=c.dateBS.split("-").map(Number),N=new Hn(y,v-1,j).toJsDate(),C=N.getFullYear(),$=String(N.getMonth()+1).padStart(2,"0"),P=String(N.getDate()).padStart(2,"0");d=`${C}-${$}-${P}`}let f=[...a.fileIds||[]],h=[...a.fileNames||[]];if(l&&l.length>0)for(const y of l){try{await Qn.deleteFile(zu,y)}catch(j){console.warn(`Could not delete file ${y}:`,j),Ke.warn(`A file (${y.substring(0,6)}...) could not be deleted. It might have already been removed.`)}const v=f.indexOf(y);v>-1&&(f.splice(v,1),h.splice(v,1))}if(o&&o.length>0)for(const y of o){const v=await Qn.createFile(zu,dn.unique(),y);f.push(v.$id),h.push(y.name)}const p={};if(c.title!==void 0&&(p.title=c.title),c.description!==void 0&&(p.description=c.description),c.facultyId!==void 0&&(p.facultyId=c.facultyId),c.className!==void 0&&(p.className=c.className),c.sectionId!==void 0&&(p.sectionId=c.sectionId,p.sectionName=u),c.subjectName!==void 0&&(p.subjectName=c.subjectName),c.dateBS!==void 0&&(p.dateBS=c.dateBS,p.dateAD=d),p.fileIds=f.length>0?f:void 0,p.fileNames=h.length>0?h:void 0,Object.keys(p).length===0&&!(o!=null&&o.length)&&!(l!=null&&l.length))return Ke.info("No changes were made to the assignment."),e({isSubmitting:!1}),!0;const b=await le.updateDocument(Yr,tc,n,p),x=await t().getStudentsForNotification(b.facultyId,b.className,b.sectionId);return x.length>0&&await Yi({title:`Assignment Updated: ${b.title}`,msg:`The assignment "${b.title}" for ${b.subjectName} has been updated. Due: ${b.dateBS}.`,to:x,valid:xc(),sender:s.email}),Ke.success("Assignment updated successfully!"),e({isSubmitting:!1}),t().fetchAssignments(),!0}catch(o){const l=o instanceof Error?o.message:"An error occurred while updating the assignment.";return console.error("Error in updateAssignment:",o),e({error:l,isSubmitting:!1}),Ke.error(l),!1}},deleteAssignment:async(n,r=[])=>{e({isLoading:!0,error:null});const s=await eg();if(!s||!s.$id){Ke.error("Authentication error. Please log in again."),e({isLoading:!1});return}const a=t().assignments.find(o=>o.$id===n);if(!a){Ke.error("Assignment not found. It might have already been deleted."),e({isLoading:!1});return}if(a.assignedById!==s.$id){Ke.error("You do not have permission to delete this assignment."),e({isLoading:!1});return}if(!Yr){const o="System configuration error (ID missing). Cannot delete assignment.";e({error:o,isLoading:!1}),Ke.error(o);return}try{if(r&&r.length>0)for(const l of r)try{await Qn.deleteFile(zu,l)}catch(c){console.warn(`Could not delete file ${l} from storage:`,c),Ke.warn(`An associated file (${l.substring(0,6)}...) could not be deleted. It might have already been removed.`)}await le.deleteDocument(Yr,tc,n);const o=await t().getStudentsForNotification(a.facultyId,a.className,a.sectionId);o.length>0&&await Yi({title:`Assignment Removed: ${a.title}`,msg:`The assignment "${a.title}" for ${a.subjectName} which was due on ${a.dateBS} has been removed.`,to:o,valid:xc(),sender:s.email}),Ke.success("Assignment deleted successfully!"),e({isLoading:!1}),t().fetchAssignments()}catch(o){const l=o instanceof Error?o.message:"An error occurred while deleting the assignment.";console.error("Error in deleteAssignment:",o),e({error:l,isLoading:!1}),Ke.error(l)}},getStudentsForNotification:async(n,r,s)=>{if(!Yr)return console.error("Student Collection ID or Database ID is not configured for notifications."),[];try{const a=[J.equal("facultyId",n),J.equal("class",r),J.equal("section",s),J.limit(100)];let o=[],l=0,c;do c=await le.listDocuments(Yr,on,[...a,J.offset(l)]),o=o.concat(c.documents.map(u=>u.$id)),l+=c.documents.length;while(c.documents.length>0&&o.length<c.total&&c.documents.length===100);return o.length===0&&console.warn(`No students found for notification: Fac: ${n}, Cls: ${r}, Sec: ${s}`),o}catch(a){return console.error("Error fetching students for notification:",a),Ke.error("Could not fetch student list for sending notifications."),[]}}})),L5={nameSearch:"",status:"not_submitted"},cR=Gt((e,t)=>({selectedAssignment:null,students:[],isLoadingAssignment:!1,isLoadingStudents:!1,error:null,filters:L5,loadDataForSubmissionsPage:async n=>{e({isLoadingAssignment:!0,isLoadingStudents:!0,filters:L5,students:[],selectedAssignment:null,error:null});{const r="System Configuration Error: Required Collection IDs are missing.";e({error:r,isLoadingAssignment:!1,isLoadingStudents:!1}),Ke.error(r);return}},clearSubmissionsPageData:()=>{e({selectedAssignment:null,students:[],isLoadingAssignment:!1,isLoadingStudents:!1,error:null,filters:L5})},setFilter:(n,r)=>{},_updateLocalStudentData:(n,r,s=!1)=>{},updateStudentSubmission:async(n,r,s)=>{}})),pp=(e,t=2)=>{if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(r))+" "+s[a]},ny=10*1024*1024,Kot=({onFormSubmitSuccess:e})=>{const{addAssignment:t,updateAssignment:n,editingAssignment:r,faculties:s,fetchClassesForFaculty:a,classesForFilter:o,fetchSectionsForClassAndFaculty:l,sectionsForFilter:c,fetchSubjectsForSection:u,subjectsForFilter:d,isSubmitting:f,error:h,closeDrawer:p}=Dp(),[b,x]=m.useState({title:"",description:"",facultyId:"",className:"",sectionId:"",subjectName:"",dateBS:new Hn(new Date).format("YYYY-MM-DD")}),[y,v]=m.useState([]),j=m.useId();m.useEffect(()=>{if(r){x({title:r.title,description:r.description||"",facultyId:r.facultyId,className:r.className,sectionId:r.sectionId,subjectName:r.subjectName,dateBS:r.dateBS});const E=(r.fileIds||[]).map((M,k)=>({id:M,name:(r.fileNames||[])[k]||`Attachment ${k+1}`,size:0,isNew:!1}));v(E)}else x({title:"",description:"",facultyId:"",className:"",sectionId:"",subjectName:"",dateBS:new Hn(new Date).format("YYYY-MM-DD")}),v([])},[r]);const S=E=>{const{name:M,value:k}=E.target;x(A=>({...A,[M]:k})),M==="facultyId"?(x(A=>({...A,className:"",sectionId:"",subjectName:""})),k?a(k):Dp.setState({classesForFilter:[],sectionsForFilter:[],subjectsForFilter:[]})):M==="className"?(x(A=>({...A,sectionId:"",subjectName:""})),k&&b.facultyId?l(b.facultyId,k):Dp.setState({sectionsForFilter:[],subjectsForFilter:[]})):M==="sectionId"&&(x(A=>({...A,subjectName:""})),k?u(k):Dp.setState({subjectsForFilter:[]}))},N=E=>{x(M=>({...M,dateBS:E}))},C=E=>{if(E.target.files){const M=Array.from(E.target.files).map((k,A)=>{let I;return k.size>ny&&(I=`File size (${pp(k.size)}) exceeds limit of ${pp(ny)}.`,Ke.error(`${k.name}: ${I}`,{duration:6e3})),{id:`${j}-new-${Date.now()}-${A}`,name:k.name,size:k.size,object:I?void 0:k,isNew:!0,error:I}});v(k=>[...k,...M.filter(A=>!A.error)]),E.target.value=""}},$=E=>{v(M=>M.map(k=>k.id===E?k.isNew||k.error?null:{...k,toDelete:!0}:k).filter(Boolean))},P=async E=>{if(E.preventDefault(),f)return;if(!b.title||!b.facultyId||!b.className||!b.sectionId||!b.subjectName||!b.dateBS){Ke.error("Please fill all required fields for the assignment.");return}if(y.filter(L=>L.error&&L.isNew).length>0){Ke.error("Some selected files have errors (e.g., too large). Please remove them before submitting.");return}const k=y.filter(L=>L.isNew&&L.object&&!L.error).map(L=>L.object),A=y.filter(L=>!L.isNew&&L.toDelete).map(L=>L.id);let I=!1;r?I=await n(r.$id,{...b,newFiles:k,filesToDelete:A}):I=await t({...b,files:k}),I&&e()};return i.jsxs(i.Fragment,{children:[i.jsxs(We.Body,{className:"!p-5 md:!p-6 custom-scrollbar",children:[" ",i.jsxs("form",{id:"assignment-form",onSubmit:P,className:"space-y-5",children:[h&&!f&&i.jsxs("p",{className:"text-red-600 bg-red-100 p-3 rounded-lg text-sm",children:[i.jsx(ad,{className:"inline mr-2 mb-0.5"}),h]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formFacultyId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Faculty"}),i.jsxs("select",{name:"facultyId",id:"formFacultyId",value:b.facultyId,onChange:S,required:!0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[i.jsx("option",{value:"",children:"Select Faculty"}),s.map(E=>i.jsx("option",{value:E.$id,children:E.name},E.$id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formClassName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Class"}),i.jsxs("select",{name:"className",id:"formClassName",value:b.className,onChange:S,required:!0,disabled:!b.facultyId||o.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"Select Class"}),o.map(E=>i.jsx("option",{value:E,children:E},E))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formSectionId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Section"}),i.jsxs("select",{name:"sectionId",id:"formSectionId",value:b.sectionId,onChange:S,required:!0,disabled:!b.className||c.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"Select Section"}),c.map(E=>i.jsx("option",{value:E.$id,children:E.name},E.$id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formSubjectName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Subject"}),i.jsxs("select",{name:"subjectName",id:"formSubjectName",value:b.subjectName,onChange:S,required:!0,disabled:!b.sectionId||d.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"Select Subject"}),d.map(E=>i.jsx("option",{value:E,children:E},E))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formTitle",className:"block text-sm font-medium text-slate-700 mb-1",children:"Assignment Title"}),i.jsx("input",{type:"text",name:"title",id:"formTitle",value:b.title,onChange:S,required:!0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formDescription",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description (Supports Markdown)"}),i.jsx("textarea",{name:"description",id:"formDescription",value:b.description,onChange:S,rows:6,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm custom-scrollbar",placeholder:"Enter assignment details, questions, instructions. Use Markdown for formatting (e.g., # Heading, *italic*, **bold**, - List item)."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"formDateBS",className:"block text-sm font-medium text-slate-700 mb-1",children:"Due Date (BS)"}),i.jsx("input",{type:"text",name:"dateBS",id:"formDateBS",value:b.dateBS,onChange:E=>N(E.target.value),placeholder:"YYYY-MM-DD (e.g., 2080-05-15)",required:!0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter date in Bikram Sambat format."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Attach Files (PDF, DOCX - Max ",pp(ny),")"]}),i.jsxs("div",{className:"mt-1 flex justify-center px-6 py-8 border-2 border-slate-300 border-dashed rounded-lg hover:border-indigo-500 transition-colors cursor-pointer bg-slate-50/50 hover:bg-slate-50",onClick:()=>{var E;return(E=document.getElementById("file-upload-input"))==null?void 0:E.click()},children:[i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(mZe,{className:"mx-auto h-10 w-10 text-slate-400"}),i.jsxs("div",{className:"flex text-sm text-slate-600",children:[i.jsx("label",{htmlFor:"file-upload-input",className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:i.jsx("span",{children:"Choose files"})}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Max ",pp(ny)," per file"]})]}),i.jsx("input",{id:"file-upload-input",name:"files",type:"file",className:"sr-only",multiple:!0,accept:".pdf,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:C})]}),y.length>0&&i.jsx("div",{className:"mt-4 space-y-2",children:y.map(E=>i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center justify-between text-sm p-2.5 rounded-lg border ${E.toDelete?"border-red-300 opacity-70 bg-red-50 line-through":E.error?"border-red-400 bg-red-100":"border-slate-200 bg-slate-50"}`,children:[i.jsxs("div",{className:"flex items-center overflow-hidden min-w-0",children:[E.error?i.jsx(ad,{className:"mr-2 h-4 w-4 text-red-600 flex-shrink-0",title:E.error}):i.jsx(c2,{className:"mr-2 h-4 w-4 text-slate-500 flex-shrink-0"}),i.jsx("span",{className:`truncate ${E.error?"text-red-700 font-medium":"text-slate-700"}`,title:E.name,children:E.name}),!E.error&&i.jsxs("span",{className:"ml-2 text-xs text-slate-500 whitespace-nowrap",children:["(",pp(E.size),")"]}),E.isNew&&!E.toDelete&&!E.error&&i.jsx("span",{className:"ml-2 text-xs text-green-600 whitespace-nowrap font-semibold",children:"(New)"})]}),i.jsx("button",{type:"button",onClick:()=>$(E.id),className:"ml-2 text-red-500 hover:text-red-700 disabled:opacity-50 flex-shrink-0 p-1 hover:bg-red-100 rounded-md",disabled:f,"aria-label":`Remove ${E.name}`,children:i.jsx(gZe,{size:18})})]}),E.error&&!E.toDelete&&i.jsx("p",{className:"text-xs text-red-600 mt-0.5 pl-1",children:E.error})]},E.id))})]}),i.jsx("button",{type:"submit",className:"hidden","aria-hidden":"true",children:"Submit Form Internally"})]})]}),i.jsxs(We.Footer,{className:"bg-slate-50 dark:bg-gray-750",children:[i.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white hover:bg-slate-100 border border-slate-300 rounded-lg shadow-sm dark:bg-gray-600 dark:text-slate-200 dark:border-gray-500 dark:hover:bg-gray-500 transition-colors",disabled:f,children:"Cancel"}),i.jsxs("button",{type:"submit",form:"assignment-form",disabled:f,className:"min-w-[140px] px-4 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[f&&i.jsx(yd,{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white"}),f?r?"Updating...":"Adding...":r?"Save Changes":"Add Assignment"]})]})]})},Hot=()=>i.jsx("div",{children:"AssignmentSubmissionsManager"}),qot=e=>!e||e.length===0?{}:e.reduce((t,n)=>{const r=n.dateBS;return t[r]||(t[r]=[]),t[r].push(n),t},{}),Got=({isOpen:e,onClose:t,onConfirm:n,title:r,content:s,isConfirmLoading:a})=>e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-800",children:r}),i.jsx("div",{className:"text-sm text-slate-600 mb-6",children:s}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-md border border-slate-300 disabled:opacity-50",children:"Cancel"}),i.jsxs("button",{onClick:n,disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md shadow-sm disabled:opacity-50 flex items-center justify-center min-w-[100px]",children:[a&&i.jsx(yd,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Confirm"]})]})]})}):null,_Q=()=>{const{faculties:e,classesForFilter:t,sectionsForFilter:n,subjectsForFilter:r,assignments:s,filters:a,isLoading:o,error:l,isDrawerOpen:c,editingAssignment:u,isSubmitting:d,fetchFaculties:f,setFilter:h,fetchAssignments:p,openDrawer:b,closeDrawer:x,deleteAssignment:y}=Dp(),v=cR(H=>H.isSubmissionsManagerOpen),j=cR(H=>H.openSubmissionsManager),[S,N]=m.useState(null),[C,$]=m.useState(!0),[P,E]=m.useState(!1),[M,k]=m.useState(null),[A,I]=m.useState(!1);m.useEffect(()=>{(async()=>{$(!0);const B=await eg();N(B),$(!1)})()},[]),m.useEffect(()=>{f(),p()},[f,p]);const L=(H,B)=>{h(H,B||null)},R=m.useMemo(()=>{const H=qot(s);return Object.entries(H).sort(([B],[Y])=>Y.localeCompare(B))},[s]),F=(H,B)=>{if(!H){Ke.error("Invalid file reference for download.");return}try{const Y=Qn.getFileDownload(zu,H),ae=document.createElement("a");ae.href=Y.href,ae.setAttribute("download",B||`file_${H.substring(0,8)}`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),Ke.success(`Downloading ${B||"file"}...`)}catch(Y){console.error("Download error:",Y),Ke.error(`Failed to initiate download: ${Y instanceof Error?Y.message:"An unknown error occurred."}`)}},T=H=>{k(H),E(!0)},O=async()=>{M&&(I(!0),await y(M.$id,M.fileIds||[]),I(!1),E(!1),k(null))},_=()=>{E(!1),k(null),I(!1)},W=()=>{x()},z=H=>{var B;return((B=e.find(Y=>Y.$id===H))==null?void 0:B.name)||"N/A"},U=H=>{j(H)};return C?i.jsxs("div",{className:"p-4 md:p-6 min-h-screen flex items-center justify-center",children:[i.jsx(yd,{className:"animate-spin h-10 w-10 text-indigo-500"}),i.jsx("p",{className:"ml-3 text-slate-600",children:"Verifying user..."})]}):i.jsx("div",{className:"p-4 md:p-6 bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen",children:i.jsxs("div",{className:"container mx-auto max-w-7xl",children:[i.jsxs("header",{className:"mb-6 md:mb-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Assignment Management"}),S&&i.jsxs("button",{onClick:()=>b(),className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 px-5 rounded-lg shadow-md flex items-center justify-center transition duration-150 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[i.jsx(fZe,{className:"mr-2 h-5 w-5"})," Add New Assignment"]}),!S&&!C&&i.jsx("p",{className:"text-sm text-orange-600 bg-orange-100 p-2 rounded-md",children:"Please log in to manage assignments."})]}),i.jsxs("div",{className:"mb-6 md:mb-8 p-4 sm:p-6 bg-white rounded-xl shadow-lg",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-700 mb-4 flex items-center",children:[i.jsx(dZe,{className:"mr-2 h-5 w-5 text-slate-500"}),"Filter Assignments"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterFaculty",className:"block text-sm font-medium text-slate-600 mb-1",children:"Faculty"}),i.jsxs("select",{id:"filterFaculty",value:a.facultyId||"",onChange:H=>L("facultyId",H.target.value),className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white",children:[i.jsx("option",{value:"",children:"All Faculties"}),e.map(H=>i.jsx("option",{value:H.$id,children:H.name},H.$id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterClass",className:"block text-sm font-medium text-slate-600 mb-1",children:"Class"}),i.jsxs("select",{id:"filterClass",value:a.className||"",onChange:H=>L("className",H.target.value),disabled:!a.facultyId||t.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"All Classes"}),t.map(H=>i.jsx("option",{value:H,children:H},H))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterSection",className:"block text-sm font-medium text-slate-600 mb-1",children:"Section"}),i.jsxs("select",{id:"filterSection",value:a.sectionId||"",onChange:H=>L("sectionId",H.target.value),disabled:!a.className||n.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"All Sections"}),n.map(H=>i.jsx("option",{value:H.$id,children:H.name},H.$id))]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterSubject",className:"block text-sm font-medium text-slate-600 mb-1",children:"Subject"}),i.jsxs("select",{id:"filterSubject",value:a.subjectName||"",onChange:H=>L("subjectName",H.target.value),disabled:!a.sectionId||r.length===0,className:"w-full p-2.5 border border-slate-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"All Subjects"}),r.map(H=>i.jsx("option",{value:H,children:H},H))]})]})]})]}),o&&s.length===0&&i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(yd,{className:"animate-spin mx-auto h-10 w-10 text-indigo-500 mb-3"}),i.jsx("p",{className:"text-lg",children:"Loading assignments, please wait..."})]}),l&&i.jsxs("div",{className:"my-8 p-6 text-center bg-red-50 border border-red-200 rounded-lg shadow-sm",children:[i.jsx(ad,{className:"mx-auto h-12 w-12 text-red-400 mb-3"}),i.jsx("p",{className:"text-xl font-semibold text-red-700",children:"Failed to Load Assignments"}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:l}),i.jsx("button",{onClick:()=>p(),className:"mt-4 px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1",children:"Try Again"})]}),!o&&!l&&s.length===0&&i.jsxs("div",{className:"text-center py-16 text-slate-500 bg-white rounded-xl shadow-lg p-8",children:[i.jsx(Mh,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),i.jsx("p",{className:"text-2xl font-semibold",children:"No Assignments Found"}),i.jsxs("p",{className:"text-slate-600 mt-2",children:["There are no assignments matching your current filters. ",i.jsx("br",{}),S?"You can add a new assignment using the button above.":"Please log in to add assignments."]})]}),R.map(([H,B])=>i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"flex items-baseline mb-5 pl-1 border-b-2 border-indigo-200 pb-2",children:[i.jsx(pA,{className:"text-2xl sm:text-3xl text-indigo-600 mr-3 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Due Date (BS)"}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-700",children:H})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:B.map(Y=>{var ae;return i.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 flex flex-col overflow-hidden group",children:[i.jsxs("div",{className:"p-5 sm:p-6 flex-grow",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-sky-700 leading-tight mb-1.5 group-hover:text-sky-600 transition-colors",children:Y.title}),i.jsxs("div",{className:"flex flex-wrap items-center text-xs text-slate-500 mb-3 space-x-2",children:[i.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[i.jsx(mA,{className:"mr-1 h-3.5 w-3.5"}),Y.subjectName]}),i.jsx("span",{className:"text-slate-300",children:"|"}),i.jsx("span",{className:"whitespace-nowrap",children:z(Y.facultyId)}),i.jsxs("span",{className:"whitespace-nowrap",children:["/ ",Y.className]}),i.jsxs("span",{className:"whitespace-nowrap",children:["/ ",Y.sectionName||"N/A"]})]}),Y.description&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wider",children:"Instructions:"}),i.jsx("div",{className:"prose prose-sm max-w-none prose-slate custom-scrollbar max-h-40 overflow-y-auto pr-2 rounded-md bg-slate-50 p-3 border border-slate-200",children:i.jsx(TA,{remarkPlugins:[_A],children:Y.description})})]}),!Y.description&&i.jsxs("div",{className:"mb-4 text-sm text-slate-500 italic flex items-center bg-slate-50 p-3 rounded-md border border-slate-200",children:[i.jsx(Mh,{className:"mr-2 h-4 w-4 flex-shrink-0"})," No detailed instructions provided."]}),Y.fileIds&&Y.fileIds.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wider",children:["Attachments: (",Y.fileIds.length,")"]}),i.jsx("div",{className:"space-y-2",children:Y.fileIds.map((ce,oe)=>{var Q,K;return i.jsxs("button",{onClick:()=>{var ne;return F(ce,((ne=Y.fileNames)==null?void 0:ne[oe])||"download")},className:"w-full flex items-center text-sm text-sky-700 hover:text-sky-900 bg-sky-50 hover:bg-sky-100 p-2.5 rounded-md transition-colors border border-sky-200 hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1",children:[i.jsx(c2,{className:"mr-2.5 h-4 w-4 flex-shrink-0 text-sky-600"}),i.jsx("span",{className:"truncate",title:((Q=Y.fileNames)==null?void 0:Q[oe])||`File ${oe+1}`,children:((K=Y.fileNames)==null?void 0:K[oe])||`File ${oe+1}`}),i.jsx(gA,{className:"ml-auto h-4 w-4 flex-shrink-0 text-slate-400 group-hover:text-sky-600 transition-colors"})]},ce)})})]}),!((ae=Y.fileIds)!=null&&ae.length)&&i.jsx("div",{className:"mb-3 text-xs text-slate-400 italic",children:"No attachments for this assignment."})]}),S&&S.$id===Y.assignedById&&i.jsxs("div",{className:"bg-slate-50 p-3 border-t border-slate-200 flex flex-wrap justify-end gap-2",children:[i.jsxs("button",{onClick:()=>U(Y),className:"text-xs font-medium text-purple-600 hover:text-purple-800 py-1.5 px-3 rounded-md hover:bg-purple-100 transition-colors flex items-center focus:outline-none focus:ring-1 focus:ring-purple-500","aria-label":`Manage submissions for: ${Y.title}`,children:[i.jsx(PZ,{className:"mr-1.5 h-3.5 w-3.5"})," Manage Submissions"]}),i.jsxs("button",{onClick:()=>b(Y),className:"text-xs font-medium text-blue-600 hover:text-blue-800 py-1.5 px-3 rounded-md hover:bg-blue-100 transition-colors flex items-center focus:outline-none focus:ring-1 focus:ring-blue-500","aria-label":`Edit assignment: ${Y.title}`,children:[i.jsx(uZe,{className:"mr-1.5 h-3.5 w-3.5"})," Edit Details"]}),i.jsxs("button",{onClick:()=>T(Y),className:"text-xs font-medium text-red-600 hover:text-red-800 py-1.5 px-3 rounded-md hover:bg-red-100 transition-colors flex items-center focus:outline-none focus:ring-1 focus:ring-red-500","aria-label":`Delete assignment: ${Y.title}`,children:[i.jsx(hZe,{className:"mr-1.5 h-3.5 w-3.5"})," Delete"]})]})]},Y.$id)})})]},H)),i.jsx(We,{isOpen:c,onClose:x,title:u?"Edit Assignment Details":"Create New Assignment",position:"right",size:"lg",nonDismissable:d,children:i.jsx(Kot,{onFormSubmitSuccess:W})}),v&&i.jsx(Hot,{}),M&&i.jsx(Got,{isOpen:P,onClose:_,onConfirm:O,title:"Confirm Deletion",content:i.jsxs("p",{children:["Are you sure you want to delete the assignment: ",i.jsx("br",{}),i.jsx("strong",{className:"font-medium text-slate-700 break-all",children:M.title}),"?",i.jsx("br",{}),"This action cannot be undone."]}),isConfirmLoading:A})]})})},ry=5,sy=10,Yot=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],Xot=[".pdf",".doc",".docx"],Zot=({isOpen:e,onClose:t,editingNote:n})=>{const{addNote:r,updateNote:s,isFormLoading:a,faculties:o,sections:l,fetchSections:c,currentUser:u}=o2(),[d,f]=m.useState(""),[h,p]=m.useState(""),[b,x]=m.useState(new Date().toISOString().split("T")[0]),[y,v]=m.useState(null),[j,S]=m.useState(null),[N,C]=m.useState(null),[$,P]=m.useState(""),[E,M]=m.useState([]),[k,A]=m.useState([]),[I,L]=m.useState([]),R=o.map(B=>({id:B.$id,name:B.name})),[F,T]=m.useState([]),[O,_]=m.useState([]);m.useEffect(()=>{n?(f(n.title),p(n.description||""),x(new Date(n.noteDate).toISOString().split("T")[0]),v(n.facultyId||null),S(n.className||null),C(n.sectionId||null),P(n.subject||""),A(n.fileIds.map((B,Y)=>({id:B,name:n.fileNames[Y],mimeType:n.fileMimeTypes[Y]}))),M([])):(f(""),p(""),x(new Date().toISOString().split("T")[0]),v(null),S(null),C(null),P(""),M([]),A([])),L([])},[n,e]),m.useEffect(()=>{if(y){const B=o.find(Y=>Y.$id===y);T((B==null?void 0:B.classes.map(Y=>({id:Y,name:Y})))||[]),B!=null&&B.classes.includes(j||"")||S(null)}else T([]),S(null);C(null),_([])},[y,o]),m.useEffect(()=>{y&&j?c(y,j):_([]),C(null)},[y,j,c]),m.useEffect(()=>{_(l.map(B=>({id:B.$id,name:B.name})))},[l]);const W=B=>{if(B.target.files){const Y=Array.from(B.target.files),ae=E.length+k.length;let ce=[],oe=[];Y.length+ae>ry?ce.push(`You can upload a maximum of ${ry} files in total.`):Y.forEach(Q=>{!Yot.includes(Q.type)&&!Xot.some(K=>Q.name.toLowerCase().endsWith(K))?ce.push(`File ${Q.name} has an invalid type. Allowed: PDF, DOC, DOCX.`):Q.size>sy*1024*1024?ce.push(`File ${Q.name} exceeds ${sy}MB size limit.`):oe.push({file:Q,id:crypto.randomUUID()})}),L(ce),ce.length===0&&M(Q=>[...Q,...oe]),B.target.value=""}},z=B=>{M(Y=>Y.filter(ae=>ae.id!==B)),L([])},U=B=>{A(Y=>Y.filter(ae=>ae.id!==B)),L([])},H=async B=>{var ae,ce;if(B.preventDefault(),!u){alert("Error: Not logged in!");return}if(I.length>0){alert("Please fix file errors before submitting.");return}const Y={title:d,description:h,noteDate:new Date(b).toISOString(),facultyId:y||void 0,facultyName:y?(ae=o.find(oe=>oe.$id===y))==null?void 0:ae.name:void 0,className:j||void 0,sectionId:N||void 0,sectionName:N?(ce=l.find(oe=>oe.$id===N))==null?void 0:ce.name:void 0,subject:$};if(n){const oe=E.map(te=>te.file),Q=n.fileIds.filter(te=>!k.some(X=>X.id===te)),K=n.fileNames.filter((te,X)=>Q.includes(n.fileIds[X])),ne=n.fileMimeTypes.filter((te,X)=>Q.includes(n.fileIds[X]));await s(n.$id,Y,oe,Q,K,ne)}else await r(Y,E.map(oe=>oe.file))};return i.jsx(We,{isOpen:e,onClose:t,title:n?"Edit Note":"Add New Note",size:"lg",children:i.jsxs("form",{onSubmit:H,children:[i.jsxs(We.Body,{className:"space-y-4",children:[i.jsx(Ve,{label:"Title",placeholder:"Enter note title",value:d,onChange:B=>f(B.target.value),isRequired:!0,fullWidth:!0}),i.jsx(Ss,{label:"Description",placeholder:"Enter note description (optional)",value:h,onChange:B=>p(B.target.value),fullWidth:!0,minRows:3}),i.jsx(Ve,{type:"date",label:"Date",value:b,onChange:B=>x(B.target.value),isRequired:!0,fullWidth:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(dt,{label:"Faculty",options:R,value:y,onChange:v,placeholder:"Select Faculty"}),i.jsx(dt,{label:"Class (Optional)",options:F,value:j,onChange:S,placeholder:"Select Class",disabled:!y||F.length===0})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsx(Ve,{label:"Subject (Optional)",placeholder:"Enter subject",value:$,onChange:B=>P(B.target.value),fullWidth:!0})}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Upload Files (PDF, DOC, DOCX - Max ",ry," files, ",sy,"MB each)"]}),i.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(Ewe,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[i.jsx("span",{children:"Upload files"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:W,disabled:E.length+k.length>=ry})]}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["PDF, DOC, DOCX up to ",sy,"MB each"]})]})}),I.length>0&&i.jsx("ul",{className:"mt-2 text-sm text-red-600 list-disc list-inside",children:I.map((B,Y)=>i.jsx("li",{children:B},Y))}),(k.length>0||E.length>0)&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),i.jsxs("ul",{className:"mt-1 space-y-1",children:[k.map(B=>i.jsxs("li",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx(K3,{className:"h-4 w-4 inline mr-2 text-gray-500"}),B.name," ",i.jsx("span",{className:"text-xs text-gray-400",children:"(already uploaded)"})]}),i.jsx("button",{type:"button",onClick:()=>U(B.id),className:"text-red-500 hover:text-red-700",children:i.jsx(ya,{className:"h-5 w-5"})})]},B.id)),E.map(B=>i.jsxs("li",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx(K3,{className:"h-4 w-4 inline mr-2 text-gray-500"}),B.file.name]}),i.jsx("button",{type:"button",onClick:()=>z(B.id),className:"text-red-500 hover:text-red-700",children:i.jsx(ya,{className:"h-5 w-5"})})]},B.id))]})]})]})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{color:"default",variant:"flat",onPress:t,disabled:a,children:"Cancel"}),i.jsx(Se,{color:"primary",type:"submit",isLoading:a,disabled:a||I.length>0,children:n?"Update Note":"Add Note"})]})]})})},FQ=()=>{const{fetchNotes:e,fetchFaculties:t,fetchCurrentUser:n,faculties:r,isLoading:s,error:a,openNoteForm:o,isNoteFormOpen:l,closeNoteForm:c,editingNote:u,searchTerm:d,setSearchTerm:f,filterFacultyId:h,setFilterFacultyId:p,filterClass:b,setFilterClass:x,getFilteredNotes:y,isFetchingFilters:v}=o2();m.useEffect(()=>{n(),t(),e()},[n,t,e]);const j=m.useMemo(()=>r.map($=>({id:$.$id,name:$.name})),[r]),S=m.useMemo(()=>{if(!h)return[];const $=r.find(P=>P.$id===h);return($==null?void 0:$.classes.map(P=>({id:P,name:P})))||[]},[h,r]),N=y(),C=()=>{e()};return i.jsx($t,{options:{suppressScrollX:!0,wheelSpeed:2},children:i.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Notes"}),i.jsx(st,{icon:i.jsx(vg,{className:"h-5 w-5",color:"blue"}),onClick:C,isLoading:s&&!v,color:"default",tooltipText:"Reload Notes"})]}),i.jsx(Se,{color:"primary",onPress:()=>o(),startContent:i.jsx(ch,{className:"h-5 w-5"}),children:"Add Note"})]}),a&&i.jsxs("p",{className:"text-red-500 bg-red-100 p-3 rounded-md mb-4",children:["Error: ",a]}),i.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg shadow",children:i.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[" ",i.jsx(Bn,{placeholder:"Search notes...",value:d,onValueChange:f,className:"flex-grow min-w-[250px] sm:min-w-[300px]"}),i.jsx(dt,{label:"Filter by Faculty",options:j,value:h,onChange:p,placeholder:"All Faculties",isLoading:v&&r.length===0,className:"min-w-[200px]"}),i.jsx(dt,{label:"Filter by Class",options:S,value:b,onChange:x,placeholder:"All Classes",disabled:!h||v,isLoading:v&&!!h&&S.length===0,className:"min-w-[200px]"})]})}),s&&!N.length&&!v?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(ct,{size:"lg",label:"Loading notes..."})}):N.length===0&&!a?i.jsx("p",{className:"text-center text-gray-500 py-10",children:"No notes found. Try adjusting your filters or add a new note!"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map($=>i.jsx(hA,{note:$},$.$id))}),i.jsx(Zot,{isOpen:l,onClose:c,editingNote:u})]})})},Jot=()=>et.getState().dbId,bs=Jot,Qot=(e,t)=>{let n=[];return Array.isArray(e)?(e.forEach((r,s)=>{try{const a=JSON.parse(r);a&&typeof a=="object"&&(Array.isArray(a)?n=n.concat(a):n=n.concat([a]))}catch{}}),n):[]},nb=Gt((e,t)=>({teacherProfile:null,isLoadingTeacherProfile:!1,fetchTeacherProfile:async()=>{e({isLoadingTeacherProfile:!0,error:null});try{const n=await ut.get(),r=await le.listDocuments(bs,Ga,[J.equal("email",n.email),J.limit(1)]);if(r.documents.length>0){const s=r.documents[0];e({teacherProfile:{id:s.$id,name:s.name,email:s.email},isLoadingTeacherProfile:!1}),t().fetchAssignedContexts()}else e({error:`Teacher profile not found for email: ${n.email}. Ensure a teacher document exists with this email.`,isLoadingTeacherProfile:!1})}catch(n){e({error:n.message||"Failed to load teacher data.",isLoadingTeacherProfile:!1})}},assignedContexts:[],isLoadingContexts:!1,fetchAssignedContexts:async()=>{const n=t().teacherProfile;if(!n||!n.id)return;const r=n.id;e({isLoadingContexts:!0,error:null,assignedContexts:[]});try{const s=await le.listDocuments(bs,ec),a=[],o=new Set;for(const y of s.documents){const v=Qot(y.desc,y.$id);for(const j of v)if(j.type==="period"&&j.teacherId&&String(j.teacherId).trim()===String(r).trim()){const S=`${y.faculty}-${y.class}-${y.section}-${j.subject}`;o.has(S)||(o.add(S),a.push({facultyId:String(y.faculty),class:String(y.class),sectionId:String(y.section),subject:String(j.subject)}))}}if(a.length===0){e({assignedContexts:[],isLoadingContexts:!1});return}const l=[...new Set(a.map(y=>y.facultyId))],c=[...new Set(a.map(y=>y.sectionId))],u=l.map(y=>le.getDocument(bs,tr,y).catch(()=>null)),d=c.map(y=>le.getDocument(bs,Qt,y).catch(()=>null)),f=(await Promise.all(u)).filter(Boolean),h=(await Promise.all(d)).filter(Boolean),p=new Map(f.map(y=>[y.$id,y.name])),b=new Map(h.map(y=>[y.$id,y.name])),x=a.map(y=>({...y,facultyName:p.get(y.facultyId)||`Faculty (${y.facultyId.slice(-4)})`,sectionName:b.get(y.sectionId)||`Section (${y.sectionId.slice(-4)})`}));e({assignedContexts:x,isLoadingContexts:!1}),x.length>0&&t().fetchLessonPlans()}catch(s){e({error:s.message||"Failed to fetch assigned contexts",isLoadingContexts:!1})}},lessonPlans:[],isLoadingLessonPlans:!1,selectedLessonPlan:null,selectLessonPlan:n=>e({selectedLessonPlan:n,error:null}),fetchLessonPlans:async()=>{var s;const n=(s=t().teacherProfile)==null?void 0:s.id;if(!n)return;if(t().assignedContexts.length===0&&!t().isLoadingContexts){e({lessonPlans:[],isLoadingLessonPlans:!1});return}e({isLoadingLessonPlans:!0,error:null});try{const a=[J.equal("teacherId",n),J.orderDesc("$createdAt")],{facultyId:o,class:l,sectionId:c,subject:u,searchText:d,status:f}=t().currentFilters;o&&a.push(J.equal("facultyId",o)),l&&a.push(J.equal("class",l)),c&&a.push(J.equal("sectionId",c)),u&&a.push(J.equal("subject",u)),f&&a.push(J.equal("status",f)),d&&a.push(J.search("title",d));const h=await le.listDocuments(bs,Bu,a);e({lessonPlans:h.documents,isLoadingLessonPlans:!1})}catch(a){e({error:a.message||"Failed to fetch lesson plans",isLoadingLessonPlans:!1})}},isSubmittingLessonPlan:!1,addLessonPlan:async n=>{var s;const r=(s=t().teacherProfile)==null?void 0:s.id;if(!r)return e({error:"Teacher not identified."}),!1;e({isSubmittingLessonPlan:!0,error:null});try{const a={...n,teacherId:r};return await le.createDocument(bs,Bu,dn.unique(),a),e({isSubmittingLessonPlan:!1}),t().fetchLessonPlans(),!0}catch(a){return e({error:a.message||"Failed to add lesson plan",isSubmittingLessonPlan:!1}),!1}},updateLessonPlan:async(n,r)=>{e({isSubmittingLessonPlan:!0,error:null});try{return await le.updateDocument(bs,Bu,n,r),e({isSubmittingLessonPlan:!1,selectedLessonPlan:null}),t().fetchLessonPlans(),!0}catch(s){return e({error:s.message||"Failed to update lesson plan",isSubmittingLessonPlan:!1}),!1}},deleteLessonPlan:async n=>{e({isSubmittingLessonPlan:!0,error:null});try{return await le.deleteDocument(bs,Bu,n),e({isSubmittingLessonPlan:!1,selectedLessonPlan:null}),t().fetchLessonPlans(),!0}catch(r){return e({error:r.message||"Failed to delete lesson plan",isSubmittingLessonPlan:!1}),!1}},currentFilters:{facultyId:null,class:null,sectionId:null,subject:null,searchText:null,status:null},setFilter:(n,r)=>{e(s=>({currentFilters:{...s.currentFilters,[n]:r},error:null})),t().fetchLessonPlans()},clearFilters:()=>{e({currentFilters:{facultyId:null,class:null,sectionId:null,subject:null,searchText:null,status:null},error:null}),t().fetchLessonPlans()},studentReviews:[],isLoadingStudentReviews:!1,fetchStudentReviews:async n=>{e({isLoadingStudentReviews:!0,error:null});try{const r=await le.listDocuments(bs,Ru,[J.equal("lessonPlanId",n),J.orderDesc("$createdAt")]),s=await Promise.all(r.documents.map(async a=>{try{const o=await le.getDocument(bs,on,a.studentId);return{...a,studentName:o.name}}catch{return{...a,studentName:"Unknown Student"}}}));e({studentReviews:s,isLoadingStudentReviews:!1})}catch(r){e({error:r.message||"Failed to fetch student reviews",isLoadingStudentReviews:!1})}},isSubmittingStudentReview:!1,addStudentReview:async n=>{var s;const r=(s=t().teacherProfile)==null?void 0:s.id;if(!r)return e({error:"Teacher not identified."}),!1;e({isSubmittingStudentReview:!0,error:null});try{const a={...n,teacherId:r};return await le.createDocument(bs,Ru,dn.unique(),a),e({isSubmittingStudentReview:!1}),t().fetchStudentReviews(n.lessonPlanId),!0}catch(a){return e({error:a.message||"Failed to add student review",isSubmittingStudentReview:!1}),!1}},updateStudentReview:async(n,r)=>{var s;e({isSubmittingStudentReview:!0,error:null});try{return await le.updateDocument(bs,Ru,n,r),e({isSubmittingStudentReview:!1}),(s=t().selectedLessonPlan)!=null&&s.$id&&t().fetchStudentReviews(t().selectedLessonPlan.$id),!0}catch(a){return e({error:a.message||"Failed to update student review",isSubmittingStudentReview:!1}),!1}},deleteStudentReview:async n=>{var r;e({isSubmittingStudentReview:!0,error:null});try{return await le.deleteDocument(bs,Ru,n),e({isSubmittingStudentReview:!1}),(r=t().selectedLessonPlan)!=null&&r.$id&&t().fetchStudentReviews(t().selectedLessonPlan.$id),!0}catch(s){return e({error:s.message||"Failed to delete student review",isSubmittingStudentReview:!1}),!1}},studentsForReview:[],isLoadingStudentsForReview:!1,fetchStudentsForSection:async(n,r,s)=>{e({isLoadingStudentsForReview:!0,error:null,studentsForReview:[]});try{let a=null;try{if(a=(await le.getDocument(bs,Qt,n)).name,!a){e({isLoadingStudentsForReview:!1,error:"Could not retrieve section name."});return}}catch{e({isLoadingStudentsForReview:!1,error:"Failed to fetch section details to find students."});return}const o=[J.equal("section",a),J.equal("facultyId",r),J.equal("class",s),J.orderAsc("name")],l=await le.listDocuments(bs,on,o);e({studentsForReview:l.documents,isLoadingStudentsForReview:!1})}catch(a){e({error:a.message||"Failed to fetch students for section",isLoadingStudentsForReview:!1})}},error:null,setError:n=>e({error:n})})),pc=(e,t,n)=>{let r=e;n!=null&&n.facultyId&&(r=r.filter(a=>a.facultyId===n.facultyId)),n!=null&&n.class&&(t==="sectionId"||t==="subject")&&(r=r.filter(a=>a.class===n.class)),n!=null&&n.sectionId&&t==="subject"&&(r=r.filter(a=>a.sectionId===n.sectionId));const s=new Map;return r.forEach(a=>{let o,l;switch(t){case"facultyId":o=a.facultyId,l=a.facultyName;break;case"class":o=a.class,l=a.class;break;case"sectionId":o=a.sectionId,l=a.sectionName;break;case"subject":o=a.subject,l=a.subject;break;default:return}s.has(o)||s.set(o,l)}),Array.from(s,([a,o])=>({id:a,name:o})).sort((a,o)=>a.name.localeCompare(o.name))},elt=()=>{const{assignedContexts:e,currentFilters:t,setFilter:n,clearFilters:r,isLoadingContexts:s}=nb(),a=m.useMemo(()=>pc(e,"facultyId"),[e]),o=m.useMemo(()=>pc(e,"class",{facultyId:t.facultyId}),[e,t.facultyId]),l=m.useMemo(()=>pc(e,"sectionId",{facultyId:t.facultyId,class:t.class}),[e,t.facultyId,t.class]),c=m.useMemo(()=>pc(e,"subject",{facultyId:t.facultyId,class:t.class,sectionId:t.sectionId}),[e,t.facultyId,t.class,t.sectionId]),u=[{id:"planned",name:"Planned"},{id:"completed",name:"Completed"},{id:"partially-completed",name:"Partially Completed"}],d=(f,h)=>{n(f,h),f==="facultyId"?(n("class",null),n("sectionId",null),n("subject",null)):f==="class"?(n("sectionId",null),n("subject",null)):f==="sectionId"&&n("subject",null)};return i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[i.jsx(dt,{label:"Faculty",options:a,value:t.facultyId||null,onChange:f=>d("facultyId",f),placeholder:"All Faculties",disabled:s||a.length===0}),i.jsx(dt,{label:"Class",options:o,value:t.class||null,onChange:f=>d("class",f),placeholder:"All Classes",disabled:s||!t.facultyId||o.length===0}),i.jsx(dt,{label:"Section",options:l,value:t.sectionId||null,onChange:f=>d("sectionId",f),placeholder:"All Sections",disabled:s||!t.class||l.length===0}),i.jsx(dt,{label:"Subject",options:c,value:t.subject||null,onChange:f=>d("subject",f),placeholder:"All Subjects",disabled:s||!t.sectionId||c.length===0}),i.jsx(dt,{label:"Status",options:u,value:t.status||null,onChange:f=>d("status",f),placeholder:"Any Status"}),i.jsx(Bn,{placeholder:"Search by title...",value:t.searchText||"",onValueChange:f=>d("searchText",f),className:"md:col-span-2 lg:col-span-1"}),i.jsx(Se,{color:"default",variant:"ghost",onClick:r,className:"h-10",children:"Clear Filters"})]})})},tlt={planned:"primary",completed:"success","partially-completed":"warning"},nlt=({plan:e,onEdit:t,onDelete:n,onViewDetails:r})=>{const{assignedContexts:s}=nb(),a=s.find(o=>o.facultyId===e.facultyId&&o.class===e.class&&o.sectionId===e.sectionId&&o.subject===e.subject);return i.jsxs(mt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsxs(Un,{className:"flex justify-between items-start pb-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.title}),i.jsx("p",{className:"text-xs text-gray-500",children:a?`${a.facultyName} - ${a.class} - ${a.sectionName}`:"Context N/A"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Subject: ",e.subject]})]}),i.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[i.jsx(Jt,{color:tlt[e.status]||"default",size:"sm",variant:"flat",children:e.status.replace("-"," ")}),e.isPublic?i.jsxs(rl,{color:"success",variant:"flat",size:"md",className:"mt-1",children:[i.jsx(Gi,{className:"h-3 w-3 mr-0.5 inline-block"})," Public"]}):i.jsxs(rl,{color:"default",variant:"flat",size:"md",className:"mt-1",children:[i.jsx(Zy,{className:"h-3 w-3 mr-0.5 inline-block"})," Private"]})]})]}),i.jsxs(yt,{className:"py-2",children:[i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-1",children:e.description}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Date (BS): ",e.lessonDateBS]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Est. Periods: ",e.estimatedPeriods]})]}),i.jsxs(oye,{className:"flex justify-end gap-2 pt-2",children:[i.jsx(st,{icon:i.jsx(Gi,{className:"h-4 w-4"}),onClick:()=>r(e),color:"blue"}),i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4"}),onClick:()=>t(e),color:"orange"}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>n(e.$id),color:"red"})]})]})},rlt=({isOpen:e,onClose:t,lessonPlanToEdit:n})=>{var $,P,E;const{addLessonPlan:r,updateLessonPlan:s,isSubmittingLessonPlan:a,assignedContexts:o,setError:l}=nb(),c={title:"",description:"",facultyId:"",class:"",sectionId:"",subject:"",lessonDateBS:"",estimatedPeriods:1,status:"planned",learningObjectives:[],teachingMaterials:[],assessmentMethods:[],teacherReflection:"",actualPeriodsTaken:void 0,overallClassRating:0,isPublic:!1},[u,d]=m.useState(c),[f,h]=m.useState({facultyId:(n==null?void 0:n.facultyId)||null,class:(n==null?void 0:n.class)||null,sectionId:(n==null?void 0:n.sectionId)||null});m.useEffect(()=>{e&&(n?(d({title:n.title,description:n.description,facultyId:n.facultyId,class:n.class,sectionId:n.sectionId,subject:n.subject,lessonDateBS:n.lessonDateBS,estimatedPeriods:n.estimatedPeriods,status:n.status,learningObjectives:n.learningObjectives||[],teachingMaterials:n.teachingMaterials||[],assessmentMethods:n.assessmentMethods||[],teacherReflection:n.teacherReflection||"",actualPeriodsTaken:n.actualPeriodsTaken,overallClassRating:n.overallClassRating||0,isPublic:n.isPublic||!1}),h({facultyId:n.facultyId,class:n.class,sectionId:n.sectionId})):(d(c),h({facultyId:null,class:null,sectionId:null})))},[n,e]);const p=m.useMemo(()=>pc(o,"facultyId"),[o]),b=m.useMemo(()=>pc(o,"class",{facultyId:f.facultyId}),[o,f.facultyId]),x=m.useMemo(()=>pc(o,"sectionId",{facultyId:f.facultyId,class:f.class}),[o,f.facultyId,f.class]),y=m.useMemo(()=>pc(o,"subject",{facultyId:f.facultyId,class:f.class,sectionId:f.sectionId}),[o,f.facultyId,f.class,f.sectionId]),v=[{id:"planned",name:"Planned"},{id:"completed",name:"Completed"},{id:"partially-completed",name:"Partially Completed"}],j=M=>{const{name:k,value:A}=M.target;d(I=>({...I,[k]:k==="estimatedPeriods"||k==="actualPeriodsTaken"?A===""?void 0:Number(A):A}))},S=(M,k)=>{if(M==="facultyId"||M==="class"||M==="sectionId"){const A={...f,[M]:k};M==="facultyId"?(A.class=null,A.sectionId=null,d(I=>({...I,class:"",sectionId:"",subject:""}))):M==="class"?(A.sectionId=null,d(I=>({...I,sectionId:"",subject:""}))):M==="sectionId"&&d(I=>({...I,subject:""})),h(A),d(I=>({...I,[M]:k||""}))}else(M==="subject"||M==="status")&&d(A=>({...A,[M]:k||""}))},N=(M,k)=>{d(A=>({...A,[M]:k.split(`
`).filter(I=>I.trim()!=="")}))},C=async M=>{if(M.preventDefault(),!u.facultyId||!u.class||!u.sectionId||!u.subject){l("Faculty, Class, Section, and Subject are required.");return}if(!u.title||!u.description||!u.lessonDateBS){l("Title, Description and Lesson Date are required.");return}let k=!1;n!=null&&n.$id?k=await s(n.$id,u):k=await r(u),k&&t()};return i.jsx(We,{isOpen:e,onClose:t,title:n?"Edit Lesson Plan":"Add New Lesson Plan",size:"lg",children:i.jsxs("form",{onSubmit:C,children:[i.jsxs(We.Body,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(dt,{label:"Faculty*",options:p,value:f.facultyId,onChange:M=>S("facultyId",M),placeholder:"Select Faculty",disabled:p.length===0}),i.jsx(dt,{label:"Class*",options:b,value:f.class,onChange:M=>S("class",M),placeholder:"Select Class",disabled:!f.facultyId||b.length===0}),i.jsx(dt,{label:"Section*",options:x,value:f.sectionId,onChange:M=>S("sectionId",M),placeholder:"Select Section",disabled:!f.class||x.length===0}),i.jsx(dt,{label:"Subject*",options:y,value:u.subject,onChange:M=>S("subject",M),placeholder:"Select Subject",disabled:!f.sectionId||y.length===0})]}),i.jsx(Ve,{name:"title",label:"Title*",value:u.title,onChange:j,placeholder:"Enter lesson title",isRequired:!0}),i.jsx(Ss,{name:"description",label:"Description*",value:u.description,onChange:j,placeholder:"Detailed lesson plan activities, content, etc.",minRows:3,isRequired:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ve,{name:"lessonDateBS",label:"Lesson Date (BS)*",type:"text",value:u.lessonDateBS,onChange:j,placeholder:"YYYY-MM-DD",isRequired:!0,description:"Enter date in Bikram Sambat format (e.g., 2080-05-15)"}),i.jsx(Ve,{name:"estimatedPeriods",label:"Estimated Periods*",type:"number",value:String(u.estimatedPeriods),onChange:j,min:"1",isRequired:!0}),i.jsx(dt,{label:"Status*",options:v,value:u.status,onChange:M=>S("status",M)})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Make Lesson Plan Public?"}),i.jsxs("label",{htmlFor:"isPublicToggle",className:"flex items-center cursor-pointer",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",id:"isPublicToggle",className:"sr-only",checked:u.isPublic||!1,onChange:M=>d(k=>({...k,isPublic:M.target.checked}))}),i.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${u.isPublic?"bg-indigo-600":"bg-gray-300"}`}),i.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${u.isPublic?"translate-x-full":""}`})]}),i.jsx("span",{className:"ml-3 text-sm text-gray-600",children:u.isPublic?"Public":"Private"})]})]}),u.isPublic&&i.jsx("p",{className:"text-xs text-indigo-600 -mt-2 mb-2",children:"When public, you can add student reviews. Students might also see this plan."}),i.jsx(Ss,{name:"learningObjectives",label:"Learning Objectives",value:(($=u.learningObjectives)==null?void 0:$.join(`
`))||"",onChange:M=>N("learningObjectives",M.target.value),placeholder:"Enter one objective per line",minRows:2}),i.jsx(Ss,{name:"teachingMaterials",label:"Teaching Materials / Resources",value:((P=u.teachingMaterials)==null?void 0:P.join(`
`))||"",onChange:M=>N("teachingMaterials",M.target.value),placeholder:"Enter one item per line",minRows:2}),i.jsx(Ss,{name:"assessmentMethods",label:"Assessment Methods",value:((E=u.assessmentMethods)==null?void 0:E.join(`
`))||"",onChange:M=>N("assessmentMethods",M.target.value),placeholder:"Enter one method per line",minRows:2}),i.jsx("hr",{className:"my-4"}),i.jsx("h3",{className:"text-md font-semibold text-gray-700",children:"Post-Lesson Details"}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overall Class Rating"}),i.jsx(yc,{rating:u.overallClassRating||0,onRatingChange:M=>d(k=>({...k,overallClassRating:M})),max:5,size:24,color:"#22c55e",hoverColor:"#86efac"})]}),i.jsx(Ve,{name:"actualPeriodsTaken",label:"Actual Periods Taken",type:"number",value:u.actualPeriodsTaken===void 0?"":String(u.actualPeriodsTaken),onChange:j,min:"0"}),i.jsx(Ss,{name:"teacherReflection",label:"Teacher's Reflection / Overall Review",value:u.teacherReflection||"",onChange:j,placeholder:"How did the lesson go? What worked, what didn't?",minRows:2})]}),i.jsxs(We.Footer,{children:[i.jsx(Se,{type:"button",color:"default",variant:"ghost",onClick:t,disabled:a,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:a,disabled:a,children:n?"Save Changes":"Create Lesson Plan"})]})]})})},slt=()=>et.getState().dbId,alt=slt,ilt={planned:"primary",completed:"success","partially-completed":"warning"},olt=({plan:e,onBack:t,onEdit:n,onDeleteRequest:r})=>{const{assignedContexts:s,studentReviews:a,fetchStudentReviews:o,isLoadingStudentReviews:l,studentsForReview:c,fetchStudentsForSection:u,isLoadingStudentsForReview:d,addStudentReview:f,isSubmittingStudentReview:h,deleteStudentReview:p,setError:b,teacherProfile:x,updateLessonPlan:y,isSubmittingLessonPlan:v,selectLessonPlan:j}=nb(),[S,N]=m.useState(!1),[C,$]=m.useState({studentId:"",rating:0,comment:""}),[P,E]=m.useState(!1);m.useEffect(()=>{e.$id&&e.sectionId&&e.facultyId&&e.class&&(o(e.$id),u(e.sectionId,e.facultyId,e.class))},[e,o,u]);const M=s.find(R=>R.facultyId===e.facultyId&&R.class===e.class&&R.sectionId===e.sectionId&&R.subject===e.subject),k=async()=>{E(!0);const R=get().selectedLessonPlan;if(!R){E(!1);return}if(await y(R.$id,{isPublic:!R.isPublic}))try{const T=await databases.getDocument(alt,LESSON_PLAN_COLLECTION_ID,R.$id);j(T)}catch(T){console.error("Error refetching updated lesson plan:",T),b("Failed to refresh lesson plan details after toggle.")}E(!1)},A=async()=>{if(!C.studentId||!C.comment){b("Please select a student and add a comment for the review.");return}if(C.rating<1||C.rating>5){b("Please provide a rating between 1 and 5 stars.");return}await f({lessonPlanId:e.$id,studentId:C.studentId,rating:C.rating,comment:C.comment})&&($({studentId:"",rating:0,comment:""}),N(!1))},I=m.useMemo(()=>c.map(R=>({id:R.$id,name:R.name})),[c]),L=({label:R,value:F,children:T})=>!T&&(F==null||Array.isArray(F)&&F.length===0)?null:i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:R}),T?i.jsx("div",{className:"text-gray-700 mt-0.5",children:T}):Array.isArray(F)?i.jsx("ul",{className:"list-disc list-inside pl-1 text-gray-700",children:F.map((O,_)=>i.jsx("li",{children:O},_))}):i.jsx("p",{className:"text-gray-700",children:String(F)})]});return i.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx(Se,{variant:"light",onClick:t,startContent:i.jsx(Hc,{className:"h-5 w-5"}),children:"Back to List"}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.isPublic?i.jsxs(rl,{color:"success",variant:"flat",size:"sm",className:"flex items-center",children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"})," Public"]}):i.jsxs(rl,{color:"default",variant:"flat",size:"sm",className:"flex items-center",children:[i.jsx(Zy,{className:"h-4 w-4 mr-1"})," Private"]}),i.jsx(st,{icon:e.isPublic?i.jsx(Zy,{className:"h-5 w-5"}):i.jsx(Gi,{className:"h-5 w-5"}),onClick:k,color:e.isPublic?"orange":"green",buttonText:e.isPublic?"Make Private":"Make Public",isIconOnly:!0,isDisabled:P||v}),i.jsx(st,{icon:i.jsx(I$,{className:"h-5 w-5"}),onClick:()=>n(e),color:"orange",isDisabled:P}),i.jsx(st,{icon:i.jsx(xa,{className:"h-5 w-5"}),onClick:()=>r(e.$id),color:"red",isDisabled:P})]})]}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.title}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx(Jt,{color:ilt[e.status]||"default",size:"md",variant:"flat",children:e.status.replace("-"," ")}),i.jsxs("p",{className:"text-sm text-gray-600",children:[M?`${M.facultyName} - ${M.class} - ${M.sectionName}`:"Context N/A"," | Subject: ",e.subject]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-1",children:[i.jsx(L,{label:"Lesson Date (B.S.)",value:e.lessonDateBS}),i.jsx(L,{label:"Estimated Periods",value:e.estimatedPeriods}),i.jsx(L,{label:"Actual Periods Taken",value:e.actualPeriodsTaken}),i.jsx(L,{label:"Overall Class Rating",children:e.overallClassRating&&e.overallClassRating>0?i.jsx(yc,{rating:e.overallClassRating,max:5,size:20,color:"#22c55e"}):i.jsx("span",{className:"text-gray-400 italic",children:"Not yet rated"})}),i.jsx("div",{className:"md:col-span-2 mt-2",children:i.jsx(L,{label:"Description",value:e.description})}),i.jsx(L,{label:"Learning Objectives",value:e.learningObjectives}),i.jsx(L,{label:"Teaching Materials",value:e.teachingMaterials}),i.jsx(L,{label:"Assessment Methods",value:e.assessmentMethods}),i.jsx("div",{className:"md:col-span-2",children:i.jsx(L,{label:"Teacher's Reflection",value:e.teacherReflection})})]}),i.jsxs("div",{className:"mt-8 pt-6 border-t",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Student Reviews"}),e.isPublic&&i.jsx(Se,{color:"primary",variant:"ghost",size:"sm",onClick:()=>{N(!S),S&&$({studentId:"",rating:0,comment:""})},startContent:i.jsx(sH,{className:"h-5 w-5"}),disabled:h,children:S?"Cancel Review":"Add Student Review"})]}),!e.isPublic&&i.jsxs("p",{className:"text-sm text-orange-600 bg-orange-50 p-3 rounded-md",children:["This lesson plan is private. Make it public (using the ",i.jsx(Gi,{className:"inline h-4 w-4"})," button above) to add student reviews."]}),e.isPublic&&S&&i.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 mb-6 space-y-4",children:[i.jsx(dt,{label:"Select Student",options:I,value:C.studentId,onChange:R=>$(F=>({...F,studentId:R||""})),placeholder:d?"Loading students...":"Choose a student",disabled:d||I.length===0,allowClear:!0}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating*"}),i.jsx(yc,{rating:C.rating,onRatingChange:R=>$(F=>({...F,rating:R})),max:5,size:24})]}),i.jsx(Ss,{label:"Comment*",placeholder:"Enter your comments...",value:C.comment,onChange:R=>$(F=>({...F,comment:R.target.value})),minRows:2,isRequired:!0}),i.jsx(Se,{color:"success",onClick:A,isLoading:h,disabled:h,children:"Submit Review"})]}),l&&i.jsx("p",{children:"Loading student reviews..."}),!l&&a.length===0&&i.jsx("p",{className:"text-gray-500",children:e.isPublic?"No student reviews yet for this lesson.":""}),!l&&a.length>0&&i.jsx("div",{className:"space-y-3",children:a.map(R=>i.jsxs("div",{className:"p-3 border rounded-md bg-white shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-semibold",children:R.studentName||"Student..."}),i.jsx(yc,{rating:R.rating,max:5,size:18})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.comment}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex justify-between items-center",children:[i.jsxs("span",{children:["Reviewed on: ",new Date(R.$createdAt||Date.now()).toLocaleDateString()]}),R.teacherId===(x==null?void 0:x.id)&&i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>p(R.$id),color:"red",isIconOnly:!0})]})]},R.$id))})]})]})},RQ=()=>{const{teacherProfile:e,fetchTeacherProfile:t,isLoadingTeacherProfile:n,assignedContexts:r,isLoadingContexts:s,lessonPlans:a,isLoadingLessonPlans:o,selectedLessonPlan:l,selectLessonPlan:c,deleteLessonPlan:u,isSubmittingLessonPlan:d,error:f,setError:h}=nb(),[p,b]=m.useState(!1),[x,y]=m.useState(null),[v,j]=m.useState(!1),[S,N]=m.useState(null);m.useEffect(()=>{t()},[t]),m.useEffect(()=>()=>{h(null)},[h,l]);const C=()=>{y(null),b(!0),h(null)},$=A=>{y(A),b(!0),h(null)},P=A=>{N(A),j(!0),h(null)},E=async()=>{S&&await u(S)&&(j(!1),N(null),(l==null?void 0:l.$id)===S&&c(null))},M=A=>{c(A),h(null)},k=()=>{c(null)};return n||e&&s&&r.length===0?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx(ct,{label:"Loading teacher data...",size:"lg"})}):e?r.length===0&&!s?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Lesson Plans"}),i.jsx("p",{className:"text-gray-600",children:"You are not currently assigned to any classes/subjects in the routine. Please contact an administrator if you believe this is an error."})]}):i.jsxs("div",{className:"p-4 md:p-6",children:[f&&i.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error: "}),i.jsx("span",{className:"block sm:inline",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>h(null),children:i.jsxs("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[i.jsx("title",{children:"Close"}),i.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),l?i.jsx(olt,{plan:l,onBack:k,onEdit:$,onDeleteRequest:P}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"My Lesson Plans"}),i.jsx(Se,{color:"primary",onClick:C,startContent:i.jsx(Pd,{className:"h-5 w-5"}),children:"Add Lesson Plan"})]}),i.jsx(elt,{}),o&&i.jsx("div",{className:"flex justify-center p-10",children:i.jsx(ct,{label:"Loading lesson plans..."})}),!o&&a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-10",children:"No lesson plans found matching your criteria. Try adjusting filters or adding a new one."}),!o&&a.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(A=>i.jsx(nlt,{plan:A,onEdit:$,onDelete:P,onViewDetails:M},A.$id))})]}),i.jsx(rlt,{isOpen:p,onClose:()=>b(!1),lessonPlanToEdit:x}),i.jsx(Qi,{isOpen:v,onClose:()=>j(!1),onConfirm:E,title:"Confirm Deletion",content:"Are you sure you want to delete this lesson plan? This action cannot be undone.",isConfirmLoading:d})]}):i.jsxs("div",{className:"p-6 text-center text-red-600",children:["Error: Teacher profile could not be loaded. ",f]})},llt=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return console.warn("formatADtoBSDateString: Invalid AD date input:",e),"Invalid Date";const n=new Hn(t);return`${n.getYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} BS`}catch(t){return console.error("Error converting AD to BS for display:",t,"Input:",e),e.split("T")[0]+" (AD - Conv. Error)"}};function clt(e,t){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}const BQ=()=>{const{isInitializing:e,isClassTeacher:t,classTeacherInfo:n,error:r,studentSearchTerm:s,searchedStudents:a,isLoadingStudents:o,selectedStudent:l,reviews:c,isLoadingReviews:u,isDrawerOpen:d,drawerMode:f,isDeletePopoverOpen:h,isDeletingReview:p,actions:b}=Ef();m.useEffect(()=>{b.checkAuthAndLoadTeacherInfo()},[b]);const x=m.useCallback(clt(()=>{Ef.getState().studentSearchTerm.trim().length>0?b.searchStudents():Ef.setState({searchedStudents:[]})},400),[b]),y=m.useMemo(()=>a.map(S=>({key:S.$id,label:S.name,description:`${S.class||"N/A"} - ${S.sectionName||"Sec ?"} | Faculty: ${S.facultyName||"N/A"}`,value:S})),[a]),v=S=>{b.setStudentSearchTerm(S),S.trim()===""?(b.selectStudent(null),Ef.setState({searchedStudents:[]})):x()},j=S=>{if(S){const N=Ef.getState().searchedStudents.find(C=>C.$id===S);b.selectStudent(N||null)}else b.selectStudent(null)};return e?i.jsxs("div",{className:"flex min-h-screen flex-col justify-center items-center bg-gray-100 p-4",children:[i.jsx(ct,{label:"Initializing App...",color:"primary",labelColor:"primary",size:"lg"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait a moment."})]}):t?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"container mx-auto max-w-6xl space-y-6 sm:space-y-8",children:[i.jsxs("header",{className:"mb-6 sm:mb-8 p-6 bg-white rounded-xl shadow-lg border border-gray-200",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight",children:"Student Performance Reviews"}),n&&i.jsxs("div",{className:"mt-3 text-sm sm:text-md text-slate-600 space-y-1.5",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(ls,{className:"w-5 h-5 mr-2 text-indigo-600 flex-shrink-0"}),"Logged in as: ",i.jsx("span",{className:"font-semibold ml-1",children:n.name})]}),n.managedFaculties&&n.managedFaculties.length>0&&i.jsxs("p",{className:"flex items-center",children:[i.jsx(Fwe,{className:"w-5 h-5 mr-2 text-teal-600 flex-shrink-0"}),"Managing Faculty: ",i.jsx("span",{className:"font-semibold ml-1",children:n.managedFaculties.map(S=>S.name).join(", ")})]}),n.managedSections&&n.managedSections.length>0&&i.jsxs("p",{className:"flex items-center",children:[i.jsx(so,{className:"w-5 h-5 mr-2 text-purple-600 flex-shrink-0"}),"Class Teacher for: ",i.jsx("span",{className:"font-semibold ml-1",children:n.managedSections.map(S=>`${S.className}-${S.name}`).join(", ")})]})]})]}),i.jsxs(mt,{className:"shadow-lg border border-gray-200 rounded-xl overflow-hidden",children:[i.jsx(Un,{className:"bg-slate-50 p-4 sm:p-5 border-b border-gray-200",children:i.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Search and Select Student"})}),i.jsxs(yt,{className:"p-4 sm:p-6 space-y-4",children:[i.jsx(Cr,{items:y,label:"Student Name",placeholder:"Type student's name to search...",variant:"bordered",className:"w-full",selectedKey:l?l.$id:null,onSelectionChange:j,inputValue:s,onInputChange:v,startContent:i.jsx(il,{className:"w-5 h-5 text-gray-400"}),isLoading:o,loadingContent:i.jsx(ct,{size:"sm",label:"Searching..."}),allowsCustomValue:!1,"aria-label":"Search and select student",children:S=>i.jsx(bn,{textValue:S.label,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-slate-800",children:S.label}),i.jsx("span",{className:"text-xs text-slate-500",children:S.description})]})},S.key)}),r&&s&&!o&&i.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-700 flex items-start",children:[i.jsx(za,{className:"w-5 h-5 mr-2 flex-shrink-0 text-red-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Search Error:"})," ",r,i.jsx("p",{className:"text-xs mt-0.5",children:"Please ensure Appwrite is configured correctly and student data is accessible."})]})]}),s&&y.length===0&&!o&&!r&&i.jsxs("p",{className:"text-sm text-orange-600 mt-2 p-3 bg-orange-50 border border-orange-200 rounded-md",children:['No students found matching "',s,'" in your assigned sections.']}),l&&i.jsxs(mt,{className:"mt-6 bg-indigo-50 border border-indigo-200 rounded-lg shadow-sm",shadow:"none",children:[i.jsx(Un,{className:"pb-1 pt-3 px-4",children:i.jsxs("h3",{className:"text-lg font-semibold text-indigo-700 flex items-center",children:[i.jsx(ls,{className:"w-6 h-6 mr-2.5 flex-shrink-0"}),"Selected Student Profile"]})}),i.jsxs(yt,{className:"text-sm text-slate-700 grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 pt-2 pb-3 px-4",children:[i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Name:"})," ",l.name]}),i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Class:"})," ",l.class||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Section:"})," ",l.sectionName||l.section||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Faculty:"})," ",l.facultyName||"N/A"]}),l.id&&i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Custom ID:"})," ",l.id]}),i.jsxs("p",{children:[i.jsx("strong",{className:"font-medium text-slate-600",children:"Appwrite ID:"})," ",i.jsx("span",{className:"text-xs",children:l.$id})]})]})]})]})]}),l&&i.jsxs(mt,{className:"shadow-lg border border-gray-200 rounded-xl overflow-hidden",children:[i.jsxs(Un,{className:"bg-slate-50 p-4 sm:p-5 border-b border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[i.jsxs("h2",{className:"text-xl font-semibold text-slate-700 flex items-center",children:[i.jsx(Mc,{className:"w-6 h-6 mr-2.5 text-blue-600 flex-shrink-0"}),"Reviews for ",l.name]}),i.jsx(Se,{color:"primary",variant:"solid",startContent:i.jsx(Pd,{className:"w-5 h-5"}),onPress:()=>b.openDrawer("add"),className:"w-full sm:w-auto mt-2 sm:mt-0 shadow-md hover:shadow-lg transition-shadow",children:"Add New Review"})]}),i.jsxs(yt,{className:"p-4 sm:p-6",children:[u&&i.jsx("div",{className:"text-center py-10",children:i.jsx(ct,{label:"Loading reviews...",size:"lg"})}),!u&&c.length===0&&i.jsxs("div",{className:"text-center py-10 px-6 bg-gray-50 rounded-lg",children:[i.jsx(Mc,{className:"w-16 h-16 mx-auto text-gray-300"}),i.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"No Reviews Yet"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Be the first to add a review for ",l.name,"."]})]}),!u&&c.length>0&&i.jsx("div",{className:"space-y-4 sm:space-y-5",children:c.map(S=>{var N,C;return i.jsxs(mt,{shadow:"md",className:"bg-white border border-gray-200 rounded-lg hover:shadow-xl transition-all duration-300 ease-in-out",children:[i.jsxs(Un,{className:"p-3 sm:p-4 flex justify-between items-start gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-md sm:text-lg text-slate-800",children:((N=Zf.find($=>$.id===S.type))==null?void 0:N.name)||S.type}),i.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Reviewed on: ",i.jsx("span",{className:"font-medium",children:llt(S.reviewDate)})]}),S.rating&&i.jsxs("p",{className:"text-xs text-slate-500 capitalize",children:["Overall: ",i.jsx("span",{className:"font-medium text-indigo-600",children:((C=l2.find($=>$.id===S.rating))==null?void 0:C.name)||S.rating})]})]}),i.jsxs("div",{className:"flex space-x-1.5 sm:space-x-2 flex-shrink-0",children:[i.jsx(st,{icon:i.jsx(ao,{className:"w-4 h-4 sm:w-4.5"}),onClick:()=>b.openDrawer("edit",S),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"w-4 h-4 sm:w-4.5"}),onClick:()=>b.openDeletePopover(S),color:"red",isIconOnly:!0})]})]}),i.jsx(Ed,{}),i.jsx(yt,{className:"p-3 sm:p-4",children:i.jsx("p",{className:"text-slate-700 text-sm leading-relaxed whitespace-pre-wrap",children:S.description})})]},S.$id)})})]})]}),!l&&i.jsxs("div",{className:"text-center py-10 px-6 bg-white rounded-xl shadow-lg border border-gray-200",children:[i.jsx(il,{className:"w-16 h-16 mx-auto text-gray-300"}),i.jsx("p",{className:"mt-4 text-xl font-semibold text-gray-700",children:"Select a Student"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Search for a student above to view or add reviews."})]})]}),i.jsxs(We,{isOpen:d,onClose:b.closeDrawer,size:"md",position:"right",children:[i.jsx(We.Header,{children:f==="add"?"Add New Review":`Edit Review: ${(l==null?void 0:l.name)||"Student"}`}),i.jsx(We.Body,{children:i.jsx(lZe,{})})]}),i.jsx(Qi,{isOpen:h,onClose:b.closeDeletePopover,onConfirm:b.confirmDeleteReview,title:"Confirm Deletion",content:"Are you sure you want to delete this review? This action cannot be undone and the review will be permanently removed.",isConfirmLoading:p}),i.jsxs("footer",{className:"text-center mt-10 py-4 text-sm text-slate-500",children:["School Management System © ",new Date().getFullYear()]})]}):i.jsx("div",{className:"flex min-h-screen flex-col justify-center items-center bg-gray-100 p-4 text-center",children:i.jsxs(mt,{className:"w-full max-w-md shadow-xl",children:[i.jsx(Un,{className:"bg-red-500 text-white p-4",children:i.jsxs("h1",{className:"text-xl font-semibold flex items-center justify-center",children:[i.jsx(za,{className:"w-6 h-6 mr-2"}),"Access Denied"]})}),i.jsxs(yt,{className:"p-6",children:[i.jsx("p",{className:"text-gray-700 text-lg",children:r||"You do not have permission to access this page."}),n===null&&!r&&i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Ensure you are logged in with an account that is registered as a teacher and assigned as a class teacher to one or more sections."})]})]})})},ult=({initialMenuItem:e})=>{const[t,n]=m.useState(()=>e!==void 0?e:localStorage.getItem("generalComponentMenuItem")||null),[r,s]=m.useState(()=>{const h=localStorage.getItem("expandedSubMenus");return h?JSON.parse(h):[]});m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",t||""),localStorage.setItem("expandedSubMenus",JSON.stringify(r))},[t,r]);const a=h=>{s(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},l={General:{menu:[{name:"Students",icon:i.jsx(w0,{className:"h-5 w-5"}),onClick:()=>{},subMenu:[{name:"Leave",icon:i.jsx(os,{className:"h-5 w-5"}),component:LQ,onClick:()=>{}},{name:"Std Review",icon:i.jsx(xl,{className:"h-5 w-5"}),component:BQ,onClick:()=>{}}]},{name:"Assignment",icon:i.jsx(Za,{className:"h-5 w-5"}),component:_Q,onClick:()=>{}},{name:"Calendar",icon:i.jsx(Tr,{className:"h-5 w-5"}),component:Ld,onClick:()=>{}},{name:"Notes",icon:i.jsx(Ya,{className:"h-5 w-5"}),component:FQ,onClick:()=>{}},{name:"Lesson Plan",icon:i.jsx(Ja,{className:"h-5 w-5"}),component:RQ,onClick:()=>{}},{name:"Bus",icon:i.jsx(zc,{className:"h-5 w-5"}),component:oo,onClick:()=>{}},{name:"Result",icon:i.jsx(wa,{className:"h-5 w-5"}),component:dw,onClick:()=>{}}]}}.General.menu,c=h=>{n(h)},u=()=>{n(null)},d=()=>{if(t){const h=f(l,t);if(h&&h.component)return i.jsxs("div",{children:[i.jsx(M0,{title:t,onBack:u}),i.jsx("div",{className:" mt-[3.25rem] w-full h-fulll",children:Z.createElement(h.component)})]})}return i.jsx("div",{className:"",children:i.jsx(T0,{menuItems:l.map(h=>({...h,onClick:()=>{h.subMenu?a(h.name):c(h.name)},isSubMenuOpen:r.includes(h.name),onSubMenuItemClick:b=>{c(b)}})),selectedMenuItemName:t,expandedSubMenus:r})})},f=(h,p)=>{for(const b of h){if(b.name===p)return b;if(b.subMenu){const x=f(b.subMenu,p);if(x)return x}}};return i.jsx("div",{className:"",children:d()})},dlt=[{id:"1",icon:Bc,title:"Profile",description:"View your profile",location:"Menu",generalMenuLocation:"Profile"},{id:"2",icon:Wr,title:"Student >> General",description:"Students general component (admission)",location:"Menu",generalMenuLocation:"General"},{id:"3",icon:Ir,title:"Student >> Section",description:"Update students sections",location:"Menu",generalMenuLocation:"Section"},{id:"4",icon:os,title:"Student >> Attendance",description:"Manage student attendance",location:"Menu",generalMenuLocation:"Attendance"},{id:"5",icon:Ad,title:"Configure >> Faculty & Class",description:"Configure faculties and classes",location:"Faculty & Class",generalMenuLocation:"Faculty & Classes"},{id:"6",icon:Ds,title:"Dashboard",description:"Teacher dashboard overview",location:"Menu",generalMenuLocation:"Dashboard"},{id:"7",icon:os,title:"Students >> Leave",description:"Approve student leave requests",location:"Menu",generalMenuLocation:"Leave"},{id:"8",icon:xl,title:"Students >> Review",description:"Student performance reviews",location:"Menu",generalMenuLocation:"Std Review"},{id:"9",icon:Za,title:"Assignment",description:"Manage assignments",location:"Menu",generalMenuLocation:"Assignment"},{id:"10",icon:X1,title:"Calendar",description:"Academic calendar",location:"Menu",generalMenuLocation:"Calendar"},{id:"11",icon:Ya,title:"Notes",description:"Subject notes and resources",location:"Menu",generalMenuLocation:"Notes"},{id:"12",icon:Ja,title:"Lesson Plan",description:"View and create lesson plans",location:"Menu",generalMenuLocation:"Lesson Plan"},{id:"13",icon:zc,title:"Bus",description:"Bus location and routes",location:"Menu",generalMenuLocation:"Bus"},{id:"14",icon:wa,title:"Result",description:"Marks entry and result view",location:"Menu",generalMenuLocation:"Result"}],flt=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=m.useRef(null);m.useEffect(()=>{r.current&&r.current.focus()},[]);const s=t?dlt.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())):[],a=o=>{e(o.location,o.generalMenuLocation),n("")};return i.jsx("div",{className:"flex items-center justify-center w-full px-4 py-2",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ua,{ref:r,placeholder:"Search...",startContent:i.jsx(Ai,{className:"w-5 h-5 text-gray-400"}),type:"text",value:t,onChange:o=>n(o.target.value),className:"w-full shadow-black shadow-large text-gray-800 border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.trim()!==""&&i.jsx("div",{className:"absolute left-0 right-0 z-10 mt-2 bg-gray-50/50 border border-gray-200 rounded-lg shadow-lg max-h-[84vh] overflow-y-auto",children:s.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 text-blue-500 transition-all",onClick:()=>a(o),children:[i.jsx(o.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),i.jsx("div",{className:"text-xs text-gray-500",children:o.description})]})]},o.id))}):i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results found."})})]})})},zQ=()=>{const{notifications:e,loading:t,userLoading:n,error:r,fetchNotifications:s,currentUser:a,currentUserType:o}=cm(),[l,c]=m.useState({}),[u,d]=m.useState(!1),f=m.useMemo(()=>{const p=new Set;return e.forEach(b=>{b.sender&&typeof b.sender=="string"&&b.sender.trim()!==""&&l[b.sender]===void 0&&(["system","admin"].includes(b.sender.toLowerCase())||p.add(b.sender))}),Array.from(p)},[e,l]);m.useEffect(()=>{if(f.length===0||u)return;(async()=>{d(!0);{console.error("TeacherNotificationPage Error: Appwrite Function ID for sender roles not set. Set VITE_APPWRITE_SENDER_ROLE_FUNCTION_ID.");const b=f.reduce((x,y)=>(x[y]=null,x),{});c(x=>({...x,...b})),d(!1);return}})()},[f,u]);const h=t||n||u;return i.jsx("div",{className:" flex justify-center",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg overflow-hidden dark:bg-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-700",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-200",children:"Teacher Notifications"}),h&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading..."}),i.jsx("button",{onClick:s,disabled:h,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh notifications",children:"Refresh"})]}),i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[r&&i.jsxs("p",{className:"p-4 text-center text-red-500 text-sm",children:["Error: ",r.message||"Failed to load notifications."]}),!h&&!r&&e.length===0&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No new notifications."}),!r&&e.length>0&&i.jsx("div",{children:e.map(p=>i.jsx(MQ,{notification:p,senderRole:l[p.sender]},p.$id))}),h&&e.length===0&&!r&&i.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"Loading notifications..."})]})]})})},hlt=()=>et.getState().dbId,mlt=hlt,plt="coll-teacher",uR=Gt()(rZ((e,t)=>({appwriteUser:null,teacherProfile:null,isLoading:!1,isInitialized:!1,error:null,initializeAuthAndProfile:async()=>{if(t().isLoading||t().isInitialized&&t().appwriteUser)return;e({isLoading:!0,error:null});let n=null;try{n=await ut.get(),e({appwriteUser:n})}catch(r){console.error("Authentication error:",r);let s="Failed to retrieve user session.";r.code===401?s="No active session. Please log in.":r.message&&(s=r.message),e({isLoading:!1,error:s,appwriteUser:null,teacherProfile:null,isInitialized:!0});return}if(n&&n.email)try{const r=await le.listDocuments(mlt,plt,[J.equal("email",n.email),J.limit(1)]);r.documents.length>0?e({teacherProfile:r.documents[0],isLoading:!1,error:null,isInitialized:!0}):e({teacherProfile:null,isLoading:!1,error:`Teacher profile not found for email: ${n.email}. Please contact administration.`,isInitialized:!0})}catch(r){console.error("Failed to fetch teacher profile:",r),e({teacherProfile:null,isLoading:!1,error:r.message||"Failed to fetch teacher profile data.",isInitialized:!0})}else n&&!n.email?e({isLoading:!1,error:"Authenticated user does not have an email address. Cannot fetch teacher profile.",teacherProfile:null,isInitialized:!0}):e({isLoading:!1,isInitialized:!0})},logout:async()=>{e({isLoading:!0});try{await ut.deleteSession("current")}catch(n){console.error("Logout failed:",n),e({error:n.message||"Logout failed."})}finally{t().resetStore(),e({isLoading:!1})}},resetStore:()=>{e({appwriteUser:null,teacherProfile:null,isLoading:!1,isInitialized:!1,error:null})}}),{name:"TeacherDashboardStore"})),VQ=()=>{const{appwriteUser:e,teacherProfile:t,isLoading:n,isInitialized:r,error:s,initializeAuthAndProfile:a,logout:o}=uR();m.useEffect(()=>{(!r||r&&!e&&!n)&&a()},[a,r,e,n]);const l=async()=>{await o()},c=()=>{uR.setState({isInitialized:!1,error:null}),a()};return!r&&n?i.jsxs("div",{className:"flex justify-center items-center h-screen",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"}),i.jsx("p",{className:"ml-4 text-lg",children:"Initializing Dashboard..."})]}):n?i.jsxs("div",{className:"flex justify-center items-center h-screen",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"}),i.jsx("p",{className:"ml-4 text-lg",children:"Loading Data..."})]}):r&&s&&!e?i.jsxs("div",{className:"container mx-auto p-6 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-xl text-gray-700",children:s}),i.jsx("div",{className:"mt-6 space-x-4",children:i.jsx("button",{onClick:c,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Retry"})})]}):r&&e&&!t?i.jsxs("div",{className:"container mx-auto p-6 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-orange-500 mb-4",children:"Profile Issue"}),i.jsx("p",{className:"text-xl text-gray-700",children:s||`Teacher profile not found for ${e.email}. Please ensure your teacher profile is set up.`}),i.jsx("p",{className:"mt-2 text-gray-500",children:"Contact administration if this issue persists."}),i.jsxs("div",{className:"mt-6 space-x-4",children:[i.jsx("button",{onClick:l,className:"px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Logout"}),i.jsx("button",{onClick:c,className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry Fetching Profile"})]})]}):r&&e&&t?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"container mx-auto",children:[i.jsx("header",{className:"mb-8 p-6 bg-white shadow-lg rounded-xl flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"Teacher Dashboard"}),i.jsxs("p",{className:"text-xl text-sky-600 mt-1",children:["Welcome back, ",i.jsxs("span",{className:"font-semibold",children:[t.name,"!"]})]})]})}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-4 ml-1",children:"General Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsx("h3",{className:"text-xl font-semibold text-sky-700 mb-3",children:"My Profile"}),i.jsxs("div",{className:"space-y-2 text-slate-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",t.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",t.email]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsx("h3",{className:"text-xl font-semibold text-sky-700 mb-3",children:"Quick Stats"}),i.jsxs("div",{className:"space-y-2 text-slate-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Classes Assigned:"})," ",i.jsx("span",{className:"font-bold text-sky-600",children:"0"})," (Upcoming)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Students:"})," ",i.jsx("span",{className:"font-bold text-sky-600",children:"0"})," (Upcoming)"]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[i.jsx("h3",{className:"text-xl font-semibold text-sky-700 mb-3",children:"School Announcements"}),i.jsx("div",{className:"space-y-2 text-slate-600",children:i.jsx("p",{className:"italic",children:"No new announcements. (Upcoming)"})})]})]})]}),i.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg",children:[i.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-4",children:"Upcoming Dashboard Features"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-600 pl-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Class Management:"})," View assigned classes, student rosters."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Student Information:"})," Access student profiles and progress."]})]})]})]})}):i.jsxs("div",{className:"container mx-auto p-6 text-center",children:[i.jsx("p",{className:"text-xl text-gray-700",children:"Unable to display dashboard. You might need to log in or there was an issue fetching your data."}),i.jsx("div",{className:"mt-6 space-x-4",children:i.jsx("button",{onClick:c,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Retry"})})]})},glt=()=>{const[e,t]=m.useState(()=>localStorage.getItem("activeMobileMenu")||"Dashboard"),[n,r]=m.useState(()=>localStorage.getItem("generalComponentMenuItem")||null),s=m.useRef(!0);m.useEffect(()=>{if(s.current){s.current=!1;const h=localStorage.getItem("activeMobileMenu"),p=localStorage.getItem("generalComponentMenuItem");h&&["Dashboard","Search","Menu","Notification","Braimy","Class","Subjects","CenterAction"].includes(h)?t(h):t("Dashboard"),p&&r(p)}},[]),m.useEffect(()=>{localStorage.setItem("activeMobileMenu",e)},[e]),m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",n||"")},[n]);const a=(h,p)=>{t(h),h==="Menu"?p?r(p):!p&&localStorage.getItem("generalComponentMenuItem")?r(localStorage.getItem("generalComponentMenuItem")):r(null):r(null)},o=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Braimy Settings"})," ",i.jsx("p",{className:"text-gray-700",children:"Configure Braimy related settings."})]}),l=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Classes"})," ",i.jsx("p",{className:"text-gray-700",children:"Manage your classes and schedules."})]}),c=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[" ",i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Subjects"})," ",i.jsx("p",{className:"text-gray-700",children:"View and manage subjects."})]}),d=[{name:"Dashboard",icon:i.jsx(y0,{className:"h-5 w-5"}),onClick:()=>a("Dashboard")},{name:"Search",icon:i.jsx(v0,{className:"h-5 w-5"}),onClick:()=>a("Search")},{name:"Menu",icon:i.jsx(x0,{className:"h-5 w-5"}),onClick:()=>a("Menu")},{name:"Notification",icon:i.jsx(O1,{className:"h-5 w-5"}),onClick:()=>a("Notification")}],f=()=>{switch(e){case"Dashboard":return i.jsx(VQ,{});case"Search":return i.jsx(flt,{setActiveItem:a});case"Menu":return i.jsx(ult,{initialMenuItem:n});case"Notification":return i.jsx(zQ,{});case"Braimy":return i.jsx(o,{});case"Class":return i.jsx(l,{});case"Subjects":return i.jsx(c,{});case"CenterAction":return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:"Center Action Content"});default:return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border text-center text-gray-500",children:"Select a menu item from below."})}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[" ",i.jsxs("div",{className:"flex-1 overflow-x-hidden overflow-y-auto p-2",children:[" ",i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[" ",f(),i.jsx(no,{})]})]}),i.jsxs("div",{className:"sticky bottom-0 bg-slate-300/25 rounded-t-lg backdrop-blur-sm border-t border-gray-200",children:[" ",i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[" ",i.jsx(P0,{menuItems:d,activeItemName:e,setActiveItemName:a})]})]})]})},blt=[{id:"1",icon:Ds,title:"Dashboard",description:"View your dashboard",location:"Menu"},{id:"2",icon:os,title:"Students >> Leave",description:"Approve student leave requests",location:"Students"},{id:"3",icon:xl,title:"Students >> Review",description:"Review student performance and feedback",location:"Students"},{id:"4",icon:Za,title:"Assignment",description:"Manage and review assignments",location:"Menu"},{id:"5",icon:Tr,title:"Calendar",description:"Nepali calendar view",location:"Menu"},{id:"6",icon:Ya,title:"Notes",description:"View and manage notes",location:"Menu"},{id:"7",icon:Ja,title:"Lesson Plan",description:"Access and edit lesson plans",location:"Menu"},{id:"8",icon:zc,title:"Bus",description:"Track school bus location",location:"Menu"},{id:"9",icon:wa,title:"Result",description:"Enter and manage exam results",location:"Menu"}],xlt=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=t?blt.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())):[],s=a=>{e(a.location),n("")};return i.jsxs("div",{className:"relative flex-col w-full max-w-lg mx-auto flex items-center",children:[i.jsx(Ua,{placeholder:"Search",startContent:i.jsx(Ai,{className:"w-5 h-5 text-default-400 pointer-events-none flex-shrink-0"}),type:"text",isClearable:!0,variant:"flat",value:t,onChange:a=>n(a.target.value),onClear:()=>n(""),className:"shadow-gray-600/10 hover:shadow-gray-300/10 bg-slate-200 shadow-md rounded-xl"}),t.trim()!==""&&i.jsx("div",{className:"results z-10 mt-12 absolute w-full bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.length>0?i.jsx("ul",{children:r.map(a=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 cursor-pointer text-blue-500 hover:bg-gray-100",onClick:()=>s(a),children:[i.jsx(a.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:a.title}),i.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No results found."})})]})},ylt=({toggleSidebar:e,setActiveItem:t})=>{const[n,r]=m.useState(null);Lh();const s=()=>l(!0),a=()=>l(!1),[o,l]=m.useState(!1),{teacherData:c,loading:u,error:d}=qJ(),{notifications:f,loading:h,currentUserType:p}=cm(),b=p==="teacher"&&!h?f.length:0,x=async()=>{try{await ut.deleteSession("current"),Ge.success("Logged out successfully!"),window.location.reload()}catch(y){console.error("Logout failed:",y),Ge.error(y.message||"Logout failed!")}};return m.useEffect(()=>{let y=!0;return ut.get().then(v=>{y&&v?r(v.email):y&&r(null)}).catch(v=>{y&&(console.error("TeacherNavbar: Failed to get user email:",v),r(null))}),()=>{y=!1}},[]),i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:"flex flex-row m-3 gap-4 sm:gap-6 items-center justify-between pr-2 rounded bg-white dark:bg-gray-800",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-700 hover:text-gray-900 font-semibold bg-gray-100 hover:bg-gray-200 rounded-md active:scale-95 transition-colors duration-150 ease-in-out dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600","aria-label":"Toggle sidebar",children:i.jsx(D0,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-grow min-w-0 px-2",children:[i.jsx(xlt,{setActiveItem:t})," "]}),i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-shrink-0",children:[i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsxs(Se,{isIconOnly:!0,variant:"light",className:"relative text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1 rounded-full dark:text-gray-400 dark:hover:text-gray-100","aria-label":"Notifications",children:[i.jsx(P$,{className:"w-6 h-6"}),p==="teacher"&&!h&&b>0&&i.jsx("span",{className:"absolute top-[5px] right-[5px] flex items-center justify-center h-[1.08rem] w-4.5 min-w-[1rem] rounded-full font-medium bg-red-500 text-white text-[13px] leading-none px-1 ring-2 ring-white dark:ring-gray-800 animate-bounce",title:`${b} new notifications`,children:b>9?"9+":b})]})}),i.jsx(Pc,{"aria-label":"Notification menu",className:"p-0 max-w-sm w-screen sm:w-auto dark:bg-gray-800",children:i.jsx(kr,{isReadOnly:!0,className:"p-0 focus:bg-transparent focus:outline-none cursor-default",children:p==="teacher"?i.jsx(zQ,{}):i.jsx("div",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:"Notifications unavailable."})},"notification-center")})]}),i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsx(Ha,{as:"button",showFallback:!0,name:u?void 0:(c==null?void 0:c.name)||"",classNames:{base:"bg-gradient-to-br from-green-500 to-teal-600 transition-transform ring-2 ring-offset-1 ring-transparent group-hover:ring-teal-300 dark:ring-offset-gray-800",name:"text-xs font-semibold text-white"},className:"cursor-pointer hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-1 rounded-full","aria-label":"User menu"})}),i.jsxs(Pc,{"aria-label":"User actions",variant:"faded",className:"dark:bg-gray-800",children:[i.jsx(As,{showDivider:!0,children:i.jsxs(kr,{isReadOnly:!0,className:"h-14 gap-2 opacity-90 cursor-default dark:text-gray-400",children:[i.jsx("p",{className:"font-semibold text-gray-800 truncate dark:text-gray-200",children:u?"Loading...":(c==null?void 0:c.name)||"Teacher User"}),i.jsx("p",{className:"font-normal text-gray-500 text-xs truncate dark:text-gray-400",children:n||"..."})]},"profile")}),i.jsx(As,{title:"Settings",children:i.jsx(kr,{className:"cursor-pointer",onPress:s,children:"Reset Password"},"reset-password")}),i.jsx(As,{title:"Actions",children:i.jsx(kr,{className:"text-danger dark:text-danger-400",color:"danger",startContent:i.jsx(S0,{className:"w-5 h-5 mr-1"}),onPress:x,children:"Logout"},"logout")})]})]})]})]}),i.jsx(Zc,{isOpen:o,onClose:a})]})},vlt=()=>et.getState().dbId,dR=vlt,wlt=m.createContext(void 0),Slt=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(null),[a,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=m.useCallback(async()=>{o(!0),c(null),n(null),s(null),d(!1);try{if(!dR||!RS)throw new Error("System Configuration Error: Database ID or Teacher Collection ID is not defined.");const h=await ut.get();if(n(h),h.labels.includes("teacher")){d(!0);const b=await le.listDocuments(dR,RS,[J.equal("$id",h.$id),J.limit(1)]);if(b.documents.length>0){const x=b.documents[0];s(x)}else console.warn(`TeacherContext: No teacher profile document found in '${RS}' for Appwrite User ID: ${h.$id}. The user has the 'teacher' label, but their profile is missing.`),c("Teacher profile data not found. Please contact support if you are a registered teacher.")}else c("Access Denied: You are not recognized as a teacher."),d(!1)}catch(h){if((h==null?void 0:h.code)===401||h instanceof Error&&h.message.toLowerCase().includes("user (role: guests) missing scope (account)"))c("You are not logged in. Please log in to access teacher features.");else{const p=h instanceof Error?h.message:"An unexpected error occurred while fetching teacher data.";console.error("TeacherContext: Error fetching teacher data:",h),c(p)}n(null),s(null),d(!1)}finally{o(!1)}},[]);return m.useEffect(()=>{f()},[f]),i.jsx(wlt.Provider,{value:{appwriteUser:t,teacherProfile:r,isLoading:a,error:l,isTeacher:u,refetchTeacherData:f},children:e})};function jlt(){const[e,t]=m.useState(()=>{const c=localStorage.getItem("sidebarState");return c?parseInt(c,10):0}),[n,r]=m.useState("Dashboard"),s=()=>{t(c=>{const u=c===0?1:0;return localStorage.setItem("sidebarState",u.toString()),u})},a=[{name:"Dashboard",icon:Ds,component:VQ},{name:"Students",icon:w0,children:[{name:"Leave",icon:os,component:LQ},{name:"Std Review",icon:xl,component:BQ}]},{name:"Assignment",icon:Za,component:_Q},{name:"Calendar",icon:Tr,component:Ld},{name:"Notes",icon:Ya,component:FQ},{name:"Lesson Plan",icon:Ja,component:RQ},{name:"Bus",icon:zc,component:oo},{name:"Result",icon:wa,component:dw}],l=(()=>{const c=a.find(u=>u.name===n);if(c&&c.component)return c.component;for(const u of a)if(u.children){const d=u.children.find(f=>f.name===n);if(d&&d.component)return d.component}return()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Content Not Found"}),i.jsx("p",{children:"No component defined for this menu item."})]})})();return i.jsx(Slt,{children:i.jsxs("div",{className:"flex max-h-screen min-h-screen bg-gray-100/40",children:[i.jsx(Y0,{sidebarState:e,toggleSidebar:s,setActiveItem:r,activeItem:n,sidebarItems:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(ylt,{toggleSidebar:s,setActiveItem:r})," ",i.jsxs("main",{className:"flex-1 overflow-auto mb-2 mr-2 max-w-full",children:[i.jsx(l,{}),i.jsx(no,{})," "," "]})]})]})})}const Clt=()=>{const e=A0({minWidth:767});return i.jsx(FA,{children:i.jsx(UJ,{children:i.jsx(Tst,{children:i.jsx(BA,{children:e?i.jsx("div",{children:i.jsx(jlt,{})}):i.jsx("div",{children:i.jsx(glt,{})})})})})})},Nlt=()=>{const[e,t]=m.useState(!1),n=m.useRef(null),r=m.useCallback(a=>{a.stopPropagation(),t(!0)},[]),s=m.useCallback(()=>{t(!1)},[]);return m.useEffect(()=>{const a=o=>{n.current&&!n.current.contains(o.target)&&s()};return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e,s]),{isOpen:e,targetRef:n,openPopover:r,closePopover:s}},$lt=({color:e="currentColor",size:t=24,className:n=""})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:e,stroke:"black",strokeWidth:"0.3",viewBox:"0 0 24 24",style:{width:t,height:t},className:n,children:i.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-4.28 0-7.75 3.47-7.75 7.75 0 6.21 7.17 11.27 7.48 11.47a.75.75 0 0 0 .54.03c.31-.1 7.48-5.26 7.48-11.5 0-4.28-3.47-7.75-7.75-7.75Zm0 10.5a2.75 2.75 0 1 1 0-5.5 2.75 2.75 0 0 1 0 5.5Z",clipRule:"evenodd"})});function Elt(e){let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t=t&t;return`hsl(${Math.abs(t)%360}, 70%, 50%)`}const Alt=m.lazy(()=>Cd(()=>import("./MapDisplay-Bnyed6WG.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,13]))),Plt=()=>et.getState().dbId,Dlt=Plt,Gl=Dlt,Mo="coll-drivers",klt=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(""),[s,a]=m.useState(null),[o,l]=m.useState(null);Nlt();const[c,u]=m.useState(!1),[d,f]=m.useState(!1),h=()=>u(!0),p=()=>u(!1),b=async()=>{try{await ut.deleteSession("current"),Ke.success("Logged out successfully!"),window.location.reload()}catch(z){Ke.error(z.message||"Logout failed!")}},[x,y]=m.useState(null),[v,j]=m.useState("Initializing..."),[S,N]=m.useState([]),[C,$]=m.useState({}),[P,E]=m.useState(null),M=m.useRef(null),k=m.useRef(!1),A=m.useRef(!0),I=m.useCallback(z=>{$(U=>{let H=!1;const B={...U};return z.forEach(Y=>{Y.id&&!B[Y.id]&&(B[Y.id]=Elt(Y.id),H=!0)}),H?B:U})},[]);m.useEffect(()=>(A.current=!0,()=>{A.current=!1,M.current!==null&&(navigator.geolocation.clearWatch(M.current),M.current=null)}),[]),m.useEffect(()=>{(async()=>{if(A.current){j("Fetching driver identity..."),y(null);try{const U=await ut.get();if(A.current){if(!U.email)throw new Error("Logged-in user is missing an email address.");t(U.email),a(U.$id),r(U.name||`Driver ${U.$id.substring(0,6)}`),j("Driver identity confirmed. Locating driver document...")}}catch(U){console.error("Failed to get current user:",U),A.current&&(y(`Could not get driver identity: ${U.message||"Please ensure you are logged in."}`),j("Error"))}}})()},[]);const L=m.useCallback(async(z,U)=>{if(!(!z||!A.current)){y(null),j(`Searching for document linked to ${z}...`);try{const H=await le.listDocuments(Gl,Mo,[J.equal("email",z),J.limit(1)]);if(H.documents.length>0){if(!A.current)return;const B=H.documents[0];l(B.$id),j("Driver document found. Starting tracking."),B.driverName!==U&&await le.updateDocument(Gl,Mo,B.$id,{driverName:U})}else console.error(`No document found in collection '${Mo}' for email: ${z}`),A.current&&(y(`Configuration error: No driver document found for your email (${z}). Please create one or contact support.`),j("Error - Document Not Found"))}catch(H){console.error("Error finding driver document by email:",H),A.current&&(y(`Error finding driver document: ${H.message||"Database query failed"}`),j("Error"))}}},[Gl,Mo]);m.useEffect(()=>{e&&n&&!o&&L(e,n)},[e,n,o,L]);const R=m.useCallback(async(z,U)=>{if(!(!o||!A.current||k.current)){k.current=!0;try{const H={latitude:z.toString(),longitude:U.toString(),timestamp:new Date().toISOString()};await le.updateDocument(Gl,Mo,o,H),A.current&&j(B=>B.startsWith("Geolocation Error")?B:`Location Updated: ${new Date().toLocaleTimeString()}`)}catch(H){console.error(`Failed to update location in document ${o}:`,H),A.current&&y(`Sync Error: ${H.message||"Could not update location in database"}`)}finally{k.current=!1}}},[o,Gl,Mo,s]);m.useEffect(()=>{if(!o||!navigator.geolocation){!navigator.geolocation&&o&&A.current&&(y("Geolocation is not supported by this browser."),j("Error - Geolocation Not Supported"));return}M.current!==null&&(navigator.geolocation.clearWatch(M.current),M.current=null);const z=B=>{if(!A.current)return;const{latitude:Y,longitude:ae}=B.coords;y(null),j("Tracking active..."),R(Y,ae);const ce={id:o,latitude:Y,longitude:ae,timestamp:new Date().toISOString(),driverName:n,email:e||void 0};N(oe=>{const Q=oe.findIndex(K=>K.id===o);if(Q>-1){const K=[...oe];return K[Q]=ce,K}else return[...oe,ce]}),I([ce])},U=B=>{if(!A.current)return;console.error("Geolocation error:",B);let Y=`Geolocation Error: ${B.message} (Code: ${B.code})`;switch(B.code){case B.PERMISSION_DENIED:Y="Geolocation permission denied.";break;case B.POSITION_UNAVAILABLE:Y="Location information is unavailable.";break;case B.TIMEOUT:Y="Geolocation request timed out.";break}y(Y),j("Geolocation Error")},H={enableHighAccuracy:!0,timeout:15e3,maximumAge:5e3};j("Attempting to start location watch...");try{M.current=navigator.geolocation.watchPosition(z,U,H),A.current&&j("Location watch active.")}catch(B){A.current&&(console.error("Could not start watchPosition:",B),y("Failed to start native location tracking."),j("Error"))}},[o,R,n,e,I]),m.useEffect(()=>{let z=null;const U=B=>{const Y=parseFloat(B.latitude),ae=parseFloat(B.longitude);return isNaN(Y)||isNaN(ae)?(console.warn(`Invalid coordinates in DB doc ${B.$id}: lat='${B.latitude}', lon='${B.longitude}'. Skipping.`),null):{id:B.$id,latitude:Y,longitude:ae,driverName:B.driverName,timestamp:B.timestamp,route:B.route,email:B.email}};return(async()=>{if(A.current){j(B=>B.includes("active")||B.includes("found")?`${B} Fetching locations...`:"Fetching locations..."),y(null);try{const B=await le.listDocuments(Gl,Mo);if(!A.current)return;const Y=B.documents.map(U).filter(ae=>ae!==null);N(Y),I(Y),j(ae=>ae.includes("active")?ae:"Subscribing to updates..."),z=e4.subscribe(`databases.${Gl}.collections.${Mo}.documents`,ae=>{if(!A.current)return;const ce=ae.payload,oe=ce.$id,Q=ae.events[0];let K=null;(Q.includes(".create")||Q.includes(".update"))&&(K=U(ce)),N(ne=>{let te=ne;if(Q.includes(".delete"))te=ne.filter(X=>X.id!==oe);else if(K){const X=ne.findIndex(xe=>xe.id===oe);X>-1?(te=[...ne],te[X]=K):te=[...ne,K]}return te}),K&&I([K])}),j(ae=>ae.includes("active")||ae.includes("Error")?ae:"Live updates enabled.")}catch(B){console.error("Error fetching initial locations or subscribing:",B),A.current&&(y(`Load/Subscribe Error: ${B.message}`),j("Error"))}}})(),()=>{z&&z()}},[Gl,Mo,I]);const F=()=>i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-200 animate-pulse",children:i.jsx("p",{className:"text-gray-500",children:"Loading Map..."})}),T=m.useMemo(()=>[...S].sort((z,U)=>(z.driverName||"").localeCompare(U.driverName||"")),[S]),[O,_]=m.useState(!0),W=O?"h-84":"h-[7.3rem]";return i.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100",children:[i.jsxs("div",{className:"flex-grow bg-gray-300 relative mt-3",children:[" ",i.jsx(m.Suspense,{fallback:i.jsx(F,{}),children:i.jsx(Alt,{locations:S,colors:C,currentDriverId:P||void 0,fitBounds:!0})})]}),i.jsxs("div",{className:`
                w-full md:w-96  bg-gray-50 border-r border-gray-200 flex-shrink-0 shadow-md md:shadow-none
                transition-height duration-300 ease-in-out overflow-hidden sm:pr-2
                ${W} /* Set the height dynamically */
            `,children:[i.jsxs("div",{className:"p-3 bg-blue-100 border border-blue-200 shadow-sm mb-4 rounded-md flex items-center justify-between",children:[" ",i.jsxs("div",{children:[i.jsx("button",{className:"p-2 absolute sm:hidden right-5 rounded-full   hover:bg-gray-300 focus:outline-none",onClick:()=>_(!O),"aria-label":O?"Collapse Driver List":"Expand Driver List",children:O?i.jsx(uB,{className:"text-gray-700"}):i.jsx(cB,{className:"text-gray-700"})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Driver Info"}),n&&i.jsxs("p",{className:"text-sm text-gray-700 break-words",children:["Driver: ",i.jsx("span",{className:"font-medium",children:n})]}),e&&i.jsxs("p",{className:"text-xs text-gray-600 break-words",children:["Email: ",e]}),i.jsxs("p",{className:"text-sm mt-2",children:["Status:"," ",i.jsx("span",{className:`font-semibold ${x||v.includes("Error")?"text-red-600":v.includes("active")?"text-green-600":"text-blue-600"}`,children:v})]}),x&&i.jsxs("p",{className:"text-red-700 bg-red-100 p-2 rounded text-xs mt-2 border border-red-200",children:["Error: ",x]})]}),i.jsxs(Se,{className:" top-6 right-2    ",variant:"ghost",color:"danger","mb-5":!0,onClick:()=>{h(),_(!0)},children:[" ","Logout"," "]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[i.jsx("h3",{className:"text-md font-semibold p-3 bg-gray-100 border-b border-gray-200",children:"Active Drivers"}),T.length===0?i.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No other drivers currently active or available."}):i.jsxs("ul",{className:"divide-y divide-gray-200 max-h-[calc(100vh-280px)] overflow-y-auto",children:[" ",T.map(z=>i.jsxs("li",{className:`p-3 flex items-center space-x-3 transition-colors duration-150 ease-in-out hover:bg-gray-50 ${z.id===o?"bg-blue-50 border-l-4 border-blue-500 font-medium":""}`,onClick:()=>E(z.id),children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx($lt,{color:C[z.id]||"gray",size:30})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm text-gray-900 truncate",title:z.driverName,children:[z.driverName||`Driver ${z.id.substring(0,6)}`,z.id===o&&i.jsxs("span",{className:"text-xs text-blue-700 font-normal",children:[" ","(You)"]})]}),z.route&&i.jsxs("p",{className:"text-xs text-gray-500 truncate",title:`Route: ${z.route}`,children:["Route: ",z.route]})]})]},z.id))]})]})]}),c&&i.jsxs("div",{className:"sticky  bg-white border rounded shadow-md z-50 w-64 translate-x-[50%]",children:[i.jsx("div",{className:"p-3",children:i.jsx("p",{className:"text-gray-700",children:"Are you sure you want to log out?"})}),i.jsxs("div",{className:"flex justify-end p-3 border-t",children:[i.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white hover:bg-red-700",onClick:b,children:"Logout"}),i.jsx("button",{className:"px-4 py-2 rounded text-gray-600 hover:bg-gray-100",onClick:p,children:"Cancel"})]})]})]})};let fR=0;const Ilt=()=>{const e=m.useRef(null),t=m.useRef(null),[n,r]=m.useState(!1),s=m.useRef([]),[a,o]=m.useState(!1),[l,c]=m.useState(5),[u,d]=m.useState(null);m.useEffect(()=>{(async()=>{await boe.tinyFaceDetector.loadFromUri("/models"),r(!0)})()},[]),m.useEffect(()=>{(async()=>{try{const p=await navigator.mediaDevices.getUserMedia({video:!0});e.current&&(e.current.srcObject=p)}catch(p){console.error("Camera error:",p)}})()},[]),m.useEffect(()=>{if(!n||!e.current||!t.current)return;const h=e.current,p=t.current,x=setInterval(async()=>{const y={width:h.videoWidth,height:h.videoHeight};p.width=y.width,p.height=y.height;const v=await xoe(h,new yoe),j=voe(v,y),S=Date.now(),N=j.map($=>{const P=s.current.find(E=>{const M=Math.abs(E.box.x-$.box.x),k=Math.abs(E.box.y-$.box.y);return M<30&&k<30});return P?{...P,box:$.box,color:S-P.timestamp>500?"green":"red"}:{id:fR++,box:$.box,timestamp:S,color:"red"}});s.current=N;const C=t.current.getContext("2d");if(C)if(C.clearRect(0,0,t.current.width,t.current.height),s.current.forEach(({box:$,color:P})=>{C.strokeStyle=P,C.lineWidth=2,C.strokeRect($.x,$.y,$.width,$.height)}),s.current.length>0&&s.current.every($=>$.color==="green")&&!a){const $=setInterval(()=>{c(P=>P-1)},1e3);return l<=0&&(clearInterval($),o(!0),d(s.current[0].id)),()=>clearInterval($)}else c(5)},100);return()=>clearInterval(x)},[n,a,l]);const f=()=>{o(!1),d(null),fR++};return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[i.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-8",children:"Facial Attendance System"}),i.jsxs("div",{className:"relative w-full max-w-xl  rounded-lg shadow-xl overflow-hidden p-1 mx-auto",children:[i.jsx("video",{ref:e,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-auto object-cover rounded-lg",style:{aspectRatio:"4/3"},onLoadedMetadata:()=>{var h;return(h=e.current)==null?void 0:h.play()}}),i.jsx("canvas",{ref:t,className:"absolute top-0 left-0 w-full h-full pointer-events-none"}),a&&i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-green-500 bg-opacity-50 flex items-center justify-center",children:i.jsx("p",{className:"text-white text-2xl font-bold",children:"Attendance Marked!"})}),!a&&s.current.length>0&&s.current.every(h=>h.color==="green")&&i.jsxs("div",{className:"absolute bottom-4 left-4 bg-blue-500 text-white py-2 px-4 rounded-md shadow-md",children:["Marking attendance in ",l," seconds..."]})]}),i.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Make sure your face is clearly visible in the camera."}),i.jsx("div",{className:"mt-4 text-sm text-gray-500",children:a?"You can leave now. Attendance marked successfully":"Please keep your face in view until attendance is marked."}),a&&i.jsx("button",{onClick:f,className:"mt-8 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Next Person"})]})},Tlt=({initialMenuItem:e})=>{const[t,n]=m.useState(()=>e!==void 0?e:localStorage.getItem("generalComponentMenuItem")||null),[r,s]=m.useState(()=>{const h=localStorage.getItem("expandedSubMenus");return h?JSON.parse(h):[]});m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",t||""),localStorage.setItem("expandedSubMenus",JSON.stringify(r))},[t,r]);const a=h=>{s(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},l={General:{menu:[{name:"Students",icon:i.jsx(w0,{className:"h-5 w-5"}),onClick:()=>{}},{name:"Configure",icon:i.jsx(k$,{className:"h-6 w-6"}),onClick:()=>{}},{name:"Bus",icon:i.jsx(Bc,{className:"h-5 w-5"}),component:oo,onClick:()=>{}}]}}.General.menu,c=h=>{n(h)},u=()=>{n(null)},d=()=>{if(t){const h=f(l,t);if(h&&h.component)return i.jsxs("div",{children:[i.jsx(M0,{title:t,onBack:u}),i.jsx("div",{className:" mt-[3.25rem] w-full h-fulll",children:Z.createElement(h.component)})]})}return i.jsx("div",{className:"",children:i.jsx(T0,{menuItems:l.map(h=>({...h,onClick:()=>{h.subMenu?a(h.name):c(h.name)},isSubMenuOpen:r.includes(h.name),onSubMenuItemClick:b=>{c(b)}})),selectedMenuItemName:t,expandedSubMenus:r})})},f=(h,p)=>{for(const b of h){if(b.name===p)return b;if(b.subMenu){const x=f(b.subMenu,p);if(x)return x}}};return i.jsx("div",{className:"",children:d()})},Mlt=[{id:"1",icon:Bc,title:"Profile",description:"View your profile",location:"Menu",generalMenuLocation:"Profile"},{id:"2",icon:Wr,title:"Student >> General",description:"Students general component (admission)",location:"Menu",generalMenuLocation:"General"},{id:"3",icon:Ir,title:"Student >> Section",description:"Update students sections",location:"Menu",generalMenuLocation:"Section"},{id:"4",icon:os,title:"Student >> Attendance",description:"Manage student attendance",location:"Menu",generalMenuLocation:"Attendance"},{id:"5",icon:Ad,title:"Configure >> Faculty & Class",description:"Configure faculties and classes",location:"Faculty & Class",generalMenuLocation:"Faculty & Classes"},{id:"6",icon:Ir,title:"Configure >> Section & Subject",description:"Configure sections and subjects",location:"Menu",generalMenuLocation:"Section & Subject"},{id:"7",icon:X1,title:"Calendar",description:"Neplai calendar for your time series",location:"Calendar"}],Olt=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=m.useRef(null);m.useEffect(()=>{r.current&&r.current.focus()},[]);const s=t?Mlt.filter(o=>o.title.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())):[],a=o=>{e(o.location,o.generalMenuLocation),n("")};return i.jsx("div",{className:"flex items-center justify-center w-full px-4 py-2",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ua,{ref:r,placeholder:"Search...",startContent:i.jsx(Ai,{className:"w-5 h-5 text-gray-400"}),type:"text",value:t,onChange:o=>n(o.target.value),className:"w-full shadow-black shadow-large text-gray-800 border-gray-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.trim()!==""&&i.jsx("div",{className:"absolute left-0 right-0 z-10 mt-2 bg-gray-50/50 border border-gray-200 rounded-lg shadow-lg max-h-[84vh] overflow-y-auto",children:s.length>0?i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 text-blue-500 transition-all",onClick:()=>a(o),children:[i.jsx(o.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.title}),i.jsx("div",{className:"text-xs text-gray-500",children:o.description})]})]},o.id))}):i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results found."})})]})})},Llt=()=>{const[e,t]=m.useState(()=>localStorage.getItem("activeMobileMenu")||"Dashboard"),[n,r]=m.useState(()=>localStorage.getItem("generalComponentMenuItem")||null),s=m.useRef(!0);m.useEffect(()=>{if(s.current){s.current=!1;const p=localStorage.getItem("activeMobileMenu"),b=localStorage.getItem("generalComponentMenuItem");p&&["Dashboard","Search","Menu","Notification","Braimy","Class","Subjects","CenterAction"].includes(p)?t(p):t("Dashboard"),b&&r(b)}},[]),m.useEffect(()=>{localStorage.setItem("activeMobileMenu",e)},[e]),m.useEffect(()=>{localStorage.setItem("generalComponentMenuItem",n||"")},[n]);const a=(p,b)=>{t(p),p==="Menu"?b?r(b):!b&&localStorage.getItem("generalComponentMenuItem")?r(localStorage.getItem("generalComponentMenuItem")):r(null):r(null)},o=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notifications"}),i.jsx("p",{className:"text-gray-700",children:"Check your latest notifications and updates here."})]}),l=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Braimy Settings"}),i.jsx("p",{className:"text-gray-700",children:"Configure Braimy related settings."})]}),c=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Classes"}),i.jsx("p",{className:"text-gray-700",children:"Manage your classes and schedules."})]}),u=()=>i.jsxs("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Subjects"}),i.jsx("p",{className:"text-gray-700",children:"View and manage subjects."})]}),f=[{name:"Dashboard",icon:i.jsx(y0,{className:"h-5 w-5"}),onClick:()=>a("Dashboard")},{name:"Search",icon:i.jsx(v0,{className:"h-5 w-5"}),onClick:()=>a("Search")},{name:"Menu",icon:i.jsx(x0,{className:"h-5 w-5"}),onClick:()=>a("Menu")},{name:"Notification",icon:i.jsx(O1,{className:"h-5 w-5"}),onClick:()=>a("Notification")}],h=()=>{switch(e){case"Search":return i.jsx(Olt,{setActiveItem:a});case"Menu":return i.jsx(Tlt,{initialMenuItem:n});case"Notification":return i.jsx(o,{});case"Braimy":return i.jsx(l,{});case"Class":return i.jsx(c,{});case"Subjects":return i.jsx(u,{});case"CenterAction":return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border",children:"Center Action Content"});default:return i.jsx("div",{className:"p-6 bg-white rounded-md shadow-sm border text-center text-gray-500",children:"Select a menu item from below."})}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[i.jsx("div",{className:"flex-1 overflow-x-hidden overflow-y-auto p-2",children:i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[h(),i.jsx(no,{})]})}),i.jsx("div",{className:"sticky bottom-0 bg-slate-300/90 rounded-t-lg backdrop-blur-sm border-t border-gray-200",children:i.jsx("div",{className:"container mx-auto max-w-3xl",children:i.jsx(P0,{menuItems:f,activeItemName:e,setActiveItemName:a})})})]})},WQ=m.createContext(void 0),_lt=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,o]=m.useState(null),l=async()=>{s(!0),o(null);try{const c=await ut.get();if(!c)throw new Error("No authenticated user found.");await new Promise(u=>setTimeout(u,1e3)),n({id:c.$id,name:c.name||`Librarian ${c.email.split("@")[0]}`,email:c.email,employeeId:"EMP"+Math.floor(Math.random()*1e4),department:"General Library Services"})}catch(c){console.error("Failed to fetch librarian data:",c),o(c.message||"An unknown error occurred while fetching librarian data."),n(null)}finally{s(!1)}};return m.useEffect(()=>{l()},[]),i.jsx(WQ.Provider,{value:{librarianData:t,loading:r,error:a,refetchLibrarianData:l},children:e})},Flt=()=>{const e=m.useContext(WQ);if(e===void 0)throw new Error("useLibrarianData must be used within a LibrarianDataProvider");return e},Rlt=[{id:"1",icon:Ds,title:"Dashboard",description:"View your dashboard",location:"Dashboard"},{id:"2",icon:Wr,title:"Student >> General",description:"Students general component (admission)",location:"General"},{id:"3",icon:Ir,title:"Student >> Section",description:"Update students sections",location:"Section"},{id:"4",icon:os,title:"Student >> Attendance",description:"Manage student attendance",location:"Attendance"},{id:"5",icon:Ad,title:"Configure >> Faculty & Class",description:"Configure faculties and classes",location:"Faculty & Class"},{id:"6",icon:Ir,title:"Configure >> Section & Subject",description:"Configure sections and subjects",location:"Section & Subject"},{id:"7",icon:Tr,title:"Calendar",description:"Neplai calendar for your time series",location:"Calendar"}],Blt=({setActiveItem:e})=>{const[t,n]=m.useState(""),r=t?Rlt.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())):[],s=a=>{e(a.location),n("")};return i.jsxs("div",{className:"relative flex-col w-full max-w-lg mx-auto flex items-center",children:[i.jsx(Ua,{placeholder:"Search",startContent:i.jsx(Ai,{className:"w-5 h-5 text-default-400 pointer-events-none flex-shrink-0"}),type:"text",isClearable:!0,variant:"flat",value:t,onChange:a=>n(a.target.value),onClear:()=>n(""),className:"shadow-gray-600/10 hover:shadow-gray-300/10 bg-slate-200 shadow-md rounded-xl"}),t.trim()!==""&&i.jsx("div",{className:"results z-10 mt-12 absolute w-full bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.length>0?i.jsx("ul",{children:r.map(a=>i.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 cursor-pointer text-blue-500 hover:bg-gray-100",onClick:()=>s(a),children:[i.jsx(a.icon,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-800",children:a.title}),i.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}):i.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No results found."})})]})},zlt=({toggleSidebar:e,setActiveItem:t})=>{const[n,r]=m.useState(null);Lh();const s=()=>l(!0),a=()=>l(!1),[o,l]=m.useState(!1),{librarianData:c,loading:u,error:d}=Flt(),f=async()=>{try{await ut.deleteSession("current"),Ge.success("Logged out successfully!"),window.location.reload()}catch(h){console.error("Logout failed:",h),Ge.error(h.message||"Logout failed!")}};return m.useEffect(()=>{let h=!0;return ut.get().then(p=>{h&&p?r(p.email):h&&r(null)}).catch(p=>{h&&(console.error("Navbar: Failed to get user email:",p),r(null))}),()=>{h=!1}},[]),i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:"flex flex-row m-3 gap-4 sm:gap-6 items-center justify-between pr-2 rounded bg-white dark:bg-gray-800",children:[i.jsx("button",{onClick:e,className:"p-2 text-gray-700 hover:text-gray-900 font-semibold bg-gray-100 hover:bg-gray-200 rounded-md active:scale-95 transition-colors duration-150 ease-in-out dark:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600","aria-label":"Toggle sidebar",children:i.jsx(D0,{className:"w-6 h-6"})}),i.jsx("div",{className:"flex-grow min-w-0 px-2",children:i.jsx(Blt,{setActiveItem:t})}),i.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-shrink-0",children:i.jsxs(kc,{placement:"bottom-end",backdrop:"opaque",children:[i.jsx(Dc,{children:i.jsx(Ha,{as:"button",showFallback:!0,name:u?void 0:(c==null?void 0:c.name)||"",classNames:{base:"bg-gradient-to-br from-green-500 to-teal-600 transition-transform ring-2 ring-offset-1 ring-transparent group-hover:ring-teal-300 dark:ring-offset-gray-800",name:"text-xs font-semibold text-white"},className:"cursor-pointer hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-1 rounded-full","aria-label":"User menu"})}),i.jsxs(Pc,{"aria-label":"User actions",variant:"faded",className:"dark:bg-gray-800",children:[i.jsx(As,{showDivider:!0,children:i.jsxs(kr,{isReadOnly:!0,className:"h-14 gap-2 opacity-90 cursor-default dark:text-gray-400",children:[i.jsx("p",{className:"font-semibold text-gray-800 truncate dark:text-gray-200",children:u?"Loading...":(c==null?void 0:c.name)||"Librarian User"}),i.jsx("p",{className:"font-normal text-gray-500 text-xs truncate dark:text-gray-400",children:n||"..."})]},"profile")}),i.jsx(As,{title:"Settings",children:i.jsx(kr,{className:"cursor-pointer",onPress:s,children:"Reset Password"},"reset-password")}),i.jsx(As,{title:"Actions",children:i.jsx(kr,{className:"text-danger dark:text-danger-400",color:"danger",startContent:i.jsx(S0,{className:"w-5 h-5 mr-1"}),onPress:f,children:"Logout"},"logout")})]})]})})]}),i.jsx(Zc,{isOpen:o,onClose:a})]})},C2=({title:e,actionButton:t})=>i.jsxs("div",{className:"mb-6 md:flex md:items-center md:justify-between",children:[i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("h2",{className:"text-2xl font-medium leading-tight text-gray-900 sm:text-3xl sm:tracking-tight",children:e})}),t&&i.jsx("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:t})]}),KA=({columns:e,data:t,isLoading:n=!1,emptyStateMessage:r="No data available."})=>n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.length===0&&!n?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 mx-auto mb-2 text-gray-400",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),r]}):i.jsx("div",{className:"flow-root",children:i.jsx("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:i.jsx("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:i.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsx("tr",{children:e.map(s=>i.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",style:s.size?{flexBasis:`${s.size}%`}:{},children:s.header},String(s.accessorKey)))})}),i.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map((s,a)=>i.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:e.map(o=>i.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-700 sm:pl-6",children:o.cell?o.cell(s):String(s[o.accessorKey]??"")},`${String(o.accessorKey)}-${s.$id||a}`))},s.$id||`row-${a}`))})]})})})})}),Vlt=({initialData:e,onSubmit:t,onClose:n,isSubmitting:r})=>{const[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState({});m.useEffect(()=>{e?(a(e.name),l(e.description||"")):(a(""),l(""))},[e]);const d=()=>{const h={};return s.trim()||(h.name="Genre name is required."),u(h),Object.keys(h).length===0},f=async h=>{h.preventDefault(),d()&&await t({name:s,description:o})};return i.jsxs("form",{onSubmit:f,className:"space-y-6 p-1",children:[i.jsx("div",{children:i.jsx(Ve,{label:"Genre Name",placeholder:"e.g., Science Fiction",value:s,onValueChange:a,isInvalid:!!c.name,errorMessage:c.name,isRequired:!0,variant:"bordered",className:"w-full"})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"genre-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),i.jsx(Ss,{id:"genre-description",placeholder:"A brief description of the genre",value:o,onValueChange:l,variant:"bordered",className:"w-full min-h-[80px]"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[i.jsx(Se,{type:"button",color:"default",variant:"flat",onPress:n,isDisabled:r,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:r,isDisabled:r,children:e?"Update Genre":"Add Genre"})]})]})},UQ=({isLoading:e,message:t="Processing..."})=>e?i.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500 mb-4"}),i.jsx("p",{className:"text-white text-lg font-semibold",children:t})]}):null,Wlt=()=>et.getState().dbId,Ult=Wlt,Tn=Ult,Klt="coll-faculty",HA="coll-student",Hlt="coll-notify",qA="coll-teacher",qlt="coll-bookGenres",N2="coll-books",$2="coll-bookBorrowings",KQ=async e=>{if(!Tn)throw console.error("NotificationService: Database ID or Notifications Collection ID is not configured."),new Error("Notification service is not properly configured.");const t={...e,date:e.date||new Date().toISOString()};try{return await le.createDocument(Tn,Hlt,dn.unique(),t)}catch(n){throw console.error("[NotificationService] Error creating notification:",n),n}},HQ=e=>/^\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01])$/.test(e),ic=e=>{if(!e)return"-";let t=e;if(e.includes("T")&&(t=e.split("T")[0]),!HQ(t))return"Invalid AD Fmt";try{const[n,r,s]=t.split("-").map(Number),a=new Date(Date.UTC(n,r-1,s));if(isNaN(a.getTime()))return"Invalid AD Date";const o=new Hn(a),l=o.getYear(),c=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0");return`${l}-${c}-${u}`}catch(n){return console.error("AD to BS Conversion failed for:",e,n),"Conv. Error"}},Glt=e=>{if(!e||!HQ(e))return null;try{const[t,n,r]=e.split("-").map(Number),a=new Hn(t,n-1,r).toJsDate();if(isNaN(a.getTime()))return null;const o=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`${o}-${l}-${c}`}catch(t){return console.error("BS to AD Conversion failed for:",e,t),null}},qQ=()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},hR=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Ylt=()=>{const e=new Date,t=new Hn(e),n=t.getYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`},Xlt=async(e=500)=>{if(!Tn)return console.error("fetchAllBorrowingsForDashboard: Collection or DB ID not defined."),[];try{return(await le.listDocuments(Tn,$2,[J.limit(e),J.orderDesc("$createdAt")])).documents}catch(t){throw console.error("Error fetching all borrowings for dashboard from service:",t),t}},_5=async()=>{if(!Tn)return console.error("fetchGenres: Book Genres Collection ID or DB ID is not defined."),[];try{return(await le.listDocuments(Tn,qlt)).documents}catch(e){throw console.error("Error fetching genres from service:",e),e}},F5=async e=>{if(!Tn)return console.error("fetchBookById: Books Collection or DB ID not defined"),null;try{return await le.getDocument(Tn,N2,e)}catch(t){return t.code!==404&&console.error(`Error fetching book by ID ${e}:`,t),null}},R5=async(e,t=25)=>{if(!Tn)return console.error("fetchBooks: Collection or DB ID not defined."),[];const n=[J.limit(t),J.orderDesc("$createdAt")];e&&e.trim()&&n.push(J.search("name",e.trim()));try{return(await le.listDocuments(Tn,N2,n)).documents}catch(r){return console.error("Error fetching books:",r),[]}},JN=async e=>{if(!Tn)return console.error("fetchBorrowedBooks: Collection or DB ID not defined."),[];const t=[J.orderDesc("borrowDate")];e!=null&&e.userId&&t.push(J.equal("userId",e.userId)),e!=null&&e.status&&t.push(J.equal("status",e.status)),t.push(J.limit(100));try{return(await le.listDocuments(Tn,$2,t)).documents}catch(n){return console.error("Error fetching borrowed books:",n),[]}},GQ=async(e,t,n,r)=>{if(!Tn)throw new Error("borrowBook: Critical Appwrite IDs are not defined.");if(t.availableCopies<=0)throw new Error(`Book "${r}" (ID: ${t.id}) is not available for borrowing.`);const s=await Jo();s||console.warn("[LibraryService] borrowBook: Could not get sender email. Borrowing will proceed without sender info on record.");const a=await le.createDocument(Tn,$2,QN.unique(),{...e,status:"borrowed",borrowedByStaffEmail:s||"unknown_staff"});if(await le.updateDocument(Tn,N2,t.id,{availableCopies:t.availableCopies-1}),s)try{const o={title:`Book Borrowed: ${r}`,msg:`The book "${r}" has been borrowed. Due Date: ${ic(e.dueDate)}.`,to:[`id:${n}`],valid:qQ(),sender:s,date:new Date().toISOString()};await KQ(o)}catch(o){console.error("[LibraryService] Failed to send borrow notification:",o)}else console.warn("[LibraryService] Skipping borrow notification due to missing staff email.");return a},YQ=async(e,t,n,r)=>{if(!Tn)throw new Error("returnBook: Critical Appwrite IDs are not defined.");const s=await Jo();s||console.warn("[LibraryService] returnBook: Could not get sender email. Return will proceed without sender info on record.");const a=await le.updateDocument(Tn,$2,e,{status:"returned",returnDate:new Date().toISOString(),returnedByStaffEmail:s||"unknown_staff"}),o=Math.min(t.availableCopies+1,t.totalCopies);if(await le.updateDocument(Tn,N2,t.id,{availableCopies:o}),s)try{const l={title:`Book Returned: ${r}`,msg:`The book "${r}" has been successfully returned. Thank you!`,to:[`id:${n}`],valid:qQ(),sender:s,date:new Date().toISOString()};await KQ(l)}catch(l){console.error("[LibraryService] Failed to send return notification:",l)}else console.warn("[LibraryService] Skipping return notification due to missing staff email.");return a},tg=async(e,t,n=25)=>{const r=t==="student"?HA:qA;if(!r)return console.error(`searchUsers: Collection ID for ${t} is not defined.`),[];if(!Tn)return console.error("searchUsers: Appwrite Database ID is not defined."),[];try{const s=[J.limit(n)];e.trim()?s.push(J.or([J.search("name",e),J.search("id",e)])):s.push(J.orderDesc("$createdAt"));const a=await le.listDocuments(Tn,r,s);return t==="student"?a.documents.map(o=>{const l=o;return{$id:l.$id,id:l.id,name:l.name,email:l.stdEmail,type:"student",class:l.class,facultyId:l.facultyId,isLibraryMember:l.isLibraryMember||!1}}):a.documents.map(o=>{const l=o;return{$id:l.$id,id:l.id,name:l.name,email:l.email,type:"teacher",isLibraryMember:l.isLibraryMember||!1}})}catch(s){return console.error(`Error searching ${t}s:`,s),[]}},Zlt=async(e,t)=>{const n=t==="student"?HA:qA;if(!n||!Tn)return console.error(`getUserByCustomId: Collection or DB ID missing for ${t}`),null;try{const r=await le.listDocuments(Tn,n,[J.equal("id",e),J.limit(1)]);if(r.documents.length>0){const s=r.documents[0];if(t==="student"){const a=s;return{$id:a.$id,id:a.id,name:a.name,email:a.stdEmail,type:"student",class:a.class,facultyId:a.facultyId,isLibraryMember:a.isLibraryMember||!1}}else{const a=s;return{$id:a.$id,id:a.id,name:a.name,email:a.email,type:"teacher",isLibraryMember:a.isLibraryMember||!1}}}return null}catch(r){return console.error(`Error fetching ${t} by custom ID ${e}:`,r),null}},Jlt=async(e,t,n)=>{const r=t==="student"?HA:qA;if(!r||!Tn)throw new Error(`updateUserLibraryMembershipStatus: Collection or DB ID missing for ${t}`);return le.updateDocument(Tn,r,e,{isLibraryMember:n})},Qlt=async()=>{if(!Tn)return console.error("fetchFaculties: Faculty Collection or DB ID is not defined."),[];try{return(await le.listDocuments(Tn,Klt)).documents.map(t=>({id:t.$id,name:t.name}))}catch(e){return console.error("Error fetching faculties:",e),[]}},rb=Gt((e,t)=>({genres:[],isLoadingGenres:!1,fetchGenres:async()=>{e({isLoadingGenres:!0});try{const n=await _5();e({genres:n,isLoadingGenres:!1})}catch(n){throw console.error("Error fetching genres:",n),e({isLoadingGenres:!1}),n}},addGenre:async n=>{try{const r=await(void 0)(n);return e(s=>({genres:[...s.genres,r]})),r}catch(r){throw console.error("Error adding genre:",r),r}},updateGenre:async(n,r)=>{try{const s=await(void 0)(n,r);e(a=>({genres:a.genres.map(o=>o.$id===n?s:o)}))}catch(s){throw console.error("Error updating genre:",s),s}},deleteGenre:async n=>{try{await(void 0)(n),e(r=>({genres:r.genres.filter(s=>s.$id!==n)}))}catch(r){throw console.error("Error deleting genre:",r),r}},books:[],isLoadingBooks:!1,fetchBooks:async n=>{e({isLoadingBooks:!0});try{const r=await R5(n),s=t().genres.length>0?t().genres:await _5();t().genres.length===0&&e({genres:s});const a=r.map(o=>{const l=s.find(c=>c.$id===o.genreId);return{...o,genreName:(l==null?void 0:l.name)||"Unknown Genre"}});e({books:a,isLoadingBooks:!1})}catch(r){throw console.error("Error fetching books:",r),e({isLoadingBooks:!1}),r}},addBook:async n=>{try{const r=await(void 0)(n),s=t().genres.find(o=>o.$id===r.genreId),a={...r,genreName:(s==null?void 0:s.name)||"Unknown Genre"};return e(o=>({books:[...o.books,a]})),r}catch(r){throw console.error("Error adding book:",r),r}},updateBook:async(n,r)=>{try{const s=await(void 0)(n,r),a=t().genres.find(l=>l.$id===s.genreId),o={...s,genreName:(a==null?void 0:a.name)||"Unknown Genre"};e(l=>({books:l.books.map(c=>c.$id===n?o:c)}))}catch(s){throw console.error("Error updating book:",s),s}},deleteBook:async n=>{try{await(void 0)(n),e(r=>({books:r.books.filter(s=>s.$id!==n)}))}catch(r){throw console.error("Error deleting book:",r),r}},getBookById:async n=>{try{return await F5(n)}catch(r){return console.error("Error fetching book by ID:",r),null}},borrowings:[],isLoadingBorrowings:!1,fetchBorrowings:async n=>{e({isLoadingBorrowings:!0});try{const r=await JN(n),s=t().books.length>0?t().books:await R5();t().books.length===0&&e({books:s});const a=await Promise.all(r.map(async o=>{let l=s.find(u=>u.$id===o.bookId);if(!l){const u=await F5(o.bookId);u&&(l=u)}const c=await(void 0)(o.userId,o.userType);return{...o,bookName:(l==null?void 0:l.name)||"Unknown Book",userName:(c==null?void 0:c.name)||"Unknown User"}}));e({borrowings:a,isLoadingBorrowings:!1})}catch(r){throw console.error("Error fetching borrowings:",r),e({isLoadingBorrowings:!1}),r}},borrowBook:async(n,r,s,a,o,l)=>{try{await GQ(n,r,s,a,o,l),t().fetchBorrowings(),t().fetchBooks()}catch(c){throw console.error("Error borrowing book:",c),c}},returnBook:async(n,r,s,a,o,l)=>{try{await YQ(n,r,s,a,o,l),t().fetchBorrowings(),t().fetchBooks()}catch(c){throw console.error("Error returning book:",c),c}},searchedUsers:[],isSearchingUsers:!1,searchUsers:async(n,r)=>{if(!n.trim()){e({searchedUsers:[]});return}e({isSearchingUsers:!0});try{const s=await tg(n,r);e({searchedUsers:s,isSearchingUsers:!1})}catch(s){throw console.error("Error searching users:",s),e({searchedUsers:[],isSearchingUsers:!1}),s}},clearSearchedUsers:()=>e({searchedUsers:[]}),allBorrowingsForDashboard:[],isLoadingAllBorrowings:!1,fetchAllBorrowingsForDashboard:async()=>{e({isLoadingAllBorrowings:!0});try{const n=await Xlt(),r=t().books.length>0?t().books:await R5(void 0,500);t().books.length===0&&r.length>0&&e({books:r});const s=t().genres.length>0?t().genres:await _5();t().genres.length===0&&s.length>0&&e({genres:s});const a=await Promise.all(n.map(async o=>{let l=null;const c=t().books.find(d=>d.$id===o.bookId)||await F5(o.bookId);c&&(l={name:c.name,genreId:c.genreId});const u=await Zlt(o.userId,o.userType);return{...o,bookName:(l==null?void 0:l.name)||"Unknown Book",genreId:l==null?void 0:l.genreId,userName:(u==null?void 0:u.name)||"Unknown User",userFacultyId:(u==null?void 0:u.type)==="student"?u.facultyId:void 0,userClass:(u==null?void 0:u.type)==="student"?u.class:void 0}}));e({allBorrowingsForDashboard:a,isLoadingAllBorrowings:!1})}catch(n){console.error("Store: Error fetching all borrowings for dashboard action:",n),e({isLoadingAllBorrowings:!1,allBorrowingsForDashboard:[]})}},faculties:[],fetchFacultiesForDashboard:async()=>{try{const n=await Qlt();e({faculties:n})}catch(n){console.error("Error fetching faculties for dashboard:",n)}}})),ect=()=>{const{genres:e,isLoadingGenres:t,fetchGenres:n,addGenre:r,updateGenre:s,deleteGenre:a}=rb(),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,p]=m.useState(!1);m.useEffect(()=>{n().catch(N=>Ge.error("Failed to load genres."))},[n]);const b=()=>{f(null),l(!0)},x=N=>{f(N),l(!0)},y=N=>{f(N),u(!0)},v=async N=>{p(!0);try{d?(await s(d.$id,N),Ge.success("Genre updated successfully!")):(await r(N),Ge.success("Genre added successfully!")),l(!1),f(null)}catch(C){console.error("Failed to save genre:",C),Ge.error(`Failed to save genre: ${C.message}`)}finally{p(!1)}},j=async()=>{if(d){p(!0);try{await a(d.$id),Ge.success("Genre deleted successfully!"),u(!1),f(null)}catch(N){console.error("Failed to delete genre:",N),Ge.error(`Failed to delete genre: ${N.message}. It might be in use.`)}finally{p(!1)}}},S=[{accessorKey:"name",header:"Genre Name"},{accessorKey:"description",header:"Description",cell:N=>N.description||"-"},{accessorKey:"actions",header:"Actions",cell:N=>i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4"}),onClick:()=>x(N),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>y(N),color:"red",isIconOnly:!0})]})}];return i.jsxs("div",{className:"p-4 md:p-6",children:[i.jsx(C2,{title:"Configure Book Genres",actionButton:i.jsx(Se,{color:"primary",onPress:b,startContent:i.jsx(Pd,{className:"h-5 w-5"}),children:"Add Genre"})}),i.jsx(KA,{columns:S,data:e,isLoading:t&&!h,emptyStateMessage:"No genres found. Add one to get started!"}),i.jsx(We,{isOpen:o,onClose:()=>l(!1),title:d?"Edit Genre":"Add New Genre",size:"md",children:i.jsx(We.Body,{children:i.jsx(Vlt,{initialData:d,onSubmit:v,onClose:()=>l(!1),isSubmitting:h})})}),i.jsx(Qi,{isOpen:c,onClose:()=>u(!1),onConfirm:j,title:"Delete Genre",content:`Are you sure you want to delete the genre "${d==null?void 0:d.name}"? This action cannot be undone.`,isConfirmLoading:h}),i.jsx(UQ,{isLoading:h&&!o&&!c,message:"Processing..."})]})},tct=({initialData:e,onSubmit:t,onClose:n,isSubmitting:r})=>{const{genres:s,fetchGenres:a,isLoadingGenres:o}=rb(),[l,c]=m.useState({customBookId:"",name:"",author:"",year:"",genreId:null,location:"",totalCopies:""}),[u,d]=m.useState({});m.useEffect(()=>{s.length===0&&!o&&a().catch(console.error)},[s,a,o]),m.useEffect(()=>{var x;c(e?{customBookId:e.customBookId||"",name:e.name||"",author:e.author||"",year:e.year||"",genreId:e.genreId||null,location:e.location||"",totalCopies:((x=e.totalCopies)==null?void 0:x.toString())||""}:{customBookId:"",name:"",author:"",year:"",genreId:null,location:"",totalCopies:""})},[e]);const f=(x,y)=>{x==="totalCopies"&&y!==null&&!/^\d*$/.test(y)||(c(v=>({...v,[x]:y===null?"":y})),u[x]&&d(v=>({...v,[x]:void 0})))},h=s.map(x=>({id:x.$id,name:x.name})),p=()=>{const x={};return l.customBookId.trim()||(x.customBookId="Book ID is required."),l.name.trim()||(x.name="Book name is required."),l.author.trim()||(x.author="Author is required."),l.genreId||(x.genreId="Genre is required."),(!l.totalCopies.trim()||isNaN(Number(l.totalCopies))||Number(l.totalCopies)<0)&&(x.totalCopies="Valid number of copies is required (0 or more)."),d(x),Object.keys(x).length===0},b=async x=>{if(x.preventDefault(),!p())return;const y={customBookId:l.customBookId,name:l.name,author:l.author,year:l.year.trim()?l.year.trim():null,genreId:l.genreId,location:l.location.trim()?l.location.trim():"",totalCopies:parseInt(l.totalCopies,10)};await t(y)};return i.jsxs("form",{onSubmit:b,className:"space-y-4 p-1",children:[i.jsx(Ve,{label:"Book ID (Unique)",placeholder:"e.g., ISBN or LIB001",value:l.customBookId,onValueChange:x=>f("customBookId",x),isInvalid:!!u.customBookId,errorMessage:u.customBookId,isRequired:!0,variant:"bordered",className:"w-full",isDisabled:!!e||r,description:e?"Book ID cannot be changed after creation.":""}),i.jsx(Ve,{label:"Book Name / Title",placeholder:"Enter book title",value:l.name,onValueChange:x=>f("name",x),isInvalid:!!u.name,errorMessage:u.name,isRequired:!0,variant:"bordered",className:"w-full",isDisabled:r}),i.jsx(Ve,{label:"Author(s)",placeholder:"Enter author name(s)",value:l.author,onValueChange:x=>f("author",x),isInvalid:!!u.author,errorMessage:u.author,isRequired:!0,variant:"bordered",className:"w-full",isDisabled:r}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ve,{label:"Publication Year / Period",placeholder:"e.g., 2023, 2078 BS, Ancient, c. 1950",type:"text",value:l.year,onValueChange:x=>f("year",x),variant:"bordered",className:"w-full",isDisabled:r,maxLength:50}),i.jsx(Ve,{label:"Total Copies",placeholder:"e.g., 10",type:"text",inputMode:"numeric",value:l.totalCopies,onValueChange:x=>f("totalCopies",x),isInvalid:!!u.totalCopies,errorMessage:u.totalCopies,isRequired:!0,variant:"bordered",className:"w-full",isDisabled:r})]}),i.jsx(dt,{label:"Genre",placeholder:o?"Loading genres...":"Select genre",options:h,value:l.genreId,onChange:x=>f("genreId",x),className:"w-full",disabled:o||r}),u.genreId&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:u.genreId}),i.jsx(Ve,{label:"Location (e.g., Shelf, Rack)",placeholder:"e.g., Shelf A, Row 3",value:l.location,onValueChange:x=>f("location",x),variant:"bordered",className:"w-full",isDisabled:r}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(Se,{type:"button",color:"default",variant:"flat",onPress:n,isDisabled:r,children:"Cancel"}),i.jsx(Se,{type:"submit",color:"primary",isLoading:r,isDisabled:r,children:e?"Update Book":"Add Book"})]})]})},nct=()=>{const{books:e,isLoadingBooks:t,fetchBooks:n,addBook:r,updateBook:s,deleteBook:a,genres:o,fetchGenres:l,isLoadingGenres:c}=rb(),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,b]=m.useState(null),[x,y]=m.useState(!1),[v,j]=m.useState("");m.useEffect(()=>{n().catch(k=>Ge.error("Failed to load books.")),o.length===0&&!c&&l().catch(k=>Ge.error("Failed to load genres for book display."))},[n,l,o.length,c]);const S=m.useMemo(()=>{if(!v.trim())return e;const k=v.toLowerCase();return e.filter(A=>{var L,R,F,T,O,_,W;const I=A.genreName||((L=o.find(z=>z.$id===A.genreId))==null?void 0:L.name)||"";return((R=A.customBookId)==null?void 0:R.toLowerCase().includes(k))||((F=A.name)==null?void 0:F.toLowerCase().includes(k))||((T=A.author)==null?void 0:T.toLowerCase().includes(k))||I.toLowerCase().includes(k)||A.year&&A.year.toString().includes(k)||((O=A.location)==null?void 0:O.toLowerCase().includes(k))||((_=A.totalCopies)==null?void 0:_.toString().includes(k))||((W=A.availableCopies)==null?void 0:W.toString().includes(k))})},[e,v,o]),N=()=>{b(null),d(!0)},C=k=>{b(k),d(!0)},$=k=>{b(k),h(!0)},P=async k=>{var A;y(!0);try{p?(await s(p.$id,k),Ge.success("Book updated successfully!")):(await r(k),Ge.success("Book added successfully!")),d(!1),b(null),await n()}catch(I){console.error("Failed to save book:",I);const L=((A=I==null?void 0:I.response)==null?void 0:A.message)||I.message||"An unknown error occurred";Ge.error(`Failed to save book: ${L}`)}finally{y(!1)}},E=async()=>{if(p){y(!0);try{await a(p.$id),Ge.success("Book deleted successfully!"),h(!1),b(null),await n()}catch(k){console.error("Failed to delete book:",k),Ge.error(`Failed to delete book: ${k.message}. It might be in use.`)}finally{y(!1)}}},M=m.useMemo(()=>[{accessorKey:"customBookId",header:"Book ID"},{accessorKey:"name",header:"Title"},{accessorKey:"author",header:"Author"},{accessorKey:"genreName",header:"Genre",cell:k=>{var A;return k.genreName||((A=o.find(I=>I.$id===k.genreId))==null?void 0:A.name)||"N/A"}},{accessorKey:"year",header:"Year",cell:k=>k.year||"-"},{accessorKey:"location",header:"Location",cell:k=>k.location||"-"},{accessorKey:"totalCopies",header:"Copies",cell:k=>i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{children:["Total: ",k.totalCopies]}),i.jsxs(Jt,{size:"sm",color:k.availableCopies>0?"success":"danger",variant:"flat",children:["Avail: ",k.availableCopies]})]})},{accessorKey:"actions",header:"Actions",cell:k=>i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(st,{icon:i.jsx(ao,{className:"h-4 w-4"}),onClick:()=>C(k),color:"orange",isIconOnly:!0}),i.jsx(st,{icon:i.jsx(xa,{className:"h-4 w-4"}),onClick:()=>$(k),color:"red",isIconOnly:!0})]})}],[o]);return i.jsxs("div",{className:"p-4 md:p-6",children:[i.jsx(C2,{title:"Manage Books",actionButton:i.jsx(Se,{color:"primary",onPress:N,startContent:i.jsx(Pd,{className:"h-5 w-5"}),children:"Add New Book"})}),i.jsx("div",{className:"mb-4",children:i.jsx(Bn,{placeholder:"Search by ID, Title, Author, Genre, Year, Location, Copies...",value:v,onValueChange:j,className:"max-w-xl"})}),i.jsx(KA,{columns:M,data:S,isLoading:t&&e.length===0&&!x,emptyStateMessage:v?`No books found for "${v}".`:"No books found. Add one to get started!"}),i.jsx(We,{isOpen:u,onClose:()=>d(!1),title:p?"Edit Book Details":"Add New Book",size:"lg",children:i.jsx(We.Body,{children:i.jsx(tct,{initialData:p,onSubmit:P,onClose:()=>d(!1),isSubmitting:x})})}),i.jsx(Qi,{isOpen:f,onClose:()=>h(!1),onConfirm:E,title:"Delete Book",content:`Are you sure you want to delete the book "${p==null?void 0:p.name}"? This action cannot be undone.`,isConfirmLoading:x}),i.jsx(UQ,{isLoading:x&&!u&&!f,message:"Saving book..."})]})},XQ=e=>{const t=new Date(e),n=new Date;if(n.setHours(0,0,0,0),t.setHours(0,0,0,0),t<n){const r=Math.abs(n.getTime()-t.getTime());return Math.ceil(r/(1e3*60*60*24))}return 0},mR=({id:e,label:t,checked:n,onChange:r,disabled:s=!1,className:a="",labelClassName:o="",checkboxClassName:l="",size:c="md","aria-label":u})=>{const d=e||Z.useId(),h={sm:{box:"h-4 w-4",icon:"h-3 w-3",text:"text-xs"},md:{box:"h-5 w-5",icon:"h-3.5 w-3.5",text:"text-sm"},lg:{box:"h-6 w-6",icon:"h-4 w-4",text:"text-base"}}[c],p=()=>{s||r(!n)};return i.jsxs("div",{className:`flex items-center ${a} ${s?"cursor-not-allowed opacity-70":"cursor-pointer"}`,onClick:p,children:[i.jsx("button",{type:"button",id:d,role:"checkbox","aria-checked":n,"aria-labelledby":t?`${d}-label`:void 0,"aria-label":!t&&u?u:void 0,disabled:s,onClick:b=>{b.stopPropagation(),p()},className:`
          ${h.box}
          flex-shrink-0 inline-flex items-center justify-center 
          border rounded 
          focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500
          transition-colors duration-150 ease-in-out
          ${n?"bg-indigo-600 border-indigo-600 hover:bg-indigo-700":"bg-white border-gray-300 hover:border-gray-400"}
          ${s?"bg-gray-100 border-gray-200":""}
          ${l}
        `,children:n&&i.jsx(RSe,{className:`${h.icon} text-white`})}),t&&i.jsx("label",{htmlFor:d,id:`${d}-label`,className:`ml-2 ${h.text} font-medium text-gray-700 ${o} ${s?"text-gray-400":""}`,children:t})]})},rct=({member:e,onBack:t,onMembershipChange:n,onDataUpdate:r})=>{const[s,a]=m.useState(e),{books:o,fetchBooks:l,isLoadingBooks:c,getBookById:u}=rb(),[d,f]=m.useState([]),[h,p]=m.useState(""),[b,x]=m.useState([]),[y,v]=m.useState(!1),[j,S]=m.useState([]),[N,C]=m.useState(!1),[$,P]=m.useState([]),[E,M]=m.useState(!1),[k,A]=m.useState(!1),[I,L]=m.useState([]),[R,F]=m.useState(!1),[T,O]=m.useState("borrow");m.useEffect(()=>{o.length===0&&!c&&l().catch(console.error)},[o,l,c]);const _=m.useCallback(async()=>{if(!s.id){S([]),L([]);return}C(!0),F(!0);try{const[K,ne]=await Promise.all([JN({userId:s.id,status:"borrowed"}),JN({userId:s.id,status:"returned"})]),te=async X=>Promise.all(X.map(async xe=>{const $e=await u(xe.bookId);return{...xe,bookName:($e==null?void 0:$e.name)||"Unknown Book"}}));S(await te(K)),L(await te(ne))}catch(K){console.error(`Failed to load library data for ${s.name}:`,K),Ge.error(`Failed to load library data for ${s.name}.`)}finally{C(!1),F(!1)}},[s.id,s.name,u]);m.useEffect(()=>{a(e),e&&e.id?_():(S([]),L([]))},[e,_]),m.useEffect(()=>{const K=h.toLowerCase(),ne=new Set(d.map(X=>X.$id)),te=o.filter(X=>X.availableCopies>0&&!ne.has(X.$id)&&(X.name.toLowerCase().includes(K)||X.customBookId.toLowerCase().includes(K)));x(te.slice(0,15))},[h,o,d]);const W=async()=>{if(!s.$id){Ge.error("Member Appwrite ID not found.");return}const K=!s.isLibraryMember;try{await Jlt(s.$id,s.type,K);const ne={...s,isLibraryMember:K};a(ne),Ge.success(`Membership ${K?"granted to":"revoked for"} ${s.name}.`),n&&n(ne)}catch{Ge.error(`Failed to update membership for ${s.name}.`)}},z=K=>{if(d.find(ne=>ne.$id===K.$id)){Ge.error("Book already in cart.");return}f(ne=>[...ne,{...K,bsDueDate:"",adDueDate:null}])},U=K=>{f(ne=>ne.filter(te=>te.$id!==K))},H=(K,ne)=>{f(te=>te.map(X=>{if(X.$id===K){const xe=Glt(ne);return{...X,bsDueDate:ne,adDueDate:xe}}return X}))},B=async()=>{if(d.length===0){Ge.error("Borrowing cart is empty.");return}for(const te of d)if(!te.adDueDate||new Date(te.adDueDate)<new Date(hR())){Ge.error(`Please set a valid BS due date for "${te.name}" (AD date must be today or future).`);return}v(!0);let K=0;const ne=[];for(const te of d)try{const X=await u(te.$id);if(!X||X.availableCopies<=0){ne.push(`Book "${te.name}" is no longer available.`);continue}if(!te.adDueDate){ne.push(`Due date missing for "${te.name}".`);continue}const xe={bookId:X.$id,userId:s.id,userType:s.type,borrowDate:new Date().toISOString(),dueDate:new Date(te.adDueDate).toISOString()};await GQ(xe,{id:X.$id,availableCopies:X.availableCopies},s.id,X.name),K++}catch(X){console.error(`Error borrowing book ${te.name}:`,X),ne.push(`Failed to borrow "${te.name}": ${X.message}`)}v(!1),K>0&&(Ge.success(`${K} book(s) borrowed successfully for ${s.name}.`),f([]),l(),_(),r&&r()),ne.length>0&&ne.forEach(te=>Ge.error(te,{duration:6e3}))},Y=m.useCallback(K=>{P(ne=>ne.includes(K)?ne.filter(X=>X!==K):[...ne,K])},[]),ae=m.useCallback(()=>{P(K=>K.length===j.length&&j.length>0?[]:j.map(ne=>ne.$id))},[j]),ce=()=>{if($.length===0){Ge.error("No books selected for return.");return}A(!0)},oe=async()=>{if(A(!1),$.length===0)return;M(!0);let K=0;const ne=[];for(const te of $){const X=j.find(xe=>xe.$id===te);if(!X){console.warn(`Item with borrowing ID ${te} not found in local list.`);continue}try{const xe=await u(X.bookId);if(!xe){ne.push(`Book details for "${X.bookName||"a book"}" not found.`);continue}await YQ(X.$id,{id:xe.$id,availableCopies:xe.availableCopies,totalCopies:xe.totalCopies},X.userId,X.bookName||"Unknown Book"),K++}catch(xe){console.error(`Error returning book ${X.bookName}:`,xe),ne.push(`Failed to return "${X.bookName||"a book"}": ${xe.message}`)}}M(!1),K>0&&(Ge.success(`${K} book(s) returned successfully by ${s.name}.`),_(),l(),P([]),r&&r()),ne.length>0&&ne.forEach(te=>Ge.error(te,{duration:6e3}))},Q=m.useMemo(()=>j.map(K=>({...K,isSelectedForReturn:$.includes(K.$id)})),[j,$]);return i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsx("div",{className:"flex justify-start mb-4",children:i.jsx(Se,{variant:"ghost",onPress:t,startContent:i.jsx(Hc,{className:"w-5 h-5 mr-1"}),children:"Back to List"})}),i.jsx(mt,{children:i.jsx(yt,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[i.jsx(Ha,{name:s.name?s.name.substring(0,1):"?",size:"lg",className:" text-xl"}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:s.name||"N/A"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",i.jsx(Jt,{size:"sm",variant:"flat",className:"capitalize",children:s.type||"N/A"})]}),s.type==="student"&&s.class&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Class: ",s.class]}),s.email&&i.jsxs("p",{className:"text-xs text-gray-500",children:["Email: ",s.email]})]}),i.jsxs("div",{className:"flex flex-col items-start sm:items-end space-y-2",children:[s.isLibraryMember?i.jsx(Jt,{color:"success",variant:"flat",size:"lg",children:"Active Library Member"}):i.jsx(Jt,{color:"warning",variant:"bordered",size:"lg",children:"Not a Library Member"}),n&&i.jsx(Se,{size:"sm",color:s.isLibraryMember?"danger":"success",variant:"ghost",onPress:W,children:s.isLibraryMember?"Revoke Membership":"Activate Membership"})]})]})})}),s.isLibraryMember&&i.jsxs(uK,{"aria-label":"Member Actions Details",selectedKey:T,onSelectionChange:K=>O(K),color:"primary",variant:"underlined",radius:"md",className:"mt-4 bg-white shadow-sm rounded-lg p-1",children:[i.jsx(Rp,{title:i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5",children:[i.jsx(M6,{className:"w-4 h-4"})," Borrow Books"]}),children:i.jsx(mt,{className:"mt-0 shadow-none border-t-0 rounded-t-none",children:i.jsxs(yt,{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-700 pt-1",children:"Borrow New Books"}),i.jsx(Ve,{label:"Search & Add Books to Cart (Title or Book ID)",placeholder:"Type to find books...",value:h,onValueChange:p,variant:"bordered",isClearable:!0,onClear:()=>p(""),fullWidth:!0}),c&&h&&i.jsx("p",{className:"text-sm text-gray-500",children:"Loading books..."}),h&&!c&&b.length>0&&i.jsxs("div",{className:"border rounded-md max-h-60 overflow-y-auto p-2 space-y-2 bg-white",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 px-1",children:"Available to add:"}),b.map(K=>i.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-slate-100 rounded",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-sm",children:[K.name," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(ID: ",K.customBookId,")"]})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Author: ",K.author," | Available: ",K.availableCopies]})]}),i.jsx(Se,{size:"sm",variant:"flat",color:"success",onPress:()=>z(K),startContent:i.jsx(Pd,{className:"w-4 h-4"}),children:"Add"})]},K.$id))]}),h&&!c&&b.length===0&&i.jsx("p",{className:"text-sm text-center text-gray-500 py-2",children:"No available books match your search."}),d.length>0&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("h5",{className:"font-semibold text-gray-700",children:["Borrowing Cart (",d.length," items):"]}),d.map((K,ne)=>i.jsxs(mt,{shadow:"sm",className:"p-3 border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-800",children:[ne+1,". ",K.name]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Author: ",K.author]})]}),i.jsx(Se,{size:"sm",variant:"light",color:"danger",isIconOnly:!0,onPress:()=>U(K.$id),"aria-label":`Remove ${K.name} from cart`,children:i.jsx(ya,{className:"w-5 h-5"})})]}),i.jsx(Ve,{label:"Due Date (BS: YYYY-MM-DD)",placeholder:Ylt(),value:K.bsDueDate||"",onValueChange:te=>H(K.$id,te),variant:"bordered",className:"mt-1",description:K.adDueDate?`AD Equivalent: ${K.adDueDate}`:"Enter BS date",isInvalid:!!K.bsDueDate&&!K.adDueDate,errorMessage:K.bsDueDate&&!K.adDueDate?"Invalid BS Date or Format":"",startContent:i.jsx(er,{className:"w-4 h-4 text-gray-400 mr-1"}),size:"sm"})]},K.$id)),i.jsx("div",{className:"flex justify-end pt-3",children:i.jsxs(Se,{color:"primary",onPress:B,isLoading:y,isDisabled:d.length===0||d.some(K=>!K.adDueDate||new Date(K.adDueDate)<new Date(hR())),startContent:i.jsx(M6,{className:"w-5 h-5 mr-1"}),size:"lg",children:["Confirm Borrow All (",d.length,")"]})})]}),d.length===0&&!h&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"Search for books above to add them to the borrowing cart."})]})})},"borrow"),i.jsx(Rp,{title:i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5",children:[i.jsx(I6,{className:"w-4 h-4"})," Currently Borrowed (",j.length,")"]}),children:i.jsx(mt,{className:"mt-0 shadow-none border-t-0 rounded-t-none",children:i.jsxs(yt,{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-3 pt-1",children:"Return Books"}),N&&i.jsx("p",{className:"text-center py-4",children:"Loading borrowed items..."}),!N&&j.length===0&&i.jsx("p",{className:"text-center py-4",children:"This member has no books currently borrowed."}),!N&&j.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"max-h-[500px] overflow-y-auto border rounded-md",children:i.jsxs(ah,{removeWrapper:!0,"aria-label":`Borrowed books by ${s.name}`,children:[i.jsxs(ih,{children:[i.jsx(wn,{className:"w-10 px-2",children:i.jsx(mR,{"aria-label":"Select all items to return",checked:j.length>0&&$.length===j.length,onChange:ae,size:"sm"})}),i.jsx(wn,{children:"Book Title"}),i.jsx(wn,{children:"Borrowed (BS)"}),i.jsx(wn,{children:"Due (BS)"}),i.jsx(wn,{children:"Status"})]}),i.jsx(oh,{items:Q,emptyContent:"No items to display.",children:K=>{const ne=XQ(K.dueDate);return i.jsxs(Ic,{children:[i.jsx(Xt,{className:"px-2",children:i.jsx(mR,{"aria-label":`Select ${K.bookName||"book"} to return`,checked:K.isSelectedForReturn,onChange:()=>Y(K.$id),size:"sm"})}),i.jsx(Xt,{children:K.bookName||"N/A"}),i.jsx(Xt,{children:ic(K.borrowDate)}),i.jsx(Xt,{children:ic(K.dueDate)}),i.jsx(Xt,{children:ne>0?i.jsxs(Jt,{color:"danger",size:"sm",className:" text-white",children:["Overdue (",ne,"d)"]}):i.jsx(Jt,{color:"success",size:"sm",className:" text-white",children:"On Time"})})]},K.$id)}})]})}),i.jsx("div",{className:"flex justify-end pt-3",children:i.jsxs(Se,{color:"success",onPress:ce,isLoading:E,isDisabled:$.length===0,startContent:i.jsx(I6,{className:"w-5 h-5 mr-1"}),size:"lg",children:["Return Selected (",$.length,")"]})})]})]})})},"return"),i.jsx(Rp,{title:i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5",children:[i.jsx(er,{className:"w-4 h-4"})," Returned History (",I.length,")"]}),children:i.jsx(mt,{className:"mt-0 shadow-none border-t-0 rounded-t-none",children:i.jsxs(yt,{children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-3 pt-1",children:"Returned Books History"}),R&&i.jsx("p",{className:"text-center py-4",children:"Loading history..."}),!R&&I.length===0&&i.jsx("p",{className:"text-center py-4",children:"No returned books found for this member."}),!R&&I.length>0&&i.jsx("div",{className:"max-h-[500px] overflow-y-auto border rounded-md",children:i.jsxs(ah,{removeWrapper:!0,"aria-label":"Returned books history",children:[i.jsxs(ih,{children:[i.jsx(wn,{children:"Book Title"}),i.jsx(wn,{children:"Borrowed (BS)"}),i.jsx(wn,{children:"Due (BS)"}),i.jsx(wn,{children:"Returned (BS)"}),i.jsx(wn,{children:"Issued By"}),i.jsx(wn,{children:"Received By"})]}),i.jsx(oh,{items:I,emptyContent:"No history to display.",children:K=>i.jsxs(Ic,{children:[i.jsx(Xt,{children:K.bookName||"N/A"}),i.jsx(Xt,{children:ic(K.borrowDate)}),i.jsx(Xt,{children:ic(K.dueDate)}),i.jsx(Xt,{children:ic(K.returnDate)}),i.jsx(Xt,{children:K.borrowedByStaffEmail||"-"}),i.jsx(Xt,{children:K.returnedByStaffEmail||"-"})]},K.$id)})]})})]})})},"history")]}),!s.isLibraryMember&&i.jsx(mt,{className:"mt-4",children:i.jsxs(yt,{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-600 mb-3",children:"This user is not an active library member."}),n&&i.jsx(Se,{color:"success",onPress:W,children:"Activate Membership"})]})}),k&&i.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",onClick:()=>{E||A(!1)},children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",onClick:K=>K.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Confirm Book Return(s)"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to mark ",$.length," selected book(s) as returned?"]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(Se,{variant:"flat",color:"default",onPress:()=>A(!1),isDisabled:E,children:"Cancel"}),i.jsx(Se,{color:"success",onPress:oe,isLoading:E,startContent:E?null:i.jsx(al,{className:"w-5 h-5 mr-1"}),children:"Confirm Return"})]})]})})]})},sct=()=>{const[e,t]=m.useState("members"),[n,r]=m.useState([]),[s,a]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState("student"),[d,f]=m.useState([]),[h,p]=m.useState(!1),[b,x]=m.useState(null),y=m.useCallback(async(P=!0)=>{P&&a(!0);try{const E=await tg("","student",200),M=await tg("","teacher",100),k=[...E,...M].filter(A=>A.isLibraryMember);r(k)}catch(E){Ge.error("Failed to load library members."),console.error("Fetch Active Members Error:",E)}finally{P&&a(!1)}},[]);m.useEffect(()=>{e==="members"&&!b&&y()},[e,b,y]);const v=m.useCallback(async()=>{if(o.trim().length<2){f([]);return}p(!0);try{const P=await tg(o,c,20);f(P)}catch(P){Ge.error("Failed to search users."),console.error("Global User Search Error:",P)}finally{p(!1)}},[o,c]);m.useEffect(()=>{if(e==="search"&&o.trim().length>=2&&!b){const P=setTimeout(()=>{v()},500);return()=>clearTimeout(P)}else e==="search"&&!b&&f([])},[o,c,e,b,v]);const j=P=>{x(P)},S=()=>{const P=b;x(null),P&&e==="members"&&y(!1)},N=P=>{x(P),e==="members"&&y(!1),e==="search"&&f(E=>E.map(M=>M.$id===P.$id?P:M))},C=()=>{},$=m.useMemo(()=>[{accessorKey:"name",header:"Name",cell:P=>i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ha,{name:P.name?P.name.substring(0,1):"?",size:"sm",className:"mr-2"}),P.name||"N/A"]})},{accessorKey:"type",header:"Type",cell:P=>i.jsx(Jt,{size:"sm",className:"capitalize",children:P.type||"N/A"})},{accessorKey:"actions",header:"Actions",cell:P=>i.jsx(Se,{size:"sm",variant:"faded",color:"primary",onPress:()=>j(P),children:"View Details"})}],[]);return b?i.jsx("div",{className:"p-2 sm:p-4 md:p-6 bg-gray-50 min-h-screen",children:i.jsx(rct,{member:b,onBack:S,onMembershipChange:N,onDataUpdate:C})}):i.jsxs("div",{className:"p-2 sm:p-4 md:p-6 space-y-6",children:[i.jsx(C2,{title:"Library Member Hub"}),i.jsxs(uK,{"aria-label":"Library Hub Main Tabs",selectedKey:e,onSelectionChange:P=>{t(P),P==="search"&&(l(""),f([]))},color:"primary",variant:"underlined",radius:"md",className:"sticky top-0 bg-white/80 backdrop-blur-md z-20 py-2 -mx-2 px-2 sm:-mx-4 sm:px-4 md:-mx-6 md:px-6 shadow-sm",children:[i.jsx(Rp,{title:i.jsxs("div",{className:"flex items-center gap-2 py-1",children:[i.jsx(lh,{className:"w-5 h-5"})," Active Members"]}),children:i.jsx(mt,{className:"mt-2",children:i.jsxs(yt,{children:[s&&i.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading members..."}),!s&&n.length===0&&i.jsx("div",{className:"text-center py-10 text-gray-500",children:"No active library members found."}),!s&&n.length>0&&i.jsx(KA,{columns:$,data:n})]})})},"members"),i.jsx(Rp,{title:i.jsxs("div",{className:"flex items-center gap-2 py-1",children:[i.jsx(il,{className:"w-5 h-5"})," Search All Users"]}),children:i.jsx(mt,{className:"mt-2",children:i.jsxs(yt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),i.jsxs("div",{className:"flex rounded-md",children:[i.jsx(Se,{variant:c==="student"?"solid":"bordered",color:"secondary",className:"rounded-r-none flex-1",onPress:()=>{u("student"),l(""),f([])},children:"Student"}),i.jsx(Se,{variant:c==="teacher"?"solid":"bordered",color:"warning",className:"rounded-l-none flex-1",onPress:()=>{u("teacher"),l(""),f([])},children:"Teacher"})]})]}),i.jsx(Ve,{label:"Search by Name",placeholder:"Enter at least 2 characters...",value:o,onValueChange:l,variant:"bordered",isClearable:!0,onClear:()=>{l(""),f([])},className:"md:col-span-5",startContent:i.jsx(il,{className:"w-5 h-5 text-gray-400"})})]}),h&&i.jsx("div",{className:"text-center py-10 text-gray-500",children:"Searching..."}),!h&&o.length>=2&&d.length===0&&i.jsx("div",{className:"text-center py-10 text-gray-500",children:"No users found matching your criteria."}),!h&&d.length>0&&i.jsx("div",{className:"mt-4 border rounded-md max-h-[60vh] overflow-y-auto",children:d.map(P=>i.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-100 border-b last:border-b-0 cursor-pointer transition-colors",onClick:()=>j(P),children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ha,{name:P.name?P.name.substring(0,1):"?",size:"md"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:P.name||"N/A"}),i.jsx(Jt,{size:"md",variant:P.isLibraryMember?"flat":"bordered",color:P.isLibraryMember?"success":"default",children:P.isLibraryMember?"Member":"Not Member"})]})]}),i.jsx(Jt,{size:"md",className:"capitalize",children:P.type||"N/A"})]},P.$id))})]})})},"search")]})]})},act=({books:e,allBorrowings:t,isLoading:n})=>{const r=m.useMemo(()=>new Set(e.map(l=>l.customBookId)).size,[e]),s=m.useMemo(()=>e.reduce((l,c)=>l+c.totalCopies,0),[e]),a=m.useMemo(()=>{if(!t.length||!e.length)return[];const l={};return t.forEach(c=>{l[c.bookId]=(l[c.bookId]||0)+1}),Object.entries(l).map(([c,u])=>{const d=e.find(f=>f.$id===c);return{name:(d==null?void 0:d.name)||"Unknown Book",customBookId:(d==null?void 0:d.customBookId)||"N/A",count:u}}).sort((c,u)=>u.count-c.count).slice(0,3)},[t,e]),o=m.useMemo(()=>[...e].sort((l,c)=>new Date(c.$createdAt).getTime()-new Date(l.$createdAt).getTime()).slice(0,3),[e]);return n?i.jsx(mt,{shadow:"md",children:i.jsxs(yt,{className:"p-5",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Book Statistics"}),i.jsx("p",{className:"text-gray-500",children:"Loading book information..."})]})}):e.length===0?i.jsx(mt,{shadow:"md",children:i.jsxs(yt,{className:"p-5",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Book Statistics"}),i.jsx("p",{className:"text-gray-500",children:"No book data available to display statistics."})]})}):i.jsx(mt,{shadow:"md",className:" w-full",children:i.jsxs(yt,{className:"p-5 space-y-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Book Insights"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 p-2 bg-blue-200 text-blue-700 rounded-full",children:i.jsx(Ji,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Unique Titles"}),i.jsx("p",{className:"text-2xl font-bold text-blue-800",children:r})]})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg flex items-start space-x-3",children:[i.jsxs("div",{className:"flex-shrink-0 p-2 bg-green-200 text-green-700 rounded-full",children:[i.jsx(D$,{className:"w-5 h-5"})," "]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Physical Copies"}),i.jsx("p",{className:"text-2xl font-bold text-green-800",children:s})]})]})]}),a.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[i.jsx(Nwe,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Top Borrowed Books"]}),i.jsx("div",{className:"space-y-2",children:a.map((l,c)=>i.jsxs("div",{className:"p-2.5 border border-gray-200 rounded-md bg-gray-50 text-sm",children:[i.jsx("span",{className:"font-medium text-gray-800",children:l.name}),i.jsxs(Jt,{size:"sm",color:"primary",variant:"flat",className:"ml-2 float-right",children:[l.count," borrows"]})]},c))})]}),o.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-2 flex items-center",children:[i.jsx(z2e,{className:"w-5 h-5 mr-2 text-amber-600"}),"Recently Added Books"]}),i.jsx("div",{className:"space-y-2",children:o.map(l=>i.jsxs("div",{className:"p-2.5 border border-gray-200 rounded-md bg-gray-50 text-sm",children:[i.jsx("span",{className:"font-medium text-gray-800",children:l.name}),i.jsxs("span",{className:"text-xs text-gray-500 float-right",children:["Added: ",ic(l.$createdAt)]})]},l.$id))})]})]})})},ict=({className:e=""})=>i.jsx("div",{className:`flex justify-center items-center h-full ${e}`,children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}),oct=()=>{var R;const{allBorrowingsForDashboard:e,isLoadingAllBorrowings:t,fetchAllBorrowingsForDashboard:n,genres:r,fetchGenres:s,isLoadingGenres:a,books:o,fetchBooks:l,isLoadingBooks:c,faculties:u,fetchFacultiesForDashboard:d,isLoadingFaculties:f}=rb(),[h,p]=m.useState(null),[b,x]=m.useState(!0),[y,v]=m.useState([]),[j,S]=m.useState(0),N=t||a||c||f;m.useEffect(()=>{let F=!0;return(async()=>{e.length===0&&!t&&F&&await n().catch(O=>{F&&Ge.error("Failed to load borrowing data."),console.error("Dashboard: Error fetching borrowings",O)}),r.length===0&&!a&&F&&await s().catch(O=>{F&&Ge.error("Failed to load genres."),console.error("Dashboard: Error fetching genres",O)}),o.length===0&&!c&&F&&await l(void 0,500).catch(O=>{F&&Ge.error("Failed to load book details."),console.error("Dashboard: Error fetching books",O)}),u.length===0&&!f&&F&&await d().catch(O=>{F&&Ge.error("Failed to load faculties."),console.error("Dashboard: Error fetching faculties",O)})})(),()=>{F=!1}},[e.length,t,n,r.length,a,s,o.length,c,l,u.length,f,d]),m.useEffect(()=>{let F=!0;return(async()=>{if(F){x(!0);try{const O=await tg("","student",1e3);F&&v(O)}catch(O){F&&Ge.error("Failed to load student data for faculty filtering."),console.error("Dashboard: Error fetching student data:",O)}finally{F&&x(!1)}}})(),()=>{F=!1}},[]);const C=m.useMemo(()=>e.filter(F=>F.status==="borrowed"&&F.dueDate).map(F=>({...F,daysOverdue:XQ(F.dueDate)})).filter(F=>F.daysOverdue>0).sort((F,T)=>T.daysOverdue-F.daysOverdue),[e]),$=m.useMemo(()=>{if(r.length===0||e.length===0)return[];const F={};return e.forEach(T=>{var _;const O=T.genreId;if(O){const W=((_=r.find(z=>z.$id===O))==null?void 0:_.name)||"Unknown Genre";F[W]=(F[W]||0)+1}else F["Genre Not Specified"]=(F["Genre Not Specified"]||0)+1}),Object.entries(F).map(([T,O])=>({name:T,count:O})).sort((T,O)=>O.count-T.count)},[e,r]),P=m.useMemo(()=>{if(u.length===0||y.length===0||e.length===0)return[];const F=new Map;y.forEach(O=>{O.id&&O.facultyId&&F.set(O.id,O.facultyId)});const T={};return e.forEach(O=>{var _;if(O.userType==="student"&&O.userId){const W=F.get(O.userId);if(W){if(!h||W===h){const z=((_=u.find(U=>U.id===W))==null?void 0:_.name)||`Faculty ID: ${W.substring(0,6)}`;T[z]=(T[z]||0)+1}}else h||(T["Faculty Unknown"]=(T["Faculty Unknown"]||0)+1)}}),Object.entries(T).map(([O,_])=>({name:O,count:_})).sort((O,_)=>_.count-O.count)},[e,y,u,h]),E=m.useMemo(()=>[{id:"ALL_FACULTIES",name:"All Faculties"},...u.map(F=>({id:F.id,name:F.name}))],[u]),M=m.useCallback((F,T)=>{S(T)},[]);if(N||b)return i.jsxs("div",{className:"p-4 md:p-6 flex flex-col justify-center items-center h-[calc(100vh-150px)]",children:[i.jsx(ict,{}),i.jsx("p",{className:"mt-3 text-gray-600",children:"Loading dashboard data, please wait..."})]});if((r.length===0||u.length===0||e.length===0||o.length===0)&&!N&&!b)return i.jsxs("div",{className:"p-4 md:p-6 text-center text-red-500",children:[i.jsx("p",{children:"Could not load essential dashboard data. Some information might be missing."}),i.jsx("p",{className:"text-sm text-gray-500",children:"Please try refreshing or check if there's data in the system."})]});const A=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82Ca9D","#FF5733","#C70039","#A233FF","#FFC300"],I=["#FF8C00","#A0522D","#5F9EA0","#DEB887","#7FFF00","#D2691E","#6495ED"],L=F=>{const T=Math.PI/180,{cx:O,cy:_,midAngle:W,innerRadius:z,outerRadius:U,startAngle:H,endAngle:B,fill:Y,payload:ae,percent:ce,value:oe}=F,Q=Math.sin(-T*W),K=Math.cos(-T*W),ne=O+(U+8)*K,te=_+(U+8)*Q,X=O+(U+20)*K,xe=_+(U+20)*Q,$e=X+(K>=0?1:-1)*18,Ne=xe,Le=K>=0?"start":"end";return i.jsxs("g",{children:[i.jsx("text",{x:O,y:_,dy:4,textAnchor:"middle",fill:Y,fontSize:"14",fontWeight:"bold",children:ae.name}),i.jsx(_v,{cx:O,cy:_,innerRadius:z,outerRadius:U,startAngle:H,endAngle:B,fill:Y}),i.jsx(_v,{cx:O,cy:_,startAngle:H,endAngle:B,innerRadius:U+4,outerRadius:U+7,fill:Y}),i.jsx("path",{d:`M${ne},${te}L${X},${xe}L${$e},${Ne}`,stroke:Y,fill:"none"}),i.jsx("circle",{cx:$e,cy:Ne,r:2,fill:Y,stroke:"none"}),i.jsx("text",{x:$e+(K>=0?1:-1)*10,y:Ne,textAnchor:Le,fill:"#333",fontSize:"12",children:`${oe} borrows`}),i.jsx("text",{x:$e+(K>=0?1:-1)*10,y:Ne,dy:15,textAnchor:Le,fill:"#999",fontSize:"11",children:`(Rate ${(ce*100).toFixed(1)}%)`})]})};return i.jsx($t,{options:{suppressScrollX:!0},children:i.jsxs("div",{className:"p-4 md:p-6 space-y-8 bg-gray-50 min-h-screen",children:[i.jsx(C2,{title:"Library Dashboard"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(mt,{shadow:"sm",children:i.jsxs(yt,{className:"flex-row items-center justify-center p-9 gap-3",children:[i.jsx("div",{className:"p-3.5 rounded-full bg-red-100 text-red-600 mr-4",children:i.jsx(za,{className:"w-7 h-7"})}),i.jsxs("div",{className:" text-center",children:[i.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:C.length}),i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Overdue Books"})]})]})}),i.jsx(mt,{shadow:"sm",children:i.jsxs(yt,{className:"flex-row items-center justify-center p-9 gap-3",children:[i.jsx("div",{className:"p-3.5 rounded-full bg-blue-100 text-blue-600 mr-4",children:i.jsx(Ji,{className:"w-7 h-7"})}),i.jsxs("div",{className:" text-center",children:[i.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:e.length}),i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Books Borrowed"})]})]})}),i.jsx(mt,{shadow:"sm",children:i.jsxs(yt,{className:"flex-row items-center justify-center p-9 gap-3",children:[i.jsx("div",{className:"p-3.5 rounded-full bg-green-100 text-green-600 mr-4",children:i.jsx(I0,{className:"w-7 h-7"})}),i.jsxs("div",{className:" text-center",children:[i.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:new Set(e.map(F=>F.userId)).size}),i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unique Borrowers"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(mt,{shadow:"sm",children:i.jsxs(yt,{className:"overflow-hidden",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 p-3 pl-5",children:"Borrows by Genre"}),$.length>0?i.jsx(hd,{width:"100%",height:380,children:i.jsxs(eZ,{children:[i.jsx(uo,{activeIndex:j,activeShape:L,data:$,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,fill:"#8884d8",dataKey:"count",onMouseEnter:M,paddingAngle:2,children:$.map((F,T)=>i.jsx(md,{fill:A[T%A.length]},`cell-genre-${T}`))}),i.jsx(Jr,{formatter:(F,T)=>[`${F} borrows`,T]})]})}):i.jsx("p",{className:"text-center text-gray-500 py-10 h-[380px] flex items-center justify-center",children:"No borrowing data by genre available."})]})}),i.jsx(mt,{shadow:"sm",children:i.jsxs(yt,{className:"overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4 gap-2",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 pl-6",children:"Student Borrows by Faculty"}),i.jsx(dt,{labelClassName:"text-xs sr-only",label:"Filter by Faculty",options:E,value:h,onChange:F=>p(F==="ALL_FACULTIES"?null:F),placeholder:"All Faculties",size:"sm",className:"min-w-[220px] w-full sm:w-auto"})]}),P.length>0?i.jsx(hd,{width:"100%",height:350,children:i.jsxs(G0,{data:P,margin:{top:5,right:10,left:-20,bottom:55},children:[i.jsx(im,{strokeDasharray:"3 3",vertical:!1}),i.jsx(nu,{dataKey:"name",angle:-35,textAnchor:"end",interval:0,tick:{fontSize:12,dy:5}}),i.jsx(to,{allowDecimals:!1,tick:{fontSize:12}}),i.jsx(Jr,{formatter:(F,T)=>[`${F} borrows`,T]}),i.jsx(Wa,{wrapperStyle:{fontSize:"15px"}}),i.jsx(Ps,{dataKey:"count",name:h?"Borrows":"Borrows per Faculty",barSize:25,legendType:"none",children:P.map((F,T)=>i.jsx(md,{fill:I[T%I.length]},`cell-faculty-${T}`))})]})}):i.jsxs("p",{className:"text-center text-gray-500 py-10 h-[350px] flex items-center justify-center",children:["No student borrowing data for ",h?(R=u.find(F=>F.id===h))==null?void 0:R.name:"any faculty","."]})]})})]}),i.jsxs("div",{className:"flex w-full",children:[i.jsx(act,{books:o,allBorrowings:e,isLoading:c||t}),C.length>0&&i.jsx(mt,{shadow:"md",className:"w-full ml-4",children:i.jsxs(yt,{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 pt-2 pl-3",children:" Overdue Books "}),i.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:C.map(F=>i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg flex justify-between items-center hover:shadow-sm transition-shadow",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ha,{name:F.userName?F.userName.substring(0,1):"U",size:"md",color:"danger"}),i.jsxs("div",{className:"",children:[i.jsx("p",{className:"font-medium text-gray-700",children:F.bookName||"Unknown Book"}),i.jsxs("div",{className:" flex gap-6",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",F.userName||"Unknown User"," (",F.userType,")"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Due (BS): ",ic(F.dueDate)]})]})]})]}),i.jsxs(Jt,{color:"danger",variant:"flat",children:[F.daysOverdue," days overdue"]})]},F.$id))})]})})]})]})})};function lct(){const[e,t]=m.useState(()=>{const c=localStorage.getItem("sidebarState");return c?parseInt(c,10):0}),[n,r]=m.useState("Dashboard"),s=()=>{t(c=>{const u=c===0?1:0;return localStorage.setItem("sidebarState",u.toString()),u})},a=[{name:"Dashboard",icon:Ds,component:oct},{name:"Bus Location",icon:$i,component:oo},{name:"Calendar",icon:Tr,component:Ld},{name:"Genre",icon:Uf,component:ect},{name:"Book Entry",icon:Uf,component:nct},{name:"Borrow Book",icon:Uf,component:sct},{name:"Attendance",icon:dA,children:[{name:"Leave Details",icon:_1,component:fA}]}],l=(()=>{const c=a.find(u=>u.name===n);if(c&&c.component)return c.component;for(const u of a)if(u.children){const d=u.children.find(f=>f.name===n);if(d&&d.component)return d.component}return()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Content Not Found"}),i.jsx("p",{children:"No component defined for this menu item."})]})})();return i.jsxs("div",{className:"flex h-screen bg-gray-100/40",children:[i.jsx(Y0,{sidebarState:e,toggleSidebar:s,setActiveItem:r,activeItem:n,sidebarItems:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(zlt,{toggleSidebar:s,setActiveItem:r}),i.jsxs("main",{className:"flex-1 overflow-auto mb-2 mr-2 max-w-full",children:[i.jsx(l,{}),i.jsx(no,{})]})]})]})}const cct=()=>{const e=A0({minWidth:767});return i.jsx(_lt,{children:i.jsxs(i.Fragment,{children:[" ",e?i.jsx(lct,{}):i.jsx(Llt,{})]})})};function uct({user:e,setUser:t}){const n=Lh(),{setSchoolInfo:r,clearSchoolInfo:s,setIsLoadingSchoolInfo:a,licenseStatus:o,isLoadingSchoolInfo:l,error:c}=et(),u=async()=>{try{await ut.deleteSession("current"),t(null),s(),Ge.success("Logged out successfully!"),n("/")}catch(d){Ge.error(d.message||"Logout failed!")}};return e&&e.email==="manage1@sorad.tech"?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(ia,{position:"top-right"}),i.jsx(Lit,{})]}):(m.useEffect(()=>{e&&(l||o==="pending")?(async()=>{if(!e||!e.email){console.warn("Home: User or user email not available for school lookup."),a(!1),s();return}a(!0);const f=e.email;let h=f.split("@")[1]||null;try{const p=await fetch("https://back.soraddynamics.com/api/schools/resolve-info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:f})}),b=await p.json();if(!p.ok){Ge.error(b.message||"Failed to get school details.",{id:"home-api-error"}),r({licenseStatus:"not_found",error:b.message||"School not found or API error.",dbId:null,schoolName:null,galleryBucketId:null,assignmentBucketId:null,notesBucketId:null,byContact:null,domain:b.original_domain_attempted||h}),a(!1);return}r({dbId:b.db_id,schoolName:b.school_name,licenseStatus:b.license_status,galleryBucketId:b.gallery_bucket_id,assignmentBucketId:b.assignment_bucket_id,notesBucketId:b.notes_bucket_id,byContact:b.by_contact,domain:b.original_domain_attempted||h,error:null}),b.license_status==="valid"&&Ge.success(`Welcome to ${b.school_name||"your school"}! (Resolved via ${b.resolved_by||"backend"})`,{id:"home-welcome"})}catch(p){Ge.error(p.message||"Error during school lookup.",{id:"home-lookup-exception"}),console.error("Home: Exception during school lookup - ",p),r({licenseStatus:"not_found",error:"Network error or unexpected issue during school lookup.",dbId:null,schoolName:null,galleryBucketId:null,assignmentBucketId:null,notesBucketId:null,byContact:null,domain:h})}finally{a(!1)}})():e||s()},[e,l,o,r,s,a]),l&&o==="pending"?i.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[i.jsx(ia,{position:"top-right"}),i.jsx("p",{className:"text-xl",children:"Verifying your school information, please wait..."})]}):c&&o==="not_found"?i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center",children:[i.jsx(ia,{position:"top-right"}),i.jsxs("p",{className:"text-red-500 text-xl mb-4",children:["Error: ",c]}),i.jsx("p",{className:"mb-4",children:"We couldn't retrieve your school's information. Please try logging out and in again, or contact support."}),i.jsx(Se,{color:"primary",onClick:u,children:"Logout and Try Again"})]}):o==="expired"?i.jsxs("div",{className:" min-w-screen min-h-screen gap-6 flex flex-col justify-center items-center",children:[i.jsx(ia,{position:"top-right"}),i.jsx(_it,{}),i.jsx("div",{className:"text-center",children:i.jsx(Se,{variant:"ghost",color:"danger",onClick:u,children:"Logout"})})]}):o==="valid"&&e&&!c?i.jsxs("div",{className:"min-h-screen",children:[i.jsx(ia,{position:"top-right"}),e.isStudent&&i.jsx("div",{children:i.jsx(Ust,{})}),e.isAdmin&&i.jsx("div",{children:i.jsx(HGe,{})}),e.isParent&&i.jsx("div",{children:i.jsx(Mot,{})}),e.isTeacher&&i.jsx("div",{children:i.jsx(Clt,{})}),e.isDriver&&i.jsx("div",{children:i.jsx(klt,{})}),e.isLib&&i.jsx("div",{children:i.jsx(cct,{})}),e.isCam&&i.jsx("div",{children:i.jsx(Ilt,{})})]}):e?i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[i.jsx(ia,{position:"top-right"}),i.jsxs("p",{className:"text-lg",children:["Verifying your access... (Current Status: ",o,")"]}),c&&i.jsxs("p",{className:"text-red-500",children:["Details: ",c]}),i.jsx(Se,{className:"mt-4",color:"primary",onClick:u,children:"Logout"})]}):(m.useEffect(()=>{n("/")},[n]),i.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[i.jsx(ia,{position:"top-right"}),i.jsx("p",{children:"Session not found. Redirecting..."})]})))}const dct=()=>i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
          .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
          }

          .image-wrapper {
            overflow: hidden;
            position: relative;
            max-width: 70%; /* Reduced max-width for smaller image on mobile */
            width: auto;
            height: auto;
            margin: 0 auto;
            padding: 5px;
          }

          .loading-image {
            display: block;
            max-width: 100%;
            height: auto;
            transform: translateX(-50%); /* Initial position (x1) - halfway left */
            animation: oscillate-x 1.5s ease-in-out infinite alternate; /* Oscillate animation */
          }

          /* --- Oscillate X Animation --- */
          @keyframes oscillate-x {
            0% {
              transform: translateX(-3%); /* Position x1 - Left */
            }
            100% {
              transform: translateX(3%); /* Position x2 - Right */
            }
          }

          /* --- Responsive Adjustments --- */
          @media (min-width: 769px) {
            .image-wrapper {
              max-width: 300px; /* Reduced max-width for smaller image on wider screens */
            }
          }

          @media (max-width: 320px) {
            .login-container {
              padding: 10px;
            }
            .image-wrapper {
              max-width: 80%; /* Slightly larger on very small screens if 70% is too small */
            }
          }
        `}),i.jsx("div",{className:"login-container bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100",children:i.jsx("div",{className:"image-wrapper",children:i.jsx("img",{src:"/Sora.png",alt:"Loading",className:"loading-image"})})})]});function Zct(){const[e,t]=m.useState(null),[n,r]=m.useState(!0);return m.useEffect(()=>{ut.get().then(s=>{var x,y,v,j,S,N,C,$,P,E;const a=(x=s.labels)==null?void 0:x.includes("parent"),o=(y=s.labels)==null?void 0:y.includes("student"),l=(v=s.labels)==null?void 0:v.includes("admin"),c=(j=s.labels)==null?void 0:j.includes("teacher"),u=(S=s.labels)==null?void 0:S.includes("driver"),d=(N=s.labels)==null?void 0:N.includes("camera"),f=(C=s.labels)==null?void 0:C.includes("library"),h=($=s.labels)==null?void 0:$.includes("manage"),p=(P=s.labels)==null?void 0:P.includes("pro"),b=(E=s.labels)==null?void 0:E.includes("one");t({...s,isParent:a,isStudent:o,isAdmin:l,isTeacher:c,isDriver:u,isCam:d,isLib:f,isPro:p,isManage:h,isOne:b})}).catch(()=>t(null)).finally(()=>r(!1))},[]),n?i.jsx(dct,{}):e?i.jsx(uct,{user:e,setUser:t}):i.jsx(R0e,{setUser:t})}export{Zct as I,Cd as _,jme as d};
